{"/soft/maixpy/zh/api_reference/builtin_py/pye.html":{"title":"Micropython Editor","content":" title: Micropython Editor keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®—, æ·±åº¦å­¦ä¹ , äººå·¥æ™ºèƒ½ desc: maixpy Micropython Editor MaixPy å›ºä»¶ä¸­é›†æˆäº†æ–‡ä»¶ç¼–è¾‘å™¨ â€”â€” [`pye`](https://github.com/robert hh/Micropython Editor), ç”¨æˆ·å¯ä»¥ç›´æ¥é€šè¿‡ä¸²å£ç»ˆç«¯ä¿®æ”¹æ¿å­é‡Œé¢çš„æ–‡ä»¶ ä½¿ç”¨æ–¹æ³•ï¼š ```python from pye_mp import pye pye(\"/sd/boot.py\") ```"},"/soft/maixpy/zh/contribute/code_convention.html":{"title":"MaixPy ç¼–ç¨‹è§„èŒƒ","content":" title: MaixPy ç¼–ç¨‹è§„èŒƒ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy MaixPy ç¼–ç¨‹è§„èŒƒ è¿™æ˜¯ä¸€ä»½ **MaixPy** å¼€å‘äººå‘˜çš„å¼€å‘æŒ‡å¼•ã€‚**MaixPy** åšä¸ºä¸€ä»½å¼€æºè½¯ä»¶ï¼Œå®ƒéœ€è¦ç”±ä¸åŒçš„äººé‡‡ç”¨åˆä½œçš„æ–¹å¼å®Œæˆï¼Œè¿™ä»½æ–‡æ¡£æ˜¯å¼€å‘äººå‘˜çš„ä¸€ä¸ªæŒ‡å¼•ã€‚ **MaixPy** çš„å¼€å‘äººå‘˜è¯·éµå®ˆè¿™æ ·çš„ç¼–ç¨‹é£æ ¼ã€‚åŒæ—¶å¯¹äºä½¿ç”¨ MaixPy çš„ç”¨æˆ·ï¼Œä¹Ÿå¯é€šè¿‡è¿™ä»½æ–‡æ¡£äº†è§£ MaixPy ä»£ç å†…éƒ¨ä¸€äº›çº¦å®šä»è€Œæ¯”è¾ƒå®¹æ˜“çš„æŠŠæ¡åˆ° MaixPy çš„å®ç°æ–¹å¼ã€‚ ## è§„èŒƒåŸåˆ™ [x] æœ´å®ï¼Œé¿å…æ™¦æ¶©è¯­æ³• [x] ä¸¥è°¨ï¼Œé€»è¾‘åå¤æ€è€ƒ [x] ç®€çº¦ï¼Œå‘½åç®€æ´ã€ä»£ç ç²¾ç‚¼ [x] æ€§èƒ½ï¼Œé€šè¿‡ç®—æ³•ã€ç¼–è¯‘å™¨ã€ç¡¬ä»¶è¿›è¡Œä¼˜åŒ– ## ç›®å½•ç»“æ„ && æ–‡ä»¶åç§° ç›®å½•ç»“æ„ æ•´ä¸ªå·¥ç¨‹æŒ‰ç…§åŠŸèƒ½æ¨¡å—åˆ’åˆ†å­ç›®å½•ï¼Œæ¯ä¸ªå­ç›®å½•å†åˆ’åˆ†å¤´æ–‡ä»¶å’Œæºæ–‡ä»¶ç›®å½•ï¼Œä»¥ä¾¿æ¶æ„æ¸…æ™°ã€æ˜“æ‡‚ã€‚ ç›®å½•åç§°å¦‚æœæ— ç‰¹æ®Šçš„éœ€æ±‚ï¼Œè¯·ä½¿ç”¨å…¨å°å†™çš„å½¢å¼ï¼›ç›®å½•åç§°åº”èƒ½å¤Ÿååº”éƒ¨åˆ†çš„æ„æ€ï¼Œcomponents ç›®å½•ä¸‹èƒ½å¤Ÿåæ˜ ç»„ä»¶çš„æ„ä¹‰ã€‚ æ–‡ä»¶ç»“æ„ æ–‡ä»¶åç§°å¦‚æœæ— ç‰¹æ®Šçš„éœ€æ±‚(å¦‚æœæ˜¯å¼•ç”¨å…¶ä»–åœ°æ–¹ï¼Œå¯ä»¥ä¿ç•™ç›¸åº”çš„åç§°)ï¼Œè¯·ä½¿ç”¨å…¨å°å†™çš„å½¢å¼ã€‚å¦å¤–ä¸ºäº†é¿å…æ–‡ä»¶åé‡åçš„é—®é¢˜ï¼Œä¸€äº›åœ°æ–¹è¯·å°½é‡ä¸è¦ä½¿ç”¨é€šç”¨åŒ–ã€ä½¿ç”¨é¢‘ç‡é«˜çš„åç§°ã€‚ ## å¤´æ–‡ä»¶å®šä¹‰ Cè¯­è¨€å¤´æ–‡ä»¶ä¸ºäº†é¿å…å¤šæ¬¡é‡å¤åŒ…å«ï¼Œéœ€è¦å®šä¹‰ä¸€ä¸ªç¬¦å·ã€‚è¿™ä¸ªç¬¦å·çš„å®šä¹‰å½¢å¼è¯·é‡‡ç”¨å¦‚ä¸‹ çš„é£æ ¼ï¼š ```c #ifndef __FILE_H__ #define __FILE_H__ /* header file content */ #endif ``` å³å®šä¹‰çš„ç¬¦å·ä¸¤ä¾§é‡‡ç”¨ \"__\" ä»¥é¿å…é‡åï¼Œå¦å¤–ä¹Ÿå¯ä»¥æ ¹æ®æ–‡ä»¶åä¸­æ˜¯å¦åŒ…å«å¤šä¸ªè¯è¯­è€Œ é‡‡ç”¨ \"_\" è¿æ¥èµ·æ¥ã€‚ ## æ–‡ä»¶å¤´æ³¨é‡Š åœ¨æ¯ä¸ªæºæ–‡ä»¶æ–‡ä»¶å¤´ä¸Šï¼Œåº”è¯¥åŒ…æ‹¬ç›¸åº”çš„ç‰ˆæƒä¿¡æ¯ï¼ŒChange Log è®°å½•ï¼š ```c /** * File : maixpy_main.h * This file is part of MaixPy * Copyright 2019 Sipeed Co.,Ltd. MaixPy Development Team * * Licensed under the Apache License, Version 2.0 (the \"License\"); * you may not use this file except in compliance with the License. * You may obtain a copy of the License at * * http://www.apache.org/licenses/LICENSE 2.0 * * Unless required by applicable law or agreed to in writing, software * distributed under the License is distributed on an \"AS IS\" BASIS, * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. * See the License for the specific language governing permissions and * limitations under the License. */ ``` ä¾‹å¦‚é‡‡ç”¨å¦‚ä¸Šçš„å½¢å¼ã€‚ ## ç»“æ„ä½“å®šä¹‰ ç»“æ„ä½“åç§°è¯·ä½¿ç”¨å°å†™è‹±æ–‡åçš„å½¢å¼ï¼Œå•è¯ä¸å•è¯ä¹‹é—´é‡‡ç”¨ \"_\" è¿æ¥ï¼Œä¾‹å¦‚ï¼š ```c struct lcd_config { int width; int height; }; ``` å…¶ä¸­ï¼Œ\"{\"ï¼Œ\"}\" ç‹¬ç«‹å ç”¨ä¸€è¡Œï¼Œåé¢çš„æˆå‘˜å®šä¹‰ä½¿ç”¨ç¼©è¿›çš„æ–¹å¼å®šä¹‰ã€‚ ç»“æ„ä½“ç­‰çš„ç±»å‹å®šä¹‰è¯·ä»¥ç»“æ„ä½“åç§°åŠ ä¸Š \"_t\" çš„å½¢å¼ä½œä¸ºåç§°ï¼Œä¾‹å¦‚ï¼š ```c typedef struct lcd_config lcd_config_t; ``` ## å®å®šä¹‰ åœ¨ MaixPy ä¸­ï¼Œè¯·ä½¿ç”¨å¤§å†™è‹±æ–‡åç§°ä½œä¸ºå®å®šä¹‰ï¼Œå•è¯ä¹‹é—´ä½¿ç”¨ \"_\" è¿æ¥ï¼Œä¾‹å¦‚ï¼š ```c #define MAIXPY_TRUE 1 ``` ## å‡½æ•°åç§°ã€å£°æ˜ å‡½æ•°åç§°è¯·ä½¿ç”¨å°å†™è‹±æ–‡çš„å½¢å¼ï¼Œå•è¯ä¹‹é—´ä½¿ç”¨ \"_\" è¿æ¥ã€‚æä¾›ç»™ä¸Šå±‚åº”ç”¨ä½¿ç”¨çš„ API æ¥å£ï¼Œå¿…é¡»åœ¨ç›¸åº”çš„å¤´æ–‡ä»¶ä¸­å£°æ˜ï¼›å¦‚æœå‡½æ•°å…¥å£å‚æ•°æ˜¯ç©ºï¼Œå¿…é¡»ä½¿ç”¨ void ä½œä¸ºå…¥å£å‚ æ•°ï¼Œä¾‹å¦‚ï¼š ```c maixpy_err_t lcd_init(void); ``` ## æ³¨é‡Šç¼–å†™ è¯·ä½¿ç”¨è‹±æ–‡åšä¸ºæ³¨é‡Šï¼Œä½¿ç”¨ä¸­æ–‡æ³¨é‡Šå°†æ„å‘³ç€åœ¨ç¼–å†™ä»£ç æ—¶éœ€è¦æ¥å›ä¸åœçš„åˆ‡æ¢ä¸­è‹±æ–‡è¾“å…¥æ³•ä»è€Œæ‰“æ–­ç¼–å†™ä»£ç çš„æ€è·¯ã€‚å¹¶ä¸”ä½¿ç”¨è‹±æ–‡æ³¨é‡Šä¹Ÿèƒ½å¤Ÿæ¯”è¾ƒå¥½çš„ä¸ä¸­å›½ä»¥å¤–çš„æŠ€æœ¯è€…è¿›è¡Œäº¤æµã€‚ æºä»£ç çš„æ³¨é‡Šä¸åº”è¯¥è¿‡å¤šï¼Œæ›´å¤šçš„è¯´æ˜åº”è¯¥æ˜¯ä»£ç åšäº†ä»€ä¹ˆï¼Œä»…å½“ä¸ªåˆ«å…³é”®ç‚¹æ‰éœ€è¦ä¸€äº›ç›¸åº”æç¤ºæ€§çš„æ³¨é‡Šä»¥è§£é‡Šä¸€æ®µå¤æ‚çš„ç®—æ³•å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚å¯¹è¯­å¥çš„æ³¨é‡Šåªèƒ½å†™åœ¨å®ƒçš„ä¸Šæ–¹æˆ–å³æ–¹ï¼Œå…¶ä»–ä½ç½®éƒ½æ˜¯éæ³•çš„ã€‚ ## ç¼©è¿›åŠåˆ†è¡Œ ç¼©è¿›è¯·é‡‡ç”¨ 4 ä¸ªç©ºæ ¼çš„æ–¹å¼ã€‚å¦‚æœæ²¡æœ‰ä»€ä¹ˆç‰¹æ®Šæ„ä¹‰ï¼Œè¯·åœ¨ \"{\" åè¿›è¡Œåˆ†è¡Œï¼Œå¹¶åœ¨ä¸‹ä¸€è¡Œéƒ½é‡‡ç”¨ç¼©è¿›çš„æ–¹å¼ï¼Œä¾‹å¦‚ï¼š ```c if (condition) { /* others */ } ``` å”¯ä¸€çš„ä¾‹å¤–æ˜¯ switch è¯­å¥ï¼Œswitch case è¯­å¥é‡‡ç”¨ case è¯­å¥ä¸ switch å¯¹é½çš„æ–¹å¼ï¼Œ ä¾‹å¦‚ï¼š ```c switch (value) { case value1: break; case value2: break; defalut: break; } ``` case è¯­å¥ä¸å‰é¢çš„ switch è¯­å¥å¯¹é½ï¼Œåç»­çš„è¯­å¥åˆ™é‡‡ç”¨ç¼©è¿›çš„æ–¹å¼ã€‚ åˆ†è¡Œä¸Šï¼Œå¦‚æœæ²¡æœ‰ä»€ä¹ˆç‰¹æ®Šè€ƒè™‘ï¼Œè¯·**ä¸è¦åœ¨ä»£ç ä¸­è¿ç»­ä½¿ç”¨ä¸¤ä¸ªä»¥ä¸Šçš„ç©ºè¡Œ**ã€‚ ## å¤§æ‹¬å·ä¸ç©ºæ ¼ ä»ä»£ç é˜…è¯»è§’åº¦ï¼Œå»ºè®®æ¯ä¸ªå¤§æ‹¬å·å•ç‹¬å ç”¨ä¸€è¡Œï¼Œè€Œä¸æ˜¯è·Ÿåœ¨è¯­å¥çš„åé¢ï¼Œä¾‹å¦‚ï¼š ```c if (condition) { /* others */ } ``` åŒ¹é…çš„å¤§æ‹¬å·å•ç‹¬å ç”¨ä¸€è¡Œï¼Œä»£ç é˜…è¯»èµ·æ¥å°±ä¼šæœ‰ç›¸åº”çš„å±‚æ¬¡è€Œä¸ä¼šå®¹æ˜“å‡ºç°æ··æ·†çš„æƒ…å†µã€‚ ç©ºæ ¼å»ºè®®åœ¨éå‡½æ•°æ–¹å¼çš„æ‹¬å·è°ƒç”¨å‰ç•™ä¸€ä¸ªç©ºæ ¼ä»¥å’Œå‰é¢çš„è¿›è¡ŒåŒºåˆ†ï¼Œä¾‹å¦‚ï¼š ```c if (x < y) { /* others */ } for (index 0; index < MAX_NUMBER; index ++) { /* others */ } ``` å»ºè®®åœ¨æ‹¬å·å‰ç•™å‡ºä¸€ä¸ªç©ºæ ¼(æ¶‰åŠçš„åŒ…æ‹¬ ifã€forã€whileã€switch è¯­å¥)ï¼Œè€Œè¿ç®—è¡¨è¾¾å¼ä¸­ï¼Œè¿ç®—ç¬¦ä¸å­—ç¬¦ä¸²é—´ç•™ä¸€ä¸ªç©ºæ ¼ã€‚å¦å¤–ï¼Œä¸è¦åœ¨æ‹¬å·çš„è¡¨è¾¾å¼ä¸¤ä¾§ç•™ç©ºæ ¼ï¼Œä¾‹å¦‚ï¼š ```c if ( x < y ) { /* other */ } ``` è¿™æ ·æ‹¬å·å†…ä¸¤ä¾§çš„ç©ºæ ¼æ˜¯ä¸å…è®¸çš„ã€‚ ## log ä¿¡æ¯ åœ¨ MaixPy ä¸­ï¼Œæ™®éä½¿ç”¨çš„ log æ–¹å¼æ˜¯ printk, è€Œé¢å‘ py ç»ˆç«¯çš„æ˜¯ä½¿ç”¨ mp_print, è€Œåœ¨æˆ‘ä»¬å¯¹ MaixPy åŠŸèƒ½å¢å‡ä¹‹åå»ºè®®å°†ä¸éœ€è¦çš„ printk åˆ é™¤æˆ–è€…æ³¨é‡Šæ‰ ä½†æ˜¯**æ³¨æ„**ï¼Œæœ€ç»ˆæäº¤çš„ä»£ç é‡Œé¢ä¸èƒ½æœ‰`printk`å’Œ`printf`å‡½æ•°ï¼Œ åªèƒ½åœ¨è°ƒè¯•æ—¶ä½¿ç”¨ï¼ï¼ï¼å¦åˆ™ä¼šå¯¼è‡´ IDE ä½¿ç”¨æ—¶æ–­å¼€è¿æ¥ æ—¥å¿—è¾“å‡ºåº”è¯¥è¢«è®¾è®¡æˆæ­£å¸¸æƒ…å†µä¸‹æ˜¯å…³é—­çŠ¶æ€(ä¾‹å¦‚é€šè¿‡ä¸€ä¸ªå˜é‡æˆ–å®å°±èƒ½å¤Ÿå¼€å¯)ï¼Œå¹¶ä¸” å½“çœŸæ­£è¾“å‡ºæ—¥å¿—æ—¶ï¼Œæ—¥å¿—æ˜¯æ˜“æ‡‚æ˜“å®šä½é—®é¢˜çš„æ–¹å¼ã€‚\"å¤©ä¹¦å¼\"çš„æ—¥å¿—ç³»ç»Ÿæ˜¯ç³Ÿç³•çš„ï¼Œä¸åˆç†çš„ã€‚ ## å‡½æ•° åœ¨å†…æ ¸ç¼–ç¨‹ä¸­ï¼Œå‡½æ•°åº”è¯¥å°½é‡ç²¾ç®€ï¼Œä»…å®Œæˆç›¸å¯¹ç‹¬ç«‹çš„ç®€å•åŠŸèƒ½ã€‚å‡½æ•°çš„å®ç°ä¸åº”è¯¥å¤ªé•¿ï¼Œå‡½æ•°å®ç°å¤ªé•¿ï¼Œåº”è¯¥åæ€èƒ½å¤Ÿå¦‚ä½•ä¿®æ”¹(æˆ–æ‹†åˆ†)ä½¿å¾—å‡½æ•°æ›´ä¸ºç²¾ç®€ã€æ˜“æ‡‚ã€‚ ## ç”¨ astyle è‡ªåŠ¨æ ¼å¼åŒ–ä»£ç  å‚æ•°ï¼š style allman indent spaces 4 indent preproc block pad oper pad header unpad paren suffix none align pointer name lineend linux convert tabs verbose ## è§„èŒƒå‚è€ƒ AliOS Things [ã€ŠAliOS Things Coding Style Guideã€‹](https://github.com/alibaba/AliOS Things/wiki/AliOS Things Coding Style Guide) RT Thread [ã€ŠRT Thread ç¼–ç¨‹é£æ ¼ã€‹](https://github.com/RT Thread/rt thread/blob/master/documentation/coding_style_cn.md)"},"/soft/maixpy/zh/contribute/doc_convention.html":{"title":"æ–‡æ¡£è´¡çŒ®è§„èŒƒ","content":" title: æ–‡æ¡£è´¡çŒ®è§„èŒƒ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy æ–‡æ¡£è´¡çŒ®è§„èŒƒ æœ‰å‡ ç§æƒ…å†µä½ å¯èƒ½éœ€è¦çœ‹æœ¬æ–‡æ¡£ï¼š * å‘ç°æ–‡æ¡£æœ‰è¯¯æˆ–è€…æœ‰å†…å®¹éœ€è¦è¡¥å……ï¼Œå¹¶ä¸”ä¼šè‡ªå·±æƒ³å‚ä¸ä¿®æ”¹ * æäº¤ æ•™ç¨‹/ç»éªŒ/å¼€æºé¡¹ç›®åˆ†äº« ç­‰ç­‰ ä¸ºäº†è®©æ–‡æ¡£çœ‹èµ·æ¥é£æ ¼ç»Ÿä¸€ï¼Œ å†…å®¹ä¸é‡å¤ä¸å‡ºé”™ï¼Œ ç¼–å†™éœ€è¦éµå¾ªåŒä¸€ä¸ªè§„èŒƒï¼Œè¯·å„ä½è´¡çŒ®è€…**åŠ¡å¿…**æ ¹æ®æœ¬æ–‡æ’°å†™æ–‡æ¡£ï¼› å¦‚æœå¯¹æ¨¡æ¿æ ¼å¼ï¼Œå†…å®¹å­˜åœ¨ç–‘æƒ‘è¯·åˆ°æœ¬é¡¹ç›®ä»“åº“ [MaixPy_DOC](https://github.com/sipeed/MaixPy_DOC) æäº¤ `ISSUE`ã€‚ ğŸ™‡â€ æ„Ÿè°¢å„ä½è´¡çŒ®è€…çš„çƒ­å¿ƒæ”¯æŒï¼ ## è¦å‚ä¸è´¡çŒ®ï¼Œä½ éœ€è¦æå‰æŒæ¡çš„çŸ¥è¯† * git å’Œ github çš„ä½¿ç”¨ * github PRï¼ˆpull requestï¼‰çš„ä½¿ç”¨ åœ¨å…¥é—¨æ•™ç¨‹é‡Œé¢æœ‰ç®€è¦çš„ä»‹ç»ï¼Œ è¯¦ç»†çš„ä½¿ç”¨æ–¹æ³•è¯·è‡ªè¡Œå­¦ä¹  å¦‚æœä½ æ²¡æœ‰ä¿¡å¿ƒæŒæ¡è¿™äº›æŠ€èƒ½ï¼Œ ä½ å¯ä»¥åˆ°æäº¤[issue](https://github.com/sipeed/MaixPy_DOC/issues) æ¥è¯´æ˜é—®é¢˜æˆ–è€…è´¡çŒ®ç»éªŒç­‰ï¼Œæˆ‘ä»¬å¸®åŠ©ä½ è¿›è¡Œæ·»åŠ  ## æ–‡æ¡£ç³»ç»Ÿç®€ä»‹ æ–‡æ¡£ä½¿ç”¨ gitbook è¿›è¡Œæ„å»ºï¼Œ å¹¶ä½¿ç”¨ç®€å•é«˜æ•ˆçš„ Markdown ç¼–å†™å†…å®¹, è¿™é‡Œæ¨èä½¿ç”¨ `Typora` æˆ–è€… `VS Code` æ­é… `MarkDown Preview Enhanced` æ’ä»¶ä½œä¸ºæ–‡æ¡£ç¼–è¾‘å™¨ æ–‡æ¡£æºç æ‰˜ç®¡åœ¨ [github](https://github.com/sipeed/sipeed_wiki/tree/main/docs/soft/maixpy) æœ¬åœ°é¢„è§ˆæ–¹æ³•è§ æ–‡æ¡£æºç çš„ [README.md](https://github.com/sipeed/sipeed_wiki/README.md) æ–‡æ¡£æœ‰ä¸¤ç§è¯­è¨€ï¼Œ ä¸­æ–‡å’Œè‹±æ–‡ï¼Œåˆ†åˆ«æ”¾åœ¨`zh`å’Œ`en`æ–‡ä»¶å¤¹ä¸­ï¼Œ å…¶ä¸­çš„`SUMMARY.md`æ˜¯æ–‡æ¡£å·¦è¾¹çš„ç›®å½•é¡¹ï¼Œå…¶å®ƒ`md`æ–‡ä»¶æ—¶å…·ä½“çš„æ–‡æ¡£æ–‡ä»¶ï¼Œæ ¹ç›®å½•ä¸‹çš„`assets`ç›®å½•æ”¾ä¸¤ç§è¯­è¨€å…¬ç”¨çš„å›¾ç‰‡èµ„æºæ–‡ä»¶ ## Markdown è¯­æ³• Markdown çš„åŸºç¡€è¯­æ³•å¦‚æœæ²¡æ¥è§¦è¿‡ï¼Œ è¯·èŠ±åŠä¸ªå°æ—¶è¿›è¡Œå­¦ä¹ ï¼Œ æ¨ègithubçš„æ•™ç¨‹ï¼š [github Markdown æ•™ç¨‹](https://guides.github.com/features/mastering markdown/) åœ¨æœ¬æ–‡ä¸­ï¼Œ ä»¥ä¸‹å‡ ç‚¹æˆ‘ä»¬éœ€è¦æ³¨æ„ï¼š ### æ ‡é¢˜ç±»çš„è¯­æ³•æ ‡è®°å¿…é¡»ä½¿ç”¨ç©ºæ ¼éš”å¼€ï¼Œå¤§æ ‡é¢˜ä¸æ­£æ–‡ä¹‹é—´éœ€è¦ä¸€ä¸ªç©ºè¡Œï¼Œæ¯”å¦‚ï¼š ```markdown ## è¿™æ˜¯äºŒçº§æ ‡é¢˜ * è¿™æ˜¯åˆ—è¡¨é¡¹1 * è¿™æ˜¯åˆ—è¡¨é¡¹2 ``` è€Œå¦‚ä¸‹æ‰€ç¤ºçš„åˆ™ä¸æ˜¯æ­£ç¡®çš„ï¼Œå¯èƒ½ä¼šå¯¼è‡´è§£æå™¨å‡ºç°è§£æé”™è¯¯æ ¼å¼é”™ä¹±ç­‰ ```markdown ##è¿™æ˜¯äºŒçº§æ ‡é¢˜ *è¿™æ˜¯åˆ—è¡¨é¡¹1 *è¿™æ˜¯åˆ—è¡¨é¡¹2 ``` ### æ‰€æœ‰é¡µé¢åªæœ‰ä¸€ä¸ªä¸€çº§æ ‡é¢˜ ç”±äºéœ€è¦è‡ªåŠ¨ç”Ÿæˆç›®å½•ï¼Œä¸»è¦æ˜¯ä¸ºäº†ä¿è¯è‡ªåŠ¨ç”Ÿæˆçš„ç›®å½•æ­£ç¡®ã€‚ æ¯ä¸ªé¡µé¢è¿™æ ·å†™ ``` ( è‡³å°‘éœ€è¦ä¸€ä¸ªä»¥ä¸Šçš„ç©ºè¡Œï¼Œå»ºè®®2è¡Œ ) ## äºŒçº§æ ‡é¢˜1 ( è¿™é‡Œä¸èƒ½ä½¿ç”¨ä¸€çº§æ ‡é¢˜ï¼ŒåŠä¸èƒ½ç”¨ä¸€ä¸ª#å·ã€‚ ä¹Ÿä¸éœ€è¦å†™åºå·ï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆåºå·) ( ç©ºä¸€è¡Œ ) æ­£æ–‡ ( è‡³å°‘ç©ºä¸€è¡Œ) ### ä¸‰çº§æ ‡é¢˜ ( ç±»ä¼¼äºŒçº§æ ‡é¢˜, ä¹Ÿä¸éœ€è¦å†™éœ€è¦ï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆ) æ­£æ–‡ ## äºŒçº§æ ‡é¢˜2 æ­£æ–‡ ``` ### æ ‡é¢˜ç¼–å· æ‰€æœ‰æ ‡é¢˜**ä¸éœ€è¦**å†™ç¼–å·ï¼Œ **ä¼šè‡ªåŠ¨ç”Ÿæˆ**æ¯”å¦‚ ``` ## æ ‡é¢˜ä¸€ ### å­æ ‡é¢˜1 ## æ ‡é¢˜äºŒ ``` æœ€ç»ˆæ•ˆæœï¼š ``` 1. æ ‡é¢˜ä¸€ 1.1 å­æ ‡é¢˜1 2. æ ‡é¢˜äºŒ ``` å¦‚æœæ‰‹åŠ¨å†™äº†æœ€ç»ˆæ˜¾ç¤ºå°±ä¼šé‡å¤ï¼Œ æ‰€ä»¥éœ€è¦æ³¨æ„ï¼ ### é“¾æ¥ ç”±äºé¡µé¢ä¼—å¤šï¼Œè€Œä¸”éœ€è¦é“¾æ¥å›¾ç‰‡ç­‰èµ„æºï¼Œåœ¨å†™é“¾æ¥æ—¶ï¼Œå‡ä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼Œ æ¯”å¦‚ç›®å½•ç»“æ„å¦‚ä¸‹ ``` assets/ (æ”¾å…¬ç”¨çš„èµ„æºæ–‡ä»¶) pic000.png en/ get_started/ assets/ (æ”¾get_startedç›®å½•ä¸‹mdæ–‡ä»¶å…¬ç”¨çš„èµ„æºæ–‡ä»¶) pic.png get_hardware.md how_to_read.md zh/ ``` å¦‚æœåœ¨`get_hardware.md`ä¸­è´´å›¾ç‰‡ï¼Œå°†å›¾ç‰‡æ”¾è¿›`assets`æ–‡ä»¶å¤¹åï¼Œä½¿ç”¨å¦‚ä¸‹ä»£ç å¼•ç”¨å›¾ç‰‡ ``` ![pic](assets/pic.png) ![pic](../../assets/pic000.png) ``` ### ä¸­è‹±æ–‡æ··å†™ åœ¨å†™ä¸­æ–‡æ–‡æ¡£æ—¶ï¼Œåœ¨ä¸­æ–‡ä¸­å¤¹æ‚è‹±æ–‡å°½é‡ç”¨ç©ºæ ¼éš”å¼€ï¼Œæ ‡ç‚¹ç¬¦å·å°½é‡ä½¿ç”¨å…¨è§’ç¬¦å·ï¼Œ ä¸»è¦æ˜¯ä¸ºäº†æ˜¾çœ¼ï¼Œè®©æ–‡æ¡£æ›´ä¼˜é›…ã€‚ æ¯”å¦‚ï¼š ```markdown åœ¨ Micropython ä¸­ï¼Œ æˆ‘ä»¬å¸¸å¸¸ä½¿ç”¨ `deinit` æ¥è¡¨ç¤ºææ„å‡½æ•°ï¼Œè€Œä¸æ˜¯åƒ STM32 ä¸€æ ·æ¥è¡¨ç¤ºè®¾ç½®é»˜è®¤å€¼ ``` åœ¨ Micropython ä¸­ï¼Œ æˆ‘ä»¬å¸¸å¸¸ä½¿ç”¨ `deinit` æ¥è¡¨ç¤ºææ„å‡½æ•°ï¼Œè€Œä¸æ˜¯åƒ STM32 ä¸€æ ·æ¥è¡¨ç¤ºè®¾ç½®é»˜è®¤å€¼ ```markdown åœ¨ Micropython ä¸­ï¼Œ æˆ‘ä»¬å¸¸å¸¸ä½¿ç”¨ deinit æ¥è¡¨ç¤ºææ„å‡½æ•°ï¼Œè€Œä¸æ˜¯åƒ STM32 ä¸€æ ·æ¥è¡¨ç¤ºè®¾ç½®é»˜è®¤å€¼ ``` åœ¨ Micropython ä¸­ï¼Œ æˆ‘ä»¬å¸¸å¸¸ä½¿ç”¨ deinit æ¥è¡¨ç¤ºææ„å‡½æ•°ï¼Œè€Œä¸æ˜¯åƒ STM32 ä¸€æ ·æ¥è¡¨ç¤ºè®¾ç½®é»˜è®¤å€¼ ## ç›®å½• * å¤šç§è¯­è¨€åˆ†åˆ«æ”¾åœ¨ä¸åŒçš„ç›®å½•ï¼Œ`en`å’Œ`zh`ç›®å½• * ç”Ÿæˆçš„æ–‡æ¡£ç›®å½•åœ¨å¯¹åº”è¯­è¨€çš„æ–‡ä»¶å¤¹ `SUMMARY.md` ä¸­ç¼–è¾‘ * æºæ–‡æ¡£çš„æ–‡ä»¶å¤¹å°½é‡ä¸€ä¸ªåŠŸèƒ½æ¨¡å—å¯¹åº”ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œèµ„æºæ–‡ä»¶ï¼ˆå›¾ç‰‡ï¼‰æ”¾ç½®åˆ°å¯¹åº” md æ–‡æ¡£æ ¹ç›®å½•ä¸‹çš„ `assets` æ–‡ä»¶å¤¹ç›®å½•ä¸‹ï¼Œè¿™æ ·æ–¹ä¾¿ä¸­è‹±æ–‡æ–‡æ¡£éƒ½å¼•ç”¨åŒæ ·çš„å›¾ç‰‡ï¼Œè€Œä¸”ç”Ÿæˆçš„ URL ç›¸åŒï¼ŒåŒæ—¶å¢åˆ ä¿®æ”¹æ—¶æ›´æ–¹ä¾¿ã€‚ * åŒæ—¶ï¼Œä¸ºäº†ä¸­è‹±æ–‡æ–‡æ¡£éƒ½èƒ½ä½¿ç”¨ï¼Œå›¾ç‰‡é‡Œé¢å°½é‡ä¸è¦æ ‡æ³¨ä¸­æ–‡æˆ–è‹±æ–‡ï¼Œå¯ä»¥æ ‡æ³¨æ ‡å·ï¼Œç„¶åæ–‡æ¡£ç”¨æ ‡å·é˜è¿°ï¼Œ é’ˆå¯¹ç‰¹å®šè¯­è¨€çš„å›¾ç‰‡æ”¾åˆ°å½“å‰è·¯å¾„ä¸‹çš„ `assets` ç›®å½•ï¼š ``` assets/ (æ”¾å…¬ç”¨çš„èµ„æºæ–‡ä»¶ï¼Œ ä¸­è‹±æ–‡éƒ½èƒ½å¼•ç”¨) en/ get_started/ assets/ (æ”¾get_startedç›®å½•ä¸‹mdæ–‡ä»¶çš„èµ„æºæ–‡ä»¶ï¼Œ åªç»™è‹±æ–‡ä½¿ç”¨) get_hardware.md how_to_read.md zh/ ``` ## æ–‡ä»¶å * æ–‡ä»¶åé™¤äº† `README.md` ç‰¹æ®Šï¼Œå…¶å®ƒæ–‡ä»¶åä½¿ç”¨ å°å†™+ä¸‹åˆ’çº¿ çš„å‘½åæ–¹å¼ï¼Œæ¯”å¦‚ `get_hardware.md` ## ä¸­è‹±æ–‡ï¼ˆå¤šè¯­è¨€ï¼‰çš„é¡µé¢æ–‡ä»¶ç›®å½•ç»“æ„å’Œæ–‡ä»¶åç›¸åŒ ç”±äºæœ€åç”Ÿæˆçš„é¡µé¢ä¸­æœ‰å¤šè¯­è¨€åˆ‡æ¢é€‰é¡¹ï¼Œç‚¹å‡»åˆ‡æ¢åä¼šç›´æ¥è®¿é—®å¯¹åº”è¯­è¨€çš„ç›¸åŒè·¯å¾„ï¼Œæ‰€ä»¥ä¸­è‹±æ–‡çš„ç›®å½•ç»“æ„å’Œæ–‡ä»¶åå¿…é¡»ç›¸åŒã€‚ æ¯”å¦‚è‹±æ–‡æ­£åœ¨è®¿é—® `en/get_started/how_to_read.md`ï¼Œç‚¹å‡»è¯­è¨€åˆ‡æ¢çš„æŒ‰é’®åï¼Œä¼šè‡ªåŠ¨è®¿é—® `zh/get_started/how_to_read.md`ï¼Œå¦‚æœè¿™ä¸ªæ–‡ä»¶ä¸å­˜åœ¨å°±ä¼šæŠ¥`404`é”™è¯¯ï¼ ## ç›®å½•å’Œé“¾æ¥ å°½é‡å¼•å¯¼é˜…è¯»è€…ä½¿ç”¨ç›®å½•ï¼Œæ–‡å†…è·³è½¬é“¾æ¥æ…ç”¨ï¼Œå¦‚æœé“¾æ¥è·³å¾—æ¯”è¾ƒä¹±ï¼Œä¼šå¯¼è‡´æ–‡æ¡£çœ‹èµ·æ¥æ¯”è¾ƒä¹±ï¼Œé˜…è¯»ä¼šæ¯”è¾ƒå›°éš¾ã€‚ ## æ¨¡å—æ–‡æ¡£å†…å®¹ * æ–‡ä»¶å¤´éƒ¨åŒ…å«æ¨¡å—çš„ä»‹ç»ï¼Œèµ„æºä»‹ç»ï¼Œä½¿ç”¨æ³¨æ„ç‚¹ï¼Œ ä¾‹ç¨‹ * éœ€è¦åˆ†ç‚¹è¯´æ˜æ„é€ å‡½æ•°ã€å‡½æ•°ã€å¸¸é‡ç­‰ * **è¯´æ˜ä¸èƒ½å·æ‡’åªç®€å•å°†å‡½æ•°åç§°ç¿»è¯‘ä¸€éï¼Œéœ€è¦è¯¦ç»†è¯´æ˜å‡½æ•°çš„åŠŸèƒ½ã€å‚æ•°çš„å–å€¼èŒƒå›´ä»¥åŠæ³¨æ„ç‚¹** ## å¤šç‰ˆæœ¬ç®¡ç† æ–‡æ¡£é™¤äº†åšäº†ä¸­è‹±æ–‡ï¼ˆå¤šè¯­è¨€ï¼‰æ”¯æŒï¼ˆä¸æ˜¯è‡ªåŠ¨ç¿»è¯‘ï¼Œéœ€è¦æ‰‹åŠ¨ä¿®æ”¹ï¼‰ï¼Œ ä¹Ÿåšäº†å¤šç‰ˆæœ¬ç®¡ç†ã€‚ æ¯ä¸ªç‰ˆæœ¬æ˜¯ä¸€ä¸ªåˆ†æ”¯ï¼Œ å¯¹åˆ†æ”¯åå­—æœ‰è¦æ±‚ï¼Œ åˆ†åˆ«ä¸ºï¼š * `master` åˆ†æ”¯ä¸ºä¸»åˆ†æ”¯ * `dev`åˆ†æ”¯ä¸ºå¼€å‘åˆ†æ”¯ * å…¶å®ƒçš„å‘å¸ƒçš„å†å²ç‰ˆæœ¬å‡ä»¥å°å†™ `v` å¼€å¤´ï¼Œæ¯”å¦‚åˆ›å»ºä¸€ä¸ªåˆ†æ”¯å« `v1.2` åˆ›å»ºå¥½æ–°çš„åˆ†æ”¯åï¼Œéœ€è¦åœ¨æ¯ä¸ªè¯­è¨€ç‰ˆæœ¬çš„ç›®å½•ä¸‹ `book.json`ä¸­ä¿®æ”¹ç‰ˆæœ¬é“¾æ¥ï¼Œä¸ç„¶è¯»è€…æ‰¾ä¸åˆ°å…¥å£ å¯ä»¥åœ¨æ–°å»ºçš„åˆ†æ”¯ä¸‹æœ¬åœ°é¢„è§ˆï¼ˆé¢„è§ˆæ–¹æ³•è§æ ¹ç›®å½• `README.md`ï¼‰ï¼Œæ³¨æ„è¿™æ—¶å€™é¢„è§ˆçš„é¡µé¢å°±æ˜¯å½“å‰åˆ†æ”¯çš„å†…å®¹ï¼Œå¦‚æœè¦æœ¬åœ°é¢„è§ˆå…¶å®ƒåˆ†æ”¯å†…å®¹ï¼Œéœ€è¦å…ˆåˆ‡æ¢åˆ°å…¶å®ƒåˆ†ä¹‹åå†é¢„è§ˆå³å¯ã€‚ ç¡®è®¤æ— è¯¯ä¿®æ”¹å®Œæˆåæ¨é€åˆ†æ”¯åˆ°è¿œç¨‹ï¼ˆgithubï¼‰ï¼Œè‡ªåŠ¨æ„å»ºç³»ç»Ÿä¼šè‡ªåŠ¨æ„å»ºå¹¶å‘å¸ƒåˆ° pages åˆ†æ”¯ï¼Œç­‰æ„å»ºå®Œæ¯•è®¿é—®ç½‘å€å³å¯çœ‹åˆ°æ•ˆæœã€‚"},"/soft/maixpy/zh/contribute/app_doc_template.html":{"title":"MaixPy_DOC å®ä¾‹æ•™ç¨‹æ¨¡æ¿","content":" title: MaixPy_DOC å®ä¾‹æ•™ç¨‹æ¨¡æ¿ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy MaixPy_DOC å®ä¾‹æ•™ç¨‹æ¨¡æ¿ æœ¬æ–‡è¯´æ˜æ–‡æ¡£è´¡çŒ®è€…åœ¨æ’°å†™æ•™ç¨‹ä¸­éµå¾ªçš„è§„èŒƒï¼Œä»¥åŠæ³¨æ„äº‹é¡¹ï¼Œè¯·å„ä½è´¡çŒ®è€…æ ¹æ®æœ¬æ–‡æ’°å†™æ–‡æ¡£ï¼› å¦‚æœå¯¹æ¨¡æ¿æ ¼å¼ï¼Œå†…å®¹å­˜åœ¨ç–‘æƒ‘è¯·åˆ°æœ¬é¡¹ç›®ä»“åº“ [MaixPy_DOC](https://github.com/sipeed/MaixPy_DOC) æäº¤ `ISSUE`ã€‚ ğŸ™‡â€ æ„Ÿè°¢å„ä½è´¡çŒ®è€…çš„çƒ­å¿ƒæ”¯æŒï¼ å…³äºæ–‡æ¡£ç¼–å†™å·¥å…· > æ–‡æ¡£ä½¿ç”¨ `MarkDown` è¯­æ³•æ’°å†™, æ•´ä½“æ–‡æ¡£é¡¹ç›®ä½¿ç”¨ `gitbook` æ„å»ºï¼›è¿™é‡Œæ¨èä½¿ç”¨ `Typora` åŠ `VS Code` æ­é… `MarkDown` æ’ä»¶ä½œä¸ºæ–‡æœ¬ç¼–è¾‘å™¨ å…³äºæ–‡æ¡£å›¾æ–‡å†…å®¹å­˜æ”¾ > å®ä¾‹æ•™ç¨‹æ–‡æ¡£è¯·å­˜æ”¾åˆ°è·¯å¾„ `./MaixPy_DOC/zh(è¿™é‡ŒåŒºåˆ†ä¸­è‹±æ–‡ï¼Œä¸­æ–‡ï¼šzhï¼Œè‹±æ–‡ï¼šen)/application/xxx(å…·ä½“åˆ†ç±»ï¼Œåˆ†ç±»å»ºè®®è¯·çœ‹åç»­æè¿°)/xxxï¼ˆå…·ä½“çš„ä¾‹ç¨‹åç§°ï¼Œå»ºè®®ä½¿ç”¨è‹±æ–‡å‘½åï¼‰`.md > æ–‡æ¡£ä¸­å¼•ç”¨åˆ°çš„å›¾ç‰‡å»ºè®®ä½¿ç”¨ç›¸å¯¹é“¾æ¥ï¼Œå¹¶å°†å›¾ç‰‡æ–‡ä»¶å­˜æ”¾ä¸æ–‡æ¡£åŒç›®å½•ä¸‹çš„ `[æ–‡ä»¶å].assets` æ–‡ä»¶å¤¹ä¸­ï¼› å…³äºæ–‡æ¡£åˆ†ç±»å»ºç«‹å­˜æ”¾è·¯å¾„ > ä¸ç¡¬ä»¶å¤–è®¾å¼ºç›¸å…³çš„å»ºè®®å‘½åï¼ˆå­˜æ”¾è·¯å¾„ï¼‰ä¸ºï¼š`` > ä¸ image å¼ºç›¸å…³çš„å»ºè®®å‘½åï¼ˆå­˜æ”¾è·¯å¾„ï¼‰ä¸ºï¼š`image` > ä¸ KPU å¼ºç›¸å…³çš„å»ºè®®å‘½åï¼ˆå­˜æ”¾è·¯å¾„ï¼‰ä¸ºï¼š`KPU` > è¾ƒä¸ºç»¼åˆçš„ä¾‹ç¨‹çš„å»ºè®®å‘½åï¼ˆå­˜æ”¾è·¯å¾„ï¼‰ä¸ºï¼š`demo` > ä»¥ä¸‹å†…å®¹ä¸ºæ–‡æ¡£æ¨¡æ¿å†…å®¹ï¼š # MaixPy å®ä¾‹æ•™ç¨‹ â€”â€” XXX ## ä¸€ã€æ¦‚è¿°ï¼š > 1. æè¿°ä¸‹è¯¥ä¾‹ç¨‹å®ç°çš„æ•ˆæœ > > 2. ç®€è¦è¯´æ˜æ“ä½œæ­¥éª¤ > ## äºŒã€å‡†å¤‡: > è¯´æ˜éœ€è¦å‡†å¤‡çš„è½¯ç¡¬ä»¶ç¯å¢ƒ é¢„å¤‡çŸ¥è¯† ç¡¬ä»¶ > å›¾æ–‡æè¿°ä½¿ç”¨åˆ°çš„å¼€å‘æ¿&&å¤–è®¾æ¨¡å—ç­‰ è½¯ä»¶ > å›¾æ–‡æè¿°ä½¿ç”¨åˆ°çš„è½¯ä»¶å·¥å…·ï¼ŒMaixPy ç‰ˆæœ¬ > å¦‚æœä½¿ç”¨åˆ°ç¬¬ä¸‰æ–¹è½¯ä»¶å·¥å…·ï¼Œå¯ä»¥é™„åŠ ç›¸å…³åç§°æˆ–ä¸‹è½½é“¾æ¥ ### å…·ä½“æ“ä½œæ­¥éª¤ ### ç¨‹åºä»£ç  ```python xxxxx ``` ### æ•ˆæœ > å»ºè®®æ·»åŠ å›¾ç‰‡å±•ç¤ºå®é™…è¿è¡Œæ•ˆæœ ## é—®é¢˜å’Œåé¦ˆ(Question && Feedback) è´¡çŒ®è€…è¯´æ˜ï¼š > è¿™é‡Œç»™è´¡çŒ®è€…æä¾›å¼•æµå…¥å£ ä½œè€…ï¼š è”ç³»æ–¹å¼(Email)ï¼š åšå®¢ï¼š"},"/soft/maixpy/zh/modules/on_chip/i2s.html":{"title":"I2Sï¼ˆé›†æˆç”µè·¯å†…ç½®éŸ³é¢‘æ€»çº¿ï¼‰çš„ä½¿ç”¨","content":" title: I2Sï¼ˆé›†æˆç”µè·¯å†…ç½®éŸ³é¢‘æ€»çº¿ï¼‰çš„ä½¿ç”¨ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy I2Sï¼ˆé›†æˆç”µè·¯å†…ç½®éŸ³é¢‘æ€»çº¿ï¼‰çš„ä½¿ç”¨ å…³äº I2S éŸ³é¢‘æ€»çº¿è¯¦ç»†ä»‹ç»è¯·å‚è€ƒ[I2S API æ–‡æ¡£](./../../api_reference/Maix/i2s.html). ## ä½¿ç”¨æ–¹æ³• * ä» Maix å¯¼å…¥ I2S æ¨¡å— ```python from Maix import I2S ``` * åˆ›å»º I2S å¯¹è±¡ ```python i2s_dev I2S(device_num) ``` * é…ç½®å‚æ•° ```python i2s_dev.channel_config(rx.CHANNEL_0, rx.RECEIVER, align_mode I2S.STANDARD_MODE) i2s_dev.set_sample_rate(sample_rate) ``` * è¯»å–æˆ–æ’­æ”¾æ•°æ® ```python i2s_dev.record(256)#sampling points number must be smaller than 256 ``` ## ä¾‹ç¨‹ é‡‡é›†æ•°æ®å¹¶ç›´æ¥æ’­æ”¾ ```python from Maix import I2S import time from fpioa_manager import * fm.register(20,fm.fpioa.I2S0_IN_D0)#GO fm.register(19,fm.fpioa.I2S0_WS) fm.register(18,fm.fpioa.I2S0_SCLK) fm.register(34,fm.fpioa.I2S2_OUT_D1) fm.register(35,fm.fpioa.I2S2_SCLK) fm.register(33,fm.fpioa.I2S2_WS) sample_rate 44*1000 rx I2S(I2S.DEVICE_0) rx.channel_config(rx.CHANNEL_0, rx.RECEIVER, align_mode I2S.STANDARD_MODE) rx.set_sample_rate(sample_rate) tx I2S(I2S.DEVICE_2) tx.channel_config(tx.CHANNEL_1, tx.TRANSMITTER, align_mode I2S.RIGHT_JUSTIFYING_MODE) tx.set_sample_rate(sample_rate) while True: audio rx.record(256)#sampling points number must be smaller than 256 tx.play(audio) ```"},"/soft/maixpy/zh/modules/on_chip/spi.html":{"title":"SPI çš„ä½¿ç”¨","content":" title: SPI çš„ä½¿ç”¨ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy SPI çš„ä½¿ç”¨ å…³äº SPI è¯¦ç»†ä»‹ç»è¯·å‚è€ƒ[SPI API æ–‡æ¡£](../../api_reference/machine/spi.html). ## ä½¿ç”¨æ–¹æ³• ### ä¸»æœºæ¨¡å¼ * ä» machine å¯¼å…¥ SPI æ¨¡å— ```python from machine import SPI ``` * é…ç½®ä½¿ç”¨åˆ°çš„ pin è„šä¸ºç‰‡é€‰ GPIO åŠŸèƒ½å’Œ SPI åŠŸèƒ½. ```python fm.register(25,fm.fpioa.GPIOHS10, force True)#cs cs GPIO(GPIO.GPIOHS10, GPIO.OUT) fm.register(28,fm.fpioa.SPI1_D0, force True)#mosi fm.register(26,fm.fpioa.SPI1_D1, force True)#miso fm.register(27,fm.fpioa.SPI1_SCLK, force True)#sclk ``` * åˆ›å»º SPI å¯¹è±¡ ```python spi1 SPI(SPI.SPI1, mode SPI.MODE_MASTER, baudrate 10000000, polarity 0, phase 0, bits 8, firstbit SPI.MSB) ``` * ä½¿ç”¨ç‰‡é€‰ GPIO é€‰ä¸­ä»æœº, é€šè¿‡ SPI è¯»å†™æ•°æ® ```python cs.value(0) spi1.write_readinto(w, r) cs.value(1) ``` ### ä»æœºæ¨¡å¼ K210 SPI ä»æœºæ¨¡å¼åªæ”¯æŒä¸‰çº¿é€šä¿¡ï¼Œå› æ­¤ MaixPy ä¸­å¹¶æ²¡æœ‰å®ç°è¯¥æ¨¡å¼ï¼Œéœ€è¦ä»æœºæ¨¡å¼å¯å‚è€ƒ[SPI_SLAVE è£¸æœºå®ç°](https://github.com/kendryte/kendryte standalone demo/tree/develop/spi_slave)ã€‚ ## ç¤ºä¾‹ * é€‰ä¸­ç‰‡é€‰ GPIO å¯¹åº”ä»æœºå¹¶æ”¶å‘æ•°æ® ```python from machine import SPI from fpioa_manager import fm from Maix import GPIO fm.register(25,fm.fpioa.GPIOHS10, force True)#cs cs GPIO(GPIO.GPIOHS10, GPIO.OUT) fm.register(28,fm.fpioa.SPI1_D0, force True)#mosi fm.register(26,fm.fpioa.SPI1_D1, force True)#miso fm.register(27,fm.fpioa.SPI1_SCLK, force True)#sclk spi1 SPI(SPI.SPI1, mode SPI.MODE_MASTER, baudrate 10000000, polarity 0, phase 0, bits 8, firstbit SPI.MSB) w b'\\xFF' r bytearray(1) cs.value(0) print(spi1.write_readinto(w, r)) cs.value(1) ```"},"/soft/maixpy/zh/modules/on_chip/i2c.html":{"title":"I2C çš„ä½¿ç”¨","content":" title: I2C çš„ä½¿ç”¨ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy I2C çš„ä½¿ç”¨ å…³äº I2C è¯¦ç»†ä»‹ç»è¯·å‚è€ƒ[I2C API æ–‡æ¡£](../../api_reference/machine/i2c.html). ## ä½¿ç”¨æ–¹æ³• ### ä¸»æœºæ¨¡å¼ * åˆ›å»º I2C(è½¯ä»¶æ¨¡æ‹Ÿæˆ–ç¡¬ä»¶) å¯¹è±¡ ```python from machine import I2C from fpioa_manager import fm # i2c I2C(I2C.I2C0, freq 100000, scl 28, sda 29) # hardware i2c i2c I2C(I2C.I2C4, freq 100000, scl 28, sda 29,gscl fm.fpioa.GPIOHS3,gsda fm.fpioa.GPIOHS2) # software i2c ``` * æ‰«æä»æœº, è¿”å›æ‰€æœ‰ä»æœºåœ°å€ ```python devices i2c.scan() ``` * å¯¹ä»æœºè¯»å†™æ•°æ® ```python for device in devices: i2c.writeto(device, b'123') i2c.readfrom(device, 3) ``` ### ä»æœºæ¨¡å¼ * åˆ›å»ºä»æœºå›è°ƒå‡½æ•° ```python count 0 def on_receive(data): print(\"on_receive:\",data) def on_transmit(): count count+1 print(\"on_transmit, send:\",count) return count def on_event(event): print(\"on_event:\",event) ``` * åˆ›å»º I2C å¯¹è±¡ ```python from machine import I2C i2c I2C(I2C.I2C0, mode I2C.MODE_SLAVE, scl 28, sda 29, addr 0x24, addr_size 7, on_receive on_receive, on_transmit on_transmit, on_event on_event) ``` ## ç¤ºä¾‹ * è¯»å–æ‰€æœ‰ä»æœºåœ°å€å¹¶åˆ†åˆ«æ”¶å‘æ•°æ® ```python from machine import I2C i2c I2C(I2C.I2C0, freq 100000, scl 28, sda 29) # software i2c devices i2c.scan() print(devices) for device in devices: i2c.writeto(device, b'123') i2c.readfrom(device, 3) ``` * ä»æœºæ¨¡å¼ç¤ºä¾‹ ```python from machine import I2C count 0 def on_receive(data): print(\"on_receive:\",data) def on_transmit(): count count+1 print(\"on_transmit, send:\",count) return count def on_event(event): print(\"on_event:\",event) i2c I2C(I2C.I2C0, mode I2C.MODE_SLAVE, scl 28, sda 29, addr 0x24, addr_size 7, on_receive on_receive, on_transmit on_transmit, on_event on_event) ```"},"/soft/maixpy/zh/modules/on_chip/wdt.html":{"title":"WDTï¼ˆçœ‹é—¨ç‹—ï¼‰ çš„ä½¿ç”¨","content":" title: WDTï¼ˆçœ‹é—¨ç‹—ï¼‰ çš„ä½¿ç”¨ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy WDTï¼ˆçœ‹é—¨ç‹—ï¼‰ çš„ä½¿ç”¨ å…³äº WDT è¯¦ç»†ä»‹ç»è¯·å‚è€ƒ[WDT API æ–‡æ¡£](./../../api_reference/machine/wdt.html). ## ä½¿ç”¨æ–¹æ³• çœ‹é—¨ç‹—ä¸»è¦ç”¨äºä¿æŠ¤ç³»ç»Ÿæ­£å¸¸è¿è¡Œï¼Œä½œç”¨åŸç†ä¸ºï¼Œçœ‹é—¨ç‹—å¯åŠ¨åï¼Œç¨‹åºä¸­å¿…é¡»å®šæ—¶æ‰§è¡Œä¸€ä¸ªå–‚ç‹—çš„æ“ä½œï¼Œå½“ç³»ç»Ÿå—åˆ°å¹²æ‰°ä¸èƒ½æ­£å¸¸è¿è¡Œæ—¶ï¼Œå–‚ç‹—æ“ä½œä¹Ÿä¸èƒ½å®šæ—¶æ‰§è¡Œï¼Œæ­¤æ—¶çœ‹é—¨ç‹—å°†äº§ç”Ÿå†…éƒ¨å¤ä½ï¼Œä½¿ç³»ç»Ÿé‡æ–°å¼€å§‹å·¥ä½œã€‚ * ä» machine å¯¼å…¥ WDT æ¨¡å— ```python from machine import WDT ``` * å®šä¹‰å›è°ƒå‡½æ•°ï¼Œåˆ›å»º WDT å¯¹è±¡ ```python def on_wdt(self): print(self.context(), self) #self.feed() ## release WDT #self.stop() # test callback wdt wdt1 WDT(id 1, timeout 4000, callback on_wdt, context {}) ``` * å–‚ç‹— ```python wdt1.feed() ``` *å¯ä»¥åœ¨å›è°ƒå‡½æ•°ä¸­æ‰§è¡Œå–‚ç‹—æ“ä½œ* * å…³é—­çœ‹é—¨ç‹— ```python wdt1.stop() ``` ## ç¤ºä¾‹ 1. å–‚ä¸€æ¬¡ç‹—åå…³é—­ 2. ä¸å–‚ç‹—ä½¿å¾—ç³»ç»Ÿå¤ä½ ```python import time from machine import WDT # ''' # test default wdt wdt0 WDT(id 0, timeout 3000) print('into', wdt0) time.sleep(2) print(time.ticks_ms()) # 1.test wdt feed wdt0.feed() time.sleep(2) print(time.ticks_ms()) # 2.test wdt stop wdt0.stop() print('stop', wdt0) # 3.wait wdt work #while True: #print('idle', time.ticks_ms()) #time.sleep(1) # ''' # ''' def on_wdt(self): print(self.context(), self) #self.feed() ## release WDT #self.stop() # test callback wdt wdt1 WDT(id 1, timeout 4000, callback on_wdt, context {}) print('into', wdt1) time.sleep(2) print(time.ticks_ms()) # 1.test wdt feed wdt1.feed() time.sleep(2) print(time.ticks_ms()) # 2.test wdt stop wdt1.stop() print('stop', wdt1) # 3.wait wdt work #while True: #print('idle', time.ticks_ms()) #time.sleep(1) # ''' #''' ## test default and callback wdt def on_wdt(self): print(self.context(), self) #self.feed() ## release WDT #self.stop() wdt0 WDT(id 0, timeout 3000, callback on_wdt, context []) wdt1 WDT(id 1, timeout 4000, callback on_wdt, context {}) ## 3.wait wdt work while True: #wdt0.feed() print('idle', time.ticks_ms()) time.sleep(1) #''' '''output into [MAIXPY]WDT:(800cc560; id 0, timeout 3000, callback 800abcf8, context 800abcf8) 550247 552247 stop [MAIXPY]WDT:(800cc560; id 0, timeout 3000, callback 800abcf8, context 800abcf8) into [MAIXPY]WDT:(800cc5e0; id 1, timeout 4000, callback 800cc5a0, context 800cc5c0) 554261 556261 stop [MAIXPY]WDT:(800cc5e0; id 1, timeout 4000, callback 800cc5a0, context 800cc5c0) idle 556268 idle 557269 idle 558269 [] [MAIXPY]WDT:(800cc680; id 0, timeout 3000, callback 800cc620, context 800cc640) idle 559275 {} [MAIXPY]WDT:(800cce40; id 1, timeout 4000, callback 800cc620, context 800cc6c0) idle 560282 idle 561283 [MAIXPY] Pll0:freq:806000000 [MAIXPY] Pll1:freq:398666666 [MAIXPY] Pll2:freq:45066666 [MAIXPY] cpu:freq:403000000 [MAIXPY] kpu:freq:398666666 [MAIXPY] Flash:0xef:0x17 [MaixPy] gc heap 0x800c9850 0x80149850(524288) [MaixPy] init end __ __ _____ __ __ _____ __ __ \\/ /\\ _ _ \\ \\ / / __ \\ \\ \\ / / \\ / / \\ \\ V / __) \\ \\_/ / \\/ / /\\ \\ > < ___/ \\ / / ____ \\ _ _ / . \\ _ _ /_/ \\_\\ _____ /_/ \\_\\ _ _ Official Site : https://www.sipeed.com Wiki : https://maixpy.sipeed.com MicroPython v0.5.1 174 gf18990aa3 dirty on 2021 01 11; Sipeed_M1 with kendryte k210 Type \"help()\" for more information. ''' ```"},"/soft/maixpy/zh/modules/on_chip/timer.html":{"title":"Timerï¼ˆå®šæ—¶å™¨ï¼‰ çš„ä½¿ç”¨","content":" title: Timerï¼ˆå®šæ—¶å™¨ï¼‰ çš„ä½¿ç”¨ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy Timerï¼ˆå®šæ—¶å™¨ï¼‰ çš„ä½¿ç”¨ å…³äº Timer è¯¦ç»†ä»‹ç»è¯·å‚è€ƒ[Timer API æ–‡æ¡£](../../api_reference/machine/timer.html). ## ä½¿ç”¨æ–¹æ³• * ä» machine å¯¼å…¥ Timer æ¨¡å— ```python from machine import Timer ``` * åˆ›å»º Timer å¯¹è±¡ ```python def on_timer(timer): print(\"time up:\",timer) print(\"param:\",timer.callback_arg()) tim Timer(Timer.TIMER0, Timer.CHANNEL0, mode Timer.MODE_PERIODIC, period 1, unit Timer.UNIT_S, callback on_timer, arg on_timer, start False, priority 1, div 0) ``` * å¯åŠ¨å®šæ—¶å™¨, æ­¤æ—¶å®šæ—¶å™¨å°†å®šæ—¶æ‰§è¡Œå›è°ƒå‡½æ•° ```python tim.start() ``` * åœæ­¢å®šæ—¶å™¨ ```python tim.stop() ``` ## ç¤ºä¾‹ å®šæ—¶æ‰§è¡Œå›è°ƒå‡½æ•° ```python from machine import Timer def on_timer(timer): print(\"time up:\",timer) print(\"param:\",timer.callback_arg()) tim Timer(Timer.TIMER0, Timer.CHANNEL0, mode Timer.MODE_PERIODIC, period 1, unit Timer.UNIT_S, callback on_timer, arg on_timer, start False, priority 1, div 0) print(\"period:\",tim.period()) tim.start() time.sleep(5) tim.stop() time.sleep(5) tim.restart() time.sleep(5) tim.stop() del tim ```"},"/soft/maixpy/zh/modules/on_chip/uart.html":{"title":"UART çš„ä½¿ç”¨","content":" title: UART çš„ä½¿ç”¨ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy UART çš„ä½¿ç”¨ å…³äº UART è¯¦ç»†ä»‹ç»è¯·å‚è€ƒ[UART API æ–‡æ¡£](./../../api_reference/machine/uart.html). ## ä½¿ç”¨æ–¹æ³• * ä» machine å¯¼å…¥ UART æ¨¡å— ```python from machine import UART ``` * é…ç½®ä½¿ç”¨åˆ°çš„ pin è„šä¸º UART åŠŸèƒ½ ```python fm.register(10, fm.fpioa.UART1_TX, force True) fm.register(11, fm.fpioa.UART1_RX, force True) ``` * åˆ›å»º UART å¯¹è±¡ ```python uart UART(UART.UART1, 115200, 8, 1, 0, timeout 1000, read_buf_len 4096) ``` * è¯»å†™æ•°æ® ```python uart.write(b'hello world') read_data uart.read() ``` ## ç¤ºä¾‹ å°†ä¸²å£æ¥æ”¶åˆ°çš„æ•°æ®å‘é€å›å» ```python from machine import UART from board import board_info from fpioa_manager import fm # maixduino board_info PIN10/PIN11/PIN12/PIN13 or other hardware IO 12/11/10/3 fm.register(board_info.PIN10, fm.fpioa.UART1_TX, force True) fm.register(board_info.PIN11, fm.fpioa.UART1_RX, force True) fm.register(board_info.PIN12, fm.fpioa.UART2_TX, force True) fm.register(board_info.PIN13, fm.fpioa.UART2_RX, force True) uart_A UART(UART.UART1, 115200, 8, 0, 0, timeout 1000, read_buf_len 4096) uart_B UART(UART.UART2, 115200, 8, 0, 0, timeout 1000, read_buf_len 4096) write_str 'hello world' for i in range(20): uart_A.write(write_str) if uart_A.any(): read_data uart_B.read() if read_data: read_str read_data.decode('utf 8') print(\"string \", read_str) if read_str write_str: print(\"baudrate:115200 bits:8 parity:0 stop:0 check Successfully\") uart_A.deinit() uart_B.deinit() del uart_A del uart_B ```"},"/soft/maixpy/zh/modules/on_chip/pwm.html":{"title":"PWM çš„ä½¿ç”¨","content":" title: PWM çš„ä½¿ç”¨ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy PWM çš„ä½¿ç”¨ å…³äº PWM è¯¦ç»†ä»‹ç»è¯·å‚è€ƒ[PWM API æ–‡æ¡£](../../api_reference/machine/pwm.html). ## ä½¿ç”¨æ–¹æ³• * ä» machine å¯¼å…¥ PWM, Timer æ¨¡å— ```python from machine import Timer,PWM ``` * åˆ›å»º Timer å’Œ PWM ```python tim Timer(Timer.TIMER0, Timer.CHANNEL0, mode Timer.MODE_PWM) ch PWM(tim, freq 500000, duty 50, pin boad_info.LED_G) ``` * æ”¹å˜å ç©ºæ¯”, è®¾ç½®çš„ pin è„šå°†è¾“å‡ºä¸åŒå ç©ºæ¯”çš„æ³¢å½¢ ```python ch.duty(duty) ``` ## ç¤ºä¾‹ æ§åˆ¶ LED_G ç¯äº®åº¦ > `board_info` ä¸æ¿å¡ç›¸å…³ï¼Œä¸åŒæ¿å¡é…ç½®ä¸åŒï¼Œä½¿ç”¨å‰éœ€è¦[æ‰‹åŠ¨é…ç½®](../../api_reference/builtin_py/board_info.html)ã€‚ ```python from machine import Timer,PWM import time from board import board_info from fpioa_manager import fm tim Timer(Timer.TIMER0, Timer.CHANNEL0, mode Timer.MODE_PWM) ch PWM(tim, freq 500000, duty 50, pin board_info.LED_G) duty 0 dir True while True: if dir: duty + 10 else: duty 10 if duty>100: duty 100 dir False elif duty<0: duty 0 dir True time.sleep(0.05) ch.duty(duty) ```"},"/soft/maixpy/zh/modules/on_chip/gpio.html":{"title":"GPIO çš„ä½¿ç”¨","content":" title: GPIO çš„ä½¿ç”¨ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy GPIO çš„ä½¿ç”¨ å…³äº GPIO è¯¦ç»†ä»‹ç»è¯·å‚è€ƒ[GPIO API æ–‡æ¡£](../../api_reference//Maix/gpio.html). ## ä½¿ç”¨æ–¹æ³• * å°†æŸ IO æ³¨å†Œä¸º GPIO åŠŸèƒ½ ```python from Maix import GPIO from fpioa_manager import fm fm.register(io_number,fm.fpioa.GPIO0) ``` * è®¾ç½® GPIO ä¸ºè¾“å…¥æˆ–è¾“å‡ºæ¨¡å¼ ```python gpio GPIO(GPIO.GPIO0,GPIO.OUT) ``` * è¯»å–æˆ–è®¾ç½® GPIO ç”µå¹³ ```python gpio.value() ``` ## ç¤ºä¾‹ > `board_info` ä¸æ¿å¡ç›¸å…³ï¼Œä¸åŒæ¿å¡é…ç½®ä¸åŒï¼Œä½¿ç”¨å‰éœ€è¦[æ‰‹åŠ¨é…ç½®](../../api_reference/builtin_py/board_info.html)ã€‚ ç‚¹äº® LED ```python import utime from Maix import GPIO from board import board_info from fpioa_manager import fm fm.register(board_info.LED_R,fm.fpioa.GPIO0) led_r GPIO(GPIO.GPIO0,GPIO.OUT) utime.sleep_ms(500) led_r.value(0) fm.unregister(board_info.LED_R) ```"},"/soft/maixpy/zh/modules/grove/grove_rgb_led_ring.html":{"title":"Grove - RGB LED Ring(LED ç¯æ¡)","content":" title: Grove RGB LED Ring(LED ç¯æ¡) keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®—, RGB LED Ring desc: maixpy Grove RGB LED Ring(LED ç¯æ¡) <div class \"grove_pic\"> <img src \"../../../assets/hardware/module_grove/grove_led_ring.jpg\"> </div> Grove RGB LED ç¯é‡‡ç”¨3535å°ºå¯¸çš„ LEDï¼ŒLED å†…åµŒæœ‰åµŒå…¥å¼å¾®æ§åˆ¶å™¨ã€‚æ¯ä¸ª WS2813 é©±åŠ¨èŠ¯ç‰‡å‡å¯å¯»å€å¹¶ä¸”ä½äº LED å†…éƒ¨ã€‚æ¯ä¸ª LED éƒ½æœ‰æ’å®šç”µæµé©±åŠ¨ï¼Œå› æ­¤å³ä½¿ç”µå‹å˜åŒ–ï¼Œé¢œè‰²ä¹Ÿå°†éå¸¸ä¸€è‡´ã€‚ ## å‚æ•° é¡¹ç›® \tå€¼ : : åŠŸç‡ 3.3V/5V é™æ€ç”µæµ 0.7mA/LED RGBé€šé“æ’æµ 16mA/LED åˆ·æ–°é¢‘ç‡ 2Hz é‡ç½®æ—¶é—´ >280Î¼s å·¥ä½œæ¸©åº¦ 25ï½85â„ƒ è´®å­˜æ¸©åº¦ 40ï½105â„ƒ ## ä½¿ç”¨æ–¹æ³• MaixPy å·²ç»åœ¨ modules æ¨¡å—ä¸­å®ç°æœ‰ WS2812 é©±åŠ¨ã€‚ * åˆ›å»º ws2812 å¯¹è±¡ï¼Œåªéœ€è¦å•æ ¹ä¿¡å·çº¿å³å¯ ```python from modules import ws2812 led_io, led_num 24, 24 ws ws2812(led_io, led_num) ``` * è®¾ç½®æŸä¸ªç¯çš„é¢œè‰²å¹¶æ˜¾ç¤º ```python for i in range(led_num): ws.set_led(i, (0, 0, 0)) ws.display() ``` ## ä¾‹ç¨‹ [Grove RGB LED Ring ä¾‹ç¨‹](https://github.com/sipeed/MaixPy v1_scripts/blob/master/modules/grove/ws2812/ws2812.py) ## æ›´å¤š * API æ‰‹å†Œ: [modules.ws2812](../../api_reference/extend/ws2812.html) * æ¨¡å—è¯¦æƒ…: [Seeed Grove LED_ring](https://wiki.seeedstudio.com/Grove LED_ring/)"},"/soft/maixpy/zh/modules/grove/grove_chainable_rgb_led.html":{"title":"Grove - Chainable RGB LED(å¯é“¾æ¥ LED ç¯)","content":" title: Grove Chainable RGB LED(å¯é“¾æ¥ LED ç¯) keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®—, RGB LED desc: maixpy Grove Chainable RGB LED(å¯é“¾æ¥ LED ç¯) <div class \"grove_pic\"> <img src \"../../../assets/hardware/module_grove/grove_rgb_led.jpg\"> </div> Grove Chainable RGB LED ä½¿ç”¨2çº¿ä¼ è¾“ï¼ˆæ•°æ®å’Œæ—¶é’Ÿï¼‰ä¸ MCU é€šä¿¡ã€‚ è¿™ç§2çº¿ä¼ è¾“å¯ç”¨äºçº§è”å¤šä¸ªæ¨¡å—ã€‚ å†…ç½® clock regeneration å¯å»¶é•¿ä¼ è¾“è·ç¦»ã€‚ è¯¥Groveæ¨¡å—é€‚ç”¨äºä»»ä½•åŸºäºå½©è‰²LEDçš„é¡¹ç›®ã€‚ ## å‚æ•° é¡¹ç›®å€¼ : : å·¥ä½œç”µå‹5V å·¥ä½œç”µæµ20mA é€šä¿¡åè®®ä¸²è¡Œ ## ä½¿ç”¨æ–¹æ³• * å¯¼å…¥ä¾‹ç¨‹ä»“åº“ä¸­çš„ RGB_LED ç±»å¹¶åˆ›å»ºä¸€ä¸ª RGB_LED å¯¹è±¡ ```python from RGB_LED import RGB_LED led RGB_LED(clk_pin, data_pin, led_num, clk_gpiohs_num, data_gpiohs_num, True) ``` * è®¾ç½®æŸä¸ªç¯çš„é¢œè‰²ï¼Œ é¢œè‰²å€¼ä¸º rgb æ ¼å¼ ```python for i in range(led_num): led.set_RGB(i, r, g, b) ``` ## ä¾‹ç¨‹ [Grove Chainable RGB LED ä¾‹ç¨‹](https://github.com/sipeed/MaixPy v1_scripts/tree/master/modules/grove/chainable_RGB_LED) ## æ›´å¤š æ¨¡å—è¯¦æƒ…: [Seeed Grove Chainable RGB LED](https://wiki.seeedstudio.com/Grove Chainable_RGB_LED/)"},"/soft/maixpy/zh/modules/grove/index.html":{"title":"Grove","content":" title: Grove keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®—, Groveä»‹ç» desc: maixpy Grove é‡‡ç”¨ Grove æ ‡å‡†æ¥å£çš„æ¨¡å—ï¼ŒGrove ä¸º Seeed å›¢é˜Ÿä½¿ç”¨çš„ç»Ÿä¸€æ¥å£ç³»ç»Ÿï¼Œç›®å‰ä»¥æ”¯æŒå¤§é‡æ¨¡å—ã€‚ ## Grove æ¥å£ Grove æ¥å£çš„çº¿ç¼†æœ‰ 4 ç§é¢œè‰²ï¼Œç”¨æˆ·å¯ä»¥æ ¹æ®é¢œè‰²å¿«é€ŸåŒºåˆ« ![](../../../assets/hardware/module_grove/grove_interface.jpg) pin é¢œè‰² æè¿° pin 1 é»„è‰² (ä¾‹å¦‚ï¼ŒI2C Grove Connectorsä¸Šçš„SCL) pin 2 ç™½è‰² (ä¾‹å¦‚ï¼ŒI2C Grove Connectorsä¸Šçš„SDA) pin 3 çº¢è‰² VCC (æ‰€æœ‰çš„Groveæ¥å£çº¢è‰²éƒ½æ˜¯VCC) pin 4 é»‘è‰² GND (æ‰€æœ‰çš„Groveæ¥å£é»‘è‰²éƒ½æ˜¯GND) Groveæ¨¡å—ä¸»è¦æœ‰ 4 ç§æ¥å£: 1. Grove Digital æ•°å­—æ¥å£:<br/> Grove æ•°å­—æ¥å£ç”± Grove æ’å¤´çš„å››æ¡æ ‡å‡†çº¿ç»„æˆ.<br/> ä¸¤æ¡ä¿¡å·çº¿é€šå¸¸ç§°ä¸º D0 å’Œ D1 .<br/> å¤§å¤šæ•°æ¨¡å—åªä½¿ç”¨D0ï¼Œä½†æœ‰äº›(åƒLED Bar Groveæ˜¾ç¤ºå±)ä½¿ç”¨ä¸¤è€….é€šå¸¸æ ¸å¿ƒæ¿ä¼šå°†æ¿å¡ä¸Šçš„ç¬¬ä¸€ä¸ªGroveè¿æ¥å¤´ç§°ä¸ºD0ï¼Œç¬¬äºŒä¸ªç§°ä¸ºD1.ç¬¬ä¸€ä¸ªæ¥å¤´ä¼šè¿æ¥åˆ°ä¸»æ§èŠ¯ç‰‡çš„DO/D1ç®¡è„šï¼Œç¬¬äºŒä¸ªè¿æ¥å¤´ä¼šè¿æ¥åˆ°ä¸»æ§èŠ¯ç‰‡çš„D1/D2å¼•è„šï¼Œåé¢çš„è¿æ¥å¤´ä»¥æ­¤ç±»æ¨. pin Function Note pin1 Dn ç¬¬ä¸€ä¸ªæ•°å­—è¾“å…¥ â€” pin2 Dn+1 ç¬¬äºŒä¸ªæ•°å­—è¾“å…¥ â€” pin3 VCC ä¾›ç”µå¼•è„š 5V/3.3V â€” pin4 GND åœ° â€” 2. Grove UART :<br/> The Grove UART æ˜¯ç‰¹æ®Šçš„ä¸€ç§æ•°å­—è¾“å…¥è¾“å‡ºæ¥å£.<br/> å®ƒä½¿ç”¨å¼•è„š 1 å’Œå¼•è„š 2 è¿›è¡Œä¸²è¡Œè¾“å…¥å’Œå‘é€. <br/> å¼•è„š1æ˜¯ RX çº¿(ç”¨äºæ¥æ”¶æ•°æ®ï¼Œå› æ­¤æ˜¯è¾“å…¥)ï¼Œ å…¶ä¸­å¼•è„š 2 æ˜¯ TX çº¿(ç”¨äºå‘ Grove æ¨¡å—ä¼ è¾“æ•°æ®). pin Function Note pin1 RX ä¸²è¡Œæ¥æ”¶ pin2 TX ä¸²è¡Œå‘é€ pin3 VCC ä¾›ç”µå¼•è„š 5V/3.3V pin4 GND åœ° 3. Grove I2C:<br/> æœ‰è®¸å¤šç±»å‹çš„I2C Grove ä¼ æ„Ÿå™¨å¯ç”¨.<br/>MaixCube ä¸Šçš„ Grove åªæ”¯æŒ 3.3V ä¼ æ„Ÿå™¨ Grove I2C è¿æ¥å™¨å…·æœ‰æ ‡å‡†å¸ƒå±€.å¼•è„š 1 æ˜¯SCLä¿¡å·ï¼Œå¼•è„š 2 æ˜¯SDAä¿¡å· pin Function Note pin1 SCL I2C æ—¶é’Ÿ pin2 SDA I2C æ•°æ® pin3 VCC ä¾›ç”µå¼•è„šï¼Œ5V/3.3V pin4 GND åœ° è¯¦æƒ…è¯·å‚è€ƒï¼š[Grove_System](https://wiki.seeedstudio.com/cn/Grove_System/) ## å¤–è®¾æ¨¡å— ä»¥ä¸‹å¤–è®¾å‡é‡‡ç”¨ Grove æ¥å£ * [Ultrasonic Ranger æµ‹è·](./grove_ultrasonic_ranger.html) * [Chainable RGB LED ç¯](./grove_chainable_rgb_led.html) * [RGB LED Ring ç¯æ¡](./grove_rgb_led_ring.html)"},"/soft/maixpy/zh/modules/grove/grove_ultrasonic_ranger.html":{"title":"Grove - Ultrasonic Ranger(è¶…å£°æ³¢æµ‹è·)","content":" title: Grove Ultrasonic Ranger(è¶…å£°æ³¢æµ‹è·) keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy Grove Ultrasonic Ranger(è¶…å£°æ³¢æµ‹è·) <div class \"grove_pic\"> <img src \"../../../assets/hardware/module_grove/ultrasonic.jpg\"> </div> Grove Ultrasonic Ranger æ˜¯ä¸€ä¸ªéæ¥è§¦å¼æµ‹è·æ¨¡å—ï¼Œå·¥ä½œé¢‘ç‡ä¸º 40KHzã€‚Grove_Ultrasonic_Ranger çš„è§¦å‘å’Œå›æ³¢ä¿¡å·å…±äº«1ä¸ª SIG å¼•è„šã€‚ ## å‚æ•° é¡¹ç›® å€¼ å·¥ä½œç”µå‹ \t 3.2ã€œ5.2V å·¥ä½œç”µæµ \t 8ma è¶…å£°æ³¢é¢‘ç‡ \t40kHz æµ‹é‡èŒƒå›´ \t 2 350cm è§£æåº¦ \t 1cm è¾“å‡ºé‡ \t PWM å°ºå¯¸ \t 50mm x 25mm x 16mm é‡é‡ \t 13g æµ‹é‡è§’åº¦ \t 15Â° å·¥ä½œæ¸©åº¦ \t 10ã€œ60Â°C è§¦å‘ä¿¡å· \t 10uS TTL å›å£°ä¿¡å· \t TTL ## ä½¿ç”¨æ–¹æ³• MaixPy å·²ç»åœ¨ modules æ¨¡å—ä¸­å®ç°æœ‰ ultrasonic é©±åŠ¨ã€‚ * å¯¼å…¥ ultrasonic ç±»å¹¶åˆ›å»ºå¯¹è±¡ ```python from modules import ultrasonic device ultrasonic(fm.fpioa.GPIOHS0) ``` * è·å–å½“å‰æµ‹é‡è·ç¦»(cm) ```python distance device.measure(unit ultrasonic.UNIT_CM, timeout 3000000) ``` ## ä¾‹ç¨‹ [Grove Ultrasonic Ranger ä¾‹ç¨‹](https://github.com/sipeed/MaixPy v1_scripts/tree/master/modules/grove/ultrasonic) ## æ›´å¤š * API æ‰‹å†Œ: [modules.ultrasonic](../../api_reference/extend/ultrasonic.html) * æ¨¡å—è¯¦æƒ…: [Seeed Grove Ultrasonic_Ranger](https://wiki.seeedstudio.com/Grove Ultrasonic_Ranger/)"},"/soft/maixpy/zh/modules/others/binocular_camera.html":{"title":"åŒç›®æ‘„åƒå¤´","content":" title: åŒç›®æ‘„åƒå¤´ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy åŒç›®æ‘„åƒå¤´ ![](../../../assets/hardware/module/camera_binocular.png) ## ä½¿ç”¨æ–¹æ³• éœ€è¦å‡†å¤‡ä¸€ä¸ªåŒç›®æ‘„åƒå¤´ * å¯¼å…¥å¹¶åˆå§‹åŒ–åŒç›®æ‘„åƒå¤´ ```python import sensor sensor.binocular_reset() sensor.shutdown(False) sensor.set_pixformat(sensor.RGB565) sensor.set_framesize(sensor.QVGA) sensor.shutdown(True) sensor.set_pixformat(sensor.RGB565) sensor.set_framesize(sensor.QVGA) sensor.run(1) ``` * æ‰“å¼€æ‘„åƒå¤´å¹¶æ•æ‰å›¾åƒ ```python sensor.shutdown(True) img sensor.snapshot() ``` API è¯¦æƒ…è¯·å‚è€ƒ: [Sensor API](../../api_reference/machine_vision/sensor.html) ## ä¾‹ç¨‹ æ•æ‰å›¾åƒå¹¶æ˜¾ç¤ºåœ¨ LCD ä¸Š [demo_binocular](https://github.com/sipeed/MaixPy v1_scripts/blob/5a03ab549d06cd713f2c0d19f0c18fbd24c69025/hardware/demo_binocular.py)"},"/soft/maixpy/zh/modules/others/index.html":{"title":"å…¶ä»–æ¨¡å—","content":" title: å…¶ä»–æ¨¡å— keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy å…¶ä»–æ¨¡å— * [åŒç›®æ‘„åƒå¤´](./binocular_camera.html) * [esp32 ADCæ¨¡æ•°è½¬æ¢](./esp32_read_adc.html) * [HTPA çº¢å¤–æµ‹æ¸©](./htpa.html) * [ä¸²å£çº¢å¤–é•œå¤´](./mlx90640.html) * [èˆµæœº](./servo.html)"},"/soft/maixpy/zh/modules/others/servo.html":{"title":"èˆµæœº","content":" title: èˆµæœº keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy èˆµæœº ## è­¦å‘Šï¼è¯·å¤–æ¥ç”µæºï¼Œä¸è¦ç”¨ç”µè„‘ä¾›ç”µç»™èˆµæœºï¼Œçƒ§äº†è‡ªç†ã€‚ ## ä½¿ç”¨æ–¹æ³• èˆµæœºéœ€è¦ä½¿ç”¨ PWM è¾“å‡ºä¸åŒå ç©ºæ¯”æ¥æ§åˆ¶å…¶æ—‹è½¬è§’åº¦, é¦–å…ˆéœ€è¦å‡†å¤‡èˆµæœº * å¯¼å…¥ PWM æ¨¡å—ï¼Œåˆ›å»º PWM å¯¹è±¡ï¼ŒPWM è¾“å‡ºå¼•è„šæ¥åˆ°èˆµæœºä¿¡å·è¾“å…¥ ```python from machine import Timer,PWM tim Timer(Timer.TIMER0, Timer.CHANNEL0, mode Timer.MODE_PWM) S1 PWM(tim, freq 50, duty 0, pin 17) ``` * è¾“å‡ºä¸åŒå ç©ºæ¯”æ³¢å½¢æ¥æ§åˆ¶èˆµæœº ```python S1.duty((angle+90)/180*10+2.5) ``` PWM æ§åˆ¶ API å‚è€ƒ: [PWM API](../../api_reference/machine/pwm.html) ## ä¾‹ç¨‹ * æ§åˆ¶èˆµæœºæ—‹è½¬ä¸åŒè§’åº¦: [Servo](https://github.com/sipeed/MaixPy v1_scripts/blob/79a5485ec983e67bb8861305a52418b29e0dc205/modules/others/Servo/Servo.py) * èˆµæœºäº‘å°: [gimbal](https://github.com/sipeed/MaixPy v1_scripts/tree/master/application/gimbal)"},"/soft/maixpy/zh/modules/others/onewire.html":{"title":"onewireï¼ˆå•æ€»çº¿ï¼‰çš„ä½¿ç”¨","content":" title: onewireï¼ˆå•æ€»çº¿ï¼‰çš„ä½¿ç”¨ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy onewireï¼ˆå•æ€»çº¿ï¼‰çš„ä½¿ç”¨ # ä½¿ç”¨æ–¹æ³• * ä» modules å¯¼å…¥ onewire æ¨¡å— ```python from modules import onewire ``` * åˆ›å»º onewire å¯¹è±¡ ```python fm.register(14, fm.fpioa.GPIOHS2, force True) bus onewire(fm.fpioa.GPIOHS2) ``` * æœç´¢ï¼Œè¯»å†™æ•°æ®ç­‰æ“ä½œ ## ä¾‹ç¨‹ï¼š ds18b20 æ¸©åº¦è¯»å–ï¼š[onwire_ds18b20](https://github.com/sipeed/MaixPy v1_scripts/blob/80f4eb71d3481b6f119f25f39f7c9b37404b99ce/hardware/demo_onewire_ds18x20.py)"},"/soft/maixpy/zh/modules/others/esp32_read_adc.html":{"title":null,"content":" title: keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy ## å¦‚ä½•ä½¿ç”¨ ESP32 è·å– ADC æ¨¡æ‹Ÿé‡ ç”±äº K210 æ²¡æœ‰ ADC è¯»å–æ¨¡æ‹Ÿé‡çš„åŠŸèƒ½ï¼Œæ‰€ä»¥è¯¥åŠŸèƒ½åªèƒ½ä» ESP32 ã€ESP82XX ç­‰ç¡¬ä»¶ä¸Šè·å–ï¼ŒADC æœ€åŸºç¡€çš„ç”¨é€”å°±æ˜¯å®ç°ä¸€ä¸ªå¯è§¦æ‘¸çš„æŒ‰é”®è§¦ç‚¹ã€‚ ### ESP32 ç¤ºä¾‹ä»£ç  ```python # Uasge see readme.md # from network_esp32 import wifi import time, network from Maix import GPIO from fpioa_manager import fm class wifi(): # IO map for ESP32 on Maixduino fm.register(25,fm.fpioa.GPIOHS10)#cs fm.register(8,fm.fpioa.GPIOHS11)#rst fm.register(9,fm.fpioa.GPIOHS12)#rdy print(\"Use Hareware SPI for other maixduino\") fm.register(28,fm.fpioa.SPI1_D0, force True)#mosi fm.register(26,fm.fpioa.SPI1_D1, force True)#miso fm.register(27,fm.fpioa.SPI1_SCLK, force True)#sclk nic network.ESP32_SPI(cs fm.fpioa.GPIOHS10, rst fm.fpioa.GPIOHS11, rdy fm.fpioa.GPIOHS12, spi 1) print(\"ESP32_SPI firmware version:\", wifi.nic.version()) # get ADC0 ADC1 ADC2 adc wifi.nic.adc((0,1,2)) print(adc) while True: try: # get ADC0~5 adc wifi.nic.adc() except Exception as e: print(e) continue for v in adc: print(\"%04d\" %(v), end \" \") print(' : adc') ''' MicroPython v0.5.1 136 g039f72b6c dirty on 2020 11 18; Sipeed_M1 with kendryte k210 Type \"help()\" for more information. >>> raw REPL; CTRL B to exit >OK (2370, 3102, 3071) 2017 2753 0977 2709 0963 0855 : adc 0617 0757 0150 0095 0133 0153 : adc 1319 1478 0955 0939 0698 0619 : adc 2403 3231 3299 3298 1483 0779 : adc 1119 1815 1274 1315 0230 0255 : adc 0951 0951 0295 0283 0319 0399 : adc 2175 2769 2576 2579 1487 1104 : adc 1995 2846 2647 2699 0839 0441 : adc ''' ``` ### OSError: Get version fail é‡è¯•å°±è¡Œï¼Œé€šå¸¸æ˜¯ esp32 è¿˜æœªåˆå§‹åŒ–æˆåŠŸã€‚ ```shell Traceback (most recent call last): File \"<stdin>\", line 15, in <module> File \"<stdin>\", line 24, in wifi OSError: Get version fail > ``` ### ESP82XX å®ç°æ€è·¯ > æ–‡æ¡£å¯¹è¯¥éƒ¨åˆ†å†…å®¹ä¸åšè§£é‡Šã€‚ é€šè¿‡ AT+SYSADC æŸ¥è¯¢ ADC å€¼ï¼Œåœ¨ä¹é‘«çš„ ESP82XX AT å›ºä»¶ä¸­é»˜è®¤ä¸ºGPIO12 å¼•è„šã€‚ ç›´æ¥è¯»å–å€¼å³å¯ä½¿ç”¨ã€‚"},"/soft/maixpy/zh/modules/others/mlx90640.html":{"title":"MLX90640 ä¸²å£çº¢å¤–é•œå¤´æ¨¡å—","content":" title: MLX90640 ä¸²å£çº¢å¤–é•œå¤´æ¨¡å— keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy MLX90640 ä¸²å£çº¢å¤–é•œå¤´æ¨¡å— <img src \"./../../../assets/hardware/other/mlx90640_hot_map3.jpg\"> <img src \"../../../assets/hardware/other/k210_mlx90640_hot_map2.jpg\"> å¯ç”¨äºæ— æ¥è§¦æµ‹æ¸©ã€‚ ## å‚æ•° * åˆ†è¾¨ç‡ï¼š32x24 * æµ‹é‡èŒƒå›´ï¼š 40Â°C~300Â°C * æ¸©åº¦åˆ†è¾¨ç‡ï¼š0.1Â°C * æµ‹é‡ç²¾åº¦ï¼šÂ±2Â°C * é‡å¤ç²¾åº¦ï¼šÂ±2Â°C * å“åº”é¢‘ç‡ï¼š8HZ * å·¥ä½œç”µå‹ï¼š3.3~5V * å·¥ä½œç”µæµï¼š42mA * å·¥ä½œæ¸©åº¦ï¼š 40Â°C~85Â°C * å°ºå¯¸ï¼š17.27mmx33mm ## ä½¿ç”¨æ–¹æ³• è¯¥æ¨¡å—ä½¿ç”¨ä¸²å£æˆ– I2C è¿›è¡Œé€šä¿¡ï¼Œç¡®è®¤æ¥çº¿æ­£ç¡®åï¼Œä»ä¸²å£å³å¯è¯»å–åˆ°æµ‹é‡æ•°æ®ã€‚ ## ä¾‹ç¨‹ * åœ¨ LCD æ˜¾ç¤ºçº¢å¤–çƒ­æˆåƒå›¾ç‰‡ï¼š[demo mlx90640](https://github.com/sipeed/MaixPy v1_scripts/tree/master/modules/others/mlx90640) ## æ›´å¤š * æ¨¡å—è¯¦æƒ…ï¼š[Far infrared thermal sensor array (32x24 RES)](https://www.melexis.com/en/product/MLX90640/Far Infrared Thermal Sensor Array) * è¯¦ç»†æ•™ç¨‹ï¼š[mlx90640](https://neucrack.com/p/189)"},"/soft/maixpy/zh/modules/others/htpa.html":{"title":"HTPA çƒ­çº¢å¤–æµ‹æ¸©æ¨¡ç»„","content":" title: HTPA çƒ­çº¢å¤–æµ‹æ¸©æ¨¡ç»„ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy HTPA çƒ­çº¢å¤–æµ‹æ¸©æ¨¡ç»„ <img src \"./../../../assets/hardware/other/htpa32x32.png\"> <img src \"../../../assets/hardware/other/htpat_scale_240x240.png\"> å¯ç”¨äºæ— æ¥è§¦æµ‹æ¸©ã€‚ ## å‚æ•° * ç”µæºç”µå‹(DC)ï¼š3.3V * ç”µæµæ¶ˆè€—ï¼š5.5(Â±1.0)mA * æ—¶é’Ÿé¢‘ç‡(ä¼ æ„Ÿå™¨)ï¼š5(Â±3)MHz * ç¯å¢ƒæ¸©åº¦èŒƒå›´ï¼š 20 ~ 85â„ƒ * å¯¹è±¡æ¸©åº¦èŒƒå›´ï¼š 20 ~ >1000Â°C * å¸§ç‡(å…¨å¸§)ï¼š2 ~ 27hz * å¸§ç‡(å››åˆ†ä¹‹ä¸€å¸§)ï¼š8 ~ 110hz * å™ªå£°ç­‰æ•ˆæ¸©å·®(æœ€ä½³å…‰å­¦)ï¼š140mK@1Hz * é€šä¿¡æ–¹å¼ï¼šI2C ## ä½¿ç”¨æ–¹æ³• MaixPy å·²ç»åœ¨ modules ä¸­å®ç°äº† htpaï¼ˆéœ€è¦åœ¨å›ºä»¶ç¼–è¯‘æ—¶è¯¥æ¨¡å—ä½¿èƒ½æ‰å¯ç”¨ï¼‰ã€‚ * å¯¼å…¥å¹¶åˆ›å»º htpa ```python from machine import I2C from modules import htpa dev htpa(i2c I2C.I2C0, scl_pin 7, sda_pin 6, i2c_freq 1000000) ``` * è·å–æ£€æµ‹èŒƒå›´å†…æ‰€æœ‰ç‚¹çš„æ¸©åº¦ ```python temperature dev.temperature() ``` API è¯¦æƒ…å‚è€ƒ[modules.htpa](../../api_reference/extend/htpa.html) ## ä¾‹ç¨‹ * åœ¨ LCD ç»˜åˆ¶æ¸©åº¦åˆ†å¸ƒå›¾ï¼š[htpa demo](https://github.com/sipeed/MaixPy v1_scripts/blob/79a5485ec983e67bb8861305a52418b29e0dc205/modules/others/heimann_HTPA_32x32/HTPA_32x32_demo.py) ## æ›´å¤š * æ¨¡å—èµ„æ–™ï¼š[32x32 Thermopile Array](https://www.heimannsensor.com/32x32) * è¯¦ç»†æ•™ç¨‹: [çƒ­çº¢å¤– heimann (æµ·æ›¼) HTPA 32x32d](https://neucrack.com/p/199)"},"/soft/maixpy/zh/modules/sp_mod/sp_lora.html":{"title":"SP_LORA çš„ä½¿ç”¨","content":" title: SP_LORA çš„ä½¿ç”¨ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy SP_LORA çš„ä½¿ç”¨ <img src \"../../../assets/hardware/module_spmod/sp_lora.png\"/> SP_LoRa æ¨¡å—ä½¿ç”¨ M XL8 æ¨¡ç»„, å…¶å†…ç½® LoRaTM è°ƒåˆ¶è§£è°ƒå™¨å’Œå¯è°ƒåŠŸç‡æ”¾å¤§å™¨çš„ LoRa æ¨¡å—, å…·æœ‰é«˜æ€§èƒ½å’Œé«˜å¯é æ€§. ## å‚æ•° * å·¥ä½œé¢‘æ®µ: 370MHz~1200Mhz * å‘å°„åŠŸç‡: 20dBm(æœ€å¤§) * é€šä¿¡æ¥å£: SPI * å¤©çº¿: å¤–ç½®å¤©çº¿,IPEX æˆ–ç„Šæ¥ * æ¥æ”¶çµæ•åº¦: 148dbm * RSSI åŠ¨æ€èŒƒå›´: 127dB * å·¥ä½œç”µå‹: 1.8V~6.3V * å·¥ä½œæ¸©åº¦: 40Â°C~80Â°C æ¨¡å—è¯¦ç»†ä¿¡æ¯è¯·å‚è€ƒ[LoRa è§„æ ¼ä¹¦ä¸æ•°æ®æ‰‹å†Œ](https://api.dl.sipeed.com/fileList/MAIX/HDK/Spmod_EN/SP LoRa%20Datasheet%20V1.0.pdf) ## ä½¿ç”¨æ–¹æ³• 1. å‡†å¤‡: ä¸¤å—å·²çƒ§å½•æœ€æ–°å›ºä»¶çš„å¼€å‘æ¿, ä¸¤ä¸ª sp_lora æ¨¡å—. 2. è¿è¡Œ: è¿æ¥æ¨¡å—, ä¿®æ”¹[ç¤ºä¾‹ä»£ç ](https://github.com/sipeed/MaixPy v1_scripts/tree/master/modules/spmod/sp_lora)ä¸­ config åŒ…å›´çš„é…ç½®, ä¸¤å—å¼€å‘æ¿åˆ†åˆ«è¿è¡Œå‘é€å’Œæ¥æ”¶å‡½æ•°, å³å¯åœ¨ç»ˆç«¯æŸ¥çœ‹æ”¶å‘ä¿¡æ¯. ç¨‹åºå¦‚ä¸‹: ```python # init lora SX127x(spi spi1, pin_ss cs) # lora reset rst.value(0) time.sleep_ms(10) rst.value(1) time.sleep_ms(100) lora.init() ####### receiver ########### receive(lora) ######## sender ########### # send(lora) '''output mpfs [/flash]> runfile lora_send.py transfer 6400 of 14576 transfer 12800 of 14576 transfer 14576 of 14576 [Warning] function is used by fm.fpioa.GPIOHS7(pin:23) LoRa Sender Sending packet: Hello(0) mpfs [/sd]> runfile lora_recv.py transfer 6400 of 14576 transfer 12800 of 14576 transfer 14576 of 14576 [Warning] function us used by fm.fpioa.GPIOHS7(pin:23) LoRa Receiver [Memory free: 470080 allocated: 48064] *** Received message *** Hello(0) with RSSI: <bound_method 800d19e0 <SX127x object at 800f5700>.<function packetRssi at 0x800d3180>> ''' ``` è¿™é‡Œä½¿ç”¨çš„è°ƒè¯•è¿è¡Œå·¥å…·ä¸º mpfshell æ–¹ä¾¿åŒæ—¶æ‰“å¼€ä¸¤ä¸ªç»ˆç«¯è¿è¡Œè„šæœ¬. ä¸»è¦æ­¥éª¤ä¸º: * åˆ›å»º LoRa å¯¹è±¡(å‚æ•°ä¸º: SPI å¯¹è±¡, ç‰‡é€‰è„š) * å¤ä½(å°†å¤ä½å¼•è„šæ‹‰ä½æœ‰æ‹‰é«˜), åˆå§‹åŒ–. * å¼€å§‹å‘é€æˆ–æ¥æ”¶."},"/soft/maixpy/zh/modules/sp_mod/sp_lcd1.14.html":{"title":"SP_LCD1.14 çš„ä½¿ç”¨","content":" title: SP_LCD1.14 çš„ä½¿ç”¨ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy SP_LCD1.14 çš„ä½¿ç”¨ <img src \"../../../assets/hardware/module_spmod/sp_lcd1.14.png\"/> SP_LCD æ‹¥æœ‰ä¸€å—1.14â€™å¯¸ LCDï¼Œ 8P FPC(0.5mm é—´è·)æ¥å£çš„ TFT æ¶²æ™¶å±ï¼Œ180Â°å¯è§†è§’. ## å‚æ•° * å±å¹•å¤§å°: 1.14 è‹±å¯¸ * åˆ†è¾¨ç‡: 240*135 * è‰²å½©: 132 ä¸ª RGB é€šé“ * é€šä¿¡æ¥å£: SPI * æœ‰æ•ˆæ˜¾ç¤ºåŒºåŸŸ:21.7mm * 10.8mm * å·¥ä½œç”µå‹: 2.5V~4.8V * å·¥ä½œæ¸©åº¦: 30Â°C~85Â°C æ¨¡å—è¯¦ç»†ä¿¡æ¯è¯·å‚è€ƒ[LCD1.14 è§„æ ¼ä¹¦ä¸æ•°æ®æ‰‹å†Œ](https://api.dl.sipeed.com/fileList/MAIX/HDK/Spmod_EN/SP LCD1.14%20Datasheet%20V1.0.pdf) ## ä½¿ç”¨æ–¹æ³• 1. å‡†å¤‡: å·²çƒ§å½•æœ€æ–°å›ºä»¶çš„å¼€å‘æ¿, sp_lcd114 æ¨¡å—. 2. è¿è¡Œ: è¿æ¥æ¨¡å—, ä¿®æ”¹[ç¤ºä¾‹ä»£ç ](https://github.com/sipeed/MaixPy v1_scripts/tree/master/modules/spmod/sp_lcd114)ä¸­ config åŒ…å›´çš„é…ç½®, è¿è¡Œåæ¨¡å—å°†æ˜¾ç¤ºå›¾ç‰‡. ç¨‹åºå¦‚ä¸‹: ```python # init ips SPLCD114(spi1, cs, dc, rst, busy, IPS_WIDTH, IPS_HEIGHT, IPS_MODE) # create an 'image' and fill it img image.Image() img.draw_rectangle(80, 80, 30, 30) # display ips.display(img) ``` ä¸»è¦æ­¥éª¤ä¸º: * åˆå§‹åŒ–(å‚æ•°ä»å·¦åˆ°å³ä¸º: SPI å¯¹è±¡, ç‰‡é€‰è„š, å¤ä½è„š, å¿™æ ‡å¿—è„š, å±å¹•å®½, å±å¹•é«˜åº¦, å±å¹•æ–¹å‘). * åˆ›å»º Image. * è°ƒç”¨ display æ˜¾ç¤ºå›¾ç‰‡(ä¼ å…¥å‚æ•°ä¸º Image å¯¹è±¡)."},"/soft/maixpy/zh/modules/sp_mod/index.html":{"title":"SP-MOD","content":" title: SP MOD keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy SP MOD ## SP MOD æ¥å£ SP MOD å³ä¸º sipeed module, simplify PMOD, super moduleï¼ŒSipeed å®˜æ–¹ä¸»æ¨ä½¿ç”¨ï¼Œ8P 2.54mm 2x4 åŒæ’æ’æ¯ï¼Œæ”¯æŒé€šè®¯åè®®å¦‚ä¸‹ï¼š ![](./../../../assets/hardware/module_spmod/sp_mod.svg) ## å¤–è®¾æ¨¡å— ä»¥ä¸‹æ¨¡å—å‡é‡‡ç”¨ SP MOD æ ‡å‡†æ¥å£çš„æ¨¡å—ã€‚ * [SP_BT è“ç‰™é€ä¼ ](./sp_bt.html) * [SP_LoRa æ— çº¿é€šä¿¡](./sp_lora.html) * [SP_RFID å°„é¢‘è¯†åˆ«](./sp_rfid.html) * [SP_TOF æµ‹è·](./sp_tof.html) * [SP_Eink ç”µå­å¢¨æ°´å±](./sp_eink.html) * [SP_LCD1.14 IPSå±](./sp_lcd1.14.html) * [SP_Weather æ°”è±¡ä¼ æ„Ÿ](./sp_weather.html) * [SP_Ethernet æœ‰çº¿ç½‘å£](./sp_ethernet.html)"},"/soft/maixpy/zh/modules/sp_mod/sp_ethernet.html":{"title":"SP_Ethernet çš„ä½¿ç”¨","content":" title: SP_Ethernet çš„ä½¿ç”¨ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy SP_Ethernet çš„ä½¿ç”¨ <img src \"../../../assets/hardware/module_spmod/sp_ethernet.png\"> è¯¥æ¨¡å—é‡‡ç”¨ W5500ä½œä¸ºä¸»æ§èŠ¯ç‰‡ï¼Œè¿™æ˜¯ä¸€æ¬¾é›†æˆå…¨ç¡¬ä»¶ TCP/IP åè®®æ ˆçš„åµŒå…¥å¼ä»¥å¤ªç½‘æ§åˆ¶å™¨ã€‚ ## å‚æ•° * å·¥ä½œç”µå‹ï¼š2.6V~3.6V * å·¥ä½œç”µæµï¼š<132mA * ä¼‘çœ ç”µæµï¼š<15mA * é€šè®¯æ¥å£ï¼šSPI * å·¥ä½œæ¸©åº¦èŒƒå›´ï¼š 40â„ƒ ~ 85â„ƒ æ¨¡å—è¯¦ç»†ä¿¡æ¯è¯·å‚è€ƒ[Ethernet è§„æ ¼ä¹¦](https://api.dl.sipeed.com/fileList/MAIX/HDK/Spmod_EN/SP Ethernet%20Datasheet%20V1.0.pdf) ## ä½¿ç”¨æ–¹æ³• 1. å‡†å¤‡: å·²çƒ§å½•æœ€æ–°å›ºä»¶çš„å¼€å‘æ¿, sp_ethernet æ¨¡å—ï¼Œ ç½‘çº¿ã€‚ 2. è¿è¡Œ: è¿æ¥æ¨¡å—, ä¿®æ”¹[ç¤ºä¾‹ä»£ç ](https://github.com/sipeed/MaixPy v1_scripts/tree/master/modules/spmod/sp_ethernet)ä¸­ config åŒ…å›´çš„é…ç½®, è¿è¡Œåæ¨¡å—å°†æ‰“å°é€šä¿¡æ•°æ®ã€‚ ç¨‹åºå¦‚ä¸‹ï¼š ```python spi1 SPI(4, mode SPI.MODE_MASTER, baudrate 600 * 1000, polarity 0, phase 0, bits 8, firstbit SPI.MSB, sck WIZNET5K_SPI_SCK, mosi WIZNET5K_SPI_MOSI, miso WIZNET5K_SPI_MISO) # create wiznet5k nic nic network.WIZNET5K(spi spi1, cs WIZNET5K_SPI_CS) print(\"Static IP: \", nic.ifconfig()) ``` * åˆ›å»º SPI å¹¶ä½¿ç”¨ SPI åˆ›å»º WIZNET5K æœ‰çº¿ç½‘å¡ * æ‰“å°å½“å‰ IP ä¿¡æ¯ ç›¸å…³ API å‚è€ƒ: [wiznet5k API](../../api_reference/machine/network.html#wiznet5k)"},"/soft/maixpy/zh/modules/sp_mod/sp_weather.html":{"title":"SP_WEATHER çš„ä½¿ç”¨","content":" title: SP_WEATHER çš„ä½¿ç”¨ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy SP_WEATHER çš„ä½¿ç”¨ <img src \"../../../assets/hardware/module_spmod/sp_weather.png\"/> SP_Weather æ°”è±¡æ¨¡å—æ‹¥æœ‰ä¸¤é¢—ä¼ æ„Ÿå™¨, ç£æ€§ä¼ æ„Ÿå™¨ QMC7983, è¿™æ˜¯ä¸€ä¸ªå†…ç½®çµæ•åº¦è¡¥å¿ä¸ NTC çš„ä¸‰è½´ç£æ€§ä¼ æ„Ÿå™¨, å…·æœ‰å‡ºè‰²çš„åŠ¨æ€èŒƒå›´å’Œç²¾åº¦ä»¥åŠè¶…ä½çš„åŠŸè€—. æ¸©æ¹¿åº¦æ°”å‹ä¼ æ„Ÿå™¨ BME280, èƒ½å¤ŸåŒæ—¶æµ‹é‡æ¸©æ¹¿åº¦ä»¥åŠæ°”å‹. ## å‚æ•° ### ç£æ€§ä¼ æ„Ÿå™¨ QMC7983 * ç£æ„Ÿåº”é‡ç¨‹: Â±30 é«˜æ–¯ * ç²¾åº¦: æ¯ LSB 1mG * RMS å™ªå£°: 2mG * å¯¹å¤–æ¥å£: I2C, é»˜è®¤åœ°å€ 0x2C,å¯é€šè¿‡é€‰æ‹©ç”µé˜»è°ƒèŠ‚ * å·¥ä½œç”µå‹: 2.6V~3.6V * å·¥ä½œæ¸©åº¦: 30Â°C ~ 85Â°C ### æ¸©æ¹¿åº¦æ°”å‹ä¼ æ„Ÿå™¨ BME280 * æ¸©åº¦ä¼ æ„Ÿå™¨çš„å…³é”®å‚æ•° * æµ‹é‡èŒƒå›´: 40Â°C~85 * ç²¾åº¦: èŒƒå›´(Â°C)è¯¯å·®å€¼(Â°C) : :: : 25Â±0.5 0~65Â±1.0 20~0Â±1.25 40~ 20Â±1.5 * æ¹¿åº¦ä¼ æ„Ÿå™¨çš„å…³é”®å‚æ•° * å“åº”æ—¶é—´(Ï„63%): 1 s * ç²¾åº¦å…¬å·®: Â±3% ç›¸å¯¹æ¹¿åº¦ * ç£æ»: Â±1% ç›¸å¯¹æ¹¿åº¦ * æ°”å‹ä¼ æ„Ÿå™¨çš„å…³é”®å‚æ•° * RMS å™ªå£°: 0.2Pa(ç›¸å½“äº 1.7cm) * åç§»æ¸©åº¦ç³»æ•°: Â±1.5 Pa/K(ç›¸å½“äº 1â„ƒ æ¸©åº¦å˜åŒ–æ—¶ä¸º Â±12.6cm) * å¯¹å¤–æ¥å£: I2C,é»˜è®¤åœ°å€ 0x76,å¯é€šè¿‡é€‰æ‹©ç”µé˜»è°ƒèŠ‚ * å·¥ä½œç”µå‹: 1.71V~3.6V * å·¥ä½œæ¸©åº¦: 30Â°C ~ 85Â°C æ¨¡å—è¯¦ç»†ä¿¡æ¯è¯·å‚è€ƒ[æ°”è±¡æ¨¡å—è§„æ ¼ä¹¦ä¸æ•°æ®æ‰‹å†Œ](https://api.dl.sipeed.com/fileList/MAIX/HDK/Spmod_EN/SP WEATHER%20Datasheet%20V1.0.pdf) ## ä½¿ç”¨æ–¹æ³• 1. å‡†å¤‡: å·²çƒ§å½•æœ€æ–°å›ºä»¶çš„å¼€å‘æ¿, sp_weather æ¨¡å—. 2. è¿è¡Œ: è¿æ¥æ¨¡å—, ä¿®æ”¹[ç¤ºä¾‹ä»£ç ](https://github.com/sipeed/MaixPy v1_scripts/tree/master/modules/spmod/sp_weather)ä¸­ config åŒ…å›´çš„é…ç½®, è¿è¡Œåå¯çœ‹åˆ°ç»ˆç«¯æ‰“å°çš„ç£æ€§ä¼ æ„Ÿå™¨å’Œæ°”å‹æ¸©æ¹¿åº¦ä¼ æ„Ÿå™¨æ•°æ® è¾“å‡ºç»“æœå¦‚ä¸‹: ```python '''output >>> I2C devices:[44, 118] 0x32 6 (228, 123, 156) ('31.0C', '1017.75hPa', '34.32%') (235, 130, 185) ('30.75C', '1017.74hPa', '34.31%') (235, 130, 161) ('30.7C', '1017.82hPa', '34.32%') ''' ``` ä¸»è¦æ­¥éª¤ä¸º: * åˆ›å»º SPWEATHE(å‚æ•°ä¸º: I2C å¯¹è±¡). * è¯»å–ç£åŠ›ä¼ æ„Ÿå™¨æ•°æ®å’Œæ¸©æ¹¿åº¦æ•°æ®.(è¯»å–åˆ°çš„æ•°æ®å‡ä¸ºå…ƒç»„)"},"/soft/maixpy/zh/modules/sp_mod/sp_eink.html":{"title":"SP_EINK çš„ä½¿ç”¨","content":" title: SP_EINK çš„ä½¿ç”¨ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy SP_EINK çš„ä½¿ç”¨ <img src \"../../../assets/hardware/module_spmod/sp_eink.png\"/> SP_EINK æ¨¡å—æ‰€é‡‡ç”¨çš„ GDEW0154M09 æ˜¯ä¸€æ¬¾ 1.54â€, æ‹¥æœ‰ 24P FPC(0.5mm é—´è·)æ¥å£çš„ç”µå­å¢¨æ°´å±. ## å‚æ•° * å±å¹•å¤§å°: 1.54 è‹±å¯¸ * æœ‰æ•ˆæ˜¾ç¤ºåŒºåŸŸ: 27.6mm * 27.6mm * è‰²å½©: é»‘/ç™½/çº¢æ˜¾ç¤º * é€šä¿¡æ¥å£: SPI * å·¥ä½œæ¸©åº¦: 40Â°C~85Â°C * å·¥ä½œç”µå‹: 2.3V~3.6V æ¨¡å—è¯¦ç»†ä¿¡æ¯è¯·å‚è€ƒ[EINK è§„æ ¼ä¹¦ä¸æ•°æ®æ‰‹å†Œ](https://api.dl.sipeed.com/fileList/MAIX/HDK/Spmod_EN/SP EINK%20Datasheet%20V1.0.pdf) ## ä½¿ç”¨æ–¹æ³• 1. å‡†å¤‡: å·²çƒ§å½•æœ€æ–°å›ºä»¶çš„å¼€å‘æ¿, sp_eink æ¨¡å—. 2. è¿è¡Œ: è¿æ¥æ¨¡å—, ä¿®æ”¹[ç¤ºä¾‹ä»£ç ](https://github.com/sipeed/MaixPy v1_scripts/tree/master/modules/spmod/sp_eink)ä¸­ config åŒ…å›´çš„é…ç½®, è¿è¡Œåæ¨¡å—å°†æ˜¾ç¤ºå›¾ç‰‡. ç¨‹åºå¦‚ä¸‹: ```python # init epd SPEINK(spi1, cs, dc, rst, busy, EPD_WIDTH, EPD_HEIGHT) epd.init() # create red image img_r image.Image() img_r img_r.resize(EPD_WIDTH, EPD_HEIGHT) img_r.draw_line(0, 0, 100, 100) # create black/white image img_bw image.Image() img_bw img_bw.resize(EPD_WIDTH, EPD_HEIGHT) img_bw.draw_line(100, 50, 200, 100) # display epd.display(img_r, img_bw) # sleep mode epd.sleep() ``` ä¸»è¦æ­¥éª¤å¦‚ä¸‹: * åˆ›å»º SPEINK å¯¹è±¡(å‚æ•°ä¸º: SPI å¯¹è±¡, ç‰‡é€‰è„š, å¤ä½è„š, å¿™æ ‡å¿—è„š, æ¨ªå‘åˆ†è¾¨ç‡, çºµå‘åˆ†è¾¨ç‡, å±å¹•æ—‹è½¬è§’åº¦(0, 90, 180, 270)), åˆå§‹åŒ–. * åˆ›å»ºçº¢è‰²å’Œé»‘è‰²å›¾åƒ, è®¾ç½®ä¸ºå±å¹•å¤§å°å¹¶å¡«å……å›¾åƒ. * è°ƒç”¨ display(å‚æ•°ä¾æ¬¡ä¸º: çº¢è‰²å›¾åƒ, é»‘è‰²å›¾åƒ), æ­¤æ—¶å±å¹•å°†ä¼šé—ªçƒå¹¶æ˜¾ç¤ºå›¾åƒ. * è¿›å…¥ç¡çœ çŠ¶æ€."},"/soft/maixpy/zh/modules/sp_mod/README_copy.html":{"title":"SP-MOD","content":" title: SP MOD keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy SP MOD ## SP MOD æ¥å£ SP MOD å³ä¸º sipeed module, simplify PMOD, super moduleï¼ŒSipeed å®˜æ–¹ä¸»æ¨ä½¿ç”¨ï¼Œ8P 2.54mm 2x4 åŒæ’æ’æ¯ï¼Œæ”¯æŒé€šè®¯åè®®å¦‚ä¸‹ï¼š ![](./../../../assets/hardware/module_spmod/sp_mod.svg) ## å¤–è®¾æ¨¡å— ä»¥ä¸‹æ¨¡å—å‡é‡‡ç”¨ SP MOD æ ‡å‡†æ¥å£çš„æ¨¡å—ã€‚ * [SP_BT è“ç‰™é€ä¼ ](./sp_bt.html) * [SP_LoRa æ— çº¿é€šä¿¡](./sp_lora.html) * [SP_RFID å°„é¢‘è¯†åˆ«](./sp_rfid.html) * [SP_TOF æµ‹è·](./sp_tof.html) * [SP_Eink ç”µå­å¢¨æ°´å±](./sp_eink.html) * [SP_LCD1.14 IPSå±](./sp_lcd1.14.html) * [SP_Weather æ°”è±¡ä¼ æ„Ÿ](./sp_weather.html) * [SP_Ethernet æœ‰çº¿ç½‘å£](./sp_ethernet.html)"},"/soft/maixpy/zh/modules/sp_mod/sp_tof.html":{"title":"SP_TOF çš„ä½¿ç”¨","content":" title: SP_TOF çš„ä½¿ç”¨ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy SP_TOF çš„ä½¿ç”¨ <img src \"../../../assets/hardware/module_spmod/sp_tof.png\"/> SP_TOF æ‰€é‡‡ç”¨çš„ VL53L0X æ˜¯æ–°ä¸€ä»£é£è¡Œæ—¶é—´(ToF)æ¿€å…‰æµ‹è·æ¨¡å—, æ— è®ºç›®æ ‡åå°„ç‡å¦‚ä½•, éƒ½èƒ½æä¾›ç²¾ç¡®çš„è·ç¦»æµ‹é‡, æ­é…çš„çº¢è‰²æ¿€å…‰ç„å¤´è¾…åŠ©è§‚å¯Ÿæµ‹è·ç‚¹. ## å‚æ•° * æµ‹é‡è·ç¦»: æœ€å¤§ 2000mm(è¾ƒæš—ç¯å¢ƒ), 1000mm(æ˜äº®ç¯å¢ƒ) * å·¥ä½œåˆ·æ–°ç‡: 50Hz * æµ‹é‡è§’åº¦: 27Â°(æ­£é¢) * é€šä¿¡æ¥å£: I2C * å·¥ä½œç”µå‹: 2.6V~3.5V * å·¥ä½œæ¸©åº¦: 40Â°C~80Â°C æ¨¡å—è¯¦ç»†ä¿¡æ¯è¯·å‚è€ƒ[TOF è§„æ ¼ä¹¦ä¸æ•°æ®æ‰‹å†Œ](https://api.dl.sipeed.com/fileList/MAIX/HDK/Spmod_EN/SP ToF(1P)%20Datasheet%20V1.0.pdf) ## ä½¿ç”¨æ–¹æ³• 1. å‡†å¤‡: å·²çƒ§å½•æœ€æ–°å›ºä»¶çš„å¼€å‘æ¿, sp_tof æ¨¡å—. 2. è¿è¡Œ: è¿æ¥æ¨¡å—, ä¿®æ”¹[ç¤ºä¾‹ä»£ç ](https://github.com/sipeed/MaixPy v1_scripts/tree/master/modules/spmod/sp_tof)ä¸­ config åŒ…å›´çš„é…ç½®, è¿è¡Œåå°†æ¿€å…‰ç„å¤´å¯¹å‡†æµ‹é‡ç‚¹, å¯çœ‹åˆ°ç»ˆç«¯æ‰“å°çš„è·ç¦»ä¿¡æ¯. ç¨‹åºå¦‚ä¸‹: ```python # create obj and read distance tof VL53L0X(i2c) while True: mm tof.read() utime.sleep_ms(100) print(mm) '''output >>> [41] 536mm 538mm 533mm 535mm 529mm 532mm ''' ``` ä¸»è¦æ­¥éª¤ä¸º: * åˆ›å»º TOF å¯¹è±¡(å‚æ•°ä¸º: I2C å¯¹è±¡). * è¯»å–è·ç¦», è‹¥è¯»å–è·ç¦»ä¸º 8190, åˆ™è¯´æ˜å·²ç»è¶…å‡ºé‡ç¨‹."},"/soft/maixpy/zh/modules/sp_mod/sp_bt.html":{"title":"SP_BT çš„ä½¿ç”¨","content":" title: SP_BT çš„ä½¿ç”¨ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy SP_BT çš„ä½¿ç”¨ <img src \"../../../assets/hardware/module_spmod/sp_bt.png\"/> SP_BT æ˜¯ä¸€æ¬¾è“ç‰™ä¸²å£é€ä¼ æ¨¡å—ï¼Œ å…·å¤‡è¶…ä½åŠŸç‡ç‰¹æ€§å’Œé«˜å¯é æ€§ï¼Œ ä½¿ç”¨ AT æŒ‡ä»¤è¿›è¡Œæ§åˆ¶ï¼Œ è“ç‰™ç‰ˆæœ¬ä¸º BLE 5.0(å…¼å®¹BLE4.0, BLE4.2), é»˜è®¤ä¸²å£æ³¢ç‰¹ç‡ä¸º9600. ## å‚æ•° * æ¥æ”¶çµæ•åº¦: 97dm * å‘å°„åŠŸç‡: 4db(æœ€å¤§) * é€šä¿¡æ¥å£: UART * å¤©çº¿: æ¿è½½å¤©çº¿ * ä¸»ä»æ”¯æŒ: ä»æœº * å·¥ä½œé¢‘æ®µ: 2.4G * å·¥ä½œæ¸©åº¦: 40Â°C~85Â°C * å·¥ä½œç”µå‹: 1.8V~3.6V æ¨¡å—è¯¦ç»†ä¿¡æ¯è¯·å‚è€ƒ[BT è§„æ ¼ä¹¦ä¸æ•°æ®æ‰‹å†Œ](https://api.dl.sipeed.com/fileList/MAIX/HDK/Spmod_EN/SP BT%20Datasheet%20V1.0.pdf) ## ä½¿ç”¨è¯´æ˜ 1. å‡†å¤‡: å·²çƒ§å½•æœ€æ–°å›ºä»¶çš„å¼€å‘æ¿, sp_bt æ¨¡å—, è“ç‰™è°ƒè¯•åŠ©æ‰‹. 2. è¿è¡Œ: è¿æ¥æ¨¡å—, ä¿®æ”¹[ç¤ºä¾‹ä»£ç ](https://github.com/sipeed/MaixPy v1_scripts/tree/master/modules/spmod/sp_bt)ä¸­ config åŒ…å›´çš„é…ç½®, è¿è¡Œåä½¿ç”¨è“ç‰™è°ƒè¯•åŠ©æ‰‹è¿æ¥å¹¶å‘é€æ•°æ®, å³å¯åœ¨ç»ˆç«¯æŸ¥çœ‹æ”¶å‘ä¿¡æ¯. ç¨‹åºå¦‚ä¸‹: ```python # set uart rx/tx func to io_6/7 fm.register(TX, fm.fpioa.UART1_TX) fm.register(RX, fm.fpioa.UART1_RX) # init uart uart UART(UART.UART1, 9600, 8, 1, 0, timeout 1000, read_buf_len 4096) set_name(uart, name) print(\"wait data: \") while True: read_data uart.read() if read_data: print(\"recv:\", read_data) uart.write(read_data) # send data back print(\"wait data: \") ``` ä¸»è¦æ­¥éª¤ä¸º: * åˆå§‹åŒ–ä¸²å£(æ³¢ç‰¹ç‡ä¸ºæ¨¡å—é»˜è®¤æ³¢ç‰¹ç‡9600) * è®¾ç½®æ¨¡å—å¹¿æ’­å * ç­‰å¾…è¿æ¥, æ¥æ”¶æ•°æ®æ‰“å°åå‘é€å›å» ## è¿æ¥è¿‡ç¨‹ * æ¨¡å—åˆå§‹åŒ–åå¤„äºæœªè¿æ¥çŠ¶æ€(æŒ‡ç¤ºç¯: ACT é—ªçƒ, STA å¸¸ç­). * è“ç‰™è°ƒè¯•åŠ©æ‰‹è¿æ¥åæ¨¡å—å˜ä¸ºå·²è¿æ¥(æŒ‡ç¤ºç¯: ACT å¸¸äº®, STA å¸¸äº®). * è¿æ¥åè“ç‰™è°ƒè¯•åŠ©æ‰‹ä¼šæ˜¾ç¤ºçš„æœåŠ¡å¦‚ä¸‹å›¾: <img src \"../../../assets/hardware/module_spmod/sp_bt_screenshot.png\" alt \"bt_server\"/> ä¸Šå›¾ä¸­å¯ä»¥çœ‹åˆ°æœ‰ä¸€ä¸ª UUID ä¸º ffe0 çš„æœåŠ¡æœ‰ä¸¤ä¸ªç‰¹å¾, æ‰“å¼€é€ä¼ (ffe1)çš„ Write, Notify, ä¾¿å¯ä»¥å¼€å§‹å‘é€/æ¥æ”¶æ•°æ®."},"/soft/maixpy/zh/modules/sp_mod/sp_rfid.html":{"title":"SP_RFID çš„ä½¿ç”¨","content":" title: SP_RFID çš„ä½¿ç”¨ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy SP_RFID çš„ä½¿ç”¨ <img src \"../../../assets/hardware/module_spmod/sp_rfid.png\"/> è¯¥æ¨¡å—æ‰€é‡‡ç”¨çš„ FM17510 æ˜¯ä¸€æ¬¾é«˜åº¦é›†æˆçš„å·¥ä½œåœ¨ 13.56MHz ä¸‹çš„éæ¥è§¦è¯»å†™å™¨èŠ¯ç‰‡. æ”¯æŒç¬¦åˆ ISO/IEC 14443 TypeA åè®®çš„éæ¥è§¦è¯»å†™å™¨æ¨¡å¼, å¹¶ä¸”ç¨‹åºä¸ MFRC522 å…¼å®¹. ## å‚æ•° * æ”¯æŒ ISO/IEC 14443 TypeA è¯»å†™å™¨æ¨¡å¼ * è¯»å†™å™¨æ¨¡å¼æ”¯æŒ M1 åŠ å¯†ç®—æ³• * ISO14443 TYPEA æ”¯æŒé€šè®¯é€Ÿç‡ 106kbps,212kbps,424kbps * æ”¯æŒ SPI ä¸²è¡Œæ¥å£,æœ€é«˜ 10Mbps * ç”µå‹èŒƒå›´ 2.2V~3.6V * 64Byte æ”¶å‘ç¼“å†² FIFO * å¤šç§ä½åŠŸè€—æ¨¡å¼:Soft powerdown æ¨¡å¼ Hard powerdown æ¨¡å¼ * å†…ç½® CRC åå¤„ç†å™¨ * æ”¯æŒä½åŠŸè€—å¤–éƒ¨å¡ç‰‡ä¾¦æµ‹åŠŸèƒ½ * å·¥ä½œç”µå‹: 2.2V~3.6V * å·¥ä½œæ¸©åº¦: 40Â°C~85Â°C æ¨¡å—è¯¦ç»†ä¿¡æ¯è¯·å‚è€ƒ[RFID è§„æ ¼ä¹¦ä¸æ•°æ®æ‰‹å†Œ](https://api.dl.sipeed.com/fileList/MAIX/HDK/Spmod_EN/SP RFID%20Datasheet%20V1.0.pdf) ## ä½¿ç”¨æ–¹æ³• 1. å‡†å¤‡: å·²çƒ§å½•æœ€æ–°å›ºä»¶çš„å¼€å‘æ¿, sp_rfid æ¨¡å—, M1 å¡ç‰‡. 2. è¿è¡Œ: è¿æ¥æ¨¡å—, ä¿®æ”¹[ç¤ºä¾‹ä»£ç ](https://github.com/sipeed/MaixPy v1_scripts/tree/master/modules/spmod/sp_rfid)ä¸­ config åŒ…å›´çš„é…ç½®, è¿è¡Œåå°†å¡ç‰‡é è¿‘æ¨¡å—å¤©çº¿, å¯çœ‹åˆ°ç»ˆç«¯æ‰“å°çš„è¯»å¡ä¿¡æ¯. ç¨‹åºå¦‚ä¸‹: ```python # Init module MIFAREReader MFRC522(spi1, cs) # Scan for cards (status, ataq) MIFAREReader.MFRC522_Request(MIFAREReader.PICC_REQALL) # Get uid (status, uid) MIFAREReader.MFRC522_Anticoll() if status MIFAREReader.MI_OK: # Bind card by uid MIFAREReader.MFRC522_SelectTag(uid) # Authenticate block 0x11 by key status MIFAREReader.MFRC522_Auth(MIFAREReader.PICC_AUTHENT1A, 0x11, key, uid) if status MIFAREReader.MI_OK: # Write 16 bytes from block 0x11 MIFAREReader.MFRC522_Write(0x11, data) # Read 16 bytes from block 0x11 MIFAREReader.MFRC522_Read(0x11) '''output >>> [Warning] function is used by fm.fpioa.GPIOHS20(pin:36) Welcome to the MFRC522 data read/write example Card detected type: 0x400 Card read UID: 110,159,46,15 Size: 8 Sector 11 will now be filled with 1~16: 4 backdata &0x0F 0x0A 10 Data written start to read Sector 18 [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15] Card detected type: 0x400 Card read UID: 110,159,46,15 Size: 8 Sector 11 will now be filled with 1~16: 4 backdata &0x0F 0x0A 10 Error while writing Data written ''' ``` ä¸»è¦åˆ†ä¸ºå‡ æ­¥: * åˆ›å»º MFRC522 å¯¹è±¡(å‚æ•°ä¸º: SPI å¯¹è±¡, ç‰‡é€‰è„š). * æ‰«æå¡ç‰‡å¹¶è·å–åˆ° ATQA(å³å¡ç‰‡ç±»å‹ç ), ATQA å¯¹åº”å¡ç‰‡ç±»å‹å¦‚ä¸‹: ATQA Type : : : 0x4400 Mifare_UltraLight 0x0400 Mifare_One(M1 S50) 0x0200 Mifare_One(M1 S70) 0x0800 Mifare_Pro(X) 0x4403 Mifare_DESFire * è·å–å¡ç‰‡ UID * é€šè¿‡ UID ç»‘å®šå¡ç‰‡(é˜²ç¢°æ’, ç¡®ä¿æ‰€é€‰å¡èƒ½æ­£ç¡®æ‰§è¡Œäº¤æ˜“, ä¸å—ç°åœºå¦ä¸€å¼ å¡çš„å½±å“) * å¯¹å¡ç‰‡ä¸­æŸä¸€æ‰‡åŒºè¿›è¡Œèº«ä»½éªŒè¯(M1(S50)é»˜è®¤å¯†ç ä¸º16ä¸ª0xff) * è¯»/å†™å¡ç‰‡ä¿¡æ¯(ä»¥ä¸€ä¸ªå—(16å­—èŠ‚)ä¸ºåŸºæœ¬è¯»å†™å•ä½)"},"/soft/maixpy/zh/index.html":{"title":"MaixPy-v1 æ–‡æ¡£ç®€ä»‹","content":" title: MaixPy v1 æ–‡æ¡£ç®€ä»‹ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®—, äººå·¥æ™ºèƒ½, æ·±åº¦å­¦ä¹  desc: maixpy MaixPy v1 æ–‡æ¡£ç®€ä»‹ <div style \"font size: 1.2em;border: 2px solid green; border color:#c33d45;padding:1em; text align:center; background: #c33d45; color: white\"> <div> <span>æ–°ç‰ˆ MaixPy (v4) å·²ç»ä¸Šçº¿ï¼Œ å®Œæ•´ Python3 æ”¯æŒï¼ŒåŠŸèƒ½æ›´å¼ºå¤§ï¼Œ è¯·çœ‹:</span> <a target \"_blank\" style \"color: #ffe0e0\" href \"https://wiki.sipeed.com/maixpy\"> wiki.sipeed.com/maixpy </a> <br> <div style \"height:0.4em\"></div> <span>å…¨æ–°ç¡¬ä»¶äº§å“ MaixCAMï¼Œæ€§èƒ½å¤§å‡çº§ï¼Œè¯·çœ‹:</span> <a target \"_blank\" style \"color: #ffe0e0\" href \"https://wiki.sipeed.com/maixcam\"> https://wiki.sipeed.com/maixcam </a> </div> <div style \"padding: 1em 0 0 0\"> <a style \"color: white; font size: 0.9em; border radius: 0.3em; padding: 0.5em; background color: #a80202\" href \"https://item.taobao.com/item.htm?id 784724795837\">æ·˜å®</a> <a style \"color: white; font size: 0.9em; border radius: 0.3em; padding: 0.5em; background color: #a80202\" href \"https://www.aliexpress.us/item/1005006912917562.html\">é€Ÿå–é€š</a> </div> </div> **Maix I K210 ç³»åˆ—æ­£åœ¨è¢«é€æ¸æ·˜æ±°ï¼Œå¦‚æœä½ æ­£å‡†å¤‡è´­ä¹° K210, è¯·ç«‹åˆ»é€‰æ‹© MaixCAM;** **ä¹Ÿæ¬¢è¿ K210 ç”¨æˆ·å‡çº§åˆ° MaixCAM** **æœ¬æ–‡æ¡£ä¸­ï¼ˆhttps://wiki.sipeed.com/soft/maixpy/zh/ è·¯å¾„ä¸‹ï¼‰çš„æ‰€æœ‰ MaixPy å‡ä»£æŒ‡ MaixPy v1** <br> <br> <br> <br> <br> <div class \"title_pic\"> <div class \"logo_maixpy\"> <img src \"../assets/maixpy/maixpy.png\" alt \"maixpy â€‹â€‹logo\"> </div> <span class \"logo_sipeed\"> <img src \"../assets/sipeed/sipeed_logo_4.svg\" alt \"sipeed logo\"> </span> <span class \"logo_mpy\"> <img src \"../assets/maixpy/micropython.png\" alt \"micropython logo\"> </span> </br> </div> ## å…³äº MaixPy v1 [**MaixPy v1**](https://wiki.sipeed.com/soft/maixpy/zh/index.html)ï¼ˆåæ–‡ç›´æ¥ç”¨ MaixPy ä»£ä¹‹ï¼Œæ³¨æ„ä¸ MaixPy v4 åŒºåˆ†ï¼‰ æ˜¯å°† [Micropython](http://micropython.org/) ç§»æ¤åˆ° [K210](https://canaan creative.com/product/kendryteai)ï¼ˆä¸€æ¬¾ 64 ä½åŒæ ¸å¸¦ç¡¬ä»¶ FPUã€å·ç§¯åŠ é€Ÿå™¨ã€FFTã€Sha256 çš„ RISC V CPU ï¼‰ çš„ä¸€ä¸ªé¡¹ç›®ï¼› [**MaixPy**](https://wiki.sipeed.com/soft/maixpy/zh/index.html) ä¸ä½†æ”¯æŒ MCU å¸¸è§„æ“ä½œï¼Œ è¿˜é›†æˆäº†ç¡¬ä»¶åŠ é€Ÿçš„ `AI` æœºå™¨è§†è§‰å’Œéº¦å…‹é£é˜µåˆ—ç›¸å…³çš„ç®—æ³•ã€‚ç›¸åº”çš„é«˜è¾¾ `1TOPS` ç®—åŠ›æ ¸å¿ƒæ¨¡å—å´ä¸åˆ°`ï¿¥50`ï¼Œ å‡­å€Ÿç€å¿«é€Ÿå¼€å‘å’Œè¾ƒä½æˆæœ¬ä¸å…¶è¾ƒå°çš„ä½“ç§¯å¾ˆé€‚åˆ `AIOT` é¢†åŸŸæ™ºèƒ½åº”ç”¨ > MicroPython æ˜¯åŸºäº Python3 çš„è¯­æ³•åšçš„ä¸€æ¬¾è§£æå™¨ï¼ŒåŒ…å«äº† Python3 çš„å¤§å¤šæ•°åŸºç¡€è¯­æ³•ï¼Œ ä¸»è¦è¿è¡Œåœ¨æ€§èƒ½å’Œå†…å­˜æœ‰é™çš„åµŒå…¥å¼èŠ¯ç‰‡ä¸Šã€‚ï¼ˆæ³¨æ„ Micropython ä¸åŒ…å« Python3 çš„æ‰€æœ‰è¯­æ³•ï¼‰ **MaixPy** è®©æˆ‘ä»¬åœ¨ K210 ä¸Šç¼–ç¨‹æ›´åŠ ç®€å•å¿«æ·ï¼Œ æˆ‘ä»¬ä¹Ÿå°†æºä»£ç å¼€æºåœ¨ github [ç‚¹æˆ‘è·³è½¬](https://github.com/sipeed/MaixPy) ä¸Š ä½¿ç”¨ MaixPy å¯ä»¥åšå¾ˆå¤šæœ‰è¶£çš„äº‹æƒ…ï¼Œ å…·ä½“å¯ä»¥ [çœ‹è¿™é‡Œ](./what_maix_do.html) ## ç®€æ´çš„ä»£ç å®ä¾‹ æ¯”å¦‚æˆ‘ä»¬éœ€è¦æ‰«æ **I2C** æ€»çº¿ä¸Šçš„è®¾å¤‡ï¼Œä¸éœ€è¦å¤æ‚çš„å¼€å‘ç¯å¢ƒå’Œå·¥ç¨‹ï¼Œåªéœ€è¦é€šè¿‡ä¸²å£å‘é€å¦‚ä¸‹ä»£ç å³å¯å®ç°ï¼š ```python from machine import I2C # å¯¼å…¥å†…ç½®åº“ i2c I2C(I2C.I2C0, freq 100000, scl 28, sda 29) # å®šä¹‰ä¸€ä¸ªI2Cå¯¹è±¡ï¼Œ ä½¿ç”¨I2C0, é¢‘ç‡100kHzï¼ŒSCLå¼•è„šæ˜¯IO28, SDA å¼•è„šæ˜¯IO29 devices i2c.scan() # è°ƒç”¨å‡½æ•°æ‰«æè®¾å¤‡ print(devices) # æ‰“å°è®¾å¤‡ ``` åŒæ ·ï¼Œæˆ‘ä»¬éœ€è¦å®ç°ä¸€ä¸ª**å‘¼å¸ç¯**ï¼Œåªéœ€è¦å¦‚ä¸‹ä»£ç ï¼š > `board_info` ä¸æ¿å¡ç›¸å…³ï¼Œä¸åŒæ¿å¡é…ç½®ä¸åŒï¼Œä½¿ç”¨å‰éœ€è¦[æ‰‹åŠ¨é…ç½®](./api_reference/builtin_py/board_info.html)ã€‚ ```python from machine import Timer,PWM from board import board_info import time tim Timer(Timer.TIMER0, Timer.CHANNEL0, mode Timer.MODE_PWM) ch PWM(tim, freq 500000, duty 50, pin board_info.LED_G) duty 0 dir True while True: if dir: duty + 10 else: duty 10 if duty>100: duty 100 dir False elif duty<0: duty 0 dir True time.sleep(0.05) ch.duty(duty) ``` **å®æ—¶æ‹ç…§**ï¼š ```python import sensor import image import lcd lcd.init() sensor.reset() sensor.set_pixformat(sensor.RGB565) sensor.set_framesize(sensor.QVGA) sensor.run(1) while True: img sensor.snapshot() lcd.display(img) ``` **AI ç‰©ä½“æ£€æµ‹**: ```python import KPU as kpu import sensor sensor.reset() sensor.set_pixformat(sensor.RGB565) sensor.set_framesize(sensor.QVGA) sensor.set_windowing((224, 224)) model kpu.load(\"/sd/mobilenet.kmodel\") # load model while(True): img sensor.snapshot() # take picture by camera out kpu.forward(task, img)[:] # inference, get one hot output print(max(out)) # print max probability object ID ``` please read doc before run it! ## è¿™ç¯‡æ–‡æ¡£çš„å†…å®¹ æ‰€æœ‰å…³äº MaixPy çš„å†…å®¹ï¼Œ åŒ…æ‹¬ï¼š * å¦‚ä½•é€‰æ‹©å¹¶å¾—åˆ°ä¸€æ¬¾åˆé€‚è‡ªå·±çš„æ¨¡å—æˆ–è€…å¼€å‘æ¿ * å¦‚ä½•å¼€å§‹ä¸Šæ‰‹ä½¿ç”¨ * åº“å’Œæ¥å£ï¼ˆAPIï¼‰æ–‡æ¡£æŸ¥è¯¢ * è¯¦ç»†çš„ä¸€æ­¥ä¸€æ­¥æ‰‹æŠŠæ‰‹æ•™ç¨‹ * æ¥è‡ªç¤¾åŒºçš„åˆ†äº«ï¼ˆæ•™ç¨‹æˆ–å¼€æºé¡¹ç›®ï¼‰ **ä¸ºäº†åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­é¿å…é‡åˆ°éš¾ä»¥è§£å†³çš„é—®é¢˜ï¼Œè¯·åŠ¡å¿…æŒ‰ç…§å·¦è¾¹ç›®å½•ç»“æ„ä»ä¸Šåˆ°ä¸‹é˜…è¯»ï¼Œç‰¹åˆ«æ˜¯å†™åœ¨å‰é¢çš„ç« èŠ‚ï¼Œä¸è¦è·³è¿‡** ## å¯ä»¥è¿è¡ŒMaixPyçš„å¼€å‘æ¿ é¦–å…ˆæˆ‘ä»¬éœ€è¦é€‰æ‹©ä¸€æ¬¾é€‚åˆè‡ªå·±çš„å¼€å‘æ¿ï¼Œå„ä¸ªå‹å·çš„ MaixPy å‹å·è¯·ç‚¹å‡»ï¼š[å¼€å‘æ¿ä¸é…ä»¶é€‰è´­æŒ‡å—](./develop_kit_board/get_hardware.html)ï¼ŒåŒæ—¶ç›®å½•ä¸‹ä¹Ÿæœ‰å¯¹åº”å¼€å‘æ¿çš„ç¡¬ä»¶å‚æ•°å’Œèµ„æ–™ è¦è·å¾—è¿™äº›æ¿å­ï¼Œå¯ä»¥è®¿é—®Sipeedï¼ˆçŸ½é€Ÿï¼‰å®˜ç½‘[www.sipeed.com](https://www.sipeed.com/)ï¼Œæˆ–è€…[å®˜æ–¹æ·˜å®åº—](https://sipeed.taobao.com/) ## MaixPy æºç  `MaixPy` æºç æ˜¯æŒ‡ è¿è¡Œåœ¨ `K210` ä¸Šçš„ `Micropython` è¯­æ³•è§£æå™¨ï¼Œ ä½¿ç”¨ `Cè¯­è¨€` ç¼–å†™ï¼Œ æºç æ‰˜ç®¡åœ¨ [github](https://github.com/sipeed/MaixPy), å¦‚æœåªæ˜¯æƒ³ä½¿ç”¨ MaixPyï¼Œä¸éœ€è¦äº†è§£æºç ï¼Œ ä½†æ˜¯ä¹Ÿæ¬¢è¿ç»™ `MaixPy` é¡¹ç›®ä¸€ä¸ª `star` ; å¦‚æœæƒ³å‚ä¸å¼€å‘ MaixPy çš„å†…ç½®åŠŸèƒ½ï¼Œå¯ä»¥ä¸‹è½½è¿›è¡Œå¼€å‘ï¼Œæ¬¢è¿å¤§å®¶æäº¤ `PR` æœ¬é¡¹ç›®ä¸»è¦ç”± &copy;<a href \"https://www.sipeed.com\" style \"color: #f14c42\">Sipeed</a> Co.,Ltd. ç»´æŠ¤ï¼Œ å¹¶æ¥å—æ¥è‡ªå¼€æºç¤¾åŒºçš„è´¡çŒ®ï¼Œ å…·ä½“è´¡çŒ®è¿™è§[è´¡çŒ®è€…åˆ—è¡¨](https://github.com/sipeed/MaixPy v1graphs/contributors) ## åé¦ˆ å…³äºæœ¬æ–‡æ¡£æˆ–è€…åŠŸèƒ½æˆ–è€…æºç æ–¹é¢çš„é—®é¢˜ï¼Œä¹Ÿæ¬¢è¿æäº¤issue: * [åé¦ˆ](https://github.com/sipeed/MaixPy v1issues) ## äº¤æµ æœ‰é—®é¢˜å°½é‡åˆ°ä¸Šé¢çš„åé¦ˆåœ°å€æäº¤`issue`ï¼Œæ–¹ä¾¿ç•™ä¸‹è®°å½•ï¼Œå…¶ä»–äººä¹Ÿå¯ä»¥æŸ¥é˜…ï¼Œæäº¤å‰æœç´¢ä¸€ä¸‹æ˜¯å¦æœ‰äººæè¿‡ç›¸åŒé—®é¢˜ ä¹Ÿå¯ä»¥å»[è®ºå›](bbs.sipeed.com)å‘å¸–äº¤æµï¼Œæ–¹ä¾¿æŒ‰ä»–äººæŸ¥è¯¢ç±»ä¼¼é—®é¢˜ã€‚ ä»¥ä¸‹äº¤æµæ–¹å¼æä¾›è¾…åŠ©ï¼š <table role \"table\"> <thead> <tr> <th>äº¤æµæ–¹å¼</th> <th>åœ°å€</th> </tr> </thead> <tbody> <tr> <td>issue</td> <td><a href \"https://github.com/sipeed/MaixPy v1issues\">https://github.com/sipeed/MaixPy v1issues</a></td> </tr> <tr> <td>BBS</td> <td><a href \"https://bbs.sipeed.com\" rel \"nofollow\">https://bbs.sipeed.com</a></td> </tr> <tr> <td>MaixPy AI QQ äº¤æµç¾¤</td> <td>862340358</td> </tr> <tr> <td>MaixPy AI QQ äº¤æµç¾¤(å…­ç¾¤)</td> <td>636551897</td> </tr> <tr> <td>telgram</td> <td><a href \"https://t.me/sipeed\" rel \"nofollow\">https://t.me/sipeed</a></td> </tr> <tr> <td>E mail(å•†ä¸šåˆä½œ)</td> <td><a target \"_blank\" rel \"noopener noreferrer\" href \"./../assets/sipeed/support_email.jpg\"><img src \"./../assets/sipeed/support_email.jpg\" alt \"email\" style \"max width:100%;\"></a></td> </tr> </tbody> </table> <table role \"table\" class \"center_table\"> <thead> <tr> <th>ç½‘ç«™å¯¼èˆª</th> <th>åœ°å€</th> </tr> </thead> <tbody> <tr> <td><strong>MaixPy</strong> å”¯ä¸€å®˜æ–¹æ–‡æ¡£å®˜ç½‘</td> <td><span class \"limit_width\">ä¸­æ–‡ç«™: </span><span class \"\"><a href \"https://wiki.sipeed.com/soft/maixpy/zh/\" rel \"nofollow\"><strong>wiki.sipeed.com</strong></a></span></td> </tr> <tr> <td><strong>MaixPy</strong> ä¾‹ç¨‹ä»“åº“</td> <td><span class \"limit_width\">githubï¼š</span> <span class \"\"><a href \"https://github.com/sipeed/MaixPy v1_scripts\"><strong>github/maixpy_script</strong></a></span> <br><span class \"limit_width\">å›½å†…ï¼š</span><span class \"\"><a href \"https://gitee.com/Sipeed/maixpy_scripts\" rel \"nofollow\"><strong>gitee/maixpy_scripts</strong></a></span></td> </tr> <tr> <td>MaixPy æºç </td> <td><span class \"limit_width\"></span><span class \"\"><a href \"https://github.com/sipeed/MaixPy\"><strong>github: MaixPy</strong></a></span></td> </tr> <tr> <td>å¼€å‘æ¿èµ„æ–™ä¸‹è½½</td> <td><span class \"limit_width\"></span><span class \"\"><a href \"http://dl.sipeed.com/MAIX/HDK\" rel \"nofollow\"><strong>dl.sipeed.com</strong></a></span></td> </tr> <tr> <td>Sipeed WIKI</td> <td><span class \"limit_width\"></span><span class \"\"><a href \"https://wiki.sipeed.com\" rel \"nofollow\"><strong>wiki.sipeed.com</strong></a></span></td> </tr> </tbody> </table> "},"/soft/maixpy/zh/firmware/compile.html":{"title":"æºç ç¼–è¯‘","content":" title: æºç ç¼–è¯‘ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy æºç ç¼–è¯‘ é¢„ç¼–è¯‘çš„å›ºä»¶å¯èƒ½ä¸æ»¡è¶³ç‰¹å®šçš„ä½¿ç”¨åœºæ™¯ï¼Œ å¦‚æœéœ€è¦ä¿®æ”¹é…ç½®ï¼Œè¯·é…ç½®å¹¶ç¼–è¯‘éœ€è¦çš„å›ºä»¶ ## æœ¬æœºç¯å¢ƒç¼–è¯‘ ç¼–è¯‘æ–¹æ³•è¯·å‚è€ƒ æºç ä¸‹çš„ç¼–è¯‘è¯´æ˜ [build.md](https://github.com/sipeed/MaixPy v1/blob/master/build.md) åœ¨ `python project.py menuconfig` å‘½ä»¤éƒ¨åˆ†å¯ä»¥ å‹¾é€‰ æˆ–è€… å»æ‰ åŠŸèƒ½å’Œæ¨¡å— ## ä½¿ç”¨ docker ç¯å¢ƒç¼–è¯‘ docker å¯ä»¥ç®€åŒ–å¼€å‘ç¯å¢ƒå®‰è£… > å¦‚æœä½ æ²¡ç”¨è¿‡ dockerï¼Œ å…³äº docker çš„çŸ¥è¯†è¯·è‡ªè¡Œå­¦ä¹ ï¼Œ > åœ¨æ²¡å­¦ä¹ è¿‡çš„æƒ…å†µä¸‹ä½ å¯ä»¥è®¤ä¸ºå®ƒå’Œè™šæ‹Ÿæœºç±»ä¼¼ï¼Œå³å·²ç»ä¸ºä½ å‡†å¤‡å¥½äº†å¸¦ç¼–è¯‘ç¯å¢ƒçš„è™šæ‹Ÿæœºï¼Œç›´æ¥ä¸‹è½½è¿è¡Œå°±å¯ä»¥ç”¨æ¥ç¼–è¯‘æºç äº† docker é•œåƒå·²ç»æ‰“åŒ…å¥½äº†ç¯å¢ƒï¼Œç›´æ¥æ‹‰å–é•œåƒå¹¶ä¸”è¿è¡Œå³å¯å¼€å§‹ç¼–è¯‘ï¼Œ å‚è€ƒ [ä½¿ç”¨ Docker ç¼–è¯‘æºç ](https://github.com/sipeed/MaixPy v1tree/master/tools/docker)"},"/soft/maixpy/zh/firmware/online_compile.html":{"title":"å›ºä»¶åœ¨çº¿ç¼–è¯‘","content":" title: å›ºä»¶åœ¨çº¿ç¼–è¯‘ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy å›ºä»¶åœ¨çº¿ç¼–è¯‘ ~åœ¨çº¿ç¼–è¯‘ä¸éœ€è¦æ­å»ºç¼–è¯‘ç¯å¢ƒï¼Œåªéœ€è¦é€‰æ‹©éœ€è¦çš„æ¨¡å—ç‚¹å‡»ç¼–è¯‘ï¼Œç¼–è¯‘è¿‡ç¨‹ä¼šåœ¨äº‘ç«¯å®Œæˆï¼Œå›ºä»¶ä¼šä»¥é‚®ä»¶çš„æ–¹å¼å‘é€~ ~~è®¿é—® [MaixHub](https://www.maixhub.com/onlinecompiler) è¿›è¡Œå›ºä»¶å®šåˆ¶~~ åœ¨çº¿ç¼–è¯‘ä¸å†æ”¯æŒï¼Œ éœ€è¦å®šåˆ¶å›ºä»¶è¯·å‚è€ƒ[æºç ç¼–è¯‘](./compile.html)"},"/soft/maixpy/zh/firmware/why_customize_firware.html":{"title":"ä¸ºä½•éœ€è¦å›ºä»¶å®šåˆ¶","content":" title: ä¸ºä½•éœ€è¦å›ºä»¶å®šåˆ¶ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy ä¸ºä½•éœ€è¦å›ºä»¶å®šåˆ¶ ä¸»è¦æ˜¯ä¸ºäº†èŠ‚çœå†…å­˜ã€‚ èŠ¯ç‰‡çš„å†…å­˜æ˜¯`6MiB`é€šç”¨å†…å­˜+`2MiB` AI ä¸“ç”¨å†…å­˜ï¼Œç›¸æ¯”æ™®é€šå•ç‰‡æœºæ¥è¯´ç¡®å®éå¸¸å¤§ï¼Œå¦‚æœä¸ç”¨ AI åŠŸèƒ½ï¼Œæ•´ä¸ª`8MiB`å†…å­˜æˆ‘ä»¬éƒ½å¯ä»¥ä½¿ç”¨ï¼Œ ä½†æ˜¯å› ä¸ºå¾ˆå¤šæ—¶å€™æˆ‘ä»¬éœ€è¦è¿è¡Œæ¨¡å‹ï¼Œä¸€ä¸ªæ¨¡å‹å¯èƒ½è¾¾åˆ°`3MiB`ç”šè‡³æ›´å¤§ï¼Œè€Œå›ºä»¶ä¹Ÿæ˜¯éœ€è¦å ç”¨å†…å­˜çš„ï¼Œ æ‰€ä»¥ä¸ºäº†èƒ½è¿è¡Œæ›´å¤§çš„æ¨¡å‹ï¼Œæˆ‘ä»¬éœ€è¦å¦¥åè£å‰ªä¸€äº›ä¸å¿…è¦çš„åŠŸèƒ½ã€‚ åœ¨å‰é¢æ›´æ–°å›ºä»¶çš„ç« èŠ‚ä»‹ç»äº†ä¸ç¼–è¯‘äº†è®¸å¤šå›ºä»¶ç‰ˆæœ¬ï¼Œ æœ‰`minimum`çš„ï¼Œ `with_v4_support`çš„ï¼Œä¹Ÿæœ‰`with_ide_support`çš„ï¼Œ è¿˜æœ‰`with_lvgl`çš„ï¼Œ è¿™äº›å›ºä»¶å¯èƒ½ç”¨åœ¨ä¸åŒçš„åœºåˆã€‚æ¯”å¦‚ï¼š * è£å‰ª IDE ä»£ç , å¦‚æœä¸éœ€è¦è¿æ¥ MaixPy IDEï¼Œ å¯ä»¥è£å‰ª IDE éƒ¨åˆ†ä»¥èŠ‚çœå†…å­˜ã€‚ * è£å‰ª OpenMV åŠŸèƒ½ï¼Œå›ºä»¶å…¼å®¹äº† OpenMV çš„éƒ¨åˆ†åŠŸèƒ½ï¼Œå¦‚æœä½¿ç”¨æ¨¡å‹ï¼Œè¿™äº›åŠŸèƒ½å¯èƒ½ä¸éœ€è¦ï¼Œå°±å¯ä»¥è£å‰ªæ‰ã€‚ * è£å‰ªå¤šçº¿ç¨‹æ”¯æŒï¼Œè‹¥ä¸éœ€è¦å¤šçº¿ç¨‹æ”¯æŒï¼Œå³å¯è£å‰ªè¯¥éƒ¨åˆ†å¾—åˆ°æ›´å¤šå†…å­˜ç©ºé—´ã€‚ æ‰€ä»¥ï¼Œå¦‚æœä½ åœ¨ä½¿ç”¨æŸä¸ªåŠŸèƒ½æ—¶ï¼Œ å‘ç°æç¤º`ImportError: no module named 'XXX'`ï¼Œå¯èƒ½æ˜¯ä½ ä½¿ç”¨äº†ä¸åŒ…å«è¿™ä¸ªåŠŸèƒ½çš„å›ºä»¶ï¼Œæ¯”å¦‚`minimum`å›ºä»¶ä¸åŒ…å« IDE å’Œ `image.find_blobs`åŠŸèƒ½ï¼Œ å¦‚æœçƒ§å½•äº†è¿™ä¸ªå›ºä»¶ï¼Œ å†å»è¿æ¥ `IDE` å°±ä¼šé•¿æ—¶é—´è¿æ¥ä¸ä¸Šï¼Œ ä½¿ç”¨`image.find_blobs`è¿™ä¸ªå‡½æ•°ä¹Ÿä¼šæç¤ºæ‰¾ä¸åˆ°å‡½æ•°å®šä¹‰ã€‚"},"/soft/maixpy/zh/how_to_read.html":{"title":"å¦‚ä½•æ­£ç¡® é˜…è¯» æœ¬æ–‡","content":" title: å¦‚ä½•æ­£ç¡® é˜…è¯» æœ¬æ–‡ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®—, äººå·¥æ™ºèƒ½, æ·±åº¦å­¦ä¹  desc: maixpy å¦‚ä½•æ­£ç¡® é˜…è¯» æœ¬æ–‡ **æ³¨æ„ï¼š ç›®å‰å”¯ä¸€æ–‡æ¡£å®˜ç½‘ï¼š [wiki.sipeed.com/maixpy3](https://wiki.sipeed.com/maixpy)** ## é¦–å…ˆè¯·ä»”ç»†é˜…è¯»ä¸€éå·¦è¾¹ä¾§è¾¹æ çš„ç›®å½•ç»“æ„çœ‹ä¸€çœ‹æ–‡æ¡£æœ‰é‚£äº›å†…å®¹ * **ç®€ä»‹**ï¼š `MaixPy` çš„ç®€ä»‹ï¼Œä½œå“å±•ç¤ºï¼Œä»¥åŠå‘å±•å†å²ç­‰ * **å…¥é—¨æŒ‡å—**ï¼š ä½¿ç”¨ `MaixPy` çš„å…¥é—¨æ•™ç¨‹ï¼ŒåŒ…æ‹¬åŸºç¡€çŸ¥è¯†ï¼Œä¸€å®šè¦çœ‹ï¼Œ æ‰èƒ½é¿å…é‡åˆ°å¾ˆå¤šé—®é¢˜ï¼Œä¼šç»™åé¢å¼€å‘èŠ‚çœå¾ˆå¤šæ—¶é—´ * **æ›´å¤šåŠŸèƒ½åº”ç”¨**ï¼š è¿™é‡Œæ˜¯ä¸€æ­¥ä¸€æ­¥åœ°æ•™å„ç§åŠŸèƒ½çš„ä½¿ç”¨ï¼Œ å¯¹äºåˆšä¸Šæ‰‹ä¸çŸ¥é“è¯¥åšä»€ä¹ˆçš„åŒå­¦ä»¬å¾ˆæœ‰ç”¨ï¼Œ ä»”ç»†è¯»å“¦ * **API æ‰‹å†Œ**ï¼š å„ä¸ªåŠŸèƒ½æ¨¡å—çš„ API æ‰‹å†Œï¼Œ æ–¹ä¾¿ç¼–ç¨‹æ—¶æŸ¥é˜… * **æ ‡å‡†åº“**ï¼š `micropython` çš„æ ‡å‡†åº“ï¼Œ å¾ˆå¤š API å…¼å®¹ `python3` çš„ API * **machine**ï¼š æœºå™¨ç›¸å…³ï¼Œ é‡å¯æ§åˆ¶ï¼Œæœºå™¨ UIDï¼Œ ä»¥åŠå„ç§å¤–è®¾æ§åˆ¶ * **Maix**: ä¸€äº›ç‰¹æ®Šçš„æ¨¡å—ï¼Œ æ¯”å¦‚ FPIOAï¼Œ KPUï¼Œ FFTç­‰ * **å†…ç½®ç±»**ï¼šå†…ç½®çš„ç”¨ `mpy` ï¼ˆmicropython çš„ç¼©å†™ï¼‰ç¼–å†™çš„ç±»ï¼Œ å¯ä»¥åœ¨æºç é¡¹ç›®ä¸­æ‰¾åˆ° * **æœºå™¨è§†è§‰**: ä¸€äº›æœºå™¨è§†è§‰ç›¸å…³çš„æ¨¡å—ï¼Œ image sensor lcd å¤§è‡´ä¸Šå…¼å®¹ OpenMV çš„ APIï¼Œ ä½†æ˜¯åæœŸä¸ä¼šå®æ—¶è·Ÿç€ OpenMV æ›´æ–° * **é™„åŠ å¤–è®¾æ¨¡å—**ï¼š ä¸€äº›å¤–è®¾æ¨¡å—çš„ä½¿ç”¨ï¼Œ æ¯”å¦‚è§¦æ‘¸å±ï¼Œ è¶…å£°æ³¢ï¼Œ LED ç¯ç­‰ * **å†…ç½®åº”ç”¨**ï¼š å†…ç½®çš„åº”ç”¨ï¼Œ æ¯”å¦‚ NES æ¸¸æˆæœºï¼ˆFC çº¢ç™½æœºï¼Œä¹Ÿå°±æ˜¯å°æ—¶å€™çš„å°éœ¸ç‹æ¸¸æˆæœºï¼‰ï¼Œpyeï¼ˆå†…ç½®çš„æ–‡æ¡£ç¼–è¾‘å™¨ï¼‰ * **å¸¸è§é—®é¢˜ FAQ**ï¼š å¤§å®¶ç»å¸¸é—®çš„é—®é¢˜æ±‡æ€» * **è¿›é˜¶**ï¼š ä¸€äº›è¿›é˜¶çš„ç©æ³•ï¼Œ ä»¥åŠå¦‚ä½•å‚ä¸ [`æ–‡æ¡£çš„ä¿®æ”¹`](./contribute/doc_convention.html) å’Œ [`æºç çš„ä¿®æ”¹`](./contribute/code_convention.html)ï¼Œæˆ–è€… `ä¾‹ç¨‹` çš„è´¡çŒ® * **ç¤¾åŒº & åˆ†äº«**ï¼š æ”¶é›†ä¸€äº›æ¥è‡ªç¤¾åŒºçš„å¥½çš„æ•™ç¨‹ã€ä½œå“ã€å¼€æºé¡¹ç›®ç­‰ï¼Œ å¤§å®¶ä¹Ÿå¯ä»¥æŒ‰ç…§è´¡çŒ®è¯´æ˜æ¥å…±äº«è‡ªå·±çš„ä½œå“æˆ–è€…æ•™ç¨‹ ## é‡è¦å¿…è¯»éƒ¨åˆ† <code><strong><font size 4>ç®€ä»‹</font></strong></code> å’Œ <code><strong><font size 4>å…¥é—¨æŒ‡å—</font></strong></code>ï¼Œä¸€å®šè¦å®Œæ•´çœ‹å®Œï¼Œ é‡åˆ°é—®é¢˜ä¹Ÿä¸€å®šè¦å…ˆçœ‹ <code><strong><font size 4>å¸¸è§é—®é¢˜</font></strong></code> ## å¼€å§‹å­¦ä¹  * åˆšæ¥è§¦ï¼Œå¯ä»¥æ ¹æ®å·¦è¾¹ä¾§è¾¹æ çš„ç›®å½•ä»ä¸Šåˆ°ä¸‹ä¸€é¡µä¸€é¡µä»”ç»†çœ‹ï¼Œè·Ÿç€åšå³å¯ï¼Œ å…¥é—¨ä¸€å®šä¸è¦è·³è¿‡ï¼ï¼ï¼ * å­¦ä¼šå¦‚ä½•æ›´æ–°å›ºä»¶ï¼Œå¦‚ä½•å†™ä»£ç ï¼Œå…¶ä¸­å­¦ä¼šä½¿ç”¨ä¸²å£ç»ˆç«¯ä¹Ÿååˆ†é‡è¦ï¼Œä¸å»ºè®®è¿‡åˆ†ä¾èµ– IDEï¼Œ ç‰¹åˆ«æ˜¯åœ¨ç¨‹åºæ­»æ‰çš„æ—¶å€™ï¼Œ ç”¨ç»ˆç«¯å¯èƒ½ä¼šè·å¾—æ›´å¤šæŠ¥é”™ä¿¡æ¯ï¼Œæ›´æœ‰åˆ©äºè§£å†³é—®é¢˜ï¼Œåœ¨é‡åˆ°é—®é¢˜åœ¨ç¤¾åŒºæé—®æ—¶ï¼Œä¹Ÿå°½é‡ç»™å‡ºç»ˆç«¯è¿è¡Œçš„å®Œæ•´ä¿¡æ¯ * æ¯ä¸ªæ¨¡å—/åº“æ–‡æ¡£é‡Œé¢çš„ç»“å°¾éƒ½é™„æœ‰ç®€å•ä¾‹ç¨‹ï¼Œ æˆ–è€…åˆ°è¿™é‡Œ: [MaixPy_script](https://github.com/sipeed/MaixPy v1_scripts) æŸ¥æ‰¾éœ€è¦çš„ç¤ºä¾‹ï¼Œ å¯ä»¥å°è¯•è¿è¡Œçœ‹æ•ˆæœ ## å­¦ä¼šæœç´¢ * å…³äºæ¨¡å—çš„æ¥å£åŠå‚æ•°ï¼Œåœ¨ä½¿ç”¨æ—¶æ ¹æ®è‡ªå·±çš„éœ€æ±‚è¿›è¡ŒæŸ¥é˜…ï¼Œ<code><strong><font size 4>é¡µé¢é¡¶éƒ¨å³ä¸Šè§’æœ‰æœç´¢æ¡†</font></strong></code>ï¼Œå¯ä»¥å¥½å¥½åˆ©ç”¨ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥ä½¿ç”¨æµè§ˆå™¨çš„é¡µé¢æœç´¢åŠŸèƒ½ï¼Œå³æŒ‰é”®ç›˜<kbd> Ctrl+F </kbd>ï¼Œç„¶åè¾“å…¥è¦æœç´¢çš„å†…å®¹åæŒ‰ç¡®è®¤é”® * å¦‚æœæœ‰æ‰¾ä¸åˆ°çš„å†…å®¹ä¹Ÿè¯·ä¸è¦ç€æ€¥ï¼Œ å¯ä»¥ä¸Š github çš„ [issue](https://github.com/sipeed/MaixPy v1issues) é¡µé¢æ‰¾ä¸€æ‰¾ï¼ˆæœä¸€æœï¼‰æ˜¯ä¸æ˜¯æœ‰äººæè¿‡äº†ï¼Œæ²¡æœ‰çš„è¯å¯ä»¥æ–°å»º issueï¼Œ æˆ–è€…åˆ° [è®ºå›](https://bbs.sipeed.com) æœç´¢é—®é¢˜ï¼Œæ²¡æœ‰å†å‘å¤§å®¶æ±‚åŠ©ï¼Œ æˆ–è€…è”ç³»æŠ€æœ¯æ”¯æŒã€‚ ## MaixPy å¸¸è§é—®é¢˜ * å¸¸è§é—®é¢˜è¯·è§[å¸¸è§é—®é¢˜](./others/maixpy_faq.html) ## å…¶å®ƒæ•™ç¨‹ * é™¤äº†æ–‡æ¡£ï¼Œè¿˜å¯ä»¥æµè§ˆ[BBS](https://bbs.sipeed.com)ç”¨æˆ·å†™çš„æ•™ç¨‹ï¼Œ æˆ–è€…ç™¾åº¦æœç´¢ï¼Œ ä»¥åŠå„ä¸ªå¼€å‘è€…çš„åšå®¢ï¼Œéƒ½ä¼šæœ‰å¾ˆå¤šå¼€å‘æ•™ç¨‹å¼€å‘æ—¥è®°ç­‰ï¼Œ éƒ½å¯ä»¥å‚è€ƒ ## æé—®æŠ€å·§ åœ¨å„ç§åœ°æ–¹æé—®ï¼Œ ä¸ç®¡æ˜¯ github è¿˜æ˜¯ QQ ç¾¤ï¼Œè¿˜æ˜¯è®ºå›ï¼Œ è¿˜æ˜¯é‚®ä»¶ï¼Œ æé—®è¦å°½é‡æä¾›å®Œæ•´çš„é—®é¢˜å¤ç°æ­¥éª¤ï¼ŒæŠŠä½ æ‰€ç»è¿‡çš„ä½¿ç”¨è¿‡ç¨‹ï¼Œ é—®é¢˜æ˜¯æ€ä¹ˆäº§ç”Ÿçš„ï¼Œ ç°è±¡æ˜¯ä»€ä¹ˆæ ·çš„ï¼Œ ä¸€å®šè¦å®Œæ•´åœ°è¯´æ˜ï¼Œ ä¸è¦æ€•æ–‡å­—å¤šï¼Œè¦ç«™åœ¨è§£å†³é—®é¢˜çš„äººçš„è§’åº¦æƒ³é—®é¢˜ï¼Œæçš„é—®é¢˜å¼€å‘è€…èƒ½è§£å†³å—ï¼Ÿ æ–¹ä¾¿å¼€å‘è€…ç™¾å¿™ä¹‹ä¸­æµ‹è¯•é—®é¢˜å¹¶è§£å†³ï¼ æ›´åŠ å…·ä½“çš„è¯·çœ‹ä¸‹ä¸€èŠ‚ [å¦‚ä½•ä¼˜é›…æé—®](./how_to_ask.html)"},"/soft/maixpy/zh/how_to_ask.html":{"title":"å¦‚ä½•ä¼˜é›…åœ°æé—®","content":" title: å¦‚ä½•ä¼˜é›…åœ°æé—® keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®—, äººå·¥æ™ºèƒ½, æ·±åº¦å­¦ä¹  desc: maixpy å¦‚ä½•ä¼˜é›…åœ°æé—® ## åœ¨å„ä¸ªåœ°æ–¹æé—®æ—¶ï¼Œ å¤§å®¶ä¼šå‘ç°æœ‰å‡ ä¸ªç°è±¡ï¼š * æé—®é¢˜åæ²¡äººå›ç­” * æçš„é—®é¢˜è¿‡äº†å¾ˆä¹…æ‰æœ‰äººå›ç­” * å¯¹æ–¹è€æ˜¯å«Œå¼ƒè‡ªå·±å¤ªèœ ## é—®é—®é¢˜å‰ï¼Œç¡®è®¤è‡ªå·±å·²ç»å­¦ä¹ äº† å…¥é—¨æŒ‡å— æœ¬æ–‡æ¡£çš„ **å…¥é—¨æŒ‡å—** ç« èŠ‚ï¼Œ æ˜¯ä½¿ç”¨ `MaixPy` çš„åŸºç¡€ä¸­çš„åŸºç¡€ï¼Œ ä¸ç®¡ä½ æ˜¯å¦æœ‰è¿‡å¼€å‘ç»éªŒï¼Œæ˜¯å¤§ä½¬è¿˜æ˜¯å°ç™½ï¼Œ è¯·åŠ¡å¿…ä»å‰åˆ°åå®Œæ•´é˜…è¯»å¹¶æ“ä½œä¸€éã€‚ å¾ˆå¤šé—®é¢˜ä¼šåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­è§£å†³ï¼Œ åˆ‡å¿Œä¸€å¼€å§‹å°±åˆ° QQç¾¤ã€è®ºå› ã€issueï¼Œ æˆ–è€…é‚®ä»¶éšä¾¿æé—®ï¼Œ å¾ˆå¤šåœ¨æ–‡æ¡£ä¸­ä¸€å¼€å§‹å°±è¯´æ˜äº†çš„é—®é¢˜å¯èƒ½ä¸ä¼šå¾—åˆ°ç¤¾åŒºçš„åŠæ—¶çš„å›ç­”ï¼Œ èŠ‚çœå¤§å®¶çš„æ—¶é—´ï¼Œä¹Ÿä¸ºäº†æ›´å¥½çš„ç¤¾åŒºç¯å¢ƒï¼Œå¤§å®¶å…±åŒæ›´å¥½åœ°æˆé•¿ï¼Œè¯·äº’ç›¸ç†è§£ ## æé—®æ—¶ï¼Œå°½é‡åšåˆ°ä»¥ä¸‹å‡ ç‚¹ï¼Œä¼šå¤§å¤§æé«˜é—®é¢˜è¢«å¿«é€Ÿè§£å†³çš„å‡ ç‡ï¼š ### ç¼•æ¸…é—®é¢˜ï¼Œ å¼„æ¸…æ¥šåˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆï¼Œä»¥åŠæˆ‘åšäº†ä»€ä¹ˆï¼ŒåŒ…æ‹¬ï¼š * æˆ‘æƒ³å®ç°ä»€ä¹ˆæ•ˆæœï¼Œä»€ä¹ˆåŠŸèƒ½ï¼Ÿ * ä¸ºäº†å®ç°è¿™ä¸ªæ•ˆæœï¼Œæˆ‘æ˜¯æ€ä¹ˆåšçš„ï¼Œ è¯¦ç»†çš„è¿‡ç¨‹æ˜¯ä»€ä¹ˆï¼Ÿ * å®æ–½çš„è¿‡ç¨‹ä¸­ï¼Œ ä»€ä¹ˆé”™è¯¯å‘ç”Ÿäº†ï¼Œ ç°è±¡æ˜¯ä»€ä¹ˆï¼ˆæ¯”å¦‚æŠ¥é”™äº†ï¼Œ æŠ¥äº†ä»€ä¹ˆé”™ï¼Œ**å®Œæ•´**çš„é”™è¯¯å†…å®¹æ˜¯ä»€ä¹ˆï¼Ÿï¼‰ * æˆ‘æ˜¯å¦è®¤çœŸçœ‹äº†æŠ¥é”™çš„ä¿¡æ¯ï¼Œ æŠ¥é”™ä¿¡æ¯ä¸­æ˜¯å¦æœ‰æç¤ºäº†é”™è¯¯çš„åŸå› å’Œè§£å†³çš„æ–¹æ³•ï¼Ÿ * æ ¹æ®è¿™äº›æŠ¥é”™ä¿¡æ¯ï¼Œ ä»”ç»†æ€è€ƒï¼Œ æ˜¯å¦èƒ½è§£å†³é—®é¢˜ï¼Ÿ * æœç´¢ æ–‡æ¡£ã€ issueï¼Œ ä»¥åŠç”¨æœç´¢å¼•æ“èƒ½ä¸èƒ½æœç´¢åˆ°é—®é¢˜çš„è§£å†³æ–¹æ³• ### å¦‚æœé—®é¢˜è‡ªå·±å®åœ¨ä¸èƒ½è§£å†³ï¼Œ éœ€è¦è¯·æ•™äºäººï¼Œ éœ€è¦è€ƒè™‘ï¼š * è¯·æ•™è°ï¼Œåœ¨å“ªé‡Œè¯·æ•™ï¼Œ è°ä¼šæ›´æœ‰å‡ ç‡å›ç­”æˆ‘çš„é—®é¢˜ï¼Ÿä»¥åŠå®æ—¶æ€§å¦‚ä½•ï¼Ÿ * æˆ‘åº”è¯¥ç»™ä»–æä¾›ä»€ä¹ˆæ•°æ®å’Œç°è±¡ä»–æ‰èƒ½æ„¿æ„å¿«é€Ÿå¸®æˆ‘è§£å†³é—®é¢˜ï¼Ÿ * æä¾›æˆ‘çš„ç›®çš„ ï¼ˆæ–¹ä¾¿è®©å›ç­”è€…çŸ¥é“ä½ åœ¨åšä»€ä¹ˆäº‹æƒ…ï¼‰ * æä¾›å®Œæ•´çš„å®æ–½è¿‡ç¨‹ï¼Œ ä»¥åŠè¿‡ç¨‹ä¸­å‡ºç°çš„ç°è±¡ ï¼ˆæ–¹ä¾¿å›ç­”è€…è·Ÿç€ä½ çš„æµç¨‹å»åšä¸€éï¼Œ å³é—®é¢˜å¤ç°ï¼‰ * ç»™å‡ºé”™è¯¯çš„åœ°æ–¹ï¼Œ æŒ‡æ˜å“ªé‡Œå‡ºç°çš„ç°è±¡æˆ–ç»“æœå’Œè‡ªå·±é¢„æœŸçš„ä¸ä¸€æ ·ï¼ ï¼ˆè®©å›ç­”è€…çŸ¥é“ï¼Œå“ªé‡Œæ²¡è¾¾åˆ°é¢„æœŸï¼‰ * æä¾›å‡ºç°çš„é”™è¯¯ä¿¡æ¯ï¼Œ éœ€è¦å®Œæ•´ï¼Œ å°½å¯èƒ½æ›´å¤šåœ°æˆªå›¾ï¼Œ æ›´å¤šçš„æ—¥å¿—ï¼Œåƒä¸‡åˆ«å°æ°”åœ°æˆªä¸€å¼ å°å›¾ï¼Œæˆ–è€…ä¹‹ç»™å‡ºæ—¥å¿—çš„ä¸€éƒ¨åˆ†ï¼ˆ å› ä¸ºå›ç­”è€…å¯èƒ½å¾ˆä¹…æ²¡åšè¿™ä»¶äº‹æƒ…äº†ï¼Œå¿˜è®°äº†ä¸€äº›ç»†èŠ‚ï¼Œéœ€è¦é æˆªå›¾å’Œå®Œæ•´æ—¥å¿—æ¥å¿«é€Ÿå›å¿†èµ·æ¥; è€Œä¸”æ ¹æ®è¯¦ç»†çš„æ—¥å¿—å¯ä»¥å¿«é€Ÿå®šä½åˆ°é—®é¢˜å¤„åœ¨å“ªé‡Œï¼‰ * æ€ä¹ˆæé—®æ€åº¦æ˜¾å¾—æ¯”è¾ƒè¯šæ³ï¼Œå°±ç®—æˆ‘å†å°ç™½ï¼Œå¤§å®¶ä¹Ÿæ„¿æ„å›ç­” ### æé—®æ¨¡æ¿ æé—®å°½é‡åšåˆ°æé—®ä¼˜é›…ï¼Œä¸éœ€è¦æ·»åŠ å¤šä½™çš„è¯­æ°”è¯ï¼ŒæŠ±æ€¨çš„è¯æ±‡ï¼Œæ–Ÿé…Œæ¯ä¸€ä¸ªè¯å’Œæ ‡ç‚¹ç¬¦å·ï¼Œç«™åœ¨å›ç­”äººçš„è§’åº¦æ€è€ƒé—®é¢˜ï¼Œå¦‚ä½•è®©å›ç­”çš„äººå¿«é€Ÿå¸®åŠ©è‡ªå·±è§£å†³é—®é¢˜ï¼Œ å­—æ•°å¤ªå°‘æè¿°ä¸æ¸…æ¥šï¼Œ å­—æ•°å¤ªå¤šåˆ™è®©äººæ²¡æœ‰è€å¿ƒ #### æ ‡é¢˜ æ— è®ºåœ¨å“ªé‡Œæé—®ï¼ˆåŒ…æ‹¬`QQç¾¤`ï¼‰ï¼Œ ç»™è‡ªå·±çš„é—®é¢˜æ‹Ÿå®šä¸€ä¸ª`30`ä¸ªå­—å·¦å³æ ‡é¢˜ï¼Œ é˜æ˜é—®é¢˜çš„ä¸­å¿ƒæ€æƒ³ï¼ŒåŒ…æ‹¬ï¼š * é—®é¢˜ç±»åˆ«ï¼Œ æ˜¯é—®é¢˜è¯·æ•™ï¼Œè¿˜æ˜¯ BUGæäº¤ï¼Œè¿˜æ˜¯ç»éªŒåˆ†äº«ç­‰ç­‰ã€‚è®©å¤§å®¶åœ¨æ»¡æ˜¯æ–‡å­—çš„å±å¹•ä¸Šå¯ä»¥ç«‹é©¬å®šä½åˆ°ä½ æƒ³åšä»€ä¹ˆ * ä¸€å¥è¯é˜æ˜é—®é¢˜çš„ä¸­å¿ƒä½ æ€æƒ³ï¼Œæ¯”å¦‚ `è¿è¡Œæ‘„åƒå¤´ç¤ºä¾‹ç¨‹åºï¼ŒæŠ¥é”™ reset failï¼Œ å¯èƒ½æ˜¯ç¡¬ä»¶é—®é¢˜` æ‰€ä»¥ç»¼åˆåæ ‡é¢˜å¯ä»¥æ˜¯è¿™æ ·ï¼š * `ã€MaixPy æé—®ã€‘ è¿è¡Œæ‘„åƒå¤´ç¤ºä¾‹ç¨‹åºï¼ŒæŠ¥é”™ reset failï¼Œ å¯èƒ½æ˜¯ç¡¬ä»¶é—®é¢˜å—` è¿™æ ·çš„æ ‡é¢˜ä¸€å®š**ä¸èƒ½**å‡ºç°: * `å•Šå•Šå•Šå•Šå•Šä¸ºä»€ä¹ˆæˆ‘çš„æ¿å­åˆä¸è¡Œäº†` * `ä¸ºä»€ä¹ˆæˆ‘çš„ä»£ç ä¸èƒ½è¿è¡Œäº†` * `ä¸ºä»€ä¹ˆæˆ‘çš„å±å¹•é»‘å±äº†` * `ã€MaixPy æé—®ã€‘ æ”¶åˆ°äº†å¼€å‘æ¿ï¼Œå¼€å‘æ¿å±å¹•æ˜¯çº¢çš„ï¼Œä¸€è¡Œå°å­—ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿ` * `æˆ‘è¿è¡Œxxxç¨‹åºï¼Œå‡ºäº†é—®é¢˜` å¯ä»¥è¿™æ ·é—®ï¼š * `ã€MaixPy æé—®ã€‘ æˆ‘çš„æ¿å­åœ¨æˆ‘æ¥åç”µæºåï¼Œç°åœ¨æ¿å­æ— æ³•å¯åŠ¨ï¼Œæ€ä¹ˆåˆ¤æ–­æ¿å­å“ªé‡Œçƒ§æ¯äº†ï¼Œå¦‚æœå¯ä»¥ï¼Œæ€ä¹ˆæ•‘æ´»å‘¢` * `ã€MaixPy BUGã€‘ pix_to_ai æ²¡æœ‰å¯¹æœ€åä¸€ä¸ªåƒç´ è¿›è¡Œè½¬æ¢` #### å†…å®¹ é¦–å…ˆç«™åœ¨å›ç­”è€…çš„è§’åº¦ï¼Œ å¦‚æœè¢«é—®é—®é¢˜: * é¦–å…ˆè¦çŸ¥é“å¯¹æ–¹è¦åšä»€ä¹ˆï¼Œå®ç°ä»€ä¹ˆç›®æ ‡ * ä¸ºäº†å®ç°è¿™ä¸ªç›®æ ‡ï¼Œä»–æ˜¯å‚è€ƒäº†å“ªé‡Œçš„æ­¥éª¤åšçš„ * å®é™…ä¸Šé‡‡ç”¨äº†å“ªäº›å…·ä½“çš„æ­¥éª¤ï¼Œç„¶ååœ¨é‚£ä¸€æ­¥å‡ºç°äº†é—®é¢˜ï¼Œ æ–¹ä¾¿æˆ‘ç…§ç€ä»–çš„æ­¥éª¤å»å°è¯•å¤ç°ä¸€ä¸‹ç°è±¡ã€‚å¦‚æœè¿™ä¸ªé—®é¢˜çœ‹èµ·æ¥ä¸å¥½è§£å†³ï¼Œåˆæ²¡æœ‰å¤ç°çš„æ­¥éª¤ï¼Œé‚£å¯èƒ½è¦èŠ±å¾ˆå¤šæ—¶é—´å»å¤ç°ï¼Œå…ˆæ”¾ä¸€æ”¾å…ˆè§£å†³å…¶å®ƒé—®é¢˜å§ * å…·ä½“å‡ºç°çš„é—®é¢˜æ˜¯ä»€ä¹ˆï¼Œå¦‚æœä»–åªè¯´å‡ºäº†é—®é¢˜ï¼Œæˆ‘æ€ä¹ˆçŸ¥é“ä»–å‡ºäº†ä»€ä¹ˆé—®é¢˜ï¼Œä¹Ÿè®¸æ˜¯èº«ä½“ä¸é€‚ï¼Ÿæ‰€ä»¥è¿™å¾ˆé‡è¦ï¼Œéœ€è¦è®©ä»–è¯´æ˜å‡ºé—®é¢˜æ—¶çš„ç°è±¡ï¼Œå¹¶æŒ‡æ˜ä¸é¢„æœŸæœ‰ä»€ä¹ˆä¸åŒï¼Œä¸ç„¶æˆ‘è¿˜å¾—å»çŒœå»å¯¹æ¯”å’Œé¢„æœŸæœ‰ä»€ä¹ˆä¸åŒï¼Œè§£å†³é—®é¢˜çš„æ—¶é•¿åˆå¢åŠ äº† * å‡ºé—®é¢˜äº†ï¼Œæˆ‘å¯èƒ½éœ€è¦ä»–çš„æ—¥å¿—æ–‡ä»¶ï¼Œæ–¹ä¾¿æˆ‘æ ¹æ®æ—¥å¿—å»çœ‹æºç ç­‰è¿›è¡Œåˆ†æï¼Œä¸ç„¶å¯èƒ½ä¼šå¾ˆéš¾è§£å†³é—®é¢˜ï¼Œé‚£è¿™ä¸ªé—®é¢˜å¯ä»¥æ”¾åˆ°åé¢æ…¢æ…¢çœ‹å§ ç»¼ä¸Šï¼Œ å¯ä»¥è¿™ä¹ˆæé—®ï¼š * è¯¦ç»†é˜æ˜è‡ªå·±çš„ç›®æ ‡ï¼Œæƒ³åšä»€ä¹ˆäº‹æƒ…ï¼Œ ç°è±¡åº”è¯¥æ˜¯ä»€ä¹ˆæ ·çš„ * æˆ‘æœ‰æ²¡æœ‰å‚è€ƒå“ªé‡Œçš„æ–‡æ¡£ã€ä»£ç æˆ–è€…æ•™å­¦ * å¦‚ä½•å¤ç°é”™è¯¯ï¼šå…·ä½“æ€ä¹ˆåšçš„ï¼Œ æ¯ä¸€ä¸ªæ­¥éª¤å†™è¯¦ç»†ï¼Œç›´åˆ°é—®é¢˜å‡ºç° * è¯¦ç»†é˜è¿°é”™è¯¯å‡ºç°æ—¶çš„ç°è±¡ï¼Œä»¥åŠå’ŒæœŸæœ›çš„ç›¸æ¯”å“ªé‡Œä¸ä¸€æ ·ï¼Œéœ€è¦è¯æ˜é—®é¢˜ç¡®å®å‡ºç°äº† * é™„å¸¦æ—¥å¿—æ–‡ä»¶ï¼Œä»¥åŠæˆªå›¾ï¼Œç”šè‡³æ˜¯è§†é¢‘ï¼Œæ—¥å¿—å’Œæˆªå›¾ä¸€å®šè¦å®Œæ•´ï¼Œä¸è¦åªæˆªå–ä¸€å°éƒ¨åˆ†ï¼Œå›ç­”è€…å¯èƒ½ä¼šä»ä½ çš„å®Œæ•´æ—¥å¿—å’Œæˆªå›¾ä¸­å‘ç°ä¸€äº›ä½ æ²¡æ³¨æ„åˆ°çš„é—®é¢˜ï¼Œè¿™å¾ˆé‡è¦ï¼ * å¦å¤–ï¼Œç²˜è´´ä»£ç æ³¨æ„æ ¼å¼ï¼Œåˆ«ç²˜è´´åæ˜¾ç¤ºå¾ˆä¹±ï¼Œæ— æ³•å…¥ç›®ï¼Œå°½é‡èƒ½å¤åˆ¶å ç›´æ¥èƒ½è¿è¡Œ * æœ€åï¼Œå¯¹è§£ç­”é—®é¢˜çš„ç¤¾åŒºæœ‹å‹ä»¬è¡¨è¾¾æ„Ÿè°¢"},"/soft/maixpy/zh/thanks.html":{"title":"è‡´è°¢","content":" title: è‡´è°¢ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®—, äººå·¥æ™ºèƒ½, æ·±åº¦å­¦ä¹  desc: maixpy è‡´è°¢ * [MaixPy æºç è´¡çŒ®è€…](https://github.com/sipeed/MaixPy v1graphs/contributors) * [MaixPy_scripts ç¤ºä¾‹ä»£ç è´¡çŒ®è€…](https://github.com/sipeed/MaixPy v1_scripts/graphs/contributors) * [Maixduino æºç è´¡çŒ®è€…](https://github.com/sipeed/Maixduino/graphs/contributors) * [MaixPy_DOC æ–‡æ¡£è´¡çŒ®è€…](https://github.com/sipeed/MaixPy_DOC/graphs/contributors)"},"/soft/maixpy/zh/others/maixpy_faq.html":{"title":"MaixPy å¸¸è§é—®é¢˜","content":" title: MaixPy å¸¸è§é—®é¢˜ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy MaixPy å¸¸è§é—®é¢˜ ## MaixPy ä¸ C å¼€å‘æœ‰ä»€ä¹ˆå¼‚åŒï¼Œæˆ‘è¯¥æ€ä¹ˆé€‰æ‹© MaixPy æ˜¯åŸºäº Micropython çš„è„šæœ¬è¯­è¨€ï¼Œ ä¸éœ€è¦ç¼–è¯‘ï¼Œåœ¨è¿è¡Œæ—¶è§£æï¼Œç¼–å†™èµ·æ¥æ›´ç®€å•æ–¹ä¾¿ï¼Œåªæ˜¯è¿è¡Œæ—¶æ—¶å®æ€§ä¸å¦‚ C è¯­è¨€ã€‚ æ‰€ä»¥å¦‚æœæ˜¯å¿«é€ŸéªŒè¯ã€æ–°æ‰‹ã€åªä¼š pythonã€å¤´å‘å°‘ç­‰éƒ½å¯ä»¥ç”¨ MaixPy; è¿½æ±‚æé™æ€§èƒ½æ•ˆç‡æˆ–è€…ç†Ÿæ‚‰ C ï¼Œä»¥åŠå¯¹ MaixPy çš„é•¿æœŸè¿è¡Œçš„ç¨³å®šæ€§ä¸å¤ªæœ‰ä¿¡å¿ƒçš„éƒ½å¯ä»¥ä½¿ç”¨ C è¯­è¨€å¼€å‘ ## MaixPy è½¯ä»¶åŒ…å¤±è´¥ç°è±¡ 1. å¸è½½å¹²å‡€ä¹‹å‰ä¸‹çš„è½¯ä»¶å®‰è£…åŒ…ï¼Œé‡æ–°ä¸‹è½½å¹¶æ¢ç£ç›˜å®‰è£…ã€‚ 2. å¸è½½è½¯ä»¶ï¼Œåˆ é™¤é‡Šæ”¾çš„æ–‡ä»¶ï¼Œæ¸…ç†æ³¨å†Œè¡¨åï¼Œé‡è£…å³å¯ <img src \"\" alt \"maixpy\"> ## MaixPy IDE æ— æ³•æˆåŠŸè¿æ¥å¼€å‘æ¿ **ç°è±¡:** â€‹\tå¼€å‘æ¿åˆ°æ‰‹ä¹‹åï¼Œä¸€ç›´æ— æ³•è¿æ¥ MaixPy IDE * æ£€æŸ¥å›ºä»¶æ˜¯å¦æ”¯æŒ IDEï¼Œ æ—©æœŸçš„å›ºä»¶ä»¥åŠåå­—å¸¦`minimum`çš„å›ºä»¶éƒ½ä¸æ”¯æŒ * æ£€æŸ¥ä¸²å£æ˜¯å¦è¢«å ç”¨ï¼ˆå…¶å®ƒè½¯ä»¶ä¹Ÿæ‰“å¼€äº†ä¸²å£ï¼‰ * ç‚¹å‡»è¿æ¥åï¼Œä¸ç”¨å’Œç»ˆç«¯å·¥å…·åŒæ—¶ä½¿ç”¨ï¼Œå¦åˆ™ä¼šå‡ºç°ä¸²å£å ç”¨æ— æ³•æ‰“å¼€ * å¦‚æœä¸€ç›´æ— æ³•æˆåŠŸè¿æ¥æˆåŠŸï¼Œ æ£€æŸ¥ï¼š * è¯·æ£€æŸ¥æ˜¯å¦å¼€å‘æ¿å‹å·é€‰æ‹©é”™è¯¯ï¼› * è§‚å¯Ÿå¼€å‘æ¿å±å¹•æ˜¯å¦æœ‰å˜åŒ–ï¼Œå¦‚æœæ²¡æœ‰ååº”å¯èƒ½æ˜¯ä¸²å£é€‰æ‹©é”™è¯¯ï¼› * å°è¯•å‡çº§åˆ°æœ€æ–°çš„ [master åˆ†æ”¯å›ºä»¶](http://cn.dl.sipeed.com/MAIX/MaixPy/release/master)ï¼Œ ä»¥åŠæœ€æ–°çš„ MaixPy IDE è½¯ä»¶ > MaixPy ç‰ˆæœ¬å·ä½äº 0.5.0_v0 ä¸æ”¯æŒè¿æ¥ MaixPy IDE ## Micro SD å¡è¯»å–ä¸åˆ° Micro SD è¯»å–ä¸åˆ°ç°è±¡åŠè§£å†³æ–¹æ³•: 1. ç¡®è®¤ SD èƒ½å¦åœ¨ç”µè„‘ä¸Šæ­£å¸¸ä½¿ç”¨ï¼Œå¦‚æœä¸èƒ½å³ SD å·²æŸåï¼Œ 2. ç”µè„‘èƒ½å¤Ÿæ­£å¸¸ä½¿ç”¨ï¼Œè¯»å– SDï¼Œä½† MaixPy å¼€å‘æ¿æ— æ³•ä½¿ç”¨ï¼š SD å¡æœªæ ¼å¼åŒ–ä¸º MBR åˆ†åŒº FAT32 æ ¼å¼ 3. ç”µè„‘èƒ½å¤Ÿæ­£å¸¸ä½¿ç”¨ SD å¡ï¼Œä¹Ÿç¡®è®¤ SD å¡çš„ç£ç›˜æ ¼å¼ä¸º FAT32ï¼Œä½† MaixPy å¼€å‘æ¿ä¾æ—§æ— æ³•ä½¿ç”¨ï¼š å¯èƒ½å­˜åœ¨çš„åŸå› ï¼šéƒ¨åˆ† SD å‡ºå‚æ—¶ï¼Œsd ä¸­æ²¡æœ‰ç£ç›˜åˆ†åŒºè¡¨ï¼Œæˆ–è€…ç£ç›˜åˆ†åŒºè¡¨ç±»å‹ä¸æ˜¯ MBR è§£å†³çš„æ–¹æ³•ï¼šä½¿ç”¨ç¬¬ä¸‰æ–¹ç£ç›˜ç®¡ç†è½¯ä»¶ï¼Œå°† sd åˆ†åŒºè¡¨ç±»å‹è½¬æ¢ä¸º MBR, å¹¶ä¸”å°† sd æ ¼å¼æ ¼å¼åŒ–ä¸º FAT32 > è¿™é‡Œä½¿ç”¨ **Diskgenius** æ¥è½¬æ¢ç£ç›˜åˆ†åŒºè¡¨æ ¼å¼ ![Diskgenius](../../assets/other/diskgenius.png) ![GPT ç±»å‹è½¬ MBR](../../assets/other/diskgenius_sd_gpt_to_mbr.png) ![MBR ç±»å‹](../../assets/other/diskgenius_sd.png) 3. SD å¡ä¸æ”¯æŒ SPI åè®® ç›®å‰ç¡¬ä»¶åªèƒ½æ”¯æŒ SPI åè®®è¯»å–ï¼Œ å°½é‡è´­ä¹°æ­£è§„çš„å¡ æ¯”å¦‚ï¼šä¸‹å›¾å·¦è¾¹ä¸¤å¼ å¡ MaixPy çš„é©±åŠ¨ä¸æ”¯æŒï¼Œ ä¸­é—´å’Œå³è¾¹çš„éƒ½æ”¯æŒï¼Œ ä½†æ˜¯ä¸­é—´çš„ class10 å¡é€Ÿåº¦æœ€å¿«ï¼ˆæœ€é«˜æµ‹è¿‡ 128GBå¯ç”¨ï¼‰ > å¦å¤–æµ‹è¯•è¿‡ç½‘ä¸Šè´­ä¹°çš„å‡ å¼ é—ªè¿ªã€é‡‘å£«é¡¿ã€ä¸‰æ˜Ÿçš„å¡ï¼Œå…¶ä¸­å‘ç°æœ‰ä¸€å¼ ä¸‰æ˜Ÿçš„å¡æ— æ³•ä½¿ç”¨ ![](../../assets/hardware/other/tf_sdcard.png) ## SD å¡æ”¯æŒå¤šå¤§å®¹é‡ æœ€å¤§æµ‹è¯•è¿‡ **1TB** å¯ä»¥ä½¿ç”¨ ## ä½¿ç”¨ SD åŠ è½½æ–‡ä»¶ã€æ¨¡å‹ä¸æˆåŠŸ ç°è±¡ï¼šæˆ‘ä»¬åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­å¯èƒ½é‡åˆ°åŠ è½½æ¨¡å‹æç¤ºé”™è¯¯ï¼Œ å¯èƒ½å­˜åœ¨çš„é—®é¢˜åŸå› : sd ä¸å…¼å®¹ï¼ŒæŒ‚è½½ä¸æˆåŠŸ éªŒè¯ sd å¡æ˜¯å¦æŒ‚è½½æ–¹æ³•: ```python import os print(os.listdir(\"/\")) >>['flash'] # æ²¡æœ‰æŒ‚è½½ SD å¡ >>['flash', 'sd'] # æŒ‚è½½ SD å¡æˆåŠŸ ``` ## ä¸ºä»€ä¹ˆè¿æ¥äº† IDE å¸§ç‡é™ä½äº†å¾ˆå¤š K210 æ²¡æœ‰ USB å¤–è®¾ï¼Œ å› æ­¤åªèƒ½ä½¿ç”¨ä¸²å£ä¸ IDE é€šä¿¡ï¼Œ é€Ÿåº¦ä¸å¦‚ USB è®¾å¤‡å¿«ï¼Œå› æ­¤ä¼šå½±å“å¸§ç‡ï¼Œ å¯ä»¥å…³é—­ IDE çš„æ‘„åƒå¤´é¢„è§ˆ ## ä¸ºä»€ä¹ˆ IDE ä¸Šé¢„è§ˆçš„æ‘„åƒå¤´å›¾åƒå¾ˆæ¨¡ç³Š K210 æ²¡æœ‰ USB å¤–è®¾ï¼Œ å› æ­¤åªèƒ½ä½¿ç”¨ä¸²å£ä¸ IDE é€šä¿¡ï¼Œ é€Ÿåº¦ä¸å¦‚ USB è®¾å¤‡å¿«ï¼Œ å› æ­¤å¯¹å›¾ç‰‡è¿›è¡Œäº†å‹ç¼©ï¼Œå¦‚æœéœ€è¦çœ‹æ¸…æ™°çš„å›¾åƒè¯·åœ¨å¼€å‘æ¿çš„å±å¹•ä¸Šçœ‹ï¼Œæˆ–è€…ä¿å­˜æˆå›¾ç‰‡ä¼ åˆ°ç”µè„‘æŸ¥çœ‹ æ‰€ä»¥ IDE çš„å›¾åƒé¢„è§ˆåŠŸèƒ½ä¸»è¦æ˜¯ç»™æ•™å­¦å’Œæ¼”ç¤ºä½¿ç”¨ï¼Œ å¹³æ—¶å»ºè®®ä½¿ç”¨å±å¹•ï¼Œ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä»£ç æ¥è®¾ç½®é¢„è§ˆå›¾è´¨é‡ ```python sensor.set_jb_quality(95) ``` è¿™æ ·å°±å°†é¢„è§ˆå›¾çš„è´¨é‡è®¾ç½®ä¸ºäº† `95%`ï¼Œ ä½†æ˜¯å¸§ç‡ä¼šæœ‰æ˜æ˜¾é™ä½ ## æ€ä¹ˆæé«˜æ‘„åƒå¤´å¸§ç‡ * æ¢æ›´å¥½çš„æ‘„åƒå¤´ï¼Œæ¯”å¦‚ `ov7740` å¸§ç‡ä¼šæ¯” `ov2640` é«˜ä¸€ç‚¹ã€‚ ä½†å‰ææ˜¯æ‘„åƒå¤´ç”µè·¯å¿…é¡»ä¸å¼€å‘æ¿çš„ç”µè·¯å…¼å®¹ * å¢åŠ æ‘„åƒå¤´æ—¶é’Ÿé¢‘ç‡(`sensor.reset(freq )`)ï¼Œä½†æ˜¯æ³¨æ„ä¸è¦å¤ªé«˜ï¼Œå¤ªé«˜ä¼šè®©ç”»é¢å˜å·® * å¯ä»¥è‡ªå·±ç¼–è¯‘æºç ï¼Œæ‰“å¼€æ‘„åƒå¤´åŒç¼“å†²é€‰é¡¹ï¼ˆé»˜è®¤æ‰“å¼€ï¼‰ï¼Œå¹¶ä¸” `sensor.reset(dual_buff True)`ï¼Œå¸§ç‡ä¼šæœ‰æ‰€å¢åŠ ï¼Œä½†æ˜¯ç›¸åº”åœ°ï¼Œè€—è´¹çš„å†…å­˜ä¹Ÿä¼šå¢åŠ ï¼ˆå¤§çº¦ä¸º 384KiB ï¼‰ ## IDE å¸§ç¼“å†²åŒºæˆåƒæ–¹å‘ä¸æ­£ç¡®ï¼ŒLCD æ˜¾ç¤ºæ–¹å‘ä¸æ­£ç¡® ç”±äº MaixPy æ”¯æŒçš„ç¡¬ä»¶å‹å·è¾ƒå¤šï¼Œåœ¨ä½¿ç”¨ MaixPy IDE æˆ–è€… LCD æ˜¾ç¤ºçš„æ—¶å€™ä¼šå‡ºç°æ˜¾ç¤ºçš„æ–¹å‘ä¸æ­£ç¡®,é‚£ä¹ˆè¿™æ—¶å€™æˆ‘ä»¬å°±éœ€è¦å¯¹å›¾åƒè¿›è¡Œæ—‹è½¬äº†; åœ¨ä¿®æ­£æ˜¾ç¤ºæ–¹å‘ä¹‹å‰,æˆ‘ä»¬éœ€è¦ç¡®è®¤æ˜¯ Sensor æ–¹å‘æ—‹è½¬(MaixPy IDE å³ä¸Šè§’çš„å›¾åƒå³ä¸º Sensor ç›´æ¥è¾“å‡ºçš„å›¾åƒ)äº†ï¼Œè¿˜æ˜¯ LCD æ–¹å‘æ—‹è½¬äº† ä¿®æ­£æ–¹æ³•: sensor æ–¹å‘ä¿®æ­£ï¼š ```python # è®¾ç½®æ‘„åƒå¤´æ°´å¹³é•œåƒ # `enable`: 1 è¡¨ç¤ºå¼€å¯æ°´å¹³é•œåƒ 0 è¡¨ç¤ºå…³é—­æ°´å¹³é•œåƒ sensor.set_hmirror(enable) # è®¾ç½®æ‘„åƒå¤´å‚ç›´é•œåƒ # `enable`: 1 è¡¨ç¤ºå¼€å¯å‚ç›´é•œåƒ 0 è¡¨ç¤ºå…³é—­å‚ç›´é•œåƒ sensor.set_vflip(enable) ``` lcd æ–¹å‘ä¿®æ­£ï¼š ```python # è®¾ç½® `LCD` å±å¹•æ–¹å‘ # å‚æ•°: `dir`: å–å€¼èŒƒå›´ [0,3]ï¼Œ ä»`0`åˆ°`3`ä¾æ¬¡é¡ºæ—¶é’ˆæ—‹è½¬ # è¿”å›å€¼: å½“å‰æ–¹å‘ï¼Œå–å€¼[0,3] lcd.rotation(dir) # è®¾ç½® `LCD` æ˜¯å¦é•œé¢æ˜¾ç¤º # å‚æ•°: `invert`ï¼š æ˜¯å¦é•œé¢æ˜¾ç¤ºï¼Œ `True` æˆ–è€… `False` # è¿”å›å€¼: å½“å‰è®¾ç½®ï¼Œæ˜¯å¦é•œé¢æ˜¾ç¤ºï¼Œè¿”å›`True`æˆ–è€…`False` lcd.mirror(invert) ``` ## çƒ§å½• MaixPy ä¹‹åï¼Œ K210 æ— æ³•å¯åŠ¨ ç°è±¡ï¼šæˆ‘ä»¬åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­å¯èƒ½é‡åˆ°çƒ§å½• MaixPy ä¹‹åï¼ŒMaixPy å‡ºç°æ— æ³•å¯åŠ¨(è¡¨è±¡ä¸º æ— æ³•ç‚¹äº®å±å¹•ï¼Œç™½å± ç­‰)ï¼Œ é—®é¢˜åŸå› : å‡ºç°è¿™ç§ç°è±¡å¾ˆå¤§ä¸€éƒ¨åˆ†æ˜¯å†…éƒ¨æ–‡ä»¶ç³»ç»Ÿä¸­çš„é…ç½®æ–‡ä»¶è¯»å–å‡ºé”™ï¼Œæˆ–è€…æˆ‘ä»¬è®¾ç½®çš„ç³»ç»Ÿé…ç½®å€¼(å¦‚ gc heap å€¼è¿‡å¤§)å‡ºé”™å¯¼è‡´ç³»ç»Ÿæ— æ³•å¯åŠ¨ã€‚ è§£å†³æ–¹æ³•ï¼šæ“¦é™¤æ–‡ä»¶ç³»ç»Ÿ(æ“¦é™¤å…¨éƒ¨ flash) ä½¿ç”¨ kflash_gui å³ä¸Šè§’é€‰æ‹©`æ“¦é™¤`åŠŸèƒ½ï¼Œç„¶ååŠ è½½`MaixPy æ–‡ä»¶ç³»ç»Ÿ`æ¨¡æ¿ï¼Œåœ°å€å˜æˆ`0xD00000`, é•¿åº¦å˜ä¸º`3MiB` æˆ–è€…ç›´æ¥çƒ§å½•æ“¦é™¤å›ºä»¶: ç‚¹å‡»ä¸‹è½½ [K210 chip_erase.kfpkg](https://dl.sipeed.com/fileList/MAIX/MaixPy/release/Erase_all/K210 chip_erase.kfpkg) æ“¦é™¤åå†é‡æ–°çƒ§å½•ä¸€æ¬¡ç›®æ ‡å›ºä»¶å³å¯ ## ä½¿ç”¨ JTAG è°ƒè¯•å™¨ä¸€ç›´æ— æ³•æ¥è¿ K210 ç°è±¡ï¼šä½¿ç”¨è£¸æœºå¼€å‘ K210, JTAG è°ƒè¯•å™¨ä¸€ç›´æ— æ³•æ¥è¿ K210 å¯èƒ½çš„åŸå› ï¼š 1. OpenOCD è°ƒè¯•ç¯å¢ƒæ­å»ºæœ‰é—®é¢˜ï¼ˆç»†èŠ‚è¿™é‡Œä¸è¯´æ˜ï¼‰ 2. çƒ§å½•è¿‡ key_gen.bin ä¹‹åï¼Œå°†æ°¸ä¹…ç¦ç”¨ K210 çš„ JTAG è°ƒè¯•åŠŸèƒ½ ## ä¸‹è½½ï¼Œä¿å­˜è„šæœ¬åˆ° MaixPy å†…éƒ¨flash ä¹‹åï¼Œæ¿å­æ— æ³•æ›´æ–°å›ºä»¶ï¼Œæ— æ³•å¯åŠ¨è¿è¡Œè„šæœ¬ å¯èƒ½ç°è±¡ï¼šä¸‹è½½ï¼Œä¿å­˜è„šæœ¬åˆ° MaixPy å†…éƒ¨flash ä¹‹åï¼Œæ¿å­æ— æ³•æ›´æ–°å›ºä»¶ï¼Œæ¿å­æ— æ³•å¯åŠ¨ 1. ç¨‹åºä¸­æ‹‰é«˜äº† GPIO16, é€ æˆäº†è‡ªåŠ¨ä¸‹è½½ç‚¹ç”µè·¯æ— æ³•æ‹‰ä½ GPIO16,ä½¿ K210 è¿›å…¥ ISP æ¨¡å¼ï¼Œæ‰‹åŠ¨æ‹‰ä½ 16 å·ç®¡è„šå³å¯ ## kflash æ— æ³•çƒ§å½•/æ›´æ–° MaixPy å›ºä»¶ kflash_gui é…ç½®é€‰é¡¹ å¼€å‘æ¿å‹å· å¼€å‘æ¿å‹å·é€‰é”™ çƒ§å½•ç©ºé—´(SRAM/Flash) çƒ§å½•ç©ºé—´é€‰é”™ æ³¢ç‰¹ç‡&ä¸‹è½½é€Ÿåº¦æ¨¡å¼ ä¸‹è½½æ³¢ç‰¹ç‡è¿‡é«˜ ## å‡ºç° type object 'board_info' has no attribute 'XX' è¯·çœ‹[å¼€å‘æ¿é…ç½®æ–‡ä»¶](./../get_started/board_info.html),å¯¹å¼€å‘æ¿è¿›è¡Œé‡æ–°é…ç½® ## TFå¡æ ¼å¼æ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯æ— æ³•è¯»å–TFå¡ï¼ŒæŒ‚è½½å¤±è´¥ è¯·ä½¿ç”¨ ```python from machine import SDCard SDCard.remount() ``` è¿›è¡Œé‡æ–°æŒ‚è½½ ä½¿ç”¨ ```python def sd_check(): import os try: os.listdir(\"/sd/.\") except Exception as e: return False return True print(sd_check()) ``` è¿›è¡Œæ£€æµ‹æ˜¯å¦æŒ‚è½½æˆåŠŸ ## ValueError:[MAIXPY]kpu: load error:2002, ERR_KMODEL_VERSION: onlysupport kmodel V3/V4 now 1ã€æ›´æ–°å›ºä»¶ï¼Œæ›´æ–°å›ºä»¶ï¼Œæ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬æ”¯æŒv3/v4çš„MaixPyå›ºä»¶ï¼Œå…·ä½“æ›´æ–°æ–¹æ³•çœ‹å‰é¢çš„æ–‡æ¡£ 2ã€æ£€æŸ¥å­˜æ”¾æ¨¡å‹çš„ä½ç½®æ˜¯å¦ä¸è¯»å–çš„ä½ç½®æ˜¯å¦ä¸€è‡´ï¼Œå¦‚æœå°†æ¨¡å‹æ”¾åˆ°sdä¸Šï¼Œç„¶åè¯»å–çš„ä½ç½®ä¸ºflashçš„0x300000æ—¶å°±ä¼šå‡ºç°è¿™æ ·çš„é”™è¯¯ 3ã€å¦‚æœæ˜¯ä½¿ç”¨ä»¥ smodel ä¸ºåç¼€æ¨¡å‹ï¼Œå¿…éœ€ä½¿ç”¨è‡ªå·±å¼€å‘æ¿ä¸Šçš„æœºå™¨ç  (ä» MaixHub) æ¥è·å–æ¨¡å‹ã€‚ ## åœ¨ MaixPyIDE ä¸Šè¿è¡Œ boot.py æ–‡ä»¶æ—¶ï¼Œå¡æ­»ï¼Œæ²¡æœ‰æ˜¾ç¤ºï¼Œæ²¡æœ‰æŠ¥é”™ å¦‚æœä½ çš„æ¨¡å‹æ˜¯çƒ§å½•åˆ°flashä¸Šï¼Œä½ éœ€è¦åœ¨ä¸²å£ç»ˆç«¯ä¸Šè¿è¡Œboot.pyé‡Œé¢çš„ä»£ç ï¼Œè¾“å‡ºä¸€æ®µçº¢è‰²çš„æŠ¥é”™ä¿¡æ¯ä¸º`Out of memory`ï¼Œè¿™æ—¶ä½ éœ€è¦å°†æ¨¡å‹æ”¾åˆ°sdä¸Šï¼Œç„¶åå†è¿›è¡Œè¯»å–ï¼ˆä¸€å®šè¦å¯ä»¥æŒ‚è½½çš„sdå¡ï¼Œå¦åˆ™éƒ½æ˜¯ç™½å¹²ï¼‰ ## è¿è¡Œæ¨¡å‹çš„æ—¶å€™æŠ¥ ValueError: [MAIXPY]kpu: load error:2006, ERR. NO_ MEM: memory not enough åŒä¸Š Out of memory ï¼Œè¯·ä½¿ç”¨æ›´å°çš„å›ºä»¶è·å¾—æ›´å¤šçš„è¿è¡Œå†…å­˜ï¼Œæ ‡å‡†å›ºä»¶å¤§äº 2m å‰©ä½™ 1m å¤šï¼ŒåŒç†é€‰ç”¨ 600kb å¯ä»¥è·å¾— 3m å¤šçš„è¿è¡Œå†…å­˜ï¼ŒæŸ¥çœ‹å‰©ä½™è¿è¡Œå†…å­˜çœ‹ [demo_view_mem.py](https://github.com/sipeed/MaixPy v1_scripts/blob/master/basic/demo_view_mem.py)ã€‚ è¿™æ˜¯å†…å­˜ä¸è¶³äº†ï¼Œä¸æ˜¯ flash æˆ–è€…æ˜¯ sd å†…å­˜ä¸å¤Ÿï¼Œæ˜¯è¿è¡Œå†…å­˜ä¸å¤Ÿäº†ã€‚è§£å†³åŠæ³•ï¼š 1. è¿™æ—¶éœ€è¦è·Ÿæ¢ mini å›ºä»¶å¾—ä»¥è§£å†³ï¼Œå¦‚æœè¿˜æ˜¯ä¸è¡Œï¼Œé‚£å°±è¦å‡å°‘è®­ç»ƒçš„æ—¶å€™ä½¿ç”¨çš„æ•°æ®é›† 2. æˆ–è€…é€šè¿‡æŸ¥çœ‹ã€[å†…å­˜ç®¡ç†](./../course/others/mem.html)ã€‘è¿™ç¯‡æ•™ç¨‹è¿›è¡Œå¯¹å†…å­˜å’Œ GC è¿›è¡Œè°ƒæ•´ ## OSEerror: [Errno 2] ENOENT/OSError:[Error 5] EIO æ‰€éœ€è¦è¯»å–çš„æ–‡ä»¶ä¸å­˜åœ¨å¯¹åº”çš„è·¯å¾„ä¸Šï¼Œå¦‚æœè¿™ä¸ªæ–‡ä»¶æ˜¯åœ¨sdå¡ä¸Šçš„è¯ï¼Œå»ºè®®æŸ¥çœ‹sdå¡æ˜¯å¦æŒ‚è½½äº† ä½¿ç”¨ä¸€ä¸‹ä»£ç åˆ¤æ–­å†…å­˜æ˜¯å¦æŒ‚è½½ä¸Šï¼Œå¦‚æœæŒ‚è½½ä¸ä¸Šä¼šæ”¾å›Falseï¼Œå¯èƒ½æ˜¯å¡ä¸å…¼å®¹ï¼Œæˆ–è€…æ˜¯å¡æ²¡æœ‰æ ¼å¼åŒ–å¥½ï¼Œå¦‚æœä¸æ˜¯åœ¨å®˜æ–¹åº—ä¹°çš„å¡ï¼Œä¸èƒ½ä¿è¯èƒ½ç”¨(`å®˜æ–¹å¡å‡ºç°ä¸èƒ½ä½¿ç”¨çš„åŠæ—¶ä¸å®¢æœåé¦ˆ`) ```python def sd_check(): import os try: os.listdir(\"/sd/.\") except Exception as e: return False return True print(sd_check()) ``` å¯ä»¥ä½¿ç”¨ä¸‹é¢ä»£ç è¿›è¡Œé‡æ–°æŒ‚è½½ ```python from machine import SDCard SDCard.remount() ``` ## ä¸²å£ç»ˆç«¯æ‰“ä¸å¼€æ¿å­ï¼Œä½†æ˜¯ideå¯ä»¥è¿è¡Œ 1ã€æ£€æŸ¥ä¸²å£æ˜¯ä¸æ˜¯è¢«ideå ç”¨äº†ï¼Œå› ä¸ºä¸²å£åªèƒ½ç”¨ä¸€ä¸ªè½¯ä»¶è¿›è¡Œæ‰“å¼€ã€‚ 2ã€ä½¿ç”¨ ide ä¸­è½¯ä»¶èœå•çš„ä¸²å£ç»ˆç«¯æ‰“å¼€ ## ValueError: [MAIXPY]kpu: load error:2005,ERR_READ_FILE: read file failed è¯»å–æ–‡ä»¶å¤±è´¥ï¼ˆread file failedï¼‰ é‡æ–°è·å–æ¨¡å‹ï¼Œé‡æ–°çƒ§å½•æ¨¡å‹ï¼Œé‡æ–°å¯¼å…¥æ¨¡å‹ã€‚ æ£€æŸ¥æ–‡ä»¶æ˜¯ä¸æ˜¯æŸåäº†ï¼Œç”¨æ ¡éªŒå·¥å…·å¯¹æ¯”ä¸€ä¸‹ã€‚ æ£€æŸ¥sdå¡ä¸Šçš„æ¨¡å‹æ¨¡å‹å’Œä»£ç ä¸­çš„åå­—ä¸è·¯å¾„æ˜¯ä¸æ˜¯ä¸€æ ·çš„ã€‚ æ£€æŸ¥æ¨¡å‹ä¸‹è½½åœ°å€æ˜¯ä¸æ˜¯å’Œç¨‹åºä¸€æ ·ã€‚ ## çƒ§å½•äº† key_gen.bin ä¹‹åçš„æ“ä½œ çƒ§å½• key_gen.bin ä¹‹åï¼Œé€šè¿‡ä¸²å£è½¯ä»¶æ¥è¿æ¥å¼€å‘æ¿ï¼Œç„¶åæŒ‰ä¸‹ reset æŒ‰é”®ï¼Œé‡å¯å¼€å‘æ¿ï¼Œå¯ä»¥çœ‹åˆ°æœºå™¨ç æ‰“å°åˆ°ä¸²å£çš„æ¥æ”¶åŒºä¸­ã€‚ä¹Ÿå¯ä»¥é€šè¿‡ MaixPy IDE ä¸­çš„ [ä¸²å£ç»ˆç«¯](/soft/maixpy/zh/get_started/env_serial_tools.html#MaixPy IDEç»ˆç«¯å·¥å…·)æ¥è¿æ¥å¼€å‘æ¿æŸ¥çœ‹æœºå™¨ç ã€‚ è·å–åˆ°æœºå™¨ç ä¹‹åï¼Œéœ€è¦é‡æ–°çƒ§å½•éœ€è¦ä½¿ç”¨çš„å›ºä»¶æ‰èƒ½è¿è¡Œå¯¹åº”çš„ä»£ç ã€‚å¦åˆ™æ˜¯è¿ IDE éƒ½æ— æ³•è¿æ¥çš„ ## æ‘„åƒå¤´æ‹æ‘„çš„æ¨¡ç³Š ä½¿ç”¨ OV5642 æ‘„åƒå¤´æ‹æ‘„å‡ºæ¥çš„ç”»é¢æ¨¡ç³Šï¼Œå¯ä»¥é€šè¿‡æ‰­åŠ¨æ‘„åƒå¤´æ¥è¿›è¡Œè°ƒæ•´ç„¦è·ã€‚å¦‚æœä½¿ç”¨å…¶ä»–çš„æ‘„åƒå¤´æ‹æ‘„çš„æ¨¡ç³Šä¹Ÿæ˜¯åŒç†ï¼Œä½†æœ‰äº›æ‘„åƒå¤´ç‰¹æ€§å°±æ˜¯å¦‚æ­¤ï¼Œåªèƒ½é€šè¿‡æ›´æ”¹æ‘„åƒå¤´æ¥è¿›è¡Œä¿®æ”¹ ## çƒ§å½•æ¨¡å‹æˆ–è€…å›ºä»¶ï¼Œå‡ºç°èŠ±å±ã€å±å¹•é¢œè‰²ä¸å¯¹ã€å±å¹•é¢œè‰²å•ä¸€ è¿™æ—¶éœ€è¦ä½¿ç”¨ kflash æ¥å¯¹ flash æ•´ç‰‡æ“¦é™¤ï¼Œç„¶åé‡æ–°çƒ§å½• å›ºä»¶ å’Œ æ¨¡å‹ã€‚ çƒ§å½•æ¨¡å‹åˆ° flsah çš„æ—¶å€™ä¸€å®šè¦æ³¨æ„çƒ§å½•çš„ä½ç½®ï¼Œæ˜¯å¦æ­£ç¡®ï¼ˆæ•°æ¸…æ¥šå¯¹åº” 0 çš„ä¸ªæ•°ï¼‰ã€‚ æ¯”å¦‚å¸¸è§çš„ç™½è‰²èŠ±å±ä»¥åŠé»„å±å°±æ˜¯å›ºä»¶çƒ§é”™ï¼Œéœ€è¦æ“¦é™¤é‡çƒ§æ ‡å‡†å›ºä»¶å°±æ­£å¸¸äº†ï¼Œä¸»è¦å› ä¸ºå±å¹•é…ç½®ä¸åŒå¯¼è‡´çš„ã€‚ æ¯”å¦‚ç»¿å±å¯èƒ½æ˜¯æ‘„åƒå¤´æŸåäº†è¾“å‡ºäº†ç»¿è‰²å›¾åƒã€‚ æ¯”å¦‚çº¢å±æ˜¯æ­£å¸¸çš„ï¼Œä½†éœ€è¦ç”¨æˆ·ä¸‹è½½ç¨‹åºã€‚ è“å±çš„è¯éœ€è¦å®Œå…¨æ“¦é™¤ç‰‡å†… flash åå†é‡æ–°çƒ§å½•ã€‚ ![yellow_lcd](./../../../../../news/MaixPy/mixly_application/accets/k210_usage/yellow_lcd.png) ## TypeError: Can't convert to type é”™è¯¯ Maixpy ide æŒ‚ç€è¿è¡Œæ—¶å†…å­˜ä¸è¶³ï¼Œå°±ä¼šå‡ºç°çš„å¸¸è§é”™è¯¯ï¼Œè§£å†³æ–¹æ³•ï¼Œæ¢æˆèœå•çš„æ‰“å¼€ç»ˆç«¯è¿è¡Œï¼Œæˆ–è®©å†…å­˜æœ‰ä¸€å®šé¢„ç•™å°±ä¸ä¼šå‡ºç°äº†ã€‚ ## kpu:check img format err! æ³¨æ„çœ‹ç»ˆç«¯è¾“å‡ºæç¤ºï¼Œç‰¹åˆ«å¼ºè°ƒï¼ï¼ï¼ ç°è‰²å­—ä½“çš„é”™è¯¯ kpu img w 320, h 240 but model w 224, h 224 æ„æ€æ˜¯è¯´ï¼Œè¿™ä¸ªæ¨¡å‹çš„è¦æ±‚æ˜¯ 224 224 ï¼Œä½†è¾“å…¥çš„æ˜¯ 320 240 ã€‚ æ‰€ä»¥è¦æ”¹å›¾ç‰‡ä¸º 224 224 è¾“å…¥ï¼Œå¦‚æœæ˜¯ 128 128 åŒç†ä¿®æ”¹å›¾ç‰‡å°ºå¯¸ï¼ï¼ï¼ï¼ï¼ è¦ä¹ˆä½¿ç”¨ sensor.set_windowing æ”¹å˜æ‘„åƒå¤´è¾“å…¥å¤§å°ï¼Œè¦ä¹ˆå¯¹ å›¾åƒ img.resize æ”¹å˜å›¾åƒå¤§å°ã€‚ ## ValueError input not support æ£€æŸ¥ä¸€ä¸‹ Python ä»£ç å‡ºé”™è¡Œï¼Œæ’æŸ¥ ValueError é”™è¯¯ï¼Œä¸€èˆ¬å‘ç”Ÿåœ¨è¾“å…¥çš„ç±»å‹ä¸ä¸ç›®æ ‡å‡½æ•°æ‰€éœ€çš„ç±»å‹ä¸€è‡´å¯¼è‡´çš„é”™è¯¯ï¼Œå¯èƒ½æ˜¯å†…å­˜ä¸è¶³å¯¼è‡´å¯¹è±¡ä¸º None ä¹Ÿå¯èƒ½æ˜¯ç±»è¢«å›æ”¶äº†ã€‚ ## OSError reset failed è¿™ç§æƒ…å†µè¡¨ç¤ºæ¿å¡å¯¹æ‘„åƒå¤´åˆå§‹åŒ–å¤±è´¥äº†ï¼Œå¯ä»¥çœ‹åˆ° `sensor.reset()` æ˜¯æœ‰åˆå§‹åŒ–æ‘„åƒå¤´çš„åŠŸèƒ½çš„ã€‚ ![os_error](./assets/maixpy_faq/os_error.png) 1. æ‘„åƒå¤´æ¥çº¿é”™è¯¯ï¼Œæ¿å¡ä¸èƒ½æ­£å¸¸å¯¹æ‘„åƒå¤´è¿›è¡Œåˆå§‹åŒ–æ“ä½œã€‚ 2. æ‘„åƒå¤´æŸåï¼Œæ¿å¡æ— æ³•å¯¹æ‘„åƒå¤´åˆå§‹åŒ–ã€‚ å»ºè®®ä½¿ç”¨ Sipeed æ‰€æä¾›çš„æ‘„åƒå¤´ï¼Œç”¨æˆ·è‡ªè¡Œé…å¤‡çš„å¯èƒ½å› ä¸ºçº¿åºä¸ç¬¦æˆ–è€…æ‘„åƒå¤´é©±åŠ¨ä¸æ”¯æŒç­‰åŸå› è€Œä¸èƒ½ç”¨ã€‚ ## åç¼€åä¸º kmodel å’Œ smodel çš„æ¨¡å‹æ–‡ä»¶æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ åç¼€åä¸º kmodel çš„æ¨¡å‹æ–‡ä»¶æ˜¯ç”¨æ¥é˜è¿°è¿™ä¸ªæ¨¡å‹çš„å½¢çŠ¶ç»“æ„å’Œå‚æ•°ã€‚ è€Œ smodel æ¨¡å‹éœ€è¦ç”¨åˆ°æœºå™¨ç ï¼›æœºå™¨ç æ˜¯ä¸€æœºä¸€ç çš„ä¸€ç§åŠ å¯†æ–¹å¼ï¼Œç”¨äºæ¨¡å‹æ–‡ä»¶çš„åŠ å¯†ã€‚å¦‚æœä½¿ç”¨åˆ«çš„æœºå™¨ç å»åŠ å¯†æˆ–è€…ä¸‹è½½å…¶ä»–ä»¥ smodel ä¸ºæ–‡ä»¶åç¼€çš„æ¨¡å‹æ–‡ä»¶ï¼Œå¼€å‘æ¿æ˜¯æ— æ³•ä½¿ç”¨è¿™äº›æ¨¡å‹æ–‡ä»¶çš„!! ## MemoryError: Out of normal MicroPython Heap Memory å‰å¾€ ï¼š [https://neucrack.com/p/325](https://neucrack.com/p/325#%E5%86%85%E5%AD%98%E4%B8%8D%E5%A4%9F%20%EF%BC%88MemoryError:%20Out%20of%20normal%20MicroPython%20Heap%20Memory!%EF%BC%89) æŸ¥é˜…ç›¸å…³è§£å†³æ–¹æ³• ## å¦‚ä½•åŒæ—¶è¿è¡Œå¤šä¸ªæ¨¡å‹ å…¶å®ä¹Ÿä¸æ˜¯åŒæ—¶è¿è¡Œï¼Œè€Œæ˜¯åˆ†æ—¶è¿è¡Œã€‚ å¦‚æœæœ‰è¶³å¤Ÿå†…å­˜ï¼Œå°±ä¸€æ¬¡æ€§æŠŠå‡ ä¸ªæ¨¡å‹åŠ è½½åˆ°å†…å­˜ï¼Œ ç„¶ååˆ†åˆ«åˆ†æ—¶è¿è¡Œæ¨ç†ã€‚ å¦‚æœå†…å­˜ä¸è¶³ï¼ŒåŠ è½½ç¬¬ä¸€ä¸ªæ¨¡å‹ï¼Œè¿è¡Œåæ³¨é”€ï¼ˆä½¿ç”¨ `kpu.deinit`ï¼‰ï¼Œå†åŠ è½½è¿è¡Œç¬¬äºŒä¸ªæ¨¡å‹éƒ¨åˆ†æˆ–å…¨éƒ¨æ¨¡å‹ã€‚ä½¿ç”¨ `load_flash` çš„æ–¹å¼åŠ è½½æ¨¡å‹ï¼Œå®æ—¶ä» flash è¯»å–å†…å®¹ã€‚ ## å¦‚ä½•åŠ è½½å¤§æ¨¡å‹ ç”±äº K210 çš„ RAM çš„è¿è¡Œé™åˆ¶ï¼Œå½“éœ€è¦åŠ è½½å¤§æ¨¡å‹æ–‡ä»¶æ—¶ï¼Œå¯ä»¥é€šè¿‡ç›´æ¥ Flash ä¸­åŠ¨æ€åŠ è½½å¹¶è¿è¡Œã€‚ å…·ä½“ç”¨æ³•å‰å¾€ github: ä½¿ç”¨è¯´æ˜:[ç‚¹æˆ‘github](https://github.com/sipeed/MaixPy v1_scripts/blob/master/machine_vision/load_big_model/README_ZH.md) å…·ä½“ä»“åº“:[ç‚¹æˆ‘github](https://github.com/sipeed/MaixPy v1_scripts/tree/master/machine_vision/load_big_model) ## could not open port 'COMxx':Permission é”™è¯¯ è¿™ç§æƒ…å†µæ˜¯å› ä¸ºä¸²å£è¢«å ç”¨äº†ï¼Œè‡ªå·±å°†ä½¿ç”¨è¿‡ä¸²å£çš„ç¨‹åºå…³é—­æ‰å°±è¡Œã€‚å®åœ¨ä¸ä¼šè§£å†³çš„è¯é‡å¯ç”µè„‘ä¹Ÿèƒ½è¾¾åˆ°å…³é—­æ‰€æœ‰ä½¿ç”¨ä¸²å£ç¨‹åºçš„æ•ˆæœã€‚ ## Maix Dock ä¸²å£ä¸èƒ½ç”¨ Maix Dock ä¸èƒ½ä½¿ç”¨ MobaXterm æˆ–å…¶ä»– ä¸æ”¯æŒæ‰‹åŠ¨ä¸²å£æµæ§åˆ¶çš„è½¯ä»¶ æ¥è¿›è¡Œä¸²å£é€šä¿¡ã€‚ ä¸ºäº†èŠ‚çœæ—¶é—´ï¼Œå»ºè®®ä½¿ç”¨ MaixPy IDE æ¥è¿›è¡Œé€šä¿¡ã€‚ å¯ä»¥åœ¨ MaixPy IDE é¡¶éƒ¨èœå•æ  å·¥å…· >æ‰“å¼€ç»ˆç«¯ >æ–°ç»ˆç«¯ >è¿æ¥åˆ°ä¸²å£ >é€‰æ‹©æ­£ç¡®çš„ä¸²å£ >115200æ³¢ç‰¹ç‡ æ¥æ–°å»ºä¸€ä¸ªç»ˆç«¯ï¼Œåœ¨è¿™é‡Œé¢ä½¿ç”¨ä¸²å£ã€‚ ![sipeed_maix_dock_terminal](./../../assets/hardware/maix_dock/sipeed_maix_dock_terminal.png) ## çƒ§å½•å›ºä»¶é€”ä¸­å‡ºç°æ¡æ‰‹å¤±è´¥ç­‰æŠ¥é”™ä¿¡æ¯ ![kflash_gui](./../../../../../news/MaixPy/mixly_application/accets/k210_usage/kflash_gui.jpg) ä¸€èˆ¬å‡ºç°è¿™ä¸ªé—®é¢˜ï¼Œå…ˆä»ä»¥ä¸‹å‡ ä¸ªæ–¹é¢åˆ¤æ–­é—®é¢˜ï¼ˆå› ä½¿ç”¨ç¯å¢ƒä¸åŒé€ å°±çš„è®¾å¤‡æ¡æ‰‹å¤±è´¥ï¼‰ 1. è®¾å¤‡ç®¡ç†å™¨æ²¡æœ‰ `COM` ç«¯å£ï¼Œé‡æ–°å®‰è£…ä¸²å£é©±åŠ¨æˆ–è€…æ›´æ¢ USB çº¿æå†æ¬¡å°è¯•ã€‚ 2. è®¾å¤‡ç®¡ç†å™¨å‡ºç° `COM` ç«¯å£ï¼Œä½†æ˜¯ä¸²å£è¢«å…¶å®ƒè½¯ä»¶å ç”¨äº†ï¼Œé‡æ–°æ’æ‹”ä¸€æ¬¡ USB å³å¯ã€‚ 3. æ›´æ–°çƒ§å½•è½¯ä»¶åˆ°æœ€æ–°ç‰ˆæœ¬ï¼š[ç‚¹æˆ‘](https://dl.sipeed.com/shareURL/MAIX/tools/kflash_gui)ã€‚ 4. çƒ§å½•å‰ä¾æ¬¡æŒ‰ä½ BOOT å’Œ RST æŒ‰é”®ï¼Œç„¶åæŒ‰é¡ºåºæ¾å¼€ RST æŒ‰é”®å’Œ BOOT æŒ‰é”®ï¼Œä½¿èŠ¯ç‰‡è¿›è¡Œçƒ§å½•æ¨¡å¼ã€‚ 5. å°è¯•è¿‡ä»¥ä¸Šçš„æ–¹æ³•éƒ½ä¸è¡Œçš„è¯è¯·æ›´æ¢ç”µè„‘è®¾å¤‡å°è¯•ï¼Œå¯èƒ½ç”±äº USB HUB æˆ–è€… USB çº¿ç¼†ç­‰å¤–éƒ¨å› ç´ å¯¼è‡´çš„ã€‚ ## æ‘„åƒå¤´å‡ºç°é»‘æ–‘ç°è±¡ ![sensor_error](./../../../../../news/MaixPy/mixly_application/accets/k210_usage/sensor_error.png) æ˜¾ç¤ºé»‘æ–‘ï¼Œä½†æ˜¯æœ‰æ­£å¸¸ç”»é¢ã€‚è¯´æ˜æ‘„åƒå¤´å†…ç‰‡ä¸å¹²å‡€ï¼Œæ‹†å¼€æ‘„åƒå¤´åå°å¿ƒæ“¦æ‹­ä¸‹ã€‚ ## è¿è¡Œæ‘„åƒå¤´ç¨‹åºæ˜¾ç¤ºï¼šRuntimeErrorï¼šSensor timeout! æ‘„åƒå¤´è¿æ¥è¶…æ—¶ï¼Œæ›´æ¢æ‘„åƒå¤´ã€‚ ## çƒ§å½•å›ºä»¶åç”»é¢åè‰² æ“¦é™¤ã€çƒ§å½•å›ºä»¶ï¼Œä½¿ç”¨ä»£ç åè‰²å±å¹•ï¼š[ç‚¹æˆ‘æŸ¥çœ‹](https://wiki.sipeed.com/soft/maixpy/zh/course/image/basic/display_images.html?highlight %E5%8F%8D%E8%89%B2)ã€‚ ## å­¤è¯è¯­å¥æ¨¡å—è¿›å…¥å½•éŸ³çŠ¶æ€åæ˜¾ç¤ºï¼šIdle 2 é˜…è¯» [å½•å…¥è¯æ±‡æ¨¡æ¿](https://wiki.sipeed.com/soft/maixpy/zh/course/speech/recognizer_mfcc.html#%E5%BD%95%E5%85%A5%E8%AF%8D%E6%B1%87%E6%A8%A1%E6%9D%BF) å’Œ [isolated_word API](https://wiki.sipeed.com/soft/maixpy/zh/api_reference/machine_vision/isolated_word.html)æ¥äº†è§£æ›´å¤š ## K210 æ˜¯å¦æ”¯æŒ TensorFlow .h5/.tflite æ ¼å¼æ¨¡å‹ K210 æ”¯æŒ TensorFlow .h5/.tflite æ ¼å¼æ¨¡å‹ï¼Œä½†ä½¿ç”¨çš„æ—¶å€™ç”¨ nncase å·¥å…·è½¬åŒ–æˆ `.kmodel` æ ¼å¼æ‰å¯è¿›è¡Œä½¿ç”¨ã€‚ç›¸å…³æ–‡æ¡£é“¾æ¥ï¼š[MaixPy AI ç¡¬ä»¶åŠ é€ŸåŸºæœ¬çŸ¥è¯†](https://wiki.sipeed.com/soft/maixpy/zh/course/ai/basic/maixpy_hardware_ai_basic.html#%E6%A8%A1%E5%9E%8B%E8%BD%AC%E6%8D%A2) ## å½“æ“ä½œå¤±è¯¯éœ€åˆ¤æ–­ K210 ä¸»æ§èŠ¯ç‰‡æ˜¯å¦çŸ­è·¯ ä½¿ç”¨ä¸‡ç”¨è¡¨æŸ¥çœ‹èŠ¯ç‰‡çš„ `1.8/3.3` æ˜¯å¦æœ‰ç”µå‹ï¼Œä¸‹å›¾çº¢æ¡†éƒ½æ˜¯è¾“å‡ºç‚¹ã€‚ ![board_voltage_checkpoint](./assets/maixpy_faq/board_voltage_checkpoint.jpg) ## ä½¿ç”¨ k210 æ›å…‰è¿‡é‡è¿‡ä½å¦‚ä½•è§£å†³ åªæœ‰ K210 é…å¥—çš„ OV2640 æ‘„åƒå¤´æ”¯æŒæ›å…‰è°ƒèŠ‚ï¼Œé˜…è¯» [sensor æ„Ÿå…‰å…ƒä»¶æ›å…‰æ§åˆ¶](https://wiki.sipeed.com/news/MaixPy/sensor.html) äº†è§£æ›´å¤š ## K210 æ˜¯å¦æ”¯æŒ U ç›˜æŒ‚è½½åˆ°ç”µè„‘ K210 ä¸æ”¯æŒ USB è®¾å¤‡ï¼ŒèŠ¯ç‰‡æ²¡æœ‰ USB åŠŸèƒ½ï¼Œæ— æ³•æ¨¡æ‹Ÿ U ç›˜è®¾å¤‡ï¼Œä¸æ”¯æŒæŒ‚è½½æ–‡ä»¶ç³»ç»Ÿåˆ°ç”µè„‘ã€‚ ä¸è¦å†é—®ä¸ºä»€ä¹ˆæ²¡æœ‰ U ç›˜æˆ–è€…æ˜¯æ˜¾ç¤º SD å¡äº†ï¼é‚£ç¤ºä¾‹è®¾å¤‡ä¸æ˜¯ K210 ã€‚ ## K210 ä¸Šç”µåç”µè„‘å¼¹å‡º USB é›†çº¿æœ‰ç”µæ¶Œ è¿™æ˜¯æ¿å¡çŸ­è·¯äº†ï¼Œå¯¼è‡´ usb ç”µæµè¿‡å¤§ç”µè„‘æç¤ºä¿æŠ¤ã€‚ ## MaixHub è®­ç»ƒçš„æ¨¡å‹ï¼Œæ”¾åˆ°å¼€å‘æ¿è¿è¡Œæ—¶ä¸€ç›´æ˜¾ç¤º Loading model... å¯èƒ½æ˜¯çƒ§å½•äº†å†…å­˜å ç”¨æ¯”è¾ƒå¤§çš„å›ºä»¶ï¼Œå¯ä»¥å…ˆæ¢æˆ minimum ç‰ˆæœ¬çš„å›ºä»¶è¯•è¯•ï¼Œå¯ä»¥å†å¯ä»¥å°è¯•æ™®é€šå›ºä»¶ ## OSError: [Errno 5] EIO 1. æ£€æŸ¥ I2C è®¾å¤‡çš„åœ°å€æ˜¯å¦æ­£ç¡®ï¼Œåº”è¯¥æ˜¯ 0x20 è€Œä¸æ˜¯ 20ã€‚ 2. æ£€æŸ¥ I2C å†™å…¥æ•°æ®çš„æ ¼å¼æ˜¯å¦æ­£ç¡®ï¼Œåº”è¯¥ä½¿ç”¨ `b'\\x03'` å’Œ `b'\\x80'` è€Œä¸æ˜¯ `b'x3'` å’Œ `b'x80'`ã€‚ 3. æ£€æŸ¥ I2C å†™å…¥å‘½ä»¤æ˜¯å¦æ­£ç¡®ï¼Œå¦‚æœæ‚¨æƒ³è¦è®¾ç½® PCA9534 çš„è¾“å…¥/è¾“å‡ºæ¨¡å¼ï¼Œåº”è¯¥ä½¿ç”¨ `i2c.writeto_mem (0x20,0x3,b'\\x80')` è€Œä¸æ˜¯ `i2c.writeto (0x20, 2, b'x80')`ã€‚ 4. æ£€æŸ¥ I2C è¿æ¥çº¿æ˜¯å¦ç‰¢å›ºï¼Œæ˜¯å¦æœ‰æ¾åŠ¨æˆ–æ–­è£‚çš„æƒ…å†µã€‚ 5. æ£€æŸ¥ I2C è®¾å¤‡æ˜¯å¦æœ‰æŸåæˆ–è¿‡çƒ­çš„æƒ…å†µã€‚ 6. åœ¨ I2C åˆå§‹åŒ–å’Œä½¿ç”¨ä¹‹é—´æ·»åŠ ä¸€äº›å»¶æ—¶ï¼Œä»¥ç¡®ä¿ I2C ç«¯å£å·²ç»æ¿€æ´»ã€‚ ## AttributeError: 'Image' object has no attribute 'find_blobs' è¯·å‚è€ƒçƒ§å½•å’Œå‡çº§å›ºä»¶æ–‡æ¡£ï¼Œçƒ§å½•å¸¦ openmv å…¨åŠŸèƒ½çš„å›ºä»¶ï¼Œå³å…¨åŠŸèƒ½å›ºä»¶ï¼Œ minimum ç‰ˆæœ¬çš„å›ºä»¶æ˜¯æ²¡æœ‰è¿™ä¸ªå‡½æ•°çš„ï¼ŒåŒç†ï¼Œå…¶å®ƒ openmv çš„å‡½æ•°ä¹Ÿå¦‚æ­¤ã€‚ å¦‚æœè§‰å¾—å…¨åŠŸèƒ½å›ºä»¶å ç”¨å†…å­˜å¤ªå¤§ï¼Œä¹Ÿå¯ä»¥è‡ªå·±ç¼–è¯‘è£å‡å›ºä»¶å¤§å°"},"/soft/maixpy/zh/others/open_projects.html":{"title":"ä¸ MaixPy ç›¸å…³çš„å¼€æºé¡¹ç›®","content":" title: ä¸ MaixPy ç›¸å…³çš„å¼€æºé¡¹ç›® keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy ä¸ MaixPy ç›¸å…³çš„å¼€æºé¡¹ç›® å¦‚æœä½ æœ‰ä»€ä¹ˆè·Ÿ MaixPy ç›¸å…³çš„å¼€æºé¡¹ç›®ï¼Œ æ¬¢è¿é€šè¿‡é‚®ä»¶(support@sipeed.com)æˆ–è€… [issues](https://github.com/sipeed/MaixPy_DOC/issues/new) å‘Šè¯‰æˆ‘ä»¬ï¼Œæˆ–è€…ç›´æ¥ä¿®æ”¹æ–‡æ¡£æäº¤ PR éå¸¸æœŸå¾…å¤§å®¶çš„å¥½ç©æœ‰è¶£æˆ–è€…å®ç”¨çš„ä½œå“å“¦ï½ï½ï½"},"/soft/maixpy/zh/develop_kit_board/core_k210.html":{"title":"K210 æ¨¡å—æ ¸å¿ƒæ¿","content":" title: K210 æ¨¡å—æ ¸å¿ƒæ¿ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy K210 æ¨¡å—æ ¸å¿ƒæ¿ ![K210](./../../assets/hardware/k210/k210 front background.jpg) Kendryte K210 æ˜¯é›†æˆæœºå™¨è§†è§‰ä¸æœºå™¨å¬è§‰èƒ½åŠ›çš„ç³»ç»Ÿçº§èŠ¯ç‰‡ (SoC) .ä½¿ç”¨å°ç§¯ç”µ (TSMC) è¶…ä½åŠŸè€—çš„ 28 çº³ç±³å…ˆè¿›åˆ¶ç¨‹,å…·æœ‰åŒæ ¸ 64 ä½å¤„ç†å™¨,æ‹¥æœ‰è¾ƒå¥½çš„åŠŸè€—æ€§èƒ½,ç¨³å®šæ€§ä¸å¯é æ€§. è¯¥æ–¹æ¡ˆåŠ›æ±‚é›¶é—¨æ§›å¼€å‘,å¯åœ¨æœ€çŸ­æ—¶æ•ˆéƒ¨ç½²äºç”¨æˆ·çš„äº§å“ä¸­,èµ‹äºˆäº§å“äººå·¥æ™ºèƒ½. Kendryte K210 å®šä½äº AI ä¸ IoT å¸‚åœºçš„ SoC ,åŒæ—¶æ˜¯ä½¿ç”¨éå¸¸æ–¹ä¾¿çš„ MCU . Kendryte ä¸­æ–‡å«ä¹‰ä¸º**å‹˜æ™º**,è€Œå‹˜æ™ºå–è‡ªå‹˜ç‰©æ¢æ™º.è¿™é¢—èŠ¯ç‰‡ä¸»è¦åº”ç”¨é¢†åŸŸä¸ºç‰©è”ç½‘é¢†åŸŸ,åœ¨ç‰©è”ç½‘é¢†åŸŸè¿›è¡Œå¼€å‘,å› æ­¤ä¸ºå‹˜ç‰©;è¿™é¢—èŠ¯ç‰‡ä¸»è¦æä¾›çš„æ˜¯äººå·¥æ™ºèƒ½è§£å†³æ–¹æ¡ˆ,åœ¨äººå·¥æ™ºèƒ½é¢†åŸŸæ¢ç´¢,å› æ­¤ä¸ºæ¢æ™º. å…·å¤‡æœºå™¨è§†è§‰èƒ½åŠ› å…·å¤‡æœºå™¨å¬è§‰èƒ½åŠ› æ›´å¥½çš„ä½åŠŸè€—è§†è§‰å¤„ç†é€Ÿåº¦ä¸å‡†ç¡®ç‡ å…·å¤‡å·ç§¯äººå·¥ç¥ç»ç½‘ç»œç¡¬ä»¶åŠ é€Ÿå™¨ KPU ,å¯é«˜æ€§èƒ½è¿›è¡Œå·ç§¯äººå·¥ç¥ç»ç½‘ç»œè¿ç®— TSMC 28nm å…ˆè¿›åˆ¶ç¨‹,æ¸©åº¦èŒƒå›´ 40Â°C åˆ° 125Â°C ,ç¨³å®šå¯é  æ”¯æŒå›ºä»¶åŠ å¯†,éš¾ä»¥ä½¿ç”¨æ™®é€šæ–¹æ³•ç ´è§£ ç‹¬ç‰¹çš„å¯ç¼–ç¨‹ IO é˜µåˆ—,ä½¿äº§å“è®¾è®¡æ›´åŠ çµæ´» ä½ç”µå‹,ä¸ç›¸åŒå¤„ç†èƒ½åŠ›çš„ç³»ç»Ÿç›¸æ¯”å…·æœ‰æ›´ä½åŠŸè€— 3.3V/1.8V åŒç”µå‹æ”¯æŒ,æ— éœ€ç”µå¹³è½¬æ¢,èŠ‚çº¦æˆæœ¬ 1. AI è§£å†³æ–¹æ¡ˆ ## 1.1. æœºå™¨è§†è§‰ Kendryte K210 å…·å¤‡æœºå™¨è§†è§‰èƒ½åŠ›,æ˜¯é›¶é—¨æ§›æœºå™¨è§†è§‰åµŒå…¥å¼è§£å†³æ–¹æ¡ˆ.å®ƒå¯ä»¥åœ¨ä½åŠŸè€—æƒ…å†µä¸‹è¿›è¡Œå·ç§¯ç¥ç»ç½‘ç»œè®¡ç®—. è¯¥èŠ¯ç‰‡å¯ä»¥å®ç°ä»¥ä¸‹æœºå™¨è§†è§‰èƒ½åŠ›: åŸºäºå·ç§¯ç¥ç»ç½‘ç»œçš„ä¸€èˆ¬ç›®æ ‡æ£€æµ‹ åŸºäºå·ç§¯ç¥ç»ç½‘ç»œçš„å›¾åƒåˆ†ç±»ä»»åŠ¡ äººè„¸æ£€æµ‹å’Œäººè„¸è¯†åˆ« å®æ—¶è·å–è¢«æ£€æµ‹ç›®æ ‡çš„å¤§å°ä¸åæ ‡ å®æ—¶è·å–è¢«æ£€æµ‹ç›®æ ‡çš„ç§ç±» 1.2. æœºå™¨å¬è§‰ Kendryte K210 å…·å¤‡æœºå™¨å¬è§‰èƒ½åŠ›.èŠ¯ç‰‡ä¸Šè‡ªå¸¦é«˜æ€§èƒ½éº¦å…‹é£é˜µåˆ—éŸ³é¢‘å¤„ç†å™¨,å¯ä»¥è¿›è¡Œå®æ—¶å£°æºå®šå‘ä¸æ³¢æŸå½¢æˆ. è¯¥èŠ¯ç‰‡å¯ä»¥å®ç°ä»¥ä¸‹æœºå™¨å¬è§‰èƒ½åŠ›: å£°æºå®šå‘ å£°åœºæˆåƒ æ³¢æŸå½¢æˆ è¯­éŸ³å”¤é†’ è¯­éŸ³è¯†åˆ« 1.3. è§†è§‰ / å¬è§‰æ··åˆè§£å†³æ–¹æ¡ˆ Kendryte K210 å¯ç»“åˆæœºå™¨è§†è§‰å’Œæœºå™¨å¬è§‰èƒ½åŠ›,æä¾›æ›´å¼ºå¤§çš„åŠŸèƒ½.ä¸€æ–¹é¢,åœ¨åº”ç”¨ä¸­æ—¢å¯ä»¥é€šè¿‡å£°æºå®šä½å’Œå£°åœºæˆåƒè¾…åŠ©æœºå™¨è§†è§‰å¯¹ç›®æ ‡çš„è·Ÿè¸ª,åˆå¯ä»¥é€šè¿‡ä¸€èˆ¬ç›®æ ‡æ£€æµ‹è·å¾—ç›®æ ‡çš„æ–¹ä½åè¾…åŠ©æœºå™¨å¬è§‰å¯¹è¯¥æ–¹ä½è¿›è¡Œæ³¢æŸå½¢æˆ.å¦ä¸€æ–¹é¢,å¯ä»¥é€šè¿‡æ‘„åƒå¤´ä¼ æ¥çš„å›¾åƒè·å¾—äººçš„æ–¹å‘å,ä½¿å¾—éº¦å…‹é£é˜µåˆ—é€šè¿‡æ³¢æŸå½¢æˆæŒ‡å‘è¯¥äºº.åŒæ—¶ä¹Ÿå¯ä»¥æ ¹æ®éº¦å…‹é£é˜µåˆ—ç¡®å®šä¸€ä¸ªè¯´è¯äººçš„æ–¹å‘,è½¬åŠ¨æ‘„åƒå¤´æŒ‡å‘è¯¥äºº. 2. èµ„æ–™ä¸‹è½½ Kendryte å®˜ç½‘ä¸‹è½½é¡µé¢ å…¶ä¸­å¿…çœ‹çš„æœ‰ datasheet Kendryte Github"},"/soft/maixpy/zh/develop_kit_board/grove_ai_hat.html":{"title":"Grove AI HAT","content":" title: Grove AI HAT keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy Grove AI HAT ## å¤–è§‚åŠåŠŸèƒ½ä»‹ç» ### å¤–è§‚ä¸€è§ˆ ![Grove AI HAT](../../assets/hardware/grove_ai_hat/grove_ai_hat1.png) ### æ¿è½½åŠŸèƒ½ é¡¹ç›® è¯´æ˜ CPUï¼š åŒæ ¸ 64bit RISC V / 400MHz (åŒç²¾åº¦FPUé›†æˆ) å†…å­˜ï¼š 8MiB 64bit ç‰‡ä¸Š SRAM å­˜å‚¨ï¼š 16MiB Flash å±å¹•ï¼ˆå¥—é¤ï¼‰ï¼š 2.4 å¯¸ TFT, ç”µå®¹è§¦æ‘¸å±å¹•åˆ†è¾¨ç‡ï¼š320\\*240 æ‘„åƒå¤´ï¼ˆå¥—é¤ï¼‰ï¼š æ­è½½ **OV7740** æˆ– **OV5642** **30W** åƒç´  **Sensor** æŒ‰é”®ï¼š å¤ä½æŒ‰é”®ï¼Œç”µæºæŒ‰é”®ï¼ˆçŸ­æŒ‰å¼€æœºï¼Œé•¿æŒ‰ *8S* å…³æœºï¼‰ USBï¼š Type C æ¥å£ï¼Œæ­£åç›²æ’ æ¿è½½ä¼ æ„Ÿå™¨ï¼š ä¸‰è½´åŠ é€Ÿåº¦ä¼ æ„Ÿå™¨ï¼ˆADXL345BCCZ RLï¼‰ï¼ŒADCï¼ˆADS1115IDGSï¼‰ ### ç¡¬ä»¶æ¿è½½æ‰©å±•æ¥å£ è¯¥å¼€å‘ç‰ˆå¯¹ç”¨æˆ·å¼€æ”¾äº†å››ä¸ª [Grove](https://cn.maixpy.sipeed.com/zh/modules/grove/) æ¥å£,ç”¨æˆ·å¯ä»¥å¾ˆæ–¹ä¾¿çš„è¿›è¡Œ DIYã€‚ ### æ¿è½½ I2C è®¾å¤‡ ä¼ æ„Ÿå™¨ åŠŸèƒ½ I2C åœ°å€(7ä½åœ°å€) SCL SDA ç¤ºä¾‹ä»£ç  ADS1115 ADC 0x48 IO23 IO24 [script](https://github.com/sipeed/MaixPy v1_scripts/tree/master/modules/others/ads1115) ADXL345 ä¸‰è½´åŠ é€Ÿåº¦è®¡ 0x53 IO23 IO24 [script](https://github.com/sipeed/MaixPy v1_scripts/tree/master/modules/others/adxl345) ## èµ„æºä¸‹è½½ [åŸç†å›¾](http://dl.sipeed.com/fileList/MAIX/HDK/Sipeed Grove_AI_HAT/Grove_AI_HAT_for_Edge_Computing_v1.0_SCH_190514.pdf)"},"/soft/maixpy/zh/develop_kit_board/maix_amigo.html":{"title":"MaixAmigo","content":" title: MaixAmigo keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®—, MaixAmigo desc: maixpy MaixAmigo ## æ¦‚è¿° SIPEED **MaixAmigo** å¯å¼€å‘ç¼–ç¨‹å­¦ä¹ å¥—ä»¶, MaixAmigo åœ¨ç¡¬ä»¶ä¸Šé›†æˆå‰åå„ 30W åƒç´ æ‘„åƒå¤´ã€å¯æ‰©å±• TF å¡æ§½ã€ç”¨æˆ·æŒ‰é”®ã€3.5â€˜TFT å¯¸æ˜¾ç¤ºå±ã€520mAh é”‚ç”µæ± ã€æ‰¬å£°å™¨,éº¦å…‹é£ã€SPMOD,GROVE æ‰©å±•æ¥å£ç­‰ã€‚ è½¯ä»¶ä¸Š MaixAmigo é»˜è®¤æ­è½½ MaixPy, ç”¨æˆ·å¯ä»¥éå¸¸è½»æ¾çš„ä½¿ç”¨ MicroPython è¯­æ³•å¿«é€Ÿè¿›è¡Œäººè„¸è¯†åˆ«ã€ç‰©ä½“åˆ†ç±»ç­‰å¤šç§ AIoT å¼€å‘ï¼ŒåŒæ—¶è¿˜é¢„ç•™å¼€å‘è°ƒè¯•æ¥å£ï¼Œä¹Ÿèƒ½å°†å…¶ä½œä¸ºä¸€æ¬¾åŠŸèƒ½å¼ºå¤§çš„ AI å­¦ä¹ å¼€å‘æ¿ã€‚ ## å¤–è§‚åŠåŠŸèƒ½ä»‹ç» ### å¤–è§‚ä¸€è§ˆ ![MaixAmigo](../../assets/hardware/maix_amigo/maix_amigo_0.png) ### æ¿è½½åŠŸèƒ½ é¡¹ç›® è¯´æ˜ CPUï¼š åŒæ ¸ 64bit RISC V / 400MHz* (åŒç²¾åº¦FPUé›†æˆ) å†…å­˜ï¼š 8MiB 64bit ç‰‡ä¸Š SRAM å­˜å‚¨ï¼š 16MiB Flash, æ”¯æŒ micro SDXC æ‹“å±•å­˜å‚¨ (æœ€å¤§128GB) å±å¹•ï¼š 3.5å¯¸ TFT æ˜¾ç¤ºå±, åˆ†è¾¨ç‡ï¼š320\\*480, æ”¯æŒç”µå®¹è§¦æ‘¸(FT6X36) æ‘„åƒå¤´ï¼š OV7740 (åæ‘„)ä¸GC0328(å‰æ‘„) å„ 30W åƒç´ (æœ€å¤§åˆ†è¾¨ç‡ VGA:640\\*480) ç¯ï¼š ä¸‰é¢—å•è‰² LED ç¯ï¼Œä¸€é¢—é—ªå…‰ç¯ ç”µæ± ï¼š æ¿è½½å¯å……ç”µé”‚èšåˆç‰©ç”µæ±  (å®¹é‡520mAh ) æ¿è½½æ‰¬å£°å™¨ä¸éº¦å…‹é£ é›†æˆå•éŸ³é¢‘æ§åˆ¶å™¨ ES8374 1W 8Î© æ‰¬å£°å™¨ æ¿è½½æ¥å£ï¼š USB C \\*2 (K210 è°ƒè¯•ä¾›ç”µæ¥å£+å…¼å®¹ STM32 æ ¸å¿ƒæ¿ USB æ¥å£) æ¿è½½ä¼ æ„Ÿå™¨: MSA301 ä¸‰è½´åŠ é€Ÿåº¦ä¼ æ„Ÿå™¨ TF å¡æ§½ï¼š å¤šåª’ä½“èµ„æºæ‰©å±•ï¼Œæ”¯æŒå¤§å®¹é‡å‚¨å­˜ ç”µæ± : 520mAh é”‚ç”µæ±  ### å¼•è„šèµ„æº ![MaixAmigo](../../assets/hardware/maix_amigo/sipeed_maix_amigo_vi.jpg) ### ç¡¬ä»¶æ¿è½½æ‰©å±•æ¥å£ MaixAmigo å¯¹ç”¨æˆ·å¼€æ”¾äº†ä¸¤ç§é«˜åº¦æ‰©å±•çš„æ¥å£ï¼šä¸‰ä¸ª [SP MOD](./../modules/sp_mod/index.html) ä¸ ä¸‰ä¸ª [Grove](./../modules/grove/index.html) æ¥å£,ç”¨æˆ·å¯ä»¥å¾ˆæ–¹ä¾¿çš„è¿›è¡Œ DIYã€‚ ### æ¿è½½ I2C è®¾å¤‡ MaixAmigo æ¿è½½ I2C ä¼ æ„Ÿå™¨/IC IC è®¾å¤‡ id I2C åœ°å€(7ä½åœ°å€) MaixPy è¯»å–åœ°å€ ç¤ºä¾‹ä»£ç  ES8374ï¼ˆéŸ³é¢‘è§£ç èŠ¯ç‰‡ï¼‰ 0x08 0x10 D(16) [code](https://github.com/sipeed/MaixPy v1_scripts/blob/79a5485ec983e67bb8861305a52418b29e0dc205/modules/others/es8374/es8374.py) MSA301ï¼ˆä¸‰è½´åŠ é€Ÿè®¡ï¼‰ 0x13 0x26 D(38) [code](https://github.com/sipeed/MaixPy v1_scripts/blob/7fea2359a7f0c05f586be915aa8e6112262e0caa/multimedia/gui/maixui/msa301.py) AXP173ï¼ˆç”µæºç®¡ç†èŠ¯ç‰‡ï¼‰ 0x68 0x34 D(52) [code](https://github.com/sipeed/MaixPy v1_scripts/blob/7fea2359a7f0c05f586be915aa8e6112262e0caa/multimedia/gui/maixui/pmu_axp173.py) ## ä¸Šæ‰‹æŠŠç© MaixAmigo åŒæ ·ä½¿ç”¨ MaixPy å…¥é—¨ AIoT ï¼Œç”±äºç¡¬ä»¶ç‰¹æ®Šæ€§ï¼Œè¯·åœ¨[é…ç½® amigo ç¡¬ä»¶](https://github.com/sipeed/MaixPy v1_scripts/blob/master/board/config_maix_amigo.py) åå†ä½¿ç”¨ MaixPy ï¼ˆå¦‚æœä¸é…ç½®ä¼šå¯¼è‡´æ‘„åƒå¤´æ‹æ‘„çš„ç…§ç‰‡æœ‰å™ªç‚¹ï¼‰ã€‚ è€Œåœ¨å¼€å‘ä¹‹å‰æˆ‘ä»¬éœ€è¦äº†è§£å¹¶å‡†å¤‡ç›¸å…³å·¥å…·ï¼Œä»¥å‡å°‘æˆ‘ä»¬åè¾¹å› ä¸ºå‡†å¤‡ä¸è¶³è€Œèµ°çš„å‘è·¯ ä¸Šæ‰‹æ­¥éª¤: 1. ä¸‹è½½éœ€è¦çš„é©±åŠ¨ï¼Œè½¯ä»¶ 2. å¼€å‘æ¿è¿æ¥ç”µè„‘ï¼Œå¹¶å®‰è£… USB é©±åŠ¨ 3. æ›´æ–°æœ€æ–°å›ºä»¶ 4. ä¸‹è½½å¹¶æ‰“å¼€æœ€æ–°çš„ MaixPy IDE 5. MaixPy IDE è¿æ¥å¼€å‘æ¿ è¿è¡Œ MaixPy ç¤ºä¾‹ç¨‹åº ### è½¯ç¡¬ä»¶å‡†å¤‡ ç¡¬ä»¶å‡†å¤‡: **ç”µè„‘**ä¸€å° **MaixAmigo** å¼€å‘æ¿ **å¯é **çš„ USB Type C æ•°æ®çº¿ä¸€æ¡ï¼šæ³¨æ„ä¸€å®šè¦**å¯é **çš„æ•°æ®çº¿ è½¯ä»¶å‡†å¤‡: USB é©±åŠ¨ï¼š[ç‚¹æˆ‘](https://dl.sipeed.com/shareURL/MAIX/tools/driver) Kflash_guiï¼š[https://dl.sipeed.com/shareURL/MAIX/tools/kflash_gui](https://dl.sipeed.com/shareURL/MAIX/tools/kflash_gui) MaixPy IDE ï¼š[https://dl.sipeed.com/shareURL/MAIX/MaixPy/ide/_/v0.2.5](https://dl.sipeed.com/shareURL/MAIX/MaixPy/ide/_/v0.2.5) ä¾‹ç¨‹ç¨‹åºåº“ï¼š[https://github.com/sipeed/MaixPy v1_scripts](https://github.com/sipeed/MaixPy v1_scripts) ### å®‰è£…é©±åŠ¨ æˆ‘ä»¬åœ¨æ‹¿åˆ° Maix Amigo å¹¶è¿æ¥åˆ°ç”µè„‘çš„æ—¶å€™ï¼Œå¯ä»¥æ‰“å¼€è®¾å¤‡ç®¡ç†å™¨æŸ¥çœ‹ä¸²å£é©±åŠ¨æ˜¯å¦å·²ç»å®‰è£…ï¼Œæ‰“å¼€è®¾å¤‡ç®¡ç†å™¨çš„æ–¹æ³•æœ‰: æ­¤ç”µè„‘(å³é”®) > å±æ€§ > è®¾å¤‡ç®¡ç†å™¨ å¼€å§‹èœå•(å³é”®) > è®¾å¤‡ç®¡ç†å™¨ æ§åˆ¶é¢æ¿ > (æœç´¢)è®¾å¤‡ç®¡ç†å™¨ <img src \"../../assets/get_started/win_device_1.png\" height \"400\"> 1. å½“æˆ‘ä»¬çš„ç³»ç»Ÿæ˜¯ Win10 ç³»ç»Ÿï¼Œç³»ç»Ÿåˆ™ä¼šå¸®æˆ‘ä»¬è‡ªåŠ¨å®‰è£…é©±åŠ¨ï¼Œè€Œå¦‚æœæ˜¯æ—§ç‰ˆ Win7ï¼Œwin8 ç³»ç»Ÿæˆ‘ä»¬å°±éœ€è¦è‡ªå·±æ‰‹åŠ¨å®‰è£…: ![](../../assets/get_started/win_device_2.png) 1. æ‰“å¼€ä¸Šä¸€èŠ‚çš„çš„é“¾æ¥ä¸‹è½½é©±åŠ¨ ![](../../assets/get_started/win_device_3.png) 1. ç‚¹å‡»å®‰è£… ![](../../assets/get_started/drives.gif) 1. å®‰è£…å®Œæˆä¹‹åï¼Œå¯ä»¥åœ¨è®¾å¤‡ç®¡ç†å™¨çœ‹åˆ°å·²ç»è¯†åˆ«åˆ°ä¸¤ä¸ªä¸²å£è®¾å¤‡äº† ![](../../assets/get_started/win_device_4.png) ### æ›´æ–°å›ºä»¶åˆ°æœ€æ–°ç‰ˆ ç”¨æˆ·æ‹¿åˆ°å¼€å‘æ¿ä¹‹åï¼Œæ¿è½½çš„å›ºä»¶é»˜è®¤æˆ–è®¸å·²ç»ä¸æ˜¯æœ€æ–°ç‰ˆçš„ï¼Œé‚£ä¹ˆåœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­ä¼šå­˜åœ¨æˆ–å¤šæˆ–å°‘çš„ bugï¼Œ æˆ‘ä»¬è¿™æ—¶å€™å°±éœ€è¦æ›´æ–°å›ºä»¶ç‰ˆæœ¬åˆ°æœ€æ–°ç‰ˆæœ¬ æ›´æ–°æ–¹æ³•æŸ¥çœ‹ï¼š[æ›´æ–°å›ºä»¶](../get_started/upgrade_maixpy_firmware.html) **è‹¥ä½¿ç”¨ amigo å¼€å‘æ¿ï¼Œè¯·çƒ§å½•å¤§äºæˆ–ç­‰äº v0.6.2_12 ç‰ˆæœ¬çš„ä¸“ç”¨ amigo å›ºä»¶ï¼ˆä¾‹å¦‚ï¼šmaixpy_v0.6.2_12_gf18990aa3_amigo_tft(ips)_xxxx.binï¼‰ï¼Œå®ƒä¸æ ‡å‡† maixpy å›ºä»¶çš„å·®å¼‚åœ¨äºå…¶å†…ç½®äº† amigo ç¡¬ä»¶çš„é…ç½®ï¼ˆconfig.jsonï¼‰ï¼Œå¹¶ä¸”å±å¹•ç±»å‹åˆ†ä¸º ips å’Œ tft ï¼Œçƒ§å½•ä»»æ„å±å¹•ç±»å‹å›ºä»¶éƒ½æ˜¯å¯ä»¥å¯åŠ¨çš„ï¼Œä½†ä¸åŒå±å¹•çš„æ˜¾ç¤ºä¼šä¸æ­£å¸¸ï¼ˆæ­£å¸¸çš„æ˜¯çº¢è‰²çš„ maixpy æ¬¢è¿é¡µï¼‰ï¼Œæ‰€ä»¥æ ¹æ®å®é™…æƒ…å†µéƒ½å¯ä»¥çƒ§å½•ä¸€éç¡®è®¤ã€‚** ### è¿è¡Œç¬¬ä¸€ä¸ªç¨‹åº `Hello World` LCD å®æ—¶é¢„è§ˆ Cameraï¼ˆä½¿ç”¨ MaixPy IDE è¿æ¥æ—¶å‹å·é€‰æ‹© Maixduino å³å¯ï¼‰ ```python # * codingï¼šUTF 8 * import sensor, image, time, lcd from fpioa_manager import fm # lcd.init(freq 20000000) while True: try: sensor.reset(choice 1) sensor.set_pixformat(sensor.YUV422) sensor.set_framesize(sensor.QVGA) sensor.skip_frames(time 2000) for i in range(100): img sensor.snapshot() lcd.display(img) except Exception as e: print(e) try: sensor.reset(choice 2) sensor.set_pixformat(sensor.YUV422) sensor.set_framesize(sensor.QVGA) sensor.skip_frames(time 2000) for i in range(100): img sensor.snapshot().rotation_corr(z_rotation +90) lcd.display(img) except Exception as e: print(e) ``` ## èµ„æ–™ä¸‹è½½ Maix Amigo èµ„æ–™ä¸‹è½½ï¼š[Sipeed Amigo](https://dl.sipeed.com/shareURL/MAIX/HDK/Sipeed Amigo) Maix Amigo è§„æ ¼ä¹¦ä¸‹è½½ï¼š[Sipeed Amigo](https://dl.sipeed.com/shareURL/MAIX/HDK/Sipeed Amigo/ProductSpecification) Maix Amigo IPS ç‰ˆæœ¬ åŸç†å›¾ä¸‹è½½ï¼š[Maix_Amigo_2970(Schematic).pdf][Maix_Amigo_2970(Schematic).pdf] Maix Amigo TFT ç‰ˆæœ¬ åŸç†å›¾ä¸‹è½½ï¼š[Maix_Amigo_2960(Schematic).pdf][Maix_Amigo_2960(Schematic).pdf] [Maix_Amigo_2970(Schematic).pdf]: https://dl.sipeed.com/fileList/MAIX/HDK/Sipeed Amigo/2970/Maix_Amigo_2970(Schematic).pdf [Maix_Amigo_2960(Schematic).pdf]: https://dl.sipeed.com/fileList/MAIX/HDK/Sipeed Amigo/2960/Maix_Amigo_2960(Schematic).pdf"},"/soft/maixpy/zh/develop_kit_board/maix_dock.html":{"title":"Maix Dock","content":" title: Maix Dock keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®—, Maix Dock desc: maixpy Maix Dock ## å¤–è§‚åŠåŠŸèƒ½ä»‹ç» ### å¤–è§‚ä¸€è§ˆ MaixDock(M1W) ![MaixDock(M1W)](../../assets/hardware/maix_dock/sipeed_maix_dock_m1w.jpg) MaixDock(M1) ![MaixDock(M1)](../../assets/hardware/maix_dock/sipeed_maix_dock_m1.jpg) ### æ¿è½½åŠŸèƒ½ é¡¹ç›® è¯´æ˜ CPUï¼š åŒæ ¸ 64bit RISC V / 400MHz* (åŒç²¾åº¦FPUé›†æˆ) å†…å­˜ï¼š 8MiB 64bit ç‰‡ä¸Š SRAM å­˜å‚¨ï¼š 16MiB Flash, æ”¯æŒ micro SDXC æ‹“å±•å­˜å‚¨ (æœ€å¤§128GB) å±å¹•ï¼ˆå¥—é¤ï¼‰ï¼š 2.4 å¯¸ TFT, å±å¹•åˆ†è¾¨ç‡ï¼š320\\*240 æ‘„åƒå¤´ï¼ˆå¥—é¤ï¼‰ï¼š 30W åƒç´  GC0328 æ‘„åƒå¤´ WIFIï¼š MaixDock(M1W) é‡‡ç”¨ M1Wï¼ˆå†…éƒ¨é›†æˆ ESP8285 WIFI SOCï¼‰ï¼› MaixDock(M1) å†…éƒ¨æ—  WIFI åŠŸèƒ½ TF å¡æ§½ï¼š å¤šåª’ä½“èµ„æºæ‰©å±•ï¼Œæ”¯æŒå¤§å®¹é‡å‚¨å­˜ ### å¼•è„šèµ„æº ![](../../assets/hardware/maix_dock/maixdock_pin_maps.svg) ## èµ„æ–™ä¸‹è½½ Sipeed Maix Dock èµ„æ–™ä¸‹è½½ï¼š[Sipeed Maix Dock](https://dl.sipeed.com/shareURL/MAIX/HDK/Sipeed Maix Dock) Sipeed Maix Dock è§„æ ¼ä¹¦ä¸‹è½½ï¼š[Sipeed Maix Dock](https://dl.sipeed.com/shareURL/MAIX/HDK/Sipeed Maix Dock/Specifications) Sipeed Maix Dock åŸç†å›¾ä¸‹è½½ï¼š[Sipeed Maix Dock](https://dl.sipeed.com/fileList/MAIX/HDK/Sipeed Maix Dock/Maix Dock_11.27/Maix Dock_11.27 schematic.pdf) ## ç›¸å…³é—®é¢˜ Maix Dock ä¸èƒ½ä½¿ç”¨ MobaXterm æˆ–å…¶ä»– ä¸æ”¯æŒæ‰‹åŠ¨ä¸²å£æµæ§åˆ¶çš„è½¯ä»¶ æ¥è¿›è¡Œä¸²å£é€šä¿¡ã€‚ ä¸ºäº†ä¸æµªè´¹æ—¶é—´ï¼Œå»ºè®®ä½¿ç”¨ MaixPy æ¥è¿›è¡Œé€šä¿¡ã€‚ å¯ä»¥åœ¨ MaixPy é¡¶éƒ¨èœå•æ  å·¥å…· >æ‰“å¼€ç»ˆç«¯ >æ–°ç»ˆç«¯ >è¿æ¥åˆ°ä¸²å£ >é€‰æ‹©æ­£ç¡®çš„ä¸²å£ >115200æ³¢ç‰¹ç‡ æ¥æ–°å»ºä¸€ä¸ªç»ˆç«¯ ![sipeed_maix_dock_terminal](../../assets/hardware/maix_dock/sipeed_maix_dock_terminal.png)"},"/soft/maixpy/zh/develop_kit_board/maix_nano.html":{"title":"Maix Nano","content":" title: Maix Nano keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®—, Maix Nano desc: maixpy Maix Nano ## å¤–è§‚åŠåŠŸèƒ½ä»‹ç» ### å¤–è§‚ä¸€è§ˆ ![Maix Nano](../../assets/hardware/m1n/sipeed_maix_nano.png) ### æ¿è½½åŠŸèƒ½ é¡¹ç›® è¯´æ˜ CPUï¼š åŒæ ¸ 64bit RISC V / 400MHz* (åŒç²¾åº¦FPUé›†æˆ) å†…å­˜ï¼š 8MiB 64bit ç‰‡ä¸Š SRAM å­˜å‚¨ï¼š 16MiB Flash, æ”¯æŒ micro SDXC æ‹“å±•å­˜å‚¨ (æœ€å¤§128GB) å±å¹•ï¼š æ— å±å¹• æ‘„åƒå¤´ï¼ˆå¥—é¤ï¼‰ï¼š 30W åƒç´  GC0328 æ‘„åƒå¤´ ### ç¡¬ä»¶æ¿è½½æ‰©å±•æ¥å£ Maix Nano é¢„ç•™äº†ä¸€ä¸ª [SP_MOD](../modules/sp_mod/index.html) æ¥å£ ## èµ„æ–™ä¸‹è½½ * M1n èµ„æ–™ä¸‹è½½ï¼š[dl.sipeed.com](https://dl.sipeed.com/shareURL/MAIX/HDK/Sipeed M1n) * M1n åŸç†å›¾ä¸‹è½½ï¼š[Sipeed M1n Datasheet V1.0.pdf](https://dl.sipeed.com/fileList/MAIX/HDK/Sipeed M1n/Sipeed%20M1n%20Datasheet%20V1.0.pdf)"},"/soft/maixpy/zh/develop_kit_board/maix_duino.html":{"title":"MaixDuino","content":" title: MaixDuino keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®—, MaixDuino desc: maixpy MaixDuino ## æ¦‚è¿° SIPEED MaixDuino æ˜¯åŸºäºæˆ‘ä»¬ M1 æ¨¡å—(ä¸»æ§:Kendryte K210)å¼€å‘çš„ä¸€æ¬¾å¤–å½¢å…¼å®¹ Arduino çš„å¼€å‘æ¿ <br/>MaixDuino é›†æˆæ‘„åƒå¤´ã€TFå¡æ§½ã€ç”¨æˆ·æŒ‰é”®ã€TFTæ˜¾ç¤ºå±ã€MaixDuino æ‰©å±•æ¥å£ç­‰, ç”¨æˆ·å¯ä½¿ç”¨ MaixDuino è½»æ¾æ­å»ºä¸€æ¬¾äººè„¸è¯†åˆ«é—¨ç¦ç³»ç»Ÿ, åŒæ—¶è¿˜é¢„ç•™å¼€å‘è°ƒè¯•æ¥å£, ä¹Ÿèƒ½å°†å…¶ä½œä¸ºä¸€æ¬¾åŠŸèƒ½å¼ºå¤§çš„ AI å­¦ä¹ å¼€å‘æ¿. ## å¤–è§‚åŠåŠŸèƒ½ä»‹ç» ### å¤–è§‚ä¸€è§ˆ ![MaixDuino](../../assets/hardware/maix_duino/maixduino_4.png) ### æ¿è½½åŠŸèƒ½ é¡¹ç›® è¯´æ˜ CPUï¼š åŒæ ¸ 64bit RISC V / 400MHz* (åŒç²¾åº¦FPUé›†æˆ) å†…å­˜ï¼š 8MiB 64bit ç‰‡ä¸Š SRAM å­˜å‚¨ï¼š 16MiB Flash, æ”¯æŒ micro SDXC æ‹“å±•å­˜å‚¨ (æœ€å¤§128GB) å±å¹•ï¼ˆå¥—é¤ï¼‰ï¼š 2.4 å¯¸ TFT, å±å¹•åˆ†è¾¨ç‡ï¼š320\\*240 æ‘„åƒå¤´ï¼ˆå¥—é¤ï¼‰ï¼š 30W åƒç´  GC0328 æ‘„åƒå¤´ DVPï¼š æ ‡å‡† Camera DVP 24PIN æ¥å£ ç”µæº+USBï¼š USB Type C æ¥å£ ESP32ï¼š ESP32 SPI è¿æ¥(ESP32 æ”¯æŒ WIFI ä¸ è“ç‰™)ï¼ŒPAM8403A DACï¼š I2C DAC TF å¡æ§½ï¼š å¤šåª’ä½“èµ„æºæ‰©å±•ï¼Œæ”¯æŒå¤§å®¹é‡å‚¨å­˜ ### å¼•è„šèµ„æº ![MaixDuino](../../assets/hardware/maix_duino/sipeed_maixduin_pins.png) ## èµ„æ–™ä¸‹è½½ Sipeed Maix Duino èµ„æ–™ä¸‹è½½ï¼š[Sipeed Maix Duino](https://dl.sipeed.com/shareURL/MAIX/HDK/Sipeed Maixduino/) Sipeed Maix Duino è§„æ ¼ä¹¦ä¸‹è½½ï¼š[Sipeed Maix Duino](https://dl.sipeed.com/shareURL/MAIX/HDK/Sipeed Maixduino/Specifications) Sipeed Maix Duino åŸç†å›¾ä¸‹è½½ï¼š[Sipeed Maix Duino][Sipeed Maix Duino] [Sipeed Maix Duino]: https://dl.sipeed.com/fileList/MAIX/HDK/Sipeed Maixduino/Maixduino_2832/Maixduino_2832(Schematic).pdf"},"/soft/maixpy/zh/develop_kit_board/core_module.html":{"title":"Sipeed M1/M1W (Lichee Dan)","content":" title: Sipeed M1/M1W (Lichee Dan) keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy Sipeed M1/M1W (Lichee Dan) 1. M1/M1W ![M1/M1W](./../../assets/hardware/m1_m1w/M1_Dan.png) ![M1/M1W](./../../assets/hardware/m1_m1w/M1_pin.png) M1: K210å…¨å¼•è„šå¼•å‡º, èŠ¯ç‰‡å†…ç½® 8M SRAM, æ¨¡å—å†…ç½® 16M Flash M1W æ˜¯å¸¦ WiFi(esp8285) ç‰ˆæœ¬ æ¨¡ç»„ WIFI FLASH SRAM è¯´æ˜ M1 æ—  16MiB 8MiB M1W ES8285 16MiB 8MiB M1n æ—  16MiB 8MiB 1. M1n ![M1n](./../../assets/hardware/m1n/M1n.png) M1n æ ¸å¿ƒæ¨¡å—é‡‡ç”¨äº† M.2 çš„é‡‘æ‰‹æŒ‡æ¥å£ï¼Œå¹¶æ¿è½½äº†24Pin çš„ FPC åº•åº§, ç›¸å¯¹äº M1/M1W å¯ä»¥è®©ç”¨æˆ·å¾ˆæ–¹ä¾¿çš„å°† K210 å¿«é€Ÿé›†æˆåˆ°è‡ªå·±çš„åˆ›æ„æˆ–è€…å•†ä¸šäº§å“ä¸­. 1. èµ„æ–™ä¸‹è½½ èŠ¯ç‰‡ K210 Datasheet: Kendryte å®˜ç½‘ M1n èµ„æ–™ä¸‹è½½: [dl.sipeed.com](https://dl.sipeed.com/shareURL/MAIX/HDK/Sipeed M1n) M1n åŸç†å›¾ä¸‹è½½ï¼š[Sipeed M1n Datasheet V1.0.pdf](https://dl.sipeed.com/fileList/MAIX/HDK/Sipeed M1n/Sipeed%20M1n%20Datasheet%20V1.0.pdf)"},"/soft/maixpy/zh/develop_kit_board/module_microphone.html":{"title":"Sipeed Microphone","content":" title: Sipeed Microphone keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®—, Sipeed Microphone desc: maixpy Sipeed Microphone <table border \"2\"> <tr> <th colspan 3>Sipeed éº¦å…‹é£æ¨¡å—</th> </tr> <tr> <td>æè¿°</td> <td>å®ç‰©å›¾</td> <td>è¯´æ˜</td> </tr> <td> å•éº¦å…‹é£æ¨¡å— </td> <td> <img src \"../../assets/hardware/module/microphone_taobao_400x400.jpg\" height \"200\"> </p> <a href \"https://sipeed.taobao.com/\">ç‚¹å‡»è´­ä¹° éº¦å…‹é£æ¨¡å—</a> </td> <td> 1.éº¦å…‹é£ IC: MSM261S4030H0</p> 2.æ¥å£ï¼š6P 2.54mm æ’çº¿æ¥å£</p> 3.ä¾›ç”µç”µå‹ï¼š3.3V@5mA</p> 4.æ¨¡å—å°ºå¯¸ï¼š15.2mm*9.1mm</p> 4.å·¥ä½œæ¸©åº¦: 30â„ƒ~80â„ƒ</p> <tr> <tr> <td> å•éº¦å…‹é£æ¨¡å— </td> <td> <img src \"../../assets/hardware/module/mic_array_taobao.jpg\" height \"200\"> </p> <a href \"https://sipeed.taobao.com/\">ç‚¹å‡»è´­ä¹° éº¦å…‹é£æ¨¡å—</a> </td> <td> 1.éº¦å…‹é£ IC: 7 ä¸ª MSM261S4030H0</p> 2.æ¥å£ï¼š10Pfpc / 10 pin 2.54mm æ’çº¿æ¥å£</p> 3.ä¾›ç”µç”µå‹ï¼š5V@mA</p> 4.æ¨¡å—å°ºå¯¸ï¼š15.2mm*9.1mm</p> 4.å·¥ä½œæ¸©åº¦: 30â„ƒ~80â„ƒ</p> </tr> </table> ## Sipeed Mic Array Mic Array éº¦å…‹é£é˜µåˆ—ï¼Œæˆªæ­¢ MaixPy ç‰ˆæœ¬ `MicroPython v0.5.0 218 g8053a70`, éº¦å…‹é£é˜µåˆ—ç¡¬ä»¶ä¸Šçš„ pin io æ”¯æŒè‡ªå®šä¹‰é…ç½®ã€‚ æ›´è¯¦ç»†çš„ä¿¡æ¯å»ºè®®å‰å¾€: [è¿™é‡Œ](https://wiki.sipeed.com/hardware/zh/modules/micarray.html?highlight %E9%BA%A6%E5%85%8B%E9%A3%8E) æŸ¥çœ‹ No. MaixGo(é»˜è®¤é…ç½® IO) è¯´æ˜ MIC_D0 23 MIC_D1 22 MIC_D2 21 MIC_D3 20 MIC_WS 19 MIC_SCLK 18 LED_DAT 24 SK9822 DAT LED_CLK 25 SK9822 CLK ### ä¾‹ç¨‹ å£°æºå®šä½ ```python from Maix import MIC_ARRAY as mic import lcd lcd.init() mic.init()#é»˜è®¤é…ç½® # mic.init(i2s_d0 23, i2s_d1 22, i2s_d2 21, i2s_d3 20, i2s_ws 19, i2s_sclk 18, sk9822_dat 24, sk9822_clk 25)#å¯è‡ªå®šä¹‰é…ç½® IO while True: imga mic.get_map() # è·å–å£°éŸ³æºåˆ†å¸ƒå›¾åƒ b mic.get_dir(imga) # è®¡ç®—ã€è·å–å£°æºæ–¹å‘ a mic.set_led(b,(0,0,255))# é…ç½® RGB LED é¢œè‰²å€¼ imgb imga.resize(160,160) imgc imgb.to_rainbow(1) # å°†å›¾åƒè½¬æ¢ä¸ºå½©è™¹å›¾åƒ a lcd.display(imgc) mic.deinit() ``` æ•ˆæœï¼š <iframe width \"600\" height \"350\" src \"//player.bilibili.com/player.html?aid 37058760&cid 65120313&page 1\" scrolling \"no\" border \"0\" frameborder \"no\" framespacing \"0\" allowfullscreen \"true\"> </iframe>"},"/soft/maixpy/zh/develop_kit_board/maix_cube.html":{"title":"MaixCube","content":" title: MaixCube keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®—, MaixCube desc: maixpy MaixCube ## æ¦‚è¿° SIPEED **MaixCube** å¯å¼€å‘ç¼–ç¨‹å­¦ä¹ å¥—ä»¶, MaixCube åœ¨ç¡¬ä»¶ä¸Šé›†æˆ 30W æ‘„åƒå¤´ã€å¯æ‰©å±• TF å¡æ§½ã€ç”¨æˆ·æŒ‰é”®ã€IPS 1.3 å¯¸æ˜¾ç¤ºå±ã€200mAh é”‚ç”µæ± ã€æ‰¬å£°å™¨,éº¦å…‹é£ã€SPMOD,GROVE æ‰©å±•æ¥å£ç­‰ã€‚ è½¯ä»¶ä¸Š MaixCube é»˜è®¤æ­è½½ MaixPy, ç”¨æˆ·å¯ä»¥éå¸¸è½»æ¾çš„ä½¿ç”¨ MicroPython è¯­æ³•å¿«é€Ÿä¸Šæ‰‹ AI IoT å¼€å‘ï¼Œå¼€å‘äººè„¸è¯†åˆ«ï¼Œç‰©ä½“è¯†åˆ«ç­‰ AI åº”ç”¨ï¼ŒåŒæ—¶è¿˜é¢„ç•™å¼€å‘è°ƒè¯•æ¥å£ï¼Œä¹Ÿèƒ½å°†å…¶ä½œä¸ºä¸€æ¬¾åŠŸèƒ½å¼ºå¤§çš„ AI å­¦ä¹ å¼€å‘æ¿ã€‚ ## å¤–è§‚åŠåŠŸèƒ½ä»‹ç» ### å¤–è§‚ä¸€è§ˆ ![Maix Cube](../../assets/hardware/maix_cube/maixcube_product_appearance.png) ### æ¿è½½åŠŸèƒ½ é¡¹ç›® è¯´æ˜ CPUï¼š åŒæ ¸ 64bit RISC V / 400MHz (åŒç²¾åº¦FPUé›†æˆ) å†…å­˜ï¼š 8MiB 64bit ç‰‡ä¸Š SRAM å­˜å‚¨ï¼š 16MiB Flash, æ”¯æŒ micro SDXC æ‹“å±•å­˜å‚¨ (æœ€å¤§128GB) å±å¹•ï¼š 1.3 å¯¸ **IPS** å±å¹•ï¼šåˆ†è¾¨ç‡ **240*240** æ‘„åƒå¤´ï¼š æ­è½½ **0V7740** **30W** åƒç´  **Sensor** æŒ‰é”®ï¼š å¤ä½æŒ‰é”®ï¼Œç”µæºæŒ‰é”®ï¼ˆçŸ­æŒ‰å¼€æœºï¼Œé•¿æŒ‰ *8S* å…³æœºï¼‰ï¼Œä¸‰å‘æŒ‰é”® USBï¼š Type C æ¥å£ï¼Œæ­£åç›²æ’ éŸ³é¢‘ï¼š æ”¯æŒéŸ³é¢‘å½•åˆ¶ï¼Œæ’­æ”¾ï¼Œé©±åŠ¨ ICï¼ˆES8374ï¼‰ æ¿è½½ä¼ æ„Ÿå™¨ï¼š ä¸‰è½´åŠ é€Ÿåº¦ä¼ æ„Ÿå™¨ï¼ˆMSA301ï¼‰ ç¯ï¼š æ¿è½½ä¸¤é¢— RGB LEDï¼Œä¸€é¢—é—ªå…‰ç¯ TF å¡æ§½ï¼š å¤šåª’ä½“èµ„æºæ‰©å±•ï¼Œæ”¯æŒå¤§å®¹é‡å‚¨å­˜ ç”µæºç®¡ç†ï¼š AXP173 æ§åˆ¶å•å…ƒï¼Œ200mAh é”‚ç”µæ± ï¼Œæ”¯æŒç”¨æˆ·å……æ”¾ç”µæ§åˆ¶ ### å¼•è„šèµ„æº ![Maix Cube](../../assets/hardware/maix_cube/maixcube_resources.png) ### æ¿è½½æ‰©å±•æ¥å£ Maix Cube å¯¹ç”¨æˆ·å¼€æ”¾äº†ä¸¤ç§é«˜åº¦æ‰©å±•çš„æ¥å£ï¼šä¸€ä¸ª [SP MOD](../modules/sp_mod/index.html) ä¸ ä¸€ä¸ª [Grove](./../modules/grove/index.html) æ¥å£ï¼Œç”¨æˆ·å¯ä»¥å¾ˆæ–¹ä¾¿çš„è¿›è¡Œ DIY ### æ¿è½½ I2C è®¾å¤‡ MaixCube æ¿è½½ I2C ä¼ æ„Ÿå™¨/IC IC è®¾å¤‡ id I2C åœ°å€(7ä½åœ°å€) MaixPy è¯»å–åœ°å€ ç¤ºä¾‹ä»£ç  ES8374 0x08 0x10 D(16) [code](https://github.com/sipeed/MaixPy v1_scripts/blob/79a5485ec983e67bb8861305a52418b29e0dc205/modules/others/es8374/es8374.py) MSA301 0x13 0x26 D(38) [code](https://github.com/sipeed/MaixPy v1_scripts/blob/7fea2359a7f0c05f586be915aa8e6112262e0caa/multimedia/gui/maixui/msa301.py) AXP173 0x68 0x34 D(52) [code](https://github.com/sipeed/MaixPy v1_scripts/blob/7fea2359a7f0c05f586be915aa8e6112262e0caa/multimedia/gui/maixui/pmu_axp173.py) ## ä¸Šæ‰‹æŠŠç© ç”±äº MaixCube å‡ºå‚è‡ªå¸¦ GUI æ¼”ç¤ºç•Œé¢å’Œç¤ºä¾‹ç¨‹åºï¼Œæ‰€ä»¥åœ¨æ‹¿åˆ°æ¿å­æ—¶å¯ä»¥å…ˆä¸Šæ‰‹æŠŠç©ä¸‹é¢„è®¾ç¨‹åºï¼Œ åœ¨ä¹‹åé‚£ä¹ˆæˆ‘ä»¬å°±å¼€å§‹ä»¥ MaixCube ä¸Šæ‰‹ï¼Œå€ŸåŠ© MaixPy å…¥é—¨ AIoT. è€Œåœ¨å¼€å‘ä¹‹å‰æˆ‘ä»¬éœ€è¦äº†è§£å¹¶å‡†å¤‡ç›¸å…³å·¥å…·ï¼Œä»¥å‡å°‘æˆ‘ä»¬åè¾¹å› ä¸ºå‡†å¤‡ä¸è¶³è€Œèµ°çš„å‘è·¯ ä¸Šæ‰‹æ­¥éª¤: 1. ä¸‹è½½éœ€è¦çš„é©±åŠ¨ï¼Œè½¯ä»¶ 2. å¼€å‘æ¿è¿æ¥ç”µè„‘ï¼Œå¹¶å®‰è£… USB é©±åŠ¨ 3. æ›´æ–°æœ€æ–°å›ºä»¶ 4. ä¸‹è½½å¹¶æ‰“å¼€æœ€æ–°çš„ MaixPy IDE 5. MaixPy IDE è¿æ¥å¼€å‘æ¿ è¿è¡Œ MaixPy ç¤ºä¾‹ç¨‹åº ### è½¯ç¡¬ä»¶å‡†å¤‡ ç¡¬ä»¶å‡†å¤‡: **ç”µè„‘**ä¸€å° **MaixCube** å¼€å‘æ¿ **å¯é **çš„ USB Type C æ•°æ®çº¿ä¸€æ¡ï¼šæ³¨æ„ä¸€å®šè¦**å¯é **çš„æ•°æ®çº¿ è½¯ä»¶å‡†å¤‡: USB é©±åŠ¨ï¼š[ç‚¹æˆ‘](https://dl.sipeed.com/shareURL/MAIX/tools/driver) Kflash_guiï¼š[https://dl.sipeed.com/shareURL/MAIX/tools/kflash_gui](https://dl.sipeed.com/shareURL/MAIX/tools/kflash_gui) MaixPy IDE ï¼š[https://dl.sipeed.com/shareURL/MAIX/MaixPy/ide/_/v0.2.5](https://dl.sipeed.com/shareURL/MAIX/MaixPy/ide/_/v0.2.5) ä¾‹ç¨‹ç¨‹åºåº“ï¼š[https://github.com/sipeed/MaixPy v1_scripts](https://github.com/sipeed/MaixPy v1_scripts) ### å®‰è£…é©±åŠ¨ æˆ‘ä»¬åœ¨æ‹¿åˆ° Maix Cube å¹¶è¿æ¥åˆ°ç”µè„‘çš„æ—¶å€™ï¼Œå¯ä»¥æ‰“å¼€è®¾å¤‡ç®¡ç†å™¨æŸ¥çœ‹ä¸²å£é©±åŠ¨æ˜¯å¦å·²ç»å®‰è£…ï¼Œæ‰“å¼€è®¾å¤‡ç®¡ç†å™¨çš„æ–¹æ³•æœ‰: æ­¤ç”µè„‘(å³é”®) > å±æ€§ > è®¾å¤‡ç®¡ç†å™¨ å¼€å§‹èœå•(å³é”®) > è®¾å¤‡ç®¡ç†å™¨ æ§åˆ¶é¢æ¿ > (æœç´¢)è®¾å¤‡ç®¡ç†å™¨ <img src \"../../assetcs/../assets/get_started/win_device_1.png\" height \"400\"> 1. å½“æˆ‘ä»¬çš„ç³»ç»Ÿæ˜¯ Win10 ç³»ç»Ÿï¼Œç³»ç»Ÿåˆ™ä¼šå¸®æˆ‘ä»¬è‡ªåŠ¨å®‰è£…é©±åŠ¨ï¼Œè€Œå¦‚æœæ˜¯æ—§ç‰ˆ Win7ï¼Œwin8 ç³»ç»Ÿæˆ‘ä»¬å°±éœ€è¦è‡ªå·±æ‰‹åŠ¨å®‰è£…: ![](../../assetcs/../assets/get_started/win_device_2.png) 1. æ‰“å¼€ä¸Šä¸€èŠ‚çš„çš„é“¾æ¥ä¸‹è½½é©±åŠ¨ ![](../../assetcs/../assets/get_started/win_device_3.png) 1. ç‚¹å‡»å®‰è£… ![](../../assets/get_started/drives.gif) 1. å®‰è£…å®Œæˆä¹‹åï¼Œå¯ä»¥åœ¨è®¾å¤‡ç®¡ç†å™¨çœ‹åˆ°å·²ç»è¯†åˆ«åˆ°ä¸¤ä¸ªä¸²å£è®¾å¤‡äº† ![](../../assetcs/../assets/get_started/win_device_4.png) ### æ›´æ–°å›ºä»¶åˆ°æœ€æ–°ç‰ˆ ç”¨æˆ·æ‹¿åˆ°å¼€å‘æ¿ä¹‹åï¼Œæ¿è½½çš„å›ºä»¶é»˜è®¤æˆ–è®¸å·²ç»ä¸æ˜¯æœ€æ–°ç‰ˆçš„ï¼Œé‚£ä¹ˆåœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­ä¼šå­˜åœ¨æˆ–å¤šæˆ–å°‘çš„ bugï¼Œ æˆ‘ä»¬è¿™æ—¶å€™å°±éœ€è¦æ›´æ–°å›ºä»¶ç‰ˆæœ¬åˆ°æœ€æ–°ç‰ˆæœ¬ æ›´æ–°æ–¹æ³•æŸ¥çœ‹ï¼š[æ›´æ–°å›ºä»¶](../get_started/upgrade_maixpy_firmware.html) ### è¿è¡Œç¬¬ä¸€ä¸ªç¨‹åº `Hello World` LCD å®æ—¶é¢„è§ˆ Cameraï¼ˆä½¿ç”¨ MaixPy IDE è¿æ¥æ—¶å‹å·é€‰æ‹© Maixduino å³å¯ï¼‰ ```python import sensor, image, time, lcd sensor.reset() sensor.set_pixformat(sensor.RGB565) sensor.set_framesize(sensor.QVGA) sensor.skip_frames(time 2000) sensor.set_hmirror(1) sensor.set_vflip(1) clock time.clock() lcd.init(type 2) lcd.rotation(2) while(True): clock.tick() img sensor.snapshot() print(clock.fps()) img.draw_string(60, lcd.height() 120, \"fps:\"+str(clock.fps()), lcd.GREEN, scale 2) lcd.display(img) ``` ## èµ„æ–™ä¸‹è½½ Sipeed Maix Cube èµ„æ–™ä¸‹è½½ï¼š[Sipeed Maix Cube](https://dl.sipeed.com/shareURL/MAIX/HDK/Sipeed Maix Cube) Sipeed Maix Cube è§„æ ¼ä¹¦ä¸‹è½½ï¼š[Sipeed Maix Cube](https://dl.sipeed.com/shareURL/MAIX/HDK/Sipeed Maix Cube/ProductSpecification/Sipeed%20Maix%20Cube%20Datasheet%20V1.0.pdf) Sipeed Maix Cube åŸç†å›¾ä¸‹è½½ï¼š[Sipeed Maix Cube](https://dl.sipeed.com/shareURL/MAIX/HDK/Sipeed Maix Cube/Maix Cube 2757/Maix Cube 2757%28Schematic%29.pdf)"},"/soft/maixpy/zh/develop_kit_board/maix_go.html":{"title":"Maix Go","content":" title: Maix Go keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®—, Maix Go desc: maixpy Maix Go ## å¤–è§‚åŠåŠŸèƒ½ä»‹ç» ### å¤–è§‚ä¸€è§ˆ ![Maix Go](../../assets/hardware/maix_go/Go.png) ### æ¿è½½åŠŸèƒ½ é¡¹ç›® è¯´æ˜ CPUï¼š åŒæ ¸ 64bit RISC V / 400MHz* (åŒç²¾åº¦FPUé›†æˆ) å†…å­˜ï¼š 8MiB 64bit ç‰‡ä¸Š SRAM å­˜å‚¨ï¼š 16MiB Flash, æ”¯æŒ micro SDXC æ‹“å±•å­˜å‚¨ (æœ€å¤§128GB) å±å¹•ï¼š 2.4 å¯¸ TFT, ç”µå®¹è§¦æ‘¸å±å¹•åˆ†è¾¨ç‡ï¼š320\\*240 æ‘„åƒå¤´(å¥—é¤)ï¼š 200W åƒç´ (å®é™…ä½¿ç”¨ 30W)ï¼Œ0V2640 å‹å· M12 æ‘„åƒå¤´ TF å¡æ§½ï¼š å¤šåª’ä½“èµ„æºæ‰©å±•ï¼Œæ”¯æŒå¤§å®¹é‡å‚¨å­˜ ## èµ„æ–™ä¸‹è½½ Sipeed Maix Go èµ„æ–™ä¸‹è½½ï¼š[Sipeed Maix Go](https://dl.sipeed.com/shareURL/MAIX/HDK/Sipeed Maix GO)"},"/soft/maixpy/zh/SUMMARY.html":{"title":"Summary","content":" title: Summary keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy Summary * [ç®€ä»‹](./index.html) * [MaixPy èƒ½åšå“ªäº›äº‹](./what_maix_do.html) * [MaixPy å‘å±•å†ç¨‹](./maixpy_history.html) * [è‡´è°¢](./thanks.html) ## å…¥é—¨å¿…çœ‹æŒ‡å— * [å¦‚ä½•æ­£ç¡®é˜…è¯»æœ¬æ–‡ (é‡è¦ï¼ï¼ï¼)](./how_to_read.html) * [å¦‚ä½•ä¼˜é›…æé—® (é‡è¦ï¼ï¼ï¼)](./how_to_ask.html) * å¼€å‘æ¿å’Œé…ä»¶é€‰è´­æŒ‡å— [å¼€å‘æ¿é€‰è´­æŒ‡å—(å¯¹æ¯”)](./develop_kit_board/get_hardware.html) å¼€å‘æ¿ä»‹ç» [Maix Dock](./develop_kit_board/maix_dock.html) [Maix Bit](./develop_kit_board/maix_bit.html) [Maix Amigo](./develop_kit_board/maix_amigo.html) [Maix Duino](./develop_kit_board/maix_duino.html) [Maix Cube](./develop_kit_board/maix_cube.html) [Maix Go](./develop_kit_board/maix_go.html) [Maix Nano](./develop_kit_board/maix_nano.html) å¤–è®¾æ¨¡ç»„ï¼ˆé…ä»¶ï¼‰ [SP MOD](./modules/sp_mod/index.html) [Grove](./modules/grove/index.html) [å…¶å®ƒ](./modules/others/index.html) * åŸºç¡€çŸ¥è¯† [MaixPy è¯­æ³•åŸºç¡€çŸ¥è¯†](./get_started/knowledge_micropython.html) [git å’Œ github](./get_started/knowledge_git_github.html) [MaixPy å›¾åƒåŸºç¡€çŸ¥è¯†](./get_started/knowledge_image.html) [MaixPy éŸ³é¢‘åŸºç¡€çŸ¥è¯†](./get_started/knowledge_audio.html) * å¼€å‘ç¯å¢ƒå‡†å¤‡ [å®‰è£…é©±åŠ¨](./get_started/env_install_driver.html) [Maix Dock](./get_started/install_driver/dock.html) [Maix Bit](./get_started/install_driver/bit.html) [Maix Amigo](./get_started/install_driver/amigo.html) [Maix Cube](./get_started/install_driver/cube.html) [Maix Go](./get_started/install_driver/go.html) [Maix Nano](./get_started/install_driver/nano.html) [æ›´æ–° MaixPy å›ºä»¶](./get_started/upgrade_maixpy_firmware.html) [ä½¿ç”¨ä¸²å£ç»ˆç«¯å·¥å…·](./get_started/env_serial_tools.html) [MaixPy IDE ä½¿ç”¨è¯´æ˜](./get_started/env_maixpyide.html) æ›´æ–° WIFI æ¨¡å—å›ºä»¶ [æ›´æ–°æ¿è½½ ESP32 å›ºä»¶](./get_started/upgrade_esp32_firmware.html) [æ›´æ–°æ¿è½½ ESP8285 å›ºä»¶](./get_started/upgrade_esp8285_firmware.html) * ä¸Šæ‰‹ [ä¸Šç”µ](./get_started/get_started_power_on.html) [ç¬¬ä¸€ä¸ªç¨‹åº: ä½¿ç”¨å±å¹•å’Œæ‘„åƒå¤´](./get_started/get_started_cam_lcd.html) [ç¬¬äºŒä¸ªç¨‹åº: ç‚¹äº® LED](./get_started/get_started_led_blink.html) [å­˜å‚¨ç³»ç»Ÿä»‹ç»](./get_started/get_started_fs.html) [ç¼–è¾‘å¹¶è¿è¡Œè„šæœ¬](./get_started/get_started_edit_file.html) [ä¸Šä¼ è„šæœ¬åˆ°å¼€å‘æ¿](./get_started/get_started_upload_script.html) [å¼€æœºè‡ªåŠ¨è¿è¡Œè„šæœ¬](./get_started/get_started_boot.html) [å¼€å‘æ¿é…ç½®æ–‡ä»¶](./api_reference/builtin_py/board_info.html) [ä¸Šæ‰‹è§†é¢‘æ•™ç¨‹](./get_started/maixpy_get_started_video.html) * å›ºä»¶å®šåˆ¶ [ä¸ºä»€ä¹ˆéœ€è¦å®šåˆ¶å›ºä»¶](./firmware/why_customize_firware.html) [åœ¨çº¿ç¼–è¯‘](./firmware/online_compile.html) [æºç ç¼–è¯‘](./firmware/compile.html) ## MaixPy æ‰‹æŠŠæ‰‹æ•™ç¨‹ * [æ•™ç¨‹è¯´æ˜](./course/index.html) * åŸºæœ¬å›¾åƒå¤„ç† * å›¾åƒè·å–å’Œæ˜¾ç¤º * [å›¾åƒè·å–](./course/image/basic/get_images.html) * [å›¾åƒæ˜¾ç¤º](./course/image/basic/display_images.html) * [MaixPy å›¾åƒåŠå¸¸ç”¨æ“ä½œ](./course/image/basic/vary.html) * [åŸºæœ¬ç”»å›¾ã€å†™å­—](./course/image/basic/draw.html) * [ç¡¬ä»¶åŠ é€Ÿçš„å›¾åƒå¤„ç†](./course/image/basic/acc_image_deal.html) * MaixPy AI * [æ·±åº¦ç¥ç»ç½‘ç»œåŸºç¡€çŸ¥è¯†](./course/ai/basic/dnn_basic.html) * [MaixPy AI ç¡¬ä»¶åŠ é€ŸåŸºç¡€çŸ¥è¯†](./course/ai/basic/maixpy_hardware_ai_basic.html) * å›¾åƒå¤„ç† * [äººè„¸æ£€æµ‹](./course/ai/image/face_detect.html) * [1000 ç§ç‰©ä½“åˆ†ç±»](./course/ai/image/1000_type_classifier.html) * [äººè„¸è¯†åˆ«](./course/ai/image/face_recognization.html) * [è‡ªå­¦ä¹ åˆ†ç±»](./course/ai/image/self_learn_classifier.html) * éŸ³é¢‘å¤„ç† * [è¯­éŸ³è¯†åˆ«](./course/speech/recognizer_cnn.html) * æ¨¡å‹è®­ç»ƒ * è®­ç»ƒè‡ªå·±çš„åˆ†ç±»å’Œæ£€æµ‹æ¨¡å‹ * [MaixHub äº‘ç«¯è®­ç»ƒ](./course/ai/train/maixhub.html) * [æœ¬åœ°è®­ç»ƒ](./course/ai/train/local.html) * ä¼ ç»Ÿç®—æ³• * å›¾åƒå¤„ç† [å¯»æ‰¾è‰²å—](./course/image/find_color_blob.html) [äºŒç»´ç è¯†åˆ«](./course/image/find_qrcodes.html) * éŸ³é¢‘å¤„ç† [FFT](./course/speech/fft.html) [FFT ç€‘å¸ƒå›¾](./course/speech/fft_waterfall.html) [å…³é”®è¯è¯†åˆ«](./course/speech/recognizer_mfcc.html) * å¤–è®¾ * ç‰‡ä¸Šå¤–è®¾ [I2C](./modules/on_chip/i2c.html) [PWM](./modules/on_chip/pwm.html) [SPI](./modules/on_chip/spi.html) [Timer](./modules/on_chip/timer.html) [UART](./modules/on_chip/uart.html) [I2S](./modules/on_chip/i2s.html) [WDT](./modules/on_chip/wdt.html) * [SP MOD](./modules/sp_mod/index.html) [BT è“ç‰™é€ä¼ ](./modules/sp_mod/sp_bt.html) [LoRa æ— çº¿é€šä¿¡](./modules/sp_mod/sp_lora.html) [RFID å°„é¢‘è¯†åˆ«](./modules/sp_mod/sp_rfid.html) [TOF æµ‹è·](./modules/sp_mod/sp_tof.html) [Eink ç”µå­å¢¨æ°´å±](./modules/sp_mod/sp_eink.html) [Lcd1.14 IPSå±](./modules/sp_mod/sp_lcd1.14.html) [Weather æ°”è±¡æ¨¡å—](./modules/sp_mod/sp_weather.html) [Ethernet æœ‰çº¿ç½‘å£](./modules/sp_mod/sp_ethernet.html) * [Grove](./modules/grove/index.html) [Ultrasonic Ranger æµ‹è·](./modules/grove/grove_ultrasonic_ranger.html) [Chainable RGB LED ç¯](./modules/grove/grove_chainable_rgb_led.html) [RGB LED Ring ç¯æ¡](./modules/grove/grove_rgb_led_ring.html) * æ›´å¤šå¤–è®¾ [Sipeed éº¦å…‹é£é˜µåˆ—](./develop_kit_board/module_microphone.html) [åŒæ‘„æ¨¡å—](./modules/others/binocular_camera.html) [MLX90640 ä¸²å£çº¢å¤–é•œå¤´](./modules/others/mlx90640.html) [HTPA çº¢å¤–é•œå¤´](./modules/others/htpa.html) [èˆµæœº](./modules/others/servo.html) [ESP32 ADC](./modules/others/esp32_read_adc.html) [onwire å•æ€»çº¿](./modules/others/onewire.html) * æ›´å¤šåŠŸèƒ½ * ç³»ç»Ÿ [ä¸»é¢‘ã€å¤ä½ç­‰](./course/others/system.html) [å†…å­˜é…ç½®ä¸æŸ¥çœ‹](./course/others/mem.html) * GUI [ä¸­æ–‡ç­‰å¤šå›½è¯­è¨€æ”¯æŒ](./course/image/image_draw_font/image_draw_font.html) [Maix UI](./course/others/maixui.html) [Lvgl](./course/others/lvgl.html) [ç¼–è¾‘å™¨ pye](./course/others/pye.html) * ç½‘ç»œ [é…ç½® network ç½‘å¡](./course/network/network_config.html) [ä½¿ç”¨ socket é€šä¿¡](./course/network/socket_usage.html) * å¤šåª’ä½“ [audio](./course/media/audio.html) [video](./course/media/video.html) * æ¸¸æˆ [NES æ¸¸æˆæœº](./api_reference/media/nes.html) ## APIæ‰‹å†Œ * [æ ‡å‡†åº“](./api_reference/standard/index.html) [cmath](./api_reference/standard/cmath.html) [gc](./api_reference/standard/gc.html) [math](./api_reference/standard/math.html) [sys](./api_reference/standard/sys.html) [ubinascii](./api_reference/standard/ubinascii.html) [ucollections](./api_reference/standard/ucollections.html) [uctypes](./api_reference/standard/uctypes.html) [uerrno](./api_reference/standard/uerrno.html) [uhashlib](./api_reference/standard/uhashlib.html) [uheapq](./api_reference/standard/uheapq.html) [ujson](./api_reference/standard/ujson.html) [uos](./api_reference/standard/uos.html) [ure](./api_reference/standard/ure.html) [usocket](./api_reference/standard/usocket.html) [ustruct](./api_reference/standard/ustruct.html) [utime](./api_reference/standard/utime.html) [uzlib](./api_reference/standard/uzlib.html) * [machine](./api_reference/machine/index.html) [I2C](./api_reference/machine/i2c.html) [PWM](./api_reference/machine/pwm.html) [SPI](./api_reference/machine/spi.html) [Timer](./api_reference/machine/timer.html) [UART](./api_reference/machine/uart.html) [network](./api_reference/machine/network.html) [WDT](api_reference/machine/wdt.html) * [Maix](./api_reference/Maix/index.html) [FPIOA](./api_reference/Maix/fpioa.html) [GPIO](./api_reference/Maix/gpio.html) [KPU](./api_reference/Maix/kpu.html) [FFT](./api_reference/Maix/fft.html) [I2S](./api_reference/Maix/i2s.html) [freq](./api_reference/Maix/freq.html) [utils](./api_reference/Maix/utils.html) * [helper](./api_reference/builtin_py/index.html) [fpioa_manager](./api_reference/builtin_py/fm.html) [board_info](./api_reference/builtin_py/board_info.html) [Micropython Editor](./api_reference/application/pye.html) * [media](./api_reference/machine_vision/index.html) [lcd](./api_reference/machine_vision/lcd.html) [sensor](./api_reference/machine_vision/sensor.html) [image](api_reference/machine_vision/image/image.html) [video](./api_reference/media/video.html) [audio](./api_reference/media/audio.html) [nes](./api_reference/media/nes.html) [lvgl](./course/others/lvgl.html) [isolated_word](./api_reference/machine_vision/isolated_word.html) [maix_asr](./api_reference/machine_vision/maix_asr.html) * [extend](./api_reference/extend/index.html) [touchscreen](./api_reference/extend/touchscreen.html) [modules.ultrasonic](./api_reference/extend/ultrasonic.html) [modules.ws2812](./api_reference/extend/ws2812.html) [modules.htpa](./api_reference/extend/htpa.html) [modules.onewire](./api_reference/extend/onewire.html) ## å¸¸è§é—®é¢˜ FAQ * [MaixPy å¸¸è§é—®é¢˜ FAQ](./others/maixpy_faq.html) * [MaixHub å¹³å° FAQ](./others/maixhub_faq.html) ## è¿›é˜¶ * è¿›é˜¶å¼€å‘ [æºç ç›®å½•ç»“æ„](./course/advance/project_framework.html) [å¦‚ä½•ç¼–è¯‘ MaixPy å·¥ç¨‹](course/advance/compile.html) [å¦‚ä½•ç”¨ C æ·»åŠ ä¸€ä¸ª MaixPy æ¨¡å—](./course/advance/add_c_module.html) [æ‰“åŒ…æ–‡ä»¶ç³»ç»Ÿ](./course/advance/pack_fs.html) * å‚ä¸è´¡çŒ® [å‚ä¸æ–‡æ¡£ç¼–å†™ï¼ˆè§„èŒƒï¼‰](./contribute/doc_convention.html) [ä»£ç ç¼–å†™è§„èŒƒ](./contribute/code_convention.html) ## ç¤¾åŒº & åˆ†äº« [ç²¾é€‰æ–‡ç« ](./share/recommend_articles.html) [å¼€æºé¡¹ç›®](./share/open_projects.html) å¤§å®¶çš„ç»éªŒåˆ†äº« * [å‚ä¸ç»éªŒåˆ†äº«/åˆ†äº«æ¨¡æ¿](./share/my_share/index.html)"},"/soft/maixpy/zh/dnn/ml_mnist.html":{"title":"mnist æ‰‹å†™æ•°å­—è¯†åˆ«","content":" title: mnist æ‰‹å†™æ•°å­—è¯†åˆ« keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy mnist æ‰‹å†™æ•°å­—è¯†åˆ« ```python import sensor,lcd,image import KPU as kpu lcd.init() sensor.reset() sensor.set_pixformat(sensor.RGB565) sensor.set_framesize(sensor.QVGA) sensor.set_windowing((224, 224)) #set to 224x224 input sensor.set_hmirror(0) #flip camera task kpu.load(0x200000) #load model from flash address 0x200000 sensor.run(1) img_lcd image.Image() while True: img sensor.snapshot() #lcd.display(img,oft (0,0)) #display large picture img1 img.to_grayscale(1) #convert to gray img2 img1.resize(28,28) #resize to mnist input 28x28 a img2.invert() #invert picture as mnist need a img2.strech_char(1) #preprocessing pictures, eliminate dark corner img2x2 img2.resize(28*2,28*2) #scale to display a img_lcd.draw_image(img2x2,0,0)#display small 28x28 picture a img2.pix_to_ai(); #generate data for ai #watch conv0 a kpu.set_layers(task, 1) fmap kpu.forward(task,img2) #run neural network model for i in range(0,16): tmp kpu.fmap(fmap,i) tmpx2 tmp.resize(14*2,14*2) #scale to display a img_lcd.draw_image(tmpx2,(i%8)*14*2,28*2+14*2*int(i/8)) #watch conv1 a kpu.set_layers(task, 2) fmap kpu.forward(task,img2) #run neural network model for i in range(0,32): tmp kpu.fmap(fmap,i) tmpx2 tmp.resize(7*2,7*2) #scale to display a img_lcd.draw_image(tmpx2,(i%16)*7*2,28*2+14*2*2+7*2*int(i/16)) #watch conv2 a kpu.set_layers(task, 8) fmap kpu.forward(task,img2) #run neural network model for i in range(0,10): tmp kpu.fmap(fmap,i) tmpx2 tmp.resize(4*2,4*2) #scale to display a img_lcd.draw_image(tmpx2,i*4*2,28*2+14*2*2+7*2*2) #watch softmax a kpu.set_layers(task, 11) fmap kpu.forward(task,img2) plist fmap[:] for i in range(0,10): cc int(plist[i]*256) a img_lcd.draw_rectangle(i*16, 28*2+14*2*2+7*2*2+4*2+10, 16, 16, color (cc, cc, cc), thickness 1, fill True) a img_lcd.draw_string(i*16+5, 28*2+14*2*2+7*2*2+4*2+10+16, str(i), color (255, 255, 255), scale 2, mono_space False) #show result lcd.display(img_lcd,oft (0,0)) ```"},"/soft/maixpy/zh/dnn/index.html":{"title":"æ·±åº¦å­¦ä¹ åŠ KPU åŸºç¡€çŸ¥è¯†","content":" title: æ·±åº¦å­¦ä¹ åŠ KPU åŸºç¡€çŸ¥è¯† keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy æ·±åº¦å­¦ä¹ åŠ KPU åŸºç¡€çŸ¥è¯† ## é˜…è¯»å®Œæœ¬ç« æ–‡æ¡£å¯ä»¥äº†è§£ä»€ä¹ˆï¼Ÿ 1. äº†è§£æ·±åº¦å­¦ä¹ ä¸€äº›åŸºç¡€å†…å®¹ 2. äº†è§£ K210 å†…éƒ¨ KPU çš„ç‰¹æ€§ 3. äº†è§£ KPU ä½¿ç”¨è¿‡ç¨‹ä¸­å¯èƒ½ä¼šé‡åˆ°çš„é—®é¢˜ï¼Œä»¥åŠé—®é¢˜çš„è§£å†³æ–¹æ³• ## æ¦‚è¿° åœ¨æœ¬ç« ä¸­ï¼Œå°†ä¼šä¸ºå¤§å®¶ä»‹ç»æ·±åº¦å­¦ä¹ å’Œ K210 å†…éƒ¨ KPU çš„ä¸€äº›åŸºç¡€çŸ¥è¯†ï¼Œä»¥åŠå¤§å®¶åœ¨è¿™éƒ¨åˆ†å®¹æ˜“é‡åˆ°çš„é—®é¢˜ã€‚æ·±åº¦å­¦ä¹ åŠå…¶æ‰€æ¶µç›–çš„åº”ç”¨å®ä¾‹æ˜¯ä¸€ä¸ªéå¸¸åºå¤§çš„é¢†åŸŸï¼Œæ²¡æœ‰äººèƒ½å¤Ÿç”¨ä¸€ç¯‡æ–‡æ¡£å°±æŠŠå®ƒè¯´å¾—å¾ˆæ¸…æ¥šã€‚å¸Œæœ›è¿™ç¯‡æ–‡æ¡£èƒ½å¤Ÿè®©å¤§å®¶å¯¹æ·±åº¦å­¦ä¹ æœ‰ä¸€å®šçš„äº†è§£ï¼Œäº§ç”Ÿè¶…å‡ºæœ¬æ–‡æ¡£è¯´æ˜å¤–çš„é—®é¢˜æ—¶ï¼Œèƒ½å¤Ÿé€šè¿‡æœç´¢å¼•æ“æŸ¥è¯¢ç­‰æ‰‹æ®µè§£å†³é—®é¢˜ã€‚ ## å…³äºæ·±åº¦å­¦ä¹  åœ¨ä»‹ç»æ·±åº¦å­¦ä¹ å‰ï¼Œæˆ‘ä»¬å…ˆæ¥ä»‹ç»ç¥ç»ç½‘ç»œã€‚ â€‹\tä»€ä¹ˆæ˜¯ç¥ç»ç½‘ç»œå‘¢ï¼Ÿæ˜¯ä¸€ç§æ¨¡ä»¿åŠ¨ç‰©ç¥ç»ç½‘ç»œè¡Œä¸ºç‰¹å¾ï¼Œè¿›è¡Œåˆ†å¸ƒå¼å¹¶è¡Œä¿¡æ¯å¤„ç†çš„ç®—æ³•æ•°å­¦æ¨¡å‹ã€‚ ä¸‹é¢ï¼Œè®©æˆ‘ä»¬ä¸¾ä¸ªç®€å•ä¾‹å­æ¥è¯´æ˜å®ƒå¹²äº†ä»€ä¹ˆã€‚ å…¶å®ä»æŸç§ç¨‹åº¦æ¥ä¸Šè¯´ï¼Œæˆ‘ä»¬åœ¨ä¸Šå°å­¦æ—¶ï¼Œå°±å·²ç»å¼€å§‹è¿ç”¨ç¥ç»ç½‘ç»œçš„ç›¸å…³æ€æƒ³æ¥è§£å†³å®é™…é—®é¢˜äº†ã€‚æ­¤æ—¶çš„ä½ ï¼Œå¯èƒ½æ»¡è„¸é—®å·QAQã€‚ä¸æ€•ï¼Œä¸”å¬æˆ‘ä¸€ä¸€é“æ¥ã€‚ç°åœ¨ï¼Œå‡è®¾æœ‰ä¸€ä¸ªæ–¹ç¨‹ `y kx + b` ã€‚ç›¸ä¿¡è¿™ä¸ªæ–¹ç¨‹ä½ ä¸€å®šè§è¿‡æ— æ•°æ¬¡ã€‚å…¶å®æˆ‘ä»¬å¯ä»¥æŠŠè¿™ä¸ªæ–¹ç¨‹å½“ä½œç¥ç»ç½‘ç»œçš„\"æ¨¡å‹\"ï¼ŒæœªçŸ¥æ•°\"k\"å½“ä½œç¥ç»ç½‘ç»œçš„æƒé‡ï¼Œ\"b\"å½“ä½œç¥ç»ç½‘ç»œçš„åç½®ã€‚æ­¤æ—¶æˆ‘ä»¬è¦è®­ç»ƒè¿™ä¸ªç¥ç»ç½‘ç»œæ¨¡å‹ï¼Œå…¶å®è®­ç»ƒçš„è¿‡ç¨‹ï¼Œå°±æ˜¯åœ¨æ•°æ®é›†ä¸Šæ±‚è§£å…¨å±€æœ€ä¼˜æƒé‡å’Œåç½®çš„è¿‡ç¨‹ã€‚æ­¤æ—¶ï¼Œå‡è®¾è¿™ä¸ªæ–¹ç¨‹æ»¡è¶³\"x 1,y 2\",\"x 2,y 4\"ã€‚è¿™ä¸ªæ»¡è¶³æ¡ä»¶ä¾¿æ˜¯ä¸Šæ–‡è¯´åˆ°çš„æ•°æ®é›†ï¼Œé€šè¿‡åœ¨äººè„‘ä¸­ï¼Œå¯¹è¿™ä¸ªç½‘ç»œçš„è®­ç»ƒï¼Œæˆ‘ä»¬å¯ä»¥å¾—çŸ¥æ•´ä¸ªç½‘ç»œçš„æœ€ä¼˜æƒé‡ä¸º2ï¼Œæœ€ä¼˜åç½®ä¸º0ã€‚æ­¤æ—¶ï¼Œä¾¿å®Œæˆäº†ç¥ç»ç½‘ç»œçš„è®­ç»ƒã€‚ ä¸è¿‡å€¼å¾—æå‡ºçš„æ˜¯ï¼Œè®­ç»ƒçš„æœ€ç»ˆç›®çš„ï¼Œæ°¸è¿œéƒ½æ˜¯é¢„æµ‹ã€‚å¤å¾€ä»Šæ¥ï¼Œé‚£ä¹ˆå¤šç¥ç»ç½‘ç»œæ¶ˆè€—å¤§é‡ç®—åŠ›èµ„æºå»å¯»æ‰¾åˆé€‚æƒé‡å’Œåç½®ã€‚éƒ½æ˜¯ä¸ºäº†èƒ½å¤Ÿå¯»æ‰¾ä¸€ä¸ªè¾“å…¥æ•°æ®ä¸è¾“å‡ºæ•°æ®ä¹‹é—´çš„å¯¹åº”å…³ç³»ã€‚ä¸€ä¸ªä¼˜ç§€çš„ç¥ç»ç½‘ç»œï¼Œå®ƒçš„è¾“å…¥æ•°æ®åº”è¯¥æ˜¯éšæœºçš„ï¼Œä¸ç¡®å®šçš„(æ²¡æœ‰åœ¨æ•°æ®é›†ä¸­è¢«è®­ç»ƒè¿‡çš„)ã€‚è€Œè¾“å‡ºæ•°æ®åˆ™æ˜¯å‡†ç¡®çš„ï¼Œå¯é çš„ã€‚å›åˆ°ä¸Šæ–‡ï¼Œæˆ‘ä»¬è®­ç»ƒäº†ç¥ç»ç½‘ç»œ\"y 2x + 0\"ï¼Œæ­¤æ—¶æ•°æ®é›†æ‹¥æœ‰çš„æ•°æ®xä¸º\"1\"å’Œ\"2\"ã€‚æ­¤æ—¶ä¸ºäº†è¯„ä¼°æ¨¡å‹æ€§èƒ½ï¼Œæˆ‘ä»¬è¾“å…¥éæ•°æ®é›†æ•°æ®\"3\"ï¼Œæ­¤æ—¶ï¼Œé€šè¿‡ç¥ç»ç½‘ç»œå‰å‘ä¼ æ’­ï¼Œå¾—åˆ°äº†è¾“å‡ºå€¼\"6\"ã€‚è‡³æ­¤ï¼Œå®Œæˆäº†ç¥ç»ç½‘ç»œæ¨¡å‹çš„é¢„æµ‹ã€‚ ä¸Šæ–‡ç”¨äº†éå¸¸ç®€å•çš„demoæ¥ä¸ºå¤§å®¶é˜è¿°ç¥ç»ç½‘ç»œç©¶ç«Ÿåœ¨å¹²å•¥ï¼Œä¸‹é¢è®©æˆ‘ä»¬ä¸€èµ·çœ‹çœ‹çœŸæ­£çš„ç¥ç»ç½‘ç»œæ¨¡å‹é•¿å•¥æ ·ã€‚ ![å…¨è¿æ¥ç¥ç»ç½‘ç»œæ¨¡å‹](https://i.loli.net/2020/06/30/PVxMcSde8YJ4Q9b.jpg) ä¸Šå›¾ä¸ºå¤§å®¶å±•ç¤ºäº†ä¸€ä¸ªæ¯”è¾ƒå¸¸è§çš„å…¨è¿æ¥ç¥ç»ç½‘ç»œæ¨¡å‹(Fully connected neural network)ã€‚å¯¹æ¯”è¿™ä¸ªç½‘ç»œç»“æ„ä¸ä¹‹å‰çš„\"y 2x + 0\"ç½‘ç»œï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°å¦‚ä¸‹ä¸åŒ: 1. è¾“å…¥æ•°æ®ä¸ªæ•°ä¸ç¡®å®š(å¯ä»¥æœ‰nä¸ªè¾“å…¥) 2. è¾“å‡ºæ•°æ®ä¸ªæ•°ä¸ç¡®å®š(å¯ä»¥æœ‰nä¸ªè¾“å‡º) 3. å‚æ•°ä¸ªæ•°ä¸ç¡®å®š(å›¾ä¸­å¯ä»¥æœ‰nä¸ªå…¨è¿æ¥å±‚ï¼Œæ¯ä¸ªå±‚æ‰€åŒ…å«ç¥ç»å…ƒå¯ä»¥æœ‰nä¸ªï¼Œä»è€Œå¯¼è‡´å‚æ•°ä¸ªæ•°ä¸ºn) æ¨¡å‹çš„æ„é€ è¿‡ç¨‹å¯ä»¥çœ‹ä½œæ˜¯å‚æ•°ä¸ªæ•°çš„ç¡®å®šè¿‡ç¨‹(å½“ç½‘ç»œå±‚ç»“æ„ç¡®å®šåï¼Œå‚æ•°ä¸ªæ•°ä¹Ÿç¡®å®šäº†)ï¼Œæ¨¡å‹çš„è®­ç»ƒè¿‡ç¨‹å¯ä»¥çœ‹ä½œæ˜¯åœ¨æ•°æ®é›†ä¸Šå…¨å±€æœ€ä¼˜å‚æ•°çš„ç¡®å®šè¿‡ç¨‹ã€‚æ¨¡å‹çš„é¢„æµ‹è¿‡ç¨‹å¯ä»¥çœ‹ä½œæ˜¯è¾“å…¥æ•°æ®*å‚æ•° é¢„æµ‹ç»“æœçš„è¿‡ç¨‹ã€‚(*ä»£è¡¨è¿›è¡ŒæŸç§è¿ç®—) åœ¨å¯¹ç¥ç»ç½‘ç»œæœ‰äº†ä¸€å®šçš„äº†è§£åï¼Œæ¥ä¸‹æ¥å°†ä¼šä»‹ç»æ·±åº¦å­¦ä¹ ã€‚å¤§å®¶å¯ä»¥æŠŠæ·±åº¦å­¦ä¹ å½“åšæ˜¯ä¸€ç§æ”¹è‰¯ç‰ˆçš„ç¥ç»ç½‘ç»œç®—æ³•ã€‚å®ƒä¸å…¶ä»–å‡ ä¸ªåè¯ä¹‹é—´çš„å…³ç³»ä¸º:æœºå™¨å­¦ä¹ æ˜¯äººå·¥æ™ºèƒ½çš„ä¸€ä¸ªå­é›†ï¼Œæ·±åº¦å­¦ä¹ å’Œç¥ç»ç½‘ç»œåˆæ˜¯æœºå™¨å­¦ä¹ çš„ä¸€ä¸ªå­é›†ã€‚ ç¥ç»ç½‘ç»œå’Œæ·±åº¦å­¦ä¹ ä¹‹é—´çš„åŒºåˆ«ï¼Œä»¥åŠæ·±åº¦å­¦ä¹ çš„ä¼˜ç‚¹ç­‰å†…å®¹ï¼Œç”±äºç¯‡å¹…æœ‰é™ï¼Œä¸èƒ½åœ¨æ­¤ä¸€ä¸€ä»‹ç»ï¼Œå¤§å®¶æ„Ÿå…´è¶£çš„è¯ï¼Œå¯ä»¥é€šè¿‡æœç´¢å¼•æ“è¿›è¡ŒæŸ¥è¯¢ã€‚ ## å…³äº KPU K210 SOC å†…éƒ¨æ­è½½ä¸€é¢— KPU(Neural Network Processor), KPU å³é€šç”¨çš„ç¥ç»ç½‘ç»œå¤„ç†å™¨ï¼Œå®ƒå¯ä»¥åœ¨ä½åŠŸè€—çš„æƒ…å†µä¸‹å®ç°å·ç§¯ç¥ç»ç½‘ç»œè®¡ç®—ï¼Œæ—¶æ—¶è·å–è¢«æ£€æµ‹ç›®æ ‡çš„å¤§å°ã€åæ ‡å’Œç§ç±»ï¼Œå¯¹äººè„¸æˆ–è€…ç‰©ä½“è¿›è¡Œæ£€æµ‹å’Œåˆ†ç±»ã€‚ K210 æ­è½½çš„ KPU å…·å¤‡ä»¥ä¸‹å‡ ä¸ªç‰¹ç‚¹ï¼š 1. æ”¯æŒä¸»æµè®­ç»ƒæ¡†æ¶æŒ‰ç…§ç‰¹å®šé™åˆ¶è§„åˆ™è®­ç»ƒå‡ºæ¥çš„å®šç‚¹åŒ–æ¨¡å‹ 2. å¯¹ç½‘ç»œå±‚æ•°æ— ç›´æ¥é™åˆ¶ï¼Œæ”¯æŒæ¯å±‚å·ç§¯ç¥ç»ç½‘ç»œå‚æ•°å•ç‹¬é…ç½®ï¼ŒåŒ…æ‹¬è¾“å…¥è¾“å‡ºé€šé“æ•°ç›®ã€è¾“å…¥è¾“ å‡ºè¡Œå®½åˆ—é«˜ 3. æ”¯æŒä¸¤ç§å·ç§¯å†…æ ¸ 1x1 å’Œ 3x3 4. æ”¯æŒä»»æ„å½¢å¼çš„æ¿€æ´»å‡½æ•° 5. å®æ—¶å·¥ä½œæ—¶æœ€å¤§æ”¯æŒç¥ç»ç½‘ç»œå‚æ•°å¤§å°ä¸º 5.5MiB åˆ° 5.9MiB 6. éå®æ—¶å·¥ä½œæ—¶æœ€å¤§æ”¯æŒç½‘ç»œå‚æ•°å¤§å°ä¸ºï¼ˆFlash å®¹é‡ è½¯ä»¶ä½“ç§¯ï¼‰ KPU çš„å†…éƒ¨ç»“æ„å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ ![K210 KPUç»“æ„](https://i.loli.net/2020/06/30/Q9tPOjyMWFiTwxA.png) Maixpyä¸‹ KPU ç›¸å…³ API åŠ Demo å¯ä»¥ç‚¹å‡»[æ­¤å¤„](https://maixpy.sipeed.com/zh/libs/Maix/kpu.html?h kpu)æŸ¥çœ‹ã€‚ ## KPUä½¿ç”¨è¿‡ç¨‹ä¸­çš„å¸¸è§é—®é¢˜ ### 1. KPUèƒ½å¤ŸåŠ è½½å¤šå¤§çš„æ¨¡å‹ï¼Ÿ å½“k210è¿è¡Œ c ä»£ç æ—¶ï¼Œèƒ½å¤ŸåŠ è½½ 6MBå·¦å³çš„æ¨¡å‹ã€‚ å½“è¿è¡Œmaixpy(mini)æ—¶ï¼Œèƒ½å¤ŸåŠ è½½3MBå·¦å³çš„æ¨¡å‹ã€‚ å½“è¿è¡Œmaixpy(å®Œæ•´ç‰ˆ)æ—¶ï¼Œèƒ½å¤ŸåŠ è½½2MBå·¦å³çš„æ¨¡å‹ã€‚ ### 2. ä»€ä¹ˆæ¨¡å‹èƒ½è¢«KPUåŠ è½½è¿è¡Œï¼Ÿ è¢«nncaseè½¬æ¢åçš„kmodelèƒ½å¤Ÿè¢«kpuåŠ è½½è¿è¡Œã€‚ nncaseä½¿ç”¨è¯´æ˜ç‚¹å‡»[æ­¤å¤„](https://github.com/kendryte/nncase/blob/master/docs/USAGE_ZH.md) nncase tflite opsæ”¯æŒç‚¹å‡»[æ­¤å¤„](https://github.com/kendryte/nncase/blob/master/docs/tflite_ops.md) nncase å¸¸è§é—®é¢˜ç‚¹å‡»[æ­¤å¤„](https://github.com/kendryte/nncase/blob/master/docs/FAQ_ZH.md) ### 3. KPUèƒ½é€šè¿‡å“ªäº›æ–¹å¼åŠ è½½æ¨¡å‹ï¼Ÿ 1. åŠ è½½TFå¡ä¸­çš„æ¨¡å‹ ```python kpu.load(\"/sd/test.kmodel\") ``` 2. åŠ è½½Flashä¸­çš„æ¨¡å‹ ```python kpu.load(offset) ``` æ­¤å¤„çš„offsetä¸ºæ¨¡å‹åœ¨flashä¸­çš„åç§»åœ°å€ï¼Œæ¨¡å‹å¯ä»¥é€šè¿‡k flashçƒ§å…¥k210å†…éƒ¨flashä¸­ ### 4. æŠ¥é”™\"memory overflow\"æ€ä¹ˆåŠï¼Ÿ å‡ºç°è¿™ä¸ªé—®é¢˜ï¼Œä¸€èˆ¬æ˜¯ç”±äºæ¨¡å‹è¿‡å¤§å¼•èµ·çš„ã€‚å¯ä»¥ä¾æ¬¡å°è¯•å¦‚ä¸‹è§£å†³æ–¹æ¡ˆ: 1. æ›´æ¢maixpy miniç‰ˆæœ¬å›ºä»¶ 2. è¿›è¡Œæ¨¡å‹å‰ªæä¼˜åŒ– 3. æ”¾å¼ƒåœ¨maixpyå›ºä»¶ä¸‹å¼€å‘ï¼Œè€Œé‡‡ç”¨å‹˜æ™ºçš„C SDKè¿›è¡Œå¼€å‘ã€‚ ### 5. æŠ¥é”™\"load error,only support kmodel v3/v4\"æ€ä¹ˆåŠï¼Ÿ å‡ºç°è¿™ä¸ªé—®é¢˜å¯ä»¥å°è¯•å¦‚ä¸‹è§£å†³æ–¹æ¡ˆ: 1. å¦‚æœä¸ºflashä¸­åŠ è½½æ¨¡å‹ï¼Œè¯·ç¡®ä¿flash offsetå¡«å†™æ­£ç¡®ï¼Œå¹¶ä¿è¯å’Œmaixpyå›ºä»¶æ²¡æœ‰å†²çªã€‚ 2. å¦‚æœæ˜¯é‡‡ç”¨nncase 0.2.0è¿›è¡Œè½¬æ¢çš„kmodel V4ï¼Œè¯·å°è¯•é‡‡ç”¨nncase 0.1.0è¿›è¡Œè½¬æ¢ï¼Œä»è€Œç”Ÿæˆkmodel V3ã€‚ï¼ˆæˆªè‡³2020/06/30ï¼Œmaixpyå¯¹kmodel v4çš„åŠ è½½bugè¿˜æœªä¿®å¤ï¼‰ ### 6. æˆ‘æƒ³å®ç°ä¸åŒæ¨¡å‹çš„é€‰æ‹©åŠ è½½(ä¾‹å¦‚æŒ‰ä¸‹æŒ‰é’®è¿è¡Œç›®æ ‡åˆ†ç±»ï¼Œå†æ¬¡æŒ‰ä¸‹æŒ‰é’®åˆ™è¿è¡Œç›®æ ‡æ£€æµ‹)ï¼Œåº”è¯¥æ€ä¹ˆå†™ç¨‹åºï¼Ÿ å› ä¸ºflashæœ‰é™ï¼Œå›ºå»ºè®®å°†æ‰€æœ‰k210æ¨¡å‹æ”¾åˆ°TFå¡å†…è¿›è¡ŒåŠ è½½ã€‚å› ä¸ºå†…éƒ¨RAMæœ‰é™ï¼Œæ‰€ä»¥å½“éœ€è¦åˆ‡æ¢ä¸åŒæ¨¡å‹è¿›è¡Œ`kpu.load(k210model)`å‰ï¼Œè¯·å…ˆæ‰§è¡Œ`kpu.deinit(k210model)`å¯¹SRAMä¸­çš„æ¨¡å‹è¿›è¡Œé‡Šæ”¾ã€‚å¦åˆ™å°†ä¼šæŠ¥é”™\"memory overflow\"ã€‚"},"/soft/maixpy/zh/course/index.html":{"title":"MaixPy æ‰‹æŠŠæ‰‹æ•™ç¨‹è¯´æ˜","content":" title: MaixPy æ‰‹æŠŠæ‰‹æ•™ç¨‹è¯´æ˜ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy MaixPy æ‰‹æŠŠæ‰‹æ•™ç¨‹è¯´æ˜ çœ‹æœ¬æ•™ç¨‹ä¹‹å‰ï¼Œ è¯·**åŠ¡å¿…å…ˆçœ‹å·¦ä¾§ç›®å½•ã€å…¥é—¨å¿…çœ‹æŒ‡å—ã€‘** æ•™ç¨‹æ˜¯åœ¨è®¤ä¸ºå·²ç»å®Œå…¨æŒæ¡äº†å‰é¢çš„ å…¥é—¨ éƒ¨åˆ†çš„å†…å®¹çš„åŸºç¡€ä¸Šå†™çš„ æœ¬æ•™ç¨‹ä¸»è¦åˆ†æ¨¡å—åœ°ä»‹ç» MaixPy åŒ…å«çš„åŠŸèƒ½çš„ä½¿ç”¨æ–¹æ³•ï¼Œ åœ¨çœ‹æ•™ç¨‹æ—¶ï¼Œå¯èƒ½éœ€è¦é…åˆ API æ–‡æ¡£ å’Œ ä¾‹ç¨‹ä»“åº“[MaixPy_scripts](https://github.com/sipeed/MaixPy v1_scripts) ä¸€åŒå­¦ä¹ "},"/soft/maixpy/zh/course/image/find_color_blob.html":{"title":"MaixPy æŸ¥æ‰¾è‰²å—","content":" title: MaixPy æŸ¥æ‰¾è‰²å— keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy MaixPy æŸ¥æ‰¾è‰²å— æ‰¾å‡ºå›¾ç‰‡ä¸­æŒ‡å®šé¢œè‰²æ‰€æœ‰è‰²å— ## ä½¿ç”¨æ–¹æ³• MaixPy å·²ç»åœ¨ image æ¨¡å—ä¸­å®ç°æœ‰æŸ¥æ‰¾è‰²å—æ–¹æ³•ï¼Œéœ€è¦ä½¿ç”¨é minimum å›ºä»¶ç‰ˆæœ¬ã€‚ * ä»æ‘„åƒå¤´è·å–å›¾ç‰‡ ```python import image, sensor img sensor.snapshot() ``` * ä»å›¾ç‰‡ä¸­æŸ¥æ‰¾æ‰€æœ‰è‰²å—å¯¹è±¡(image.blob)åˆ—è¡¨, ä¼ å…¥çš„é¢œè‰²é˜ˆå€¼å‚æ•°æŒ‰ç…§ LAB æ ¼å¼(l_loï¼Œl_hiï¼Œa_loï¼Œa_hiï¼Œb_loï¼Œb_hi) ```python green_threshold (0, 80, 70, 10, 0, 30) blobs img.find_blobs([green_threshold]) ``` * æ“ä½œè‰²å—å¯¹è±¡ æ ¹æ®è‡ªå·±çš„éœ€æ±‚æ“ä½œè‰²å—å¯¹è±¡, ä¾‹å¦‚å°†è‰²å—å¯¹è±¡åœ¨å›¾åƒä¸­ç”¨çŸ©å½¢æ¡†æ ‡è¯†å‡ºæ¥ ```python tmp img.draw_rectangle(b[0:4]) ``` è¯¦ç»† API ä»‹ç»è¯·æŸ¥çœ‹[API Image](../../api_reference/machine_vision/image/image.html). ## ä¾‹ç¨‹ æ‰¾ç»¿è‰²è‰²å— ```python import sensor import image import lcd import time lcd.init() sensor.reset() sensor.set_pixformat(sensor.RGB565) sensor.set_framesize(sensor.QVGA) sensor.run(1) green_threshold (0, 80, 70, 10, 0, 30) while True: img sensor.snapshot() blobs img.find_blobs([green_threshold]) if blobs: for b in blobs: tmp img.draw_rectangle(b[0:4]) tmp img.draw_cross(b[5], b[6]) c img.get_pixel(b[5], b[6]) lcd.display(img) ```"},"/soft/maixpy/zh/course/image/sensor.html":{"title":"Sensor æ„Ÿå…‰å…ƒä»¶","content":" title: Sensor æ„Ÿå…‰å…ƒä»¶ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy Sensor æ„Ÿå…‰å…ƒä»¶ sensoræ¨¡å—,ç”¨äºè®¾ç½®æ„Ÿå…‰å…ƒä»¶çš„å‚æ•°ã€‚ ä½¿ç”¨ä¾‹ç¨‹: å®æ—¶é¢„è§ˆæ‘„åƒå¤´ ```python import sensor #å¼•å…¥æ„Ÿå…‰å…ƒä»¶çš„æ¨¡å— sensor.reset()#åˆå§‹åŒ–æ„Ÿå…‰å…ƒä»¶ sensor.set_pixformat(sensor.RGB565)#è®¾ç½®ä¸ºå½©è‰² sensor.set_framesize(sensor.QVGA)#è®¾ç½®å›¾åƒçš„å¤§å° sensor.skip_frames()#è·³è¿‡nå¼ ç…§ç‰‡ï¼Œåœ¨æ›´æ”¹è®¾ç½®åï¼Œè·³è¿‡ä¸€äº›å¸§ï¼Œç­‰å¾…æ„Ÿå…‰å…ƒä»¶å˜ç¨³å®šã€‚ while(True): img sensor.snapshot()#æ‹æ‘„ä¸€å¼ ç…§ç‰‡ï¼Œimgä¸ºä¸€ä¸ªimageå¯¹è±¡ ``` åˆå§‹åŒ– ```python sensor.reset()# åˆå§‹åŒ–æ„Ÿå…‰å…ƒä»¶ #è®¾ç½®å½©è‰²ï¼é»‘ç™½ sensor.set_pixformat()# è®¾ç½®åƒç´ æ¨¡å¼ã€‚ sensor.GRAYSCALE# ç°åº¦ï¼Œæ¯ä¸ªåƒç´ 8bitã€‚ sensor.RGB565# å½©è‰²ï¼Œæ¯ä¸ªåƒç´ 16bitã€‚ ``` è®¾ç½®å›¾åƒå¤§å° sensor.QQCIF# 88x72 sensor.QCIF# 176x144 sensor.CIF# 352x288 sensor.QQSIF# 88x60 sensor.QSIF# 176x120 sensor.SIF# 352x240 sensor.QQQQVGA# 40x30 sensor.QQQVGA# 80x60 sensor.QQVGA# 160x120 sensor.QVGA# 320x240 sensor.VGA# 640x480 ```python sensor.set_framesize()# è®¾ç½®å›¾åƒçš„å¤§å° ``` è·³è¿‡ä¸€äº›å¸§ sensor.skip_frames(n 10) è·³è¿‡ n å¼ ç…§ç‰‡ï¼Œåœ¨æ›´æ”¹è®¾ç½®åï¼Œè·³è¿‡ä¸€äº›å¸§ï¼Œç­‰å¾…æ„Ÿå…‰å…ƒä»¶å˜ç¨³å®šã€‚ è·å–ä¸€å¼ å›¾åƒ sensor.snapshot() æ‹æ‘„ä¸€å¼ ç…§ç‰‡ï¼Œè¿”å›ä¸€ä¸ª image å¯¹è±¡ã€‚ è‡ªåŠ¨å¢ç›Šï¼ç™½å¹³è¡¡ï¼æ›å…‰ sensor.set_auto_gain() è‡ªåŠ¨å¢ç›Šå¼€å¯(True)æˆ–è€…å…³é—­(False)ã€‚ åœ¨ä½¿ç”¨é¢œè‰²è¿½è¸ªæ—¶ï¼Œéœ€è¦å…³é—­è‡ªåŠ¨å¢ç›Šã€‚ sensor.set_auto_whitebal() è‡ªåŠ¨ç™½å¹³è¡¡å¼€å¯(True)æˆ–è€…å…³é—­(False)ã€‚ åœ¨ä½¿ç”¨é¢œè‰²è¿½è¸ªæ—¶ï¼Œéœ€è¦å…³é—­è‡ªåŠ¨ç™½å¹³è¡¡ã€‚ sensor.set_auto_exposure(enable[\\, exposure_us]) enable æ‰“å¼€(True)æˆ–å…³é—­(False)è‡ªåŠ¨æ›å…‰ã€‚é»˜è®¤æ‰“å¼€ã€‚ å¦‚æœ enable ä¸º Falseï¼Œ åˆ™å¯ä»¥ç”¨ exposure_us è®¾ç½®ä¸€ä¸ªå›ºå®šçš„æ›å…‰æ—¶é—´(ä»¥å¾®ç§’ä¸ºå•ä½)ã€‚ è®¾ç½®çª—å£ ROI ```python sensor.set_windowing(roi) ``` ROIï¼šRegion Of Interestï¼Œå›¾åƒå¤„ç†ä¸­çš„æœ¯è¯­â€æ„Ÿå…´è¶£åŒºâ€œã€‚å°±æ˜¯åœ¨ä»éœ€è¦å¤„ç†çš„å›¾åƒä¸­æå–å‡ºçš„è¦å¤„ç†çš„åŒºåŸŸã€‚ ```python sensor.set_framesize(sensor.VGA) # é«˜åˆ†è¾¨ç‡ sensor.set_windowing((240, 240)) #å–ä¸­é—´çš„ 240*240 åŒºåŸŸ ``` roi çš„æ ¼å¼æ˜¯(x, y, w, h)ã€‚ è®¾ç½®ç¿»è½¬ ```python #æ°´å¹³æ–¹å‘ç¿»è½¬ sensor.set_hmirror(True) # å‚ç›´æ–¹å‘ç¿»è½¬ sensor.set_vflip(True) ```"},"/soft/maixpy/zh/course/image/basic_operation.html":{"title":"å›¾åƒçš„åŸºæœ¬è¿ç®—","content":" title: å›¾åƒçš„åŸºæœ¬è¿ç®— keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy å›¾åƒçš„åŸºæœ¬è¿ç®— ## åæ ‡ ### è·å–/è®¾ç½®åƒç´ ç‚¹ æˆ‘ä»¬å¯ä»¥é€šè¿‡ image.get_pixel(x, y) æ–¹æ³•æ¥è·å–ä¸€ä¸ªåƒç´ ç‚¹çš„å€¼ã€‚ image.get_pixel(x, y) å¯¹äºç°åº¦å›¾: è¿”å›(x,y)åæ ‡çš„ç°åº¦å€¼. å¯¹äºå½©è‰²å›¾: è¿”å›(x,y)åæ ‡çš„(r,g,b)çš„tuple. åŒæ ·ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ image.set_pixel(x, y, pixel) æ–¹æ³•ï¼Œæ¥è®¾ç½®ä¸€ä¸ªåƒç´ ç‚¹çš„å€¼ã€‚ image.set_pixel(x, y, pixel) å¯¹äºç°åº¦å›¾: è®¾ç½®(x,y)åæ ‡çš„ç°åº¦å€¼ã€‚ å¯¹äºå½©è‰²å›¾: è®¾ç½®(x,y)åæ ‡çš„(r,g,b)çš„å€¼ã€‚ ä¸¾ä¾‹ï¼š ```python img sensor.snapshot() img.get_pixel(10,10) img.set_pixcel(10,10,(255,0,0))#è®¾ç½®åæ ‡(10,10)çš„åƒç´ ç‚¹ä¸ºçº¢è‰²(255,0,0) ``` ### è·å–å›¾åƒçš„å®½åº¦å’Œé«˜åº¦ image.width() è¿”å›å›¾åƒçš„å®½åº¦(åƒç´ ) image.height() è¿”å›å›¾åƒçš„é«˜åº¦(åƒç´ ) image.format() ç°åº¦å›¾ä¼šè¿”å› sensor.GRAYSCALEï¼Œå½©è‰²å›¾ä¼šè¿”å› sensor.RGB565ã€‚ image.size() è¿”å›å›¾åƒçš„å¤§å°(byte) ### å›¾åƒçš„è¿ç®— image.invert() å–åï¼Œå¯¹äºäºŒå€¼åŒ–çš„å›¾åƒï¼Œ0(é»‘)å˜æˆ1(ç™½)ï¼Œ1(ç™½)å˜æˆ0(é»‘)ã€‚ æ³¨ï¼š å›¾åƒå¯ä»¥æ˜¯å¦ä¸€ä¸ªimageå¯¹è±¡ï¼Œæˆ–è€…æ˜¯ä» (bmp/pgm/ppm)æ–‡ä»¶è¯»å…¥çš„imageå¯¹è±¡ã€‚ ä¸¤ä¸ªå›¾åƒéƒ½å¿…é¡»æ˜¯ç›¸åŒçš„å°ºå¯¸å’Œç±»å‹ï¼ˆç°åº¦å›¾/å½©è‰²å›¾ï¼‰ã€‚ image.nand(image) ä¸å¦ä¸€ä¸ªå›¾ç‰‡è¿›è¡Œä¸éï¼ˆNANDï¼‰è¿ç®—ã€‚ image.nor(image) ä¸å¦ä¸€ä¸ªå›¾ç‰‡è¿›è¡Œæˆ–éï¼ˆNORï¼‰è¿ç®—ã€‚ image.xor(image) ä¸å¦ä¸€ä¸ªå›¾ç‰‡è¿›è¡Œå¼‚æˆ–ï¼ˆXORï¼‰è¿ç®—ã€‚ image.xnor(image) ä¸å¦ä¸€ä¸ªå›¾ç‰‡è¿›è¡Œå¼‚æˆ–éï¼ˆXNORï¼‰è¿ç®—ã€‚ image.difference(image) ä»è¿™å¼ å›¾ç‰‡å‡å»å¦ä¸€ä¸ªå›¾ç‰‡ã€‚æ¯”å¦‚ï¼Œå¯¹äºæ¯ä¸ªé€šé“çš„æ¯ä¸ªåƒç´ ç‚¹ï¼Œå–ç›¸å‡ç»å¯¹å€¼æ“ä½œã€‚è¿™ä¸ªå‡½æ•°ï¼Œç»å¸¸ç”¨æ¥åšç§»åŠ¨æ£€æµ‹ã€‚"},"/soft/maixpy/zh/course/image/adaptive-histogram-equalization.html":{"title":null,"content":" title: keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy ```python # è‡ªé€‚åº”ç›´æ–¹å›¾å‡è¡¡ä¾‹å­ # # æ­¤ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨è‡ªé€‚åº”ç›´æ–¹å›¾å‡è¡¡æ¥æ”¹å–„å›¾åƒä¸­çš„å¯¹æ¯”åº¦ã€‚ #è‡ªé€‚åº”ç›´æ–¹å›¾å‡è¡¡å°†å›¾åƒåˆ†å‰²æˆåŒºåŸŸï¼Œç„¶åå‡è¡¡è¿™äº›åŒºåŸŸä¸­çš„ç›´æ–¹å›¾ï¼Œ #ä»¥æ”¹å–„å›¾åƒå¯¹æ¯”åº¦ä¸å…¨å±€ç›´æ–¹å›¾å‡è¡¡åŒ–ã€‚ #æ­¤å¤–ï¼Œæ‚¨å¯ä»¥æŒ‡å®šå‰ªè¾‘é™åˆ¶ä»¥é˜²æ­¢å¯¹æ¯”åº¦å˜å¾—ç‹‚é‡ã€‚ import sensor, image, time sensor.reset() sensor.set_pixformat(sensor.RGB565) sensor.set_framesize(sensor.QQVGA) sensor.skip_frames(time 2000) clock time.clock() while(True): clock.tick() # clip_limit <0ä¸ºæ‚¨æä¾›æ­£å¸¸çš„è‡ªé€‚åº”ç›´æ–¹å›¾å‡è¡¡ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´å¤§é‡çš„å¯¹æ¯”å™ªéŸ³... # clip_limit 1 ä»€ä¹ˆéƒ½ä¸åšã€‚ä¸ºè·å¾—æœ€ä½³æ•ˆæœï¼Œè¯·ç•¥é«˜äº1ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚ # è¶Šé«˜ï¼Œè¶Šæ¥è¿‘æ ‡å‡†è‡ªé€‚åº”ç›´æ–¹å›¾å‡è¡¡ï¼Œå¹¶äº§ç”Ÿå·¨å¤§çš„å¯¹æ¯”åº¦æ³¢åŠ¨ã€‚ img sensor.snapshot().histeq(adaptive True, clip_limit 3) print(clock.fps()) ```"},"/soft/maixpy/zh/course/image/image_draw_font/image_draw_font.html":{"title":"å¦‚ä½•æ˜¾ç¤ºä¸­æ–‡","content":" title: å¦‚ä½•æ˜¾ç¤ºä¸­æ–‡ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy å¦‚ä½•æ˜¾ç¤ºä¸­æ–‡ MaixPy æ”¯æŒåŠ è½½ Unicode å­—åº“ï¼ŒUnicodeï¼ˆ ç»Ÿä¸€ç ã€ä¸‡å›½ç ã€å•ä¸€ç ï¼‰æ˜¯è®¡ç®—æœºç§‘å­¦é¢†åŸŸé‡Œçš„ä¸€é¡¹ä¸šç•Œæ ‡å‡†ã€‚ æœ‰å¦‚ä¸‹è¯­ç§æ”¯æŒï¼š * A å¤§å†™æ‹‰ä¸å­—æ¯\"A\" A * ÃŸ å°å†™æ‹‰ä¸å­—æ¯\"Sharp S\" ÃŸ * Ã¾ å°å†™æ‹‰ä¸å­—æ¯\"Thorn\" Ã¾ ï¼ˆå°å­—åº“ä¸æ”¯æŒï¼‰ * Î” å¤§å†™å¸Œè…Šå­—æ¯\"Delta\" Î” * Ğ™ å¤§å†™æ–¯æ‹‰å¤«å­—æ¯\"Short I\" Ğ™ * ×§ å¸Œä¼¯æ¥å­—æ¯\"Qof\" ×§ * Ù… é˜¿æ‹‰ä¼¯å­—æ¯ \"Meem\" Ù… * à¹— æ³°æ–‡æ•°å­— 7 à¹— * á‰ åŸƒå¡ä¿„æ¯”äºšéŸ³èŠ‚æ–‡å­—\"Qha\" á‰ * ã‚ æ—¥è¯­å¹³å‡å \"A\" ã‚ * ã‚¢ æ—¥è¯­ç‰‡å‡å \"A\" ã‚¢ * å¶ ç®€ä½“æ±‰å­— \"å¶\" å¶ * è½‰ ç¹ä½“æ±‰å­— \"è½‰\" è½‰ * ì—½ éŸ©å›½éŸ³èŠ‚æ–‡å­— \" Yeob\" ì—½ è¯¥åŠŸèƒ½æ¥å£å‡ä½¿ç”¨ `image.Image()` å¯¹è±¡å®Œæˆï¼ŒMaixPy å›ºä»¶è¯·ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬ 2020å¹´9æœˆ2æ—¥ã€‚ ## å­—æ¨¡æ¥å£ ä½¿ç”¨ draw_font æ‰“å°å­—æ¨¡å­—ç¬¦ä¸²ï¼Œç±»ä¼¼ `img.draw_font(10, 20, 8, 8, b'/x20/xFC/xFC/x2C/xAC/x4C/x4D/xA3')`ã€‚ ```python import lcd, image lcd.init() img image.Image() tmp b'/x20/xFC/xFC/x2C/xAC/x4C/x4D/xA3' img.draw_font(10, 20, 8, 8, tmp, scale 1, color (255, 255, 255)) lcd.display(img) ``` èŒƒä¾‹å‚è€ƒ [image_draw_font.py](https://gitee.com/Sipeed/maixpy_scripts/tree/master/multimedia/gui/image/demo_draw_font/image_draw_font.py) ã€‚ ## å­—åº“æ¥å£ è¯·å…ˆä½¿ç”¨ font_load / font_free åŠ è½½æˆ–é‡Šæ”¾å­—åº“ï¼Œè¿™å°†æå‡ draw_string çš„åŠŸèƒ½ï¼Œæ”¯æŒä» `xx.Dzk` æ–‡ä»¶ ä¸ Flash åœ°å€åŠ è½½ï¼Œè¿™ä¹‹åå draw_string å°†é€šè¿‡å­—åº“æ‰“å°å­—ç¬¦ä¸²ï¼Œç›®å‰åªæ”¯æŒ `ASCII` / `UTF 8` ç¼–ç  ã€‚ > é™„å¸¦å­—åº“æ–‡ä»¶ [0xA00000_font_uincode_16_16_tblr.Dzk](https://gitee.com/Sipeed/maixpy_scripts/tree/master/multimedia/gui/image/demo_draw_font/tools/0xA00000_font_uincode_16_16_tblr.Dzk) ```python import lcd, image lcd.init() img image.Image() # image.font_load(image.UTF8, 16, 16, 0xA00000) image.font_load(image.UTF8, 16, 16, '/sd/0xA00000_font_uincode_16_16_tblr.Dzk') img.draw_string(20, 90, b'ã“ã‚“ã«ã¡ã¯ã€ä¸–ç•Œ', x_spacing 2, mono_space 1) image.font_free() lcd.display(img) ``` èŒƒä¾‹å‚è€ƒ [image_draw_string.py](https://gitee.com/Sipeed/maixpy_scripts/tree/master/multimedia/gui/image/demo_draw_font/image_draw_string.py) ã€‚ ## æ˜¾ç¤ºæ•ˆæœ ![view_image_font](./view_image_font.jpg) ## å­—åº“å·¥å…· æˆ‘ä»¬å°†ä½¿ç”¨æ ¹ç›®å½•ä¸‹çš„ [FontGenerator.zip](https://gitee.com/Sipeed/maixpy_scripts/tree/master/multimedia/gui/image/demo_draw_font/tools/FontGenerator.zip) å¯¼å‡ºå­—ä½“å¯¹åº”çš„å­—åº“ï¼Œè¯·çœ‹ä¸‹å›¾å®Œæˆå¯¼å‡ºæ“ä½œã€‚ 1. é€‰æ‹©å­—åº“ç¼–ç ç±»å‹ä¸º Unicode ç¼–ç ï¼Œè¿™å°†æ”¯æŒç»å¤§å¤šæ•°å›½å®¶çš„è¯­è¨€ã€‚ ![image 20200902180913322](./image 20200902180913322.png) 2. é€‰æ‹©æ‰«ææ¨¡å¼ï¼Œä¸º 5 æ¨ªå‘ã€å…ˆä¸Šä¸‹åå·¦å³çš„å­—æ¨¡çš„æ‰«ææ‰“å°æ–¹å‘ã€‚ ![image 20200902181130459](./image 20200902181130459.png) 3. å¦‚ä¸‹å›¾é…ç½®æ‰€éœ€è¦çš„å­—ä½“æ ·å¼ååˆ›å»ºå­—åº“ã€‚ ![image 20200902181311553](./image 20200902181311553.png) 4. ä¿å­˜æˆ DZK æ ¼å¼å³å¯ï¼Œå­—æ¨¡æ•°æ®è®¿é—®æ–¹æ³•å¦‚å›¾æ–‡å­—è¯´æ˜ ![image 20200902181442677](./image 20200902181442677.png) ## å­—æ¨¡å·¥å…· > è­¦å‘Šï¼šä¸æ¨èä½¿ç”¨å­—æ¨¡å·¥å…·ï¼Œä¸äº†è§£çš„äººè¯·ä¸è¦ä½¿ç”¨ã€‚ ä½¿ç”¨ç›®å½•ä¸‹çš„ [Pc2Lcd2002.zip](https://gitee.com/Sipeed/maixpy_scripts/tree/master/multimedia/gui/image/demo_draw_font/tools/Pc2Lcd2002.zip) è·å–å­—æ¨¡çš„å­—ç¬¦ä¸²ã€‚ 1. ç¡®è®¤è½¯ä»¶ä¸ºå­—ç¬¦æ¨¡å¼ã€‚ ![image 20200902175614964](./image 20200902175614964.png) 2. è®¾ç½®å¦‚å›¾å³å¯å¯¼å‡ºæƒ³è¦çš„å­—ç¬¦ä¸²ã€‚ â€‹\t![image 20200902180153452](./image 20200902180153452.png) 3. å¡«å…¥æ–‡å­—åç‚¹å‡»ç”Ÿæˆå­—æ¨¡ã€‚ ![image 20200902175948599](./image 20200902175948599.png) 4. æå–å­—æ¨¡å­—ç¬¦ä¸²å³å¯ä½¿ç”¨ã€‚ ![image 20200902180505263](./image 20200902180505263.png) ``` è¿™(0) æ˜¯(1) æµ‹(2) è¯•(3) /x00/x20/x10/x17/x00/x02/xF1/x10/x10/x10/x11/x12/x14/x28/x47/x00/x80/x40/x40/xFC/x10/x10/x20/xA0/x40/xA0/x10/x08/x08/x00/xFE/x00è¿™0 /x1F/x10/x10/x1F/x10/x10/x1F/x00/xFF/x01/x11/x11/x11/x29/x45/x83/xF0/x10/x10/xF0/x10/x10/xF0/x00/xFE/x00/x00/xF8/x00/x00/x00/xFEæ˜¯1 /x00/x27/x14/x14/x85/x45/x45/x15/x15/x25/xE5/x21/x22/x22/x24/x08/x04/xC4/x44/x54/x54/x54/x54/x54/x54/x54/x54/x04/x84/x44/x14/x08æµ‹2 /x00/x20/x10/x10/x07/x00/xF0/x17/x11/x11/x11/x15/x19/x17/x02/x00/x28/x24/x24/x20/xFE/x20/x20/xE0/x20/x10/x10/x10/xCA/x0A/x06/x02è¯•3 ``` > å¯ä»¥ä½¿ç”¨å›¾å½¢æ¨¡å¼ç»˜åˆ¶è‡ªå·±å–œæ¬¢çš„å­—æ¨¡å›¾å½¢ï¼Œæ”¯æŒ 32 * 32 çš„å›¾å½¢ã€‚ > > ![image 20200902181645277](./image 20200902181645277.png)"},"/soft/maixpy/zh/course/image/kernel-filter.html":{"title":"æ ¸æ»¤æ³¢","content":" title: æ ¸æ»¤æ³¢ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy æ ¸æ»¤æ³¢ ![image 20200812191240724](kernel filter.assets/image 20200812191240724.png) ä¾‹ç¨‹ ```python # æ ¸æ»¤æ³¢ # # è¿™ä¸ªä¾‹å­å±•ç¤ºäº†æ ¸æ»¤æ³¢ã€‚ import sensor, image, time sensor.reset() # åˆå§‹åŒ–sensor #è®¾ç½®å›¾åƒè‰²å½©æ ¼å¼ï¼Œæœ‰RGB565è‰²å½©å›¾å’ŒGRAYSCALEç°åº¦å›¾ä¸¤ç§ sensor.set_pixformat(sensor.GRAYSCALE) # or sensor.RGB565 #è®¾ç½®å›¾åƒåƒç´ å¤§å° sensor.set_framesize(sensor.QVGA) # or sensor.QQVGA (or others) sensor.skip_frames(time 2000) # è®©æ–°çš„è®¾ç½®ç”Ÿæ•ˆ clock time.clock() # è·Ÿè¸ªFPSå¸§ç‡ kernel_size 1 # 3x3 1, 5x5 2, 7x7 3, etc. kernel [ 2, 1, 0, \\ 1, 1, 1, \\ 0, 1, 2] while(True): clock.tick() # è¿½è¸ªä¸¤ä¸ª snapshots() ä¹‹é—´ç»è¿‡çš„æ¯«ç§’æ•°. img sensor.snapshot() # æ‹ä¸€å¼ ç…§ç‰‡ï¼Œè¿”å›å›¾åƒ # Run the kernel on every pixel of the image. # åœ¨å›¾åƒçš„æ¯ä¸ªåƒç´ ä¸Šè¿è¡Œæ ¸ img.morph(kernel_size, kernel) print(clock.fps()) # æ³¨æ„: å½“è¿æ¥ç”µè„‘åï¼Œå¸§ç‡ä¼šå˜æˆä¸€åŠçš„é€Ÿåº¦ã€‚å½“ä¸è¿æ¥ç”µè„‘ï¼Œå¸§ç‡ä¼šå¢åŠ ã€‚ ```"},"/soft/maixpy/zh/course/image/image_counting-cells.html":{"title":"MaixPy å®ç°ç»†èƒè®¡æ•°","content":" title: MaixPy å®ç°ç»†èƒè®¡æ•° keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy MaixPy å®ç°ç»†èƒè®¡æ•° > counting cells å®ç°ç»†èƒè®¡æ•°æ­¥éª¤: åŸå›¾â€”â€”ç°åº¦å›¾â€”â€”è…èš€è†¨èƒ€â€”â€”äºŒå€¼åŒ–é˜ˆå€¼â€”â€”æ»¤æ³¢æ“ä½œ è®¡æ•° ```python ```"},"/soft/maixpy/zh/course/image/basic/vary.html":{"title":"åŸºæœ¬å›¾åƒå˜æ¢ å’Œ å¸¸ç”¨æ“ä½œ","content":" title: åŸºæœ¬å›¾åƒå˜æ¢ å’Œ å¸¸ç”¨æ“ä½œ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy åŸºæœ¬å›¾åƒå˜æ¢ å’Œ å¸¸ç”¨æ“ä½œ è¿™é‡Œç®€å•ä»‹ç»ä¸€äº›ç»å¸¸ç”¨åˆ°çš„å›¾åƒçš„åŸºæœ¬å˜æ¢æ“ä½œ æ—‹è½¬ï¼š ```python img.rotation_corr() ``` æ”¹å˜å›¾åƒå°ºå¯¸ï¼š ```python img.resize() ``` æ›´å¤šçš„å›¾åƒå˜æ¢è¯·çœ‹[image API](./../../../api_reference/machine_vision/image/image.html) ## å›¾åƒç¼“å†²åŒºä»‹ç» MaixPy ä¸ºå›¾åƒè®¾è®¡äº†ä¸¤ä¸ªç¼“å†²åŒºï¼Œ * ä¸€ä¸ªæ˜¯`RGB565`ç¼“å†²åŒºï¼Œé¡¾åæ€ä¹‰ï¼Œ æ˜¯ä»¥`RGB565`çš„æ ¼å¼å­˜æ”¾è¿™å›¾ç‰‡çš„ä¿¡æ¯çš„ä¸€å—å†…å­˜ã€‚æ³¨æ„åœ¨å†…å­˜ä¸­çš„æ’åºæ˜¯`[åƒç´ 1 RGB, åƒç´ 2 RGB...]` * å¦ä¸€ä¸ªæ˜¯`RGB888`ç¼“å†²åŒºï¼Œé¡¾åæ€ä¹‰ï¼Œ æ˜¯ä»¥`RGB88`çš„æ ¼å¼å­˜æ”¾è¿™å›¾ç‰‡çš„ä¿¡æ¯çš„ä¸€å—å†…å­˜ã€‚æ³¨æ„åœ¨å†…å­˜ä¸­çš„æ’åºæ˜¯`[æ‰€æœ‰åƒç´  R, æ‰€æœ‰åƒç´  Gï¼Œ æ‰€æœ‰åƒç´  B]`, æˆ‘ä»¬ä¹Ÿç§°ä¹‹ä¸º`AI`å†…å­˜ è¿™é‡Œä½¿ç”¨ä¸¤ä¸ªå†…å­˜å—ä¸»è¦çš„åŸå› æ˜¯åº•å±‚ä»£ç æ‰€æœ‰å›¾ç‰‡æ“ä½œä»¥åŠ`LCD`æ˜¾ç¤ºå‡æ˜¯åŸºäº`RGB565`ï¼Œ ä½†æ˜¯`KPU`åˆéœ€è¦`RGB888`çš„è¾“å…¥ã€‚ ``` + + + + camera(sensor)+ + + + + v + + v + img.pix_to_ai() RGB565 + >+ RGB888 + + + + + + ^ v + + + + + + image ops KPU + + + + ``` åªæœ‰æ‘„åƒå¤´é‡‡é›†å›¾ç‰‡æ—¶ï¼Œç¡¬ä»¶ä¼šè‡ªåŠ¨æ”¾ä¸€ä»½æ•°æ®åˆ°`RGB888`å†…å­˜åŒºåŸŸï¼Œ å…¶å®ƒçš„éƒ½ä¸ä¼šè‡ªåŠ¨å¡«å……`RGB888`å†…å­˜å—ï¼Œ è½¯ä»¶æ“ä½œåªä¼šå¯¹`RGB565`å†…å­˜è¿›è¡Œæ“ä½œï¼Œä¸ä¼šè‡ªåŠ¨æ›´æ–°`RGB888`ï¼Œï¼ˆå› ä¸ºæ›´æ–°éœ€è¦æ¶ˆè€—æ—¶é—´ï¼‰ è¿™å¾ˆå€¼å¾—æ³¨æ„ï¼Œ è¿™æ„å‘³ç€ï¼Œæ¯æ¬¡æˆ‘ä»¬ç”¨æ›´æ”¹äº†`RGB565`å†…å­˜å—ï¼Œæ¯”å¦‚æ‰§è¡Œäº†`img img.resize((224, 224))`ï¼Œå¦‚æœå¸Œæœ›`KPU`ä½¿ç”¨æ›´æ”¹è¿‡åçš„å›¾ç‰‡ï¼Œ éœ€è¦æ‰§è¡Œ`img.pix_to_ai()`æ¥å°†`RGB565`çš„å›¾åƒæ‰‹åŠ¨æ›´æ–°åˆ°`RGB888`çš„åŒºåŸŸï¼Œç„¶åæ‰å¯ä»¥è°ƒç”¨`kpu`ç›¸å…³çš„å‡½æ•°è¿›è¡Œæ¨¡å‹æ¨ç†ï¼ åŒæ ·åæ–¹å‘æ›´æ–°ä¹Ÿæä¾› APIï¼š `img.ai_to_pix()`ï¼Œ è¿™ä¼šå°†`RGB888`åŒºåŸŸçš„æ•°æ®æ›´æ–°åˆ°`RGB565`åŒºåŸŸ ## resize ä¿®æ”¹åˆ†è¾¨ç‡ ```python import image img image.Image(size (100, 100)) img2 img.resize(50, 50) print(img) print(img2) ``` ## è·å–å’Œä¿®æ”¹åƒç´ å€¼ ```python import image img image.Image(size (10, 10)) print(\"pixel 0:\", img[0], img.get_pixel(0, 0)) img[0] (255, 0, 0) img img.set_pixel(1, 0, (255, 255, 10)) print(\"after pixel 0 change:\", img[0], img[1]) ``` è¿™é‡Œè®¾ç½®çš„ç¬¬äºŒä¸ªåƒç´ ç‚¹`B`ä¸º`10`ï¼Œ å®é™…å‘ç°è¯»å‡ºæ¥æ˜¯`8`ï¼Œ è¿™æ˜¯æ­£å¸¸ç°è±¡ï¼Œå› ä¸ºå‰é¢è¯´äº†ï¼Œåœ¨å†…å­˜ä¸­å‚¨å­˜æ˜¯ç”¨äº†`RGB565`è¿›è¡Œå‚¨å­˜ï¼Œæ‰€ä»¥ä¼šæœ‰è¯¯å·® ## å¤åˆ¶å›¾åƒ ```python import image img image.Image(size (10, 10)) img2 img.copy() img2[0] (255, 0, 0) print(img[0], img2[0]) ``` ## å‰ªè£å›¾åƒ åŒæ ·ä½¿ç”¨`copy`å‡½æ•° ```python import image img image.Image(size (10, 10)) img2 img.copy(roi (0, 0, 5, 5)) img2[0] (255, 0, 0) print(img) print(img2) print(img[0], img2[0]) ``` ## è½¬æ¢æˆ bytes å¯¹è±¡ è½¬æ¢æˆ `RGB565` å­—ç¬¦ä¸² ```python import image img image.Image(size (10, 10)) img[0] (255, 0, 0) img_bytes img.to_bytes() print(\"bytes length: %d bytes[0]: %x%x\" %(len(img_bytes), img_bytes[0], img_bytes[1])) ``` è¿™é‡Œè¾“å‡ºçš„å€¼ä¸º`RGB565`æ ¼å¼ï¼Œä»¥ä¸¤ä¸ªå­—èŠ‚è¡¨ç¤ºä¸€ä¸ªåƒç´ ç‚¹å‚¨å­˜ å¦å¤–ï¼Œ ä¹Ÿå¯ä»¥å…ˆå°†å›¾ç‰‡å‹ç¼©ä¸º `JPEG` æ ¼å¼ï¼Œç„¶åå†è½¬æ¢æˆ`bytes` ```python import image img image.Image(size (10, 10)) img img.compressed(quality 20) jpeg_bytes img.to_bytes() print(\"bytes length: %d bytes[0]: %x%x\" %(len(jpeg_bytes), jpeg_bytes[0], jpeg_bytes[1])) ``` è¿™é‡Œä½¿ç”¨`compressed`å‡½æ•°ä¸ä¼šä¿®æ”¹åŸå›¾ï¼Œ ä½¿ç”¨`compress()`å‡½æ•°åˆ™ä¼šä¿®æ”¹åŸå›¾ï¼Œ ä½†æ˜¯å‹ç¼©åçš„å¤§å°å¦‚æœæ¯”åŸå›¾å ç”¨çš„ç©ºé—´è¿˜å¤§ï¼Œå°±ä¼šå¤±è´¥ ## è½¬æ¢ä¸ºç°åº¦å›¾åƒ ```python img img.to_grayscale(copy False) ``` è¿™é‡Œ `copy` å‚æ•°çš„æ„æ€å°±æ˜¯æ˜¯å¦è¦é‡æ–°ç”³è¯·ä¸€ç‰‡å†…å­˜ï¼Œ ä¸ä¿®æ”¹åŸå›¾çš„æ„æ€ ## è½¬æ¢ä¸º RGB565 å½©å›¾ è½¬æ¢ä¸º å½©å›¾ï¼Œ æ³¨æ„åªæ˜¯æ ¼å¼æˆä¸ºäº†å½©å›¾ï¼Œ ç”»é¢å¹¶ä¸æ˜¯å½©å›¾ï¼Œ å¦‚æœéœ€è¦å°†ç°åº¦å›¾è½¬æ¢ä¸ºå½©å›¾ï¼Œä½¿ç”¨`img.to_rainbow()` ```python img img.to_rgb565(copy True) ``` è¿™é‡Œ `copy` å‚æ•°çš„æ„æ€å°±æ˜¯æ˜¯å¦è¦é‡æ–°ç”³è¯·ä¸€ç‰‡å†…å­˜ï¼Œ ä¸ä¿®æ”¹åŸå›¾çš„æ„æ€ å¦‚æœåŸå›¾æ˜¯ç°åº¦å›¾ï¼Œ å¿…é¡»æ˜¯`True` ## è½¬æ¢ä¸ºå½©å›¾ ```python img img.to_rainbow(copy True) ``` è¿™é‡Œ `copy` å‚æ•°çš„æ„æ€å°±æ˜¯æ˜¯å¦è¦é‡æ–°ç”³è¯·ä¸€ç‰‡å†…å­˜ï¼Œ ä¸ä¿®æ”¹åŸå›¾çš„æ„æ€ å¦‚æœåŸå›¾æ˜¯ç°åº¦å›¾ï¼Œ å¿…é¡»æ˜¯`True` ## ä¿å­˜åˆ°æ–‡ä»¶ç³»ç»Ÿ ```python img.save(\"/sd/test.jpg\", quality 95) img.save(\"/sd/test.bmp\") ``` ## æ—‹è½¬ ```python img.rotation_corr([x_rotation 0.0[, y_rotation 0.0[, z_rotation 0.0[, x_translation 0.0[, y_translation 0.0[, zoom 1.0]]]]]]) ``` ä¸­æ‹¬å·ä¸ºå¯é€‰å‚æ•°ï¼Œå³æ²¿ç€å“ªä¸ªè½´æ—‹è½¬ä¸€å®šçš„è§’åº¦ï¼Œ å¦‚æœ`minimum`ç‰ˆæœ¬çš„å›ºä»¶é‡Œé¢æ²¡æœ‰è¿™ä¸ªå‡½æ•°ï¼Œ å¯ä»¥ç”¨å®Œå…¨ç‰ˆæœ¬çš„å›ºä»¶"},"/soft/maixpy/zh/course/image/basic/display_images.html":{"title":"æ˜¾ç¤ºå›¾ç‰‡","content":" title: æ˜¾ç¤ºå›¾ç‰‡ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy æ˜¾ç¤ºå›¾ç‰‡ æ˜¾ç¤ºå›¾ç‰‡å¾ˆç®€å•ï¼Œ ç›´æ¥ä½¿ç”¨ `lcd` æ¨¡å—ï¼Œè°ƒç”¨å‡½æ•°è¿›è¡Œæ˜¾ç¤ºå³å¯ï¼Œ å¦‚ä¸‹ï¼š ```python import lcd, image lcd.init() img image.Image(\"/sd/test.jpg\") lcd.display(img) ``` ä½†æ˜¯ä¸åŒçš„å±å¹•åˆå§‹åŒ–åºåˆ—å¯èƒ½ä¸ä¸€æ ·ï¼Œ åœ¨`lcd.init`çš„æ—¶å€™æœ‰å¾ˆå¤šå¯é€‰å‚æ•°ï¼Œ å…·ä½“çœ‹ API æ–‡æ¡£çš„æè¿°ï¼Œå¸¸è§çš„å¦‚ä¸‹ å¯¹äº IPS å±å¹•ï¼Œéœ€è¦åè‰²ï¼š ```python lcd.init(type 2) ``` å¯¹äºå±å¹•ä½“è´¨ä¸æ˜¯å¾ˆå¥½ï¼Œ éœ€è¦é™ä½é¢‘ç‡ï¼Œæˆ–è€…ä½“è´¨å¾ˆå¥½éœ€è¦è¶…é¢‘ï¼š ```python lcd.init(freq 15000000) ``` å¦å¤–ï¼Œ ä¹Ÿå¯æ˜¯è®¾ç½®å±å¹•çš„æ—‹è½¬æ–¹å‘ï¼š ```python lcd.rotation(2) ``` å‚æ•°æ˜¯`0ï½3`, åˆ†åˆ«ä»£è¡¨é¡ºæ—¶é’ˆæ—‹è½¬ `0åº¦` `90åº¦` `180åº¦` `270åº¦` æ›´å¤šæ–¹æ³•ï¼Œ è¯·å‚è€ƒ [lcd æ–‡æ¡£](./../../../api_reference/machine_vision/lcd.html)"},"/soft/maixpy/zh/course/image/basic/acc_image_deal.html":{"title":"ç¡¬ä»¶åŠ é€Ÿçš„å›¾åƒå¤„ç†","content":" title: ç¡¬ä»¶åŠ é€Ÿçš„å›¾åƒå¤„ç† keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy ç¡¬ä»¶åŠ é€Ÿçš„å›¾åƒå¤„ç† ä½¿ç”¨ç¡¬ä»¶æ›¿æ¢æŸäº›è½¯ä»¶éƒ¨åˆ†ï¼Œ å¯ä»¥è®©è®¡ç®—æ›´åŠ å¿«é€Ÿï¼Œå·²ç»åšäº†åŠ é€Ÿä¼˜åŒ–çš„æ–¹æ³•å¦‚ä¸‹ï¼š å¦‚ä¸‹ä»£ç ï¼Œ åˆ†åˆ«å¯¹å›¾åƒè¿›è¡Œäº†`è¾¹ç¼˜æŸ¥æ‰¾`ï¼Œ`é”åŒ–`ï¼Œ`æµ®é›•åŒ–`ï¼Œ åˆ©ç”¨äº†å·ç§¯è®¡ç®—å¿«é€Ÿå¾—åˆ°ç»“æœã€‚ ```python import sensor import image import lcd import time lcd.init(freq 15000000) sensor.reset() sensor.set_pixformat(sensor.RGB565) sensor.set_framesize(sensor.QVGA) sensor.run(1) origin (0,0,0, 0,1,0, 0,0,0) edge ( 1, 1, 1, 1,8, 1, 1, 1, 1) sharp ( 1, 1, 1, 1,9, 1, 1, 1, 1) relievo (2,0,0,0, 1,0,0,0, 1) tim time.time() while True: img sensor.snapshot() img.conv3(edge) lcd.display(img) if time.time() tim >10: break tim time.time() while True: img sensor.snapshot() img.conv3(sharp) lcd.display(img) if time.time() tim >10: break tim time.time() while True: img sensor.snapshot() img.conv3(relievo) lcd.display(img) if time.time() tim >10: break lcd.clear() ```"},"/soft/maixpy/zh/course/image/basic/draw.html":{"title":"ç”»å›¾ å†™å­—","content":" title: ç”»å›¾ å†™å­— keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy ç”»å›¾ å†™å­— æœ‰ä¸¤ç§æ–¹å¼ï¼Œæ¨èç¬¬äºŒç§ ## ç¬¬ä¸€ç§ï¼Œ ä½¿ç”¨`lcd`æ¨¡å—ç›´æ¥åœ¨å±å¹•ä¸Šç”» ```python import image, lcd lcd.init() lcd.draw_string(0, 0, \"hello\") ``` æ›´å¤šçš„å‡½æ•°å’Œå‚æ•°ï¼Œå‚è§[lcd API æ‰‹å†Œ](./../../../api_reference/machine_vision/lcd.html) ## ç¬¬äºŒç§ï¼Œ ä½¿ç”¨`image` æ¨¡å—åœ¨å†…å­˜ä¸­ç”»ï¼Œç”»å®Œåä½¿ç”¨`lcd.display`å‡½æ•°å°†æ•´å¼ å›¾ç‰‡å±•ç¤ºåˆ°å±å¹• ```python import image, lcd lcd.init() img image.Image(size (320, 240)) img.draw_string(0,0, \"hello\") lcd.display(img) ``` æ›´å¤šçš„å‡½æ•°å’Œå‚æ•°ï¼Œå¯ä»¥çœ‹ [image API æ‰‹å†Œ](./../../../api_reference/machine_vision/image/image.html) , åœ¨é¡µé¢æœç´¢`image.draw` å¯ä»¥æ‰¾åˆ°æ‰€æœ‰ç”»å›¾å‡½æ•° éœ€è¦ä¸­æ–‡ï¼ˆå¤šå›½è¯­è¨€ï¼‰æ”¯æŒè¯·çœ‹ [å¦‚ä½•æ˜¾ç¤ºä¸­æ–‡](./../../../course/image/image_draw_font/image_draw_font.html) ,æˆ–æœç´¢ â€œå­—åº“â€ ã€‚"},"/soft/maixpy/zh/course/image/basic/get_images.html":{"title":"è·å¾—å›¾åƒ","content":" title: è·å¾—å›¾åƒ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy è·å¾—å›¾åƒ å¯ä»¥ä»æ‘„åƒå¤´è·å¾—å›¾åƒï¼Œä¹Ÿå¯ä»¥ä»æ–‡ä»¶ç³»ç»Ÿè¯»å–å›¾ç‰‡æ–‡ä»¶ï¼Œ ä¹Ÿå¯ä»¥ä»ç½‘ç»œè·å–å›¾ç‰‡ ## ä»æ‘„åƒå¤´è·å– è¿™éƒ¨åˆ†å·²ç»åœ¨å‰é¢çš„æ•™ç¨‹æœ‰æè¿‡ ``` python import sensor, lcd sensor.reset() sensor.set_pixformat(sensor.RGB565) sensor.set_framesize(sensor.QVGA) sensor.run(1) sensor.skip_frames() img sensor.snapshot() print(img) ``` * `import sensor`: é¦–å…ˆå¯¼å…¥å†…ç½®çš„`sensor`ï¼ˆæ‘„åƒå¤´ï¼‰åº“ * `sensor.reset()`: åˆå§‹åŒ–æ‘„åƒå¤´ï¼Œè¿™é‡Œå¤±è´¥éœ€è¦æ£€æŸ¥ç¡¬ä»¶ * `sensor.set_pixformat(sensor.RGB565)`: è®¾ç½®æ‘„åƒå¤´ä¸º`RGB565`æ ¼å¼ï¼Œé»˜è®¤éƒ½æ˜¯ç”¨`RGB565`å³å¯ * `sensor.set_framesize(sensor.QVGA)`: åˆ†è¾¨ç‡ä¸º`QVGA`ï¼Œå³`320x240` * `sensor.run(1)`: å¼€å§‹è¿è¡Œï¼Œåœ¨ç°åœ¨çš„ç‰ˆæœ¬ä¸­ä¹Ÿå¯ä»¥ä¸è°ƒç”¨ï¼Œåœ¨ä¸Šé¢è®¾ç½®å®Œæˆåï¼Œæ‘„åƒå¤´ä¼šè‡ªåŠ¨å¼€å§‹è¿è¡Œ * `sensor.skip_frames()`: æ‘„åƒå¤´åˆšå¯åŠ¨æ—¶ï¼Œå›¾åƒè´¨é‡è¿˜æ²¡ç¨³å®šï¼Œæ‰€ä»¥è·³è¿‡ä¸€äº›å›¾åƒ * `sensor.snapshot()`:ä»æ‘„åƒå¤´å–ä¸€å¸§å›¾åƒæ•°æ®ï¼Œè¿”å›å€¼æ˜¯ä¸€å¼ å›¾åƒçš„å¯¹è±¡ é™¤äº†ä»¥ä¸Šçš„å‡½æ•°ï¼Œ ä½ å¯èƒ½è¿˜éœ€è¦è®¾ç½®å›¾åƒä¸ºé•œåƒï¼ˆ`hmirror`)ï¼Œæ¯”å¦‚å‰ç½®æ‘„åƒå¤´ï¼› æˆ–è€…ä¸Šä¸‹ç¿»è½¬(`vflip`)ï¼Œ ä»¥åŠç™½å¹³è¡¡ç­‰ç­‰ï¼Œ å…·ä½“çœ‹ [sensor æ¨¡å—çš„ API æ‰‹å†Œ](./../../../api_reference/machine_vision/sensor.html) ## ä»æ–‡ä»¶è¯»å– ```python import image img image.Image(\"/sd/test.jpg\") print(img) ``` å½“ç„¶ä½ ä¹Ÿå¯ä»¥æŠŠå›¾ç‰‡ä¿å­˜åˆ°æ–‡ä»¶ç³»ç»Ÿ` ```python img.save(\"/sd/test2.jpg\", quality 95) ``` ## ä»å†…å­˜è¯»å–ï¼ˆæˆ–è€…ç½‘ç»œè¯»å–ï¼‰ å¯ä»¥å…ˆå°†æ–‡ä»¶è¯»å–åˆ°å†…å­˜ï¼Œ å…·ä½“æ˜¯ä»å“ªé‡Œè¯»å–çš„çœ‹ä½ çš„åº”ç”¨äº†ï¼Œ æ¯”å¦‚ç½‘ç»œï¼Œæˆ–è€…ä¸²å£ SPI ç­‰ç­‰ï¼Œ æ„é€ ä¸€ä¸ª `bytes`å¯¹è±¡ ```python import image jpeg_buff b'\\xFF' # jpeg buffer img image.Image(jpeg_buff, from_bytes True) print(img) ``` ## ç›´æ¥åˆ›å»ºä¸€ä¸ªç©ºç™½å›¾åƒ ```python import image img image.Image(size (320, 240)) ``` è¿™å¼ å›¾ç‰‡æ˜¯å…¨é»‘çš„ç©ºç™½å›¾åƒ"},"/soft/maixpy/zh/course/image/find_qrcodes.html":{"title":"MaixPy æŸ¥æ‰¾äºŒç»´ç ","content":" title: MaixPy æŸ¥æ‰¾äºŒç»´ç  keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy MaixPy æŸ¥æ‰¾äºŒç»´ç  ä»å›¾ç‰‡ä¸­è¯†åˆ«äºŒç»´ç ï¼Œå¸¸è§çš„äºŒç»´ç ä¸º QR Codeï¼ŒQR å…¨ç§° Quick Responseï¼Œå®ƒæ¯”ä¼ ç»Ÿçš„æ¡å½¢ç (Bar Code)èƒ½å­˜æ›´å¤šçš„ä¿¡æ¯ï¼Œä¹Ÿèƒ½è¡¨ç¤ºæ›´å¤šçš„æ•°æ®ç±»å‹. ## ä½¿ç”¨æ–¹æ³• image æ¨¡å—ä¸­å·²ç»å®ç°æœ‰æŸ¥æ‰¾äºŒç»´ç æ–¹æ³•ï¼Œéœ€è¦ä½¿ç”¨é minimum å›ºä»¶ç‰ˆæœ¬ï¼Œéœ€è¦å‡†å¤‡ä¸€ä¸ªäºŒç»´ç ï¼Œå¯ä»¥ç”¨[è‰æ–™äºŒç»´ç ](https://cli.im/)ç”Ÿæˆä½ æƒ³è¦çš„å†…å®¹. * ä»æ‘„åƒå¤´è·å–å›¾ç‰‡ï¼Œå°†æ‘„åƒå¤´å¯¹å‡†äºŒç»´ç  ```python import image, sensor img sensor.snapshot() ``` * ä»å›¾ç‰‡ä¸­æŸ¥æ‰¾æ‰€æœ‰äºŒç»´ç å¯¹è±¡(image.qrcode)åˆ—è¡¨ ```python res img.find_qrcodes() ``` * æ“ä½œäºŒç»´ç å¯¹è±¡ ä¾‹å¦‚æ‰“å°ä¿¡æ¯ ```python print(res[0].payload()) ``` è¯¦ç»† API ä»‹ç»è¯·æŸ¥çœ‹[API Image](../../api_reference/machine_vision/image/image.html). ## ä¾‹ç¨‹ è¯†åˆ«äºŒç»´ç ï¼Œå¦‚æœè¯†åˆ«ä¸åˆ°äºŒç»´ç ï¼Œè¯·å°è¯•æ›´æ”¹ `sensor.vflip()` å‡½æ•°å‚æ•°ã€‚ ```python import sensor import image import lcd import time clock time.clock() lcd.init() sensor.reset() sensor.set_pixformat(sensor.RGB565) sensor.set_framesize(sensor.QVGA) sensor.set_vflip(0) sensor.run(1) sensor.skip_frames(30) while True: clock.tick() img sensor.snapshot() res img.find_qrcodes() fps clock.fps() if len(res) > 0: img.draw_string(2, 2, res[0].payload(), color (0,128,0), scale 2) print(res[0].payload()) lcd.display(img) ```"},"/soft/maixpy/zh/course/media/audio.html":{"title":"audioï¼ˆéŸ³é¢‘ï¼‰ çš„ä½¿ç”¨","content":" title: audioï¼ˆéŸ³é¢‘ï¼‰ çš„ä½¿ç”¨ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy audioï¼ˆéŸ³é¢‘ï¼‰ çš„ä½¿ç”¨ è¯¦ç»† API å‚è€ƒï¼š[audio API](./../../api_reference/media/audio.html) ## ä½¿ç”¨æ–¹æ³• > MaixAmigo, MaixCube åœ¨ä½¿ç”¨éŸ³é¢‘å‰éœ€è¦[åˆå§‹åŒ– ES8374 éŸ³é¢‘è§£ç èŠ¯ç‰‡](https://github.com/sipeed/MaixPy v1_scripts/blob/master/modules/others/es8374/es8374.py) * åˆ›å»º audio å¯¹è±¡ ```python import audio player audio.Audio(path \"/sd/6.wav\") ``` * åˆ›å»º I2S å¯¹è±¡ï¼ˆç”¨äºå¤„ç†éŸ³é¢‘å¯¹è±¡ï¼‰ ```python from Maix import I2S # init i2s(i2s0) wav_dev I2S(I2S.DEVICE_0) # config i2s according to audio info wav_dev.channel_config(wav_dev.CHANNEL_1, I2S.TRANSMITTER,resolution I2S.RESOLUTION_16_BIT ,cycles I2S.SCLK_CYCLES_32, align_mode I2S.RIGHT_JUSTIFYING_MODE) ``` * è·å– audio å¯¹è±¡ä¿¡æ¯å¹¶å…³è” I2S å¯¹è±¡ ```python # read audio info wav_info player.play_process(wav_dev) print(\"wav file head information: \", wav_info) ``` * æ ¹æ® audio ä¿¡æ¯é…ç½® I2S å¯¹è±¡ ```python sample_rate wav_info[1] wav_dev.set_sample_rate(sample_rate) ``` * ä½¿ç”¨å·²å…³è”çš„ I2S å¯¹è±¡æ’­æ”¾éŸ³é¢‘ ```python # loop to play audio while True: ret player.play() if ret None: print(\"format error\") break elif ret 0: print(\"end\") break ``` * ç»“æŸæ’­æ”¾ ```python player.finish() ``` ## ä¾‹ç¨‹ > æµ‹è¯•éŸ³é¢‘åœ°å€ï¼š[6.wav](https://github.com/sipeed/MaixPy v1_scripts/blob/master/multimedia/audio/6.wav) * æ’­æ”¾ wav æ–‡ä»¶ï¼š[play_wav](https://github.com/sipeed/MaixPy v1_scripts/blob/master/multimedia/audio/play_wav.py) * å½•åˆ¶éŸ³é¢‘ä¸º wav æ–‡ä»¶å¹¶ä¿å­˜ï¼š[record_wav](https://github.com/sipeed/MaixPy v1_scripts/blob/master/multimedia/audio/record_wav.py)"},"/soft/maixpy/zh/course/media/video.html":{"title":"videoï¼ˆè§†é¢‘ï¼‰ çš„ä½¿ç”¨","content":" title: videoï¼ˆè§†é¢‘ï¼‰ çš„ä½¿ç”¨ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy videoï¼ˆè§†é¢‘ï¼‰ çš„ä½¿ç”¨ è¯¦ç»† API å‚è€ƒï¼š[video API](./../../api_reference/media/video.html) ## ä½¿ç”¨æ–¹æ³• > MaixAmigo, MaixCubeåœ¨ä½¿ç”¨éŸ³é¢‘å‰éœ€è¦[åˆå§‹åŒ– ES8374 éŸ³é¢‘è§£ç èŠ¯ç‰‡](https://github.com/sipeed/MaixPy v1_scripts/blob/master/modules/others/es8374/es8374.py) * åˆ›å»º video å¯¹è±¡ï¼Œè®¾ç½®éŸ³é‡ ```python import video v video.open(\"/sd/badapple.avi\") v.volume(50) ``` * åˆå§‹åŒ– lcdï¼Œç”¨äºæ’­æ”¾ç”»é¢ ```python import lcd lcd.init() ``` * åˆ›å»º I2Sï¼Œç”¨äºå¤„ç†éŸ³é¢‘å¯¹è±¡ ```python from Maix import GPIO, I2S i2s I2S(I2S.DEVICE_0) i2s.channel_config(i2s.CHANNEL_1, I2S.TRANSMITTER, resolution I2S.RESOLUTION_16_BIT, cycles I2S.SCLK_CYCLES_32, align_mode I2S.RIGHT_JUSTIFYING_MODE) fm.register(34, fm.fpioa.I2S0_OUT_D1, force True) fm.register(35, fm.fpioa.I2S0_SCLK, force True) fm.register(33, fm.fpioa.I2S0_WS, force True) ``` * æ’­æ”¾è§†é¢‘ ```python while True: if v.play() 0: print(\"play end\") break ``` * å›æ”¶å¯¹è±¡ ```python v.__del__() ``` ## ä¾‹ç¨‹ > æµ‹è¯•ç”¨ä¾‹ä¸­ avi æ–‡ä»¶åœ°å€ï¼š[badapple.avi](https://api.dl.sipeed.com/shareURL/MAIX/MaixPy/assets) * æ’­æ”¾ avi æ–‡ä»¶ï¼š[video_play](https://github.com/sipeed/MaixPy v1_scripts/blob/master/multimedia/video/demo_video_play.py) * ä½¿ç”¨æ‘„åƒå¤´å½•åˆ¶è§†é¢‘ä¸º avi æ–‡ä»¶å¹¶ä¿å­˜ï¼š[record_video](https://github.com/sipeed/MaixPy v1_scripts/blob/master/multimedia/video/demo_video_record.py) * é¡ºåºæ•è· avi è§†é¢‘æ¯ä¸ªç”»é¢å¹¶æ˜¾ç¤ºï¼š[video_capture](https://github.com/sipeed/MaixPy v1_scripts/blob/master/multimedia/video/demo_video_capture.py) * amigo æ’­æ”¾ avi æ–‡ä»¶ï¼š[amigo_play_video](https://github.com/sipeed/MaixPy v1_scripts/blob/master/multimedia/video/amigo_play_video.py)"},"/soft/maixpy/zh/course/maixpy/demo_find_green_blob.html":{"title":"MaixPy æŸ¥æ‰¾è‰²å—","content":" title: MaixPy æŸ¥æ‰¾è‰²å— keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy MaixPy æŸ¥æ‰¾è‰²å— ## MaixPy æŸ¥æ‰¾è‰²å— ```python import sensor import image import lcd import time lcd.init(freq 15000000) sensor.reset() sensor.set_pixformat(sensor.RGB565) sensor.set_framesize(sensor.QVGA) sensor.run(1) green_threshold (0, 80, 70, 10, 0, 30) while True: img sensor.snapshot() blobs img.find_blobs([green_threshold]) if blobs: for b in blobs: tmp img.draw_rectangle(b[0:4]) tmp img.draw_cross(b[5], b[6]) c img.get_pixel(b[5], b[6]) lcd.display(img) ```"},"/soft/maixpy/zh/course/advance/add_c_module.html":{"title":"å¦‚ä½•ç”¨ C æ·»åŠ ä¸€ä¸ª MaixPy æ¨¡å—","content":" title: å¦‚ä½•ç”¨ C æ·»åŠ ä¸€ä¸ª MaixPy æ¨¡å— keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy å¦‚ä½•ç”¨ C æ·»åŠ ä¸€ä¸ª MaixPy æ¨¡å— ## é¢„å¤‡çŸ¥è¯† åœ¨ `python` ä¸­ä¸‡ç‰©çš†å¯¹è±¡ éœ€è¦å…ˆçŸ¥é“ moduleï¼Œtypeï¼Œ functionï¼Œ class åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆå…³ç³»å’ŒåŒºåˆ« * moduleï¼ˆæ¨¡å—ï¼‰ åœ¨`MaixPy`ä¸­ï¼ŒæŠŠæ¯ä¸ªç±»åˆ«çš„åŠŸèƒ½æ”¾åˆ°ä¸€ä¸ª æ¨¡å— ä¸­ï¼Œ æ¯”å¦‚å†…ç½®çš„ `uos`,`usys`,`machine`ï¼Œ å¦å¤–æˆ‘ä»¬è‡ªå·±æ–°å»ºçš„æ–‡ä»¶ï¼Œ æ¯”å¦‚`test.py` ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªæ¨¡å—ï¼Œ æˆ‘ä»¬ä½¿ç”¨æ¨¡å—éƒ½è¿™æ ·ä½¿ç”¨ï¼š ```python import uos import machine import test ``` > åœ¨ C æºç ä¸­å°±æ˜¯ `mp_type_module` * typeï¼ˆç±»å‹ï¼‰ ç”¨æ¥è¡¨ç¤ºä¸€ä¸ªåŸºæœ¬çš„ç±»å‹ï¼Œ å®ƒå¯ä»¥åŒ…å«ä¸€äº›æ–¹æ³•æˆ–è€…å˜é‡ > åœ¨ C æºç ä¸­å°±æ˜¯ `mp_type_type` * classï¼ˆç±»ï¼‰ ä¸€ä¸ª class å…¶å®å°±æ˜¯ä¸€ä¸ª `type`ï¼Œæ¯”å¦‚ ```python class A:pass print(type(A)) ``` ä¼šè¾“å‡º ``` <class 'type'> ``` å½“å¯¹`A`è¿›è¡Œäº†å®ä¾‹åŒ– ``` class A:pass a A() print(type(a)) ``` ä¼šè¾“å‡º ``` <class 'A'> ``` è¡¨ç¤º`a`æ˜¯`A`çš„ä¸€ä¸ªå®ä¾‹ï¼ˆå¯¹è±¡ï¼‰ > åœ¨ C ä¸­å®šä¹‰ä¸€ä¸ªç±»å…¶å®å°±æ˜¯å®šä¹‰ä¸€ä¸ª `mp_type_type` ## åœ¨ C ä¸­æ·»åŠ æ¨¡å— æˆ‘ä»¬çš„ç›®æ ‡æ˜¯å®ç°åœ¨`MaixPy`å±‚é¢å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä»£ç ï¼š ```python import my_lib print(my_lib.__name__) my_lib.hello() ``` ### åœ¨`components/port/src`ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹æ¯”å¦‚å–å`my_lib` ### ç„¶ååœ¨`my_lib`æ–‡ä»¶å¤¹ä¸‹æ–°å»º`my_lib.c`æ–‡ä»¶ ### ç¼–è¾‘`my_lib.c`æ·»åŠ ä»£ç  #### å®šä¹‰ä¸€ä¸ªæ¨¡å—ï¼š ```c #include \"obj.h\" const mp_obj_module_t my_lib_module { .base { &mp_type_module }, .globals (mp_obj_dict_t*)&mp_module_my_lib_globals_dict, }; ``` è¿™é‡Œ`my_lib_module`æ˜¯å®šä¹‰çš„`my_lib`æ¨¡å—å¯¹è±¡, `mp_type_module`è¡¨æ˜æ˜¯ä¸€ä¸ªæ¨¡å—ï¼Œ `mp_module_my_lib_globals_dict`æ˜¯æ¨¡å—çš„å…¨å±€å˜é‡å’Œå‡½æ•°ï¼Œæ˜¯ä¸€ä¸ª`dict`å¯¹è±¡ï¼Œæœ‰æˆ‘ä»¬è‡ªå·±å®šä¹‰ï¼Œ ç°åœ¨è¿˜æ²¡å®šä¹‰ #### å®šä¹‰æ¨¡å—çš„å…¨å±€å˜é‡ ```c STATIC mp_obj_t hello() { mp_printf(&mp_plat_print, \"hello from my_lib\"); return mp_const_none; } MP_DEFINE_CONST_FUN_OBJ_0(my_lib_func_hello_obj, my_lib_func_hello); STATIC const mp_map_elem_t my_lib_globals_table[] { { MP_OBJ_NEW_QSTR(MP_QSTR___name__), MP_OBJ_NEW_QSTR(MP_QSTR_my_lib) }, { MP_OBJ_NEW_QSTR(MP_QSTR_hello), (mp_obj_t)&my_lib_func_hello_obj }, }; STATIC MP_DEFINE_CONST_DICT ( mp_module_my_lib_globals_dict, my_lib_globals_table ); ``` è¿™é‡Œå®šä¹‰äº†ä¸€ç»„é”®å€¼å¯¹æ•°ç»„ï¼Œé”®å€¼å¯¹æ•°å€¼, `mp_map_elem_t`çš„å®šä¹‰å¦‚ä¸‹ï¼š ```c typedef struct _mp_map_elem_t { mp_obj_t key; mp_obj_t value; } mp_map_elem_t; ``` * ç¬¬ä¸€ä¸ªå€¼æ˜¯`key`ï¼Œç±»å‹æ˜¯`str`å¯¹è±¡ï¼Œ å³åœ¨`MaixPy`å±‚é¢ä½¿ç”¨`my_lib.key`æ¥è°ƒç”¨ã€‚è¿™é‡Œç”¨äº†`MP_OBJ_NEW_QSTR(MP_QSTR___name__)`ç”Ÿæˆäº†ä¸€ä¸ªå€¼ä¸º`__name__`çš„`str`å¯¹è±¡ï¼Œä½ å¯èƒ½æœ‰ç–‘é—®`__name__`è¿™ä¸ª`c`å˜é‡å®šä¹‰åœ¨å“ªé‡Œï¼Œè¿™æ˜¯åœ¨ç¼–è¯‘é˜¶æ®µä½¿ç”¨å·¥å…·è‡ªåŠ¨ç”Ÿæˆ`c`å˜é‡ï¼Œæ€»ä¹‹è®°ä½è¿™æ ·å¯ä»¥å†™å¯ä»¥ç”Ÿæˆä¸€ä¸ªå¸¸é‡`str`å¯¹è±¡ä¿å­˜åœ¨å›ºä»¶é‡Œå°±å¥½äº† * ç¬¬äºŒä¸ªå€¼æ˜¯æ•°å€¼ï¼Œç±»å‹æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¯ä»¥æ˜¯`str/function/int/float/tuple/list/dict`ç­‰ï¼Œ æ–¹å¼å¦‚ä¸‹ï¼š * `str`: è¿™é‡ŒåŒæ ·æ˜¯å®šä¹‰äº†ä¸€ä¸ª`str`ç±»å‹çš„å€¼ä¸º`my_lib`,å³åœ¨`MaixPy`å±‚é¢ä½¿ç”¨`my_lib.__name__`å¾—åˆ°ç»“æœ`my_lib`ã€‚ * `å…¶å®ƒå¸¸é‡å¯¹è±¡`ï¼š å¯ä»¥ä½¿ç”¨`mp_obj_new_xxx`,æ¯”å¦‚`int`å˜é‡`mp_obj_new_int(10)`ï¼Œ å‡½æ•°åœ¨`obj.h`ä¸­æœç´¢ * `å‡½æ•°`ï¼š è¿™é‡Œçš„`key``hello`å¯¹åº”çš„å€¼ä¸ºä¸º`(mp_obj_t)&my_lib_func_hello_obj`ï¼Œæ˜¯ä¸€ä¸ªå‡½æ•°å¯¹è±¡ï¼Œæ³¨æ„ä¸æ˜¯`C`å‡½æ•°ï¼Œå‰é¢è¯´äº†`python`ä¸­ä¸€åˆ‡çš†å¯¹è±¡ï¼Œ è¿™é‡Œä¹Ÿæ˜¯ä½¿ç”¨äº†ä¸€ä¸ªå‡½æ•°å¯¹è±¡ï¼Œç„¶åå»åœ°å€å¼ºåˆ¶è½¬æ¢æˆ `mp_obj_t`ã€‚è¿™ä¸ªå‡½æ•°å¯¹è±¡ä½¿ç”¨äº†`MP_DEFINE_CONST_FUN_OBJ_0`å®å®šä¹‰å°†`my_lib_func_hello`è¿™ä¸ª`C`å‡½æ•°å®šä¹‰ä¸º`my_lib_func_hello_obj`è¿™ä¸ªå¯¹è±¡ï¼Œæ³¨æ„`hello`å‡½æ•°éœ€è¦è¿”å›ä¸€ä¸ªå€¼`mp_const_none`,æ³¨æ„ä¸èƒ½è¿”å›`NULL`ï¼Œ å› ä¸º`NULL`ä¸æ˜¯ä¸€ä¸ª(`MaixPy`)å¯¹è±¡ï¼Œ è¿™ä¸ªè¿”å›å€¼ä¹Ÿå°±æ˜¯`MaixPy`å±‚é¢è°ƒç”¨`hello()`å‡½æ•°æ—¶çš„è¿”å›å€¼ > é™¤äº†`MP_DEFINE_CONST_FUN_OBJ_0`å³æ²¡æœ‰å‚æ•°ä¹‹å¤–ï¼Œè¿˜æœ‰`1/2/3/n`ä¸ªå‚æ•°ï¼Œä»¥åŠå¸¦å…³é”®å­—å‚æ•°ï¼Œè¿™äº›è¯·ç¿»é˜…æºç ä¸¾ä¸€åä¸‰å­¦ä¹  ç„¶åä½¿ç”¨`MP_DEFINE_CONST_DICT`å®å®šä¹‰å°†`my_lib_globals_table`è¿™ä¸ªé”®å€¼å¯¹å˜æˆ`MaixPy`å±‚é¢èƒ½ç†è§£çš„`dict`å¯¹è±¡ï¼ˆ`mp_map_elem_t`åªæ˜¯`C`å±‚é¢èƒ½ç†è§£ï¼‰`mp_module_my_lib_globals_dict`, è¿™ä¸ªå¯¹è±¡ä¹Ÿè¢«ä¸Šä¸€æ­¥ä¸­å®šä¹‰æ¨¡å—çš„æ—¶å€™ä½¿ç”¨ åˆ°æ­¤ä¸€ä¸ªæ¨¡å—å°±å®šä¹‰å®Œæˆäº†ï¼Œ åœ¨ `MaixPy`å±‚é¢ï¼Œç†è®ºä¸Šå¯ä»¥ä½¿ç”¨å¦‚ä¸‹è¯­å¥è¿›è¡Œä½¿ç”¨äº† ```python import my_lib print(my_lib.__name__) my_lib.hello() ``` ä½†æ˜¯æˆ‘ä»¬è¿˜æ²¡ç¼–è¯‘ #### å°†æ¨¡å—æ·»åŠ åˆ°å›ºä»¶ï¼Œ å¹¶è¿›è¡Œç¼–è¯‘ * åœ¨`my_lib.c`æ–‡ä»¶æœ«å°¾æ·»åŠ : ```c MP_REGISTER_MODULE(MP_QSTR_my_lib, my_lib_module, MODULE_MY_LIB_ENABLED); ``` è¿™è¡Œä»£ç æ³¨å†Œè¿™ä¸ªæ¨¡å—ï¼Œä½†æ˜¯æ˜¯å¦ç¼–è¯‘è¿›å›ºä»¶å–å†³ä¸`MODULE_MY_LIB_ENABLED`è¿™ä¸ªå®å®šä¹‰åœ¨`mpconfigport.h`ä¸­æ˜¯å¦å®šä¹‰ä¸º`1` * æ‰€ä»¥æˆ‘ä»¬æ‰“å¼€`mpconfigport.h`æ–‡ä»¶ï¼Œåœ¨é‡Œé¢æ·»åŠ  ```c #define MODULE_MY_LIB_ENABLED (1) ``` * æ‰“å¼€`components/micropython/CMakeLists.txt`ç¼–è¾‘ æ‰¾åˆ°æ–‡ä»¶ä¸­æœ‰`############## Add source files ###############` çš„åœ°æ–¹ï¼Œ åœ¨åé¢æ·»åŠ  ```cmake append_srcs_dir(MPY_PORT_SRCS \"port/src/my_lib\") ``` åˆ°æ­¤ï¼Œé¡¹ç›®æ‰ä¼šå°†`my_lib`è¿™ä¸ªæ–‡ä»¶å¤¹ç¼–è¯‘åˆ°å›ºä»¶ ç„¶å`python project.py rebuild`ç¼–è¯‘å›ºä»¶å³å¯ï¼Œå› ä¸ºæ–°å¢äº†æ–‡ä»¶ï¼Œä¸€å®šè¦ç”¨`rebuild`å‘½ä»¤è€Œä¸æ˜¯`build`ï¼Œæ³¨æ„ç¼–è¯‘æç¤ºï¼Œå¦‚æœæœ‰æŠ¥é”™ï¼Œæ³¨æ„ä¿®æ”¹ ## åœ¨æ¨¡å—ä¸­æ·»åŠ ä¸€ä¸ª type å‰é¢å®šä¹‰äº†ä¸€ä¸ª`my_lib`æ¨¡å—ï¼Œç°åœ¨æˆ‘ä»¬å¸Œæœ›åœ¨`my_lib`ä¸­å®šä¹‰ä¸€ä¸ªç±»ï¼Œå«`A`ï¼Œå¦‚ä¸‹ ```python import my_lib a my_lib.A() print(a.add(1, 2)) ``` è¿™é‡Œåªè®²å¤§è‡´ä¸Šçš„æ€è·¯ï¼Œç„¶åæä¾›æ ·ä¾‹ï¼Œèªæ˜çš„ä½ ä¸€ä¸‹å°±èƒ½ç†è§£äº† * å®šä¹‰ä¸€ä¸ª`mp_obj_type_t` å¯¹è±¡ï¼Œæ­£å¦‚å‰é¢å®šä¹‰`mp_obj_module_t`ä¸€æ · * åŒæ ·çš„ï¼Œç»™è¿™ä¸ªç±»å¯¹è±¡ä¸€ä¸ª`dict`å¯¹è±¡ï¼Œä½œä¸ºè¿™ä¸ªç±»çš„æˆå‘˜ï¼Œæˆå‘˜å¯ä»¥æ˜¯å¸¸é‡æˆ–è€…å‡½æ•°ç”šè‡³æ˜¯å¦ä¸€ä¸ª`type`å¯¹è±¡ * å°†è¿™ä¸ªç±»å¯¹è±¡æ³¨å†Œåˆ°å‰é¢çš„`my_lib`æ¨¡å— å®šä¹‰`mp_obj_type_t`å¯¹è±¡å’Œæˆå‘˜å®šä¹‰å¯ä»¥å‚è€ƒ`port/src/standard_lib/machine/machine_i2c.c`ä¸­çš„å®ç° > å®šä¹‰`mp_obj_type_t`æ—¶æœ‰ä¸€ä¸ª`make_new`æˆå‘˜ï¼Œè¿™ä¸ªå‡½æ•°æ˜¯ç”¨æ¥æ–°å»ºå¯¹è±¡æ—¶ä¼šè¢«è°ƒç”¨çš„å‡½æ•°ï¼Œæ¯”å¦‚`a my_lib.A(); a.add(1,2)` > å¦‚æœä¸æ–°å»ºå¯¹è±¡ï¼Œç›´æ¥è°ƒç”¨ç±»æ–¹æ³•æˆ–å˜é‡ï¼Œè¿™ä¸ªå‡½æ•°ä¸ä¼šè¢«è°ƒç”¨`A.var_a` æ¯”å¦‚æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ª`const mp_obj_type_t my_lib_A_type ... ` ç„¶ååœ¨`my_lib/my_lib.c`ä¸­ `my_lib_globals_table`ä¸­æ·»åŠ è¿™ä¸ªå¯¹è±¡ï¼Œå¹¶å°†å…¶æ˜ å°„åˆ°`key` `A`å³å¯ ```c { MP_ROM_QSTR(MP_QSTR_A), MP_ROM_PTR(&my_lib_A_type) }, ``` ## ä½¿ç”¨ C è¯­è¨€ç¼–å†™å›ºä»¶æ—¶éœ€è¦æ³¨æ„ * `mp_printf` vs `printk` vs `printf`ï¼š å› ä¸º`IDE`ä½¿ç”¨äº†ä¸²å£é€šä¿¡åè®®ï¼Œæ‰€ä»¥åœ¨`C`å±‚é¢ä¸è¦ç›´æ¥ä½¿ç”¨`printk`æˆ–è€…`printf`å‡½æ•°æ‰“å°æ¶ˆæ¯ï¼Œ**å¿…é¡»**ä½¿ç”¨`mp_printf`å‡½æ•°æ¥æ‰“å°ï¼Œä¸ç„¶ä¼šå¯¼è‡´ `IDE` è¿è¡Œæ—¶æ”¶åˆ°ä¸ç†è§£çš„æ•°æ®è€Œæ–­å¼€è¿æ¥ï¼ï¼ å½“ç„¶å¹³æ—¶è°ƒè¯•å¯ä»¥ä½¿ç”¨`printk`ï¼Œå› ä¸ºè¿™ä¸ªå‡½æ•°ä¸ä¼šè§¦å‘ç³»ç»Ÿä¸­æ–­ï¼Œå¯ä»¥åœ¨ä¸­æ–­å‡½æ•°é‡Œé¢è°ƒç”¨ï¼Œä½†æ˜¯ä»…é™è°ƒè¯•æ—¶ä½¿ç”¨ï¼Œ å®é™…æäº¤ä»£ç æ—¶ä¸€å®šè¦åˆ é™¤æ‰ï¼ï¼"},"/soft/maixpy/zh/course/advance/compile.html":{"title":"å¦‚ä½•ç¼–è¯‘","content":" title: å¦‚ä½•ç¼–è¯‘ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy å¦‚ä½•ç¼–è¯‘ æœ¬æ–‡æ˜¯ä¸ºäº†å¸®åŠ©ä¸€äº›æƒ³è¦æˆä¸ºå¼€å‘è€…çš„ç”¨æˆ·è€Œå†™çš„å¼€æºé¡¹ç›®ã®å¼€å‘æ–‡æ¡£ã€‚ ## è·å– maixpy å¼€æºé¡¹ç›® è¯·å‡†å¤‡ linux ç³»ç»Ÿç¯å¢ƒï¼ˆåœ¨ Windows ä¸Šä½¿ç”¨ WSL ä¹Ÿå¯ä»¥ï¼‰ï¼ŒæŒ‚ä¸Š XXX ä»£ç†ï¼Œè¾“å…¥ `git clone https://github.com/sipeed/MaixPy` æ‹‰å– MaixPy ä»“åº“ä»£ç å’Œå­æ¨¡å—ï¼Œç¡®ä¿æ‹¿åˆ°åé˜…è¯»ç›®å½•ä¸‹çš„ [build.md](https://github.com/sipeed/MaixPy v1/blob/master/build.md) æ–‡æ¡£ã€‚ > æ²¡æœ‰ä»£ç†çš„åŒå­¦å¯ä»¥ç”¨ github é•œåƒç«™åˆ—è¡¨ï¼ˆ`https://github.com/rc1844/fastgithub`ï¼‰åŠ é€Ÿæ‹‰å– maixpy ä»“åº“ï¼Œè¯·ä¸è¦ç”¨ gitee æ‹‰å– maixpy ä»“åº“ï¼Œä¼šæ‰å­æ¨¡å—ä»“åº“çš„ã€‚ ``` juwan@juwan N85 N870HL:~$ git clone https://gitclone.com/github.com/sipeed/MaixPy æ­£å…‹éš†åˆ° 'MaixPy'... remote: å¯¹è±¡è®¡æ•°ä¸­: 77517, å®Œæˆ. remote: å‹ç¼©å¯¹è±¡ä¸­: 100% (20929/20929), å®Œæˆ. remote: Total 77517 (delta 56791), reused 76050 (delta 55761) æ¥æ”¶å¯¹è±¡ä¸­: 100% (77517/77517), 53.62 MiB 972.00 KiB/s, å®Œæˆ. å¤„ç† delta ä¸­: 100% (56791/56791), å®Œæˆ. juwan@juwan N85 N870HL:~$ cd MaixPy/ juwan@juwan N85 N870HL:~/MaixPy$ git submodule update recursive init å­æ¨¡ç»„ 'components/kendryte_sdk/kendryte standalone sdk'ï¼ˆhttps://github.com/sipeed/kendryte standalone sdkï¼‰å·²å¯¹è·¯å¾„ 'components/kendryte_sdk/kendryte standalone sdk' æ³¨å†Œ å­æ¨¡ç»„ 'components/micropython/core'ï¼ˆhttps://github.com/micropython/micropython.gitï¼‰å·²å¯¹è·¯å¾„ 'components/micropython/core' æ³¨å†Œ å­æ¨¡ç»„ 'components/micropython/port/src/lvgl/lv_bindings'ï¼ˆhttps://github.com/littlevgl/lv_binding_micropython.gitï¼‰å·²å¯¹è·¯å¾„ 'components/micropython/port/src/lvgl/lv_bindings' æ³¨å†Œ å­æ¨¡ç»„ 'components/micropython/port/src/ulab/micropython ulab'ï¼ˆhttps://github.com/Neutree/micropython ulab.gitï¼‰å·²å¯¹è·¯å¾„ 'components/micropython/port/src/ulab/micropython ulab' æ³¨å†Œ å­æ¨¡ç»„ 'components/spiffs/core'ï¼ˆhttps://github.com/pellepl/spiffs.gitï¼‰å·²å¯¹è·¯å¾„ 'components/spiffs/core' æ³¨å†Œ å­æ¨¡ç»„ 'tools/flash/kflash_py'ï¼ˆhttps://github.com/sipeed/kflash.py.gitï¼‰å·²å¯¹è·¯å¾„ 'tools/flash/kflash_py' æ³¨å†Œ å­æ¨¡ç»„ 'tools/kconfig/Kconfiglib'ï¼ˆhttps://github.com/ulfalizer/Kconfiglib.gitï¼‰å·²å¯¹è·¯å¾„ 'tools/kconfig/Kconfiglib' æ³¨å†Œ å­æ¨¡ç»„ 'tools/spiffs/mkspiffs'ï¼ˆhttps://github.com/igrr/mkspiffs.gitï¼‰å·²å¯¹è·¯å¾„ 'tools/spiffs/mkspiffs' æ³¨å†Œ æ­£å…‹éš†åˆ° '/home/juwan/MaixPy/components/kendryte_sdk/kendryte standalone sdk'... æ­£å…‹éš†åˆ° '/home/juwan/MaixPy/components/micropython/core'... ``` æ³¨æ„ï¼Œè¿™ä¹‹åæ‹‰å–å­ä»“åº“æ˜¯æ²¡æœ‰åŠ é€Ÿçš„ï¼Œä¼šä» github è¯•å›¾æ‹‰å–ï¼Œä½ ä¹Ÿå¯ä»¥ç”¨åŒæ ·çš„æ–¹æ³•å•ç‹¬æ‹‰å–å­æ¨¡å—ä½ç½®ï¼ˆåœ¨ `.gitmodules` ä¸­å®šä¹‰ï¼‰ï¼Œæœ¬ç¯‡æ–‡æ¡£æ˜¯æ— æ³•å¸®ä½ è§£å†³ç½‘ç»œé—®é¢˜çš„ã€‚ > å¦‚æœ https://gitclone.com æŒ‚äº†ï¼Œå°±è‡ªå·±æƒ³åŠæ³•æ‰¾å…¶ä»–çº¿è·¯å§ã€‚ å¦‚ä½•ç¡®è®¤æœ€ç»ˆå­æ¨¡å—æ˜¯å¦æ‹‰å–å®Œæ•´ï¼Œå¯ä»¥è¾“å…¥ `git submodule status`ï¼Œä¸å®Œæ•´è¯·ä¸è¦è¿›è¡Œç¼–è¯‘ï¼Œå¿…å‡ºé”™è¯¯ã€‚ ```shell juwan@juwan N85 N870HL:~/Desktop/maixpy$ git submodule status 7fdb511fe61026eec5874885de5981c4f60f664d components/kendryte_sdk/kendryte standalone sdk (v0.5.2 181 g7fdb511) ced340d739e84737dd5c8e6b4ab9af2ea44e29e7 components/micropython/core (v1.11 64 gced340d73) ddf09164ee1711a61169030a7ee8bf370ee5743f components/micropython/port/src/lvgl/lv_bindings (remotes/origin/dev 6.0 32 gddf0916) c315a571df49a19b843f7dffc300c21ccb7d4edd components/micropython/port/src/ulab/micropython ulab (0.24 27 gc315a57) ec68ba8208d7550860e4e78299d58a529b88bf85 components/spiffs/core (0.2 234 gec68ba8) 1ef6f4c0b2cb8b1872b6ffe9337f4e02d5487fa6 tools/flash/kflash_py (v1.0 79 g1ef6f4c) 53c72959ac4d71f99913e4b0eea99261a6585430 tools/kconfig/Kconfiglib (v12.12.1 14 g53c7295) 983970e40ff381d95d68a9bddff70c4d9921021b tools/spiffs/mkspiffs (0.2.3 6 g983970e) ``` ### ç¼–è¯‘ maixpy å¼€æºé¡¹ç›® > è¿™èŠ‚å†…å®¹å‡è®¾ä½ æ²¡æœ‰ä»»ä½•æ­å»ºäº¤å‰ç¼–è¯‘é“¾çš„ç»éªŒã€‚ é¦–å…ˆæŒ‰ [build.md](https://github.com/sipeed/MaixPy v1/blob/master/build.md) é¡ºåºæ‰§è¡Œå„ç§æ“ä½œå³å¯ï¼Œå¦‚æœä½ ä¸ä¼šè‹±æ–‡ä½ å¯ä»¥å¼€ç¿»è¯‘æœºã€‚ æ­¥éª¤è¯´æ˜å¦‚ä¸‹ï¼š ç»™ linux ç¯å¢ƒå®‰è£…å¿…é¡»çš„ç¼–è¯‘å·¥å…·å’Œ Python æ¨¡å—ï¼Œç¡®ä¿ cmake / make / python3 å¯ç”¨ã€‚ è®¾ç½® toolchain å·¥å…·é“¾åˆ°ç³»ç»Ÿ `/opt/kendryte toolchain/` ç›®å½•ä¸‹ï¼Œæ–¹ä¾¿ SDK å¯»æ‰¾ç¼–è¯‘å·¥å…·ï¼Œç¡®ä¿å­˜åœ¨ /opt/kendryte toolchain/bin/riscv64 unknown elf gcc ç¼–è¯‘å·¥å…·ã€‚ è¿›å…¥åˆ° MaixPy çš„å…·ä½“ç¡¬ä»¶é¡¹ç›®ä¸‹ `cd projects/maixpy_k210` ç„¶åè¾“å…¥ `python3 project.py build` å¼€å§‹ç¼–è¯‘ã€‚ æ•´ä¸ªç¼–è¯‘æ­¥éª¤å°±è¿™æ ·ç»“æŸäº†ï¼Œ ç¼–è¯‘æˆåŠŸåä½ å°±ä¼šåœ¨ `projects/maixpy_k210` ç›®å½•ä¸‹å¾—åˆ°ä¸€ä¸ª build æ–‡ä»¶å¤¹ï¼Œé‡Œé¢æœ‰å¦‚ä¸‹æ–‡ä»¶ï¼š maixpy.bin å°†è¦è¢«çƒ§å½•åˆ° 0x000000 åœ°å€çš„ K210 å›ºä»¶ã€‚ maixpy.txt å½“å‰å›ºä»¶å¯¹åº”çš„åç¼–è¯‘ä»£ç å†…å®¹ï¼Œè¾…åŠ©ä½ æ’æŸ¥ core dump çš„æŒ‡é’ˆåœ°å€çš„ä¿¡æ¯ã€‚ å…¶ä»–æ–‡ä»¶æ˜¯ç¼–è¯‘è¿‡ç¨‹ä¸­äº§ç”Ÿçš„ .a å’Œ .o ä¸­é—´ç¼–è¯‘æ–‡ä»¶ï¼Œå¯å¿½ç•¥ã€‚ ### çƒ§å½• maixpy å›ºä»¶åˆ°ä½ çš„ç¡¬ä»¶ ç°åœ¨ä½ æ‹¿åˆ°äº† maixpy.bin å›ºä»¶ï¼Œæ’å…¥ç¡¬ä»¶ï¼Œç„¶åä½¿ç”¨ `python3 project.py B goE p /dev/ttyUSB1 b 1500000 flash` çƒ§å½•ç¡¬ä»¶ï¼Œä»¥ ` B` å‚æ•°ä¸ºä¾‹ã€‚ ```shell juwan@juwan N85 N870HL:~/Desktop/maixpy/projects/maixpy_k210$ python3 project.py h SDK_PATH:/home/juwan/Desktop/maixpy maixpy usage: project.py [ h] [ p PORT] [ b BAUDRATE] [ t] [ n] [ s] [ B {dan,bit,bit_mic,goE,goD,maixduino,kd233,auto}] [ S] [ toolchain PATH] [ toolchain prefix PREFIX] [ config_file PATH] [ verbose] {config,build,rebuild,menuconfig,clean,distclean,clean_conf,flash} build tool, e.g. `python project.py build` ``` å…¶ä¸­ ` B goE` æ˜¯é€‰æ‹©ç‰ˆå‹ï¼Œå¯é€‰çš„é¡¹æœ‰ `dan,bit,bit_mic,goE,goD,maixduino,kd233,auto` è¡¨ç¤ºçƒ§å½•æ–¹å¼ï¼Œè¿™ä¸ªå’Œå…·ä½“ç¡¬ä»¶æœ‰å¾ˆå¤§å…³ç³»ã€‚ bit é€šå¸¸å¯¹åº”ä½¿ç”¨ CH340 çš„èŠ¯ç‰‡ã€‚ maixduino é€šå¸¸å¯¹åº”ä½¿ç”¨ CH552 çš„èŠ¯ç‰‡ã€‚ å…·ä½“ä½ å¯ä»¥å¤šç§è¯•è¯•ï¼Œè¿˜å¯ä»¥é€‰æ‹©çƒ§å½•é¢‘ç‡ 115200 ã€1500000 çš„ BAUDRATE é€‰æ‹©ï¼Œå½“ç„¶ï¼Œæ— è®ºæ˜¯å“ªç§é…ç½®ï¼Œåªè¦èƒ½çƒ§å½•è¿›å»å°±è¡Œï¼Œæ›´å¤šçš„ä½¿ç”¨æ–¹æ³•ä½ éœ€è¦æŸ¥çœ‹ h çš„å¸®åŠ©è¯´æ˜ã€‚ å¸¸è§çš„çƒ§å½•è¿‡ç¨‹å¦‚ä¸‹ï¼š ```shell âœ maixpy_k210_minimum git:(master) âœ— sudo kflash b 1500000 p /dev/ttyUSB0 build/maixpy.bin [sudo] fqr çš„å¯†ç ï¼š [INFO] COM Port Selected Manually: /dev/ttyUSB0 [INFO] Default baudrate is 115200 , later it may be changed to the value you set. [INFO] Trying to Enter the ISP Mode... ._ [INFO] Automatically detected goE/kd233 [INFO] Greeting Message Detected, Start Downloading ISP Downloading ISP: 100.0% 10kiB/s [INFO] Booting From 0x80000000 [INFO] Wait For 0.1 second for ISP to Boot [INFO] Boot to Flashmode Successfully [INFO] Selected Baudrate: 1500000 [INFO] Baudrate changed, greeting with ISP again ... [INFO] Boot to Flashmode Successfully [INFO] Selected Flash: On Board [INFO] Initialization flash Successfully Programming BIN: 100.0% 47kiB/s [INFO] Rebooting... ``` ### å‘½ä»¤è¡Œè¿æ¥ç¡¬ä»¶ & è¿è¡Œä»£ç  åˆ°è¿™ä¸€æ­¥åŸºæœ¬éƒ½ä¼šä½¿ç”¨äº†å§ã€‚ è¿™é‡Œæ¨èä¸€ä¸‹å¼€å‘æ—¶çš„ä¸€äº› linux æˆ– micropython çš„å¿«é€Ÿæ“ä½œï¼Œé¦–å…ˆå¯ä»¥ä½¿ç”¨ minicom æˆ– picocom ä¸²å£å·¥å…·è¿›å…¥ MicroPython ç»ˆç«¯ï¼ˆåœ¨çƒ§å½•å‘½ä»¤ååŠ ä¸Š ` && picocom /dev/ttyUSB0 b 115200` å°±å¯ä»¥äº†ï¼‰ï¼Œæ¥ç€è¿›å…¥åˆ° micropython å¯ä»¥æŒ‰ä¸‹ Ctrl + E è¿›å…¥ç²˜è´´æ¨¡å¼ï¼Œç„¶åç²˜è´´ä»£ç åè¾“å…¥ Ctrl + D ç»“æŸè¾“å…¥è¿è¡Œä»£ç ã€‚ ```python >>> hello world! >>> ``` è¿™æ ·ä½ å°±å®Œæˆäº†å¿«é€Ÿçš„éªŒè¯å’Œå¼€å‘ï¼Œä½†å¦‚æœä½ æ˜¯è¦è°ƒè¯•æŸä¸€æ®µåŠŸèƒ½ä»£ç ï¼Œä½ å¯ä»¥é€šè¿‡ [mpfshell lite](https://github.com/junhuanchen/mpfshell lite) ç›´æ¥å‘½ä»¤è¡Œä¸Šä¼ ä»£ç ï¼Œå¤ä½å°±è¿è¡Œï¼Œç„¶åæŠ¥é”™å’Œè°ƒè¯•ã€‚ > åº•å±‚å¼€å‘åŠ¨æ€è¯­è¨€ç»å¸¸è¿™æ ·æ“ä½œï¼Œæ‰€ä»¥è¦æ„Ÿè°¢æ‰€æœ‰åšè§£é‡Šå™¨æ¥å£çš„å¼€å‘è€…åšäº†å¤§é‡çš„æ¥å£éªŒè¯ã€‚ ## MaixPy é¡¹ç›®åº”ç”¨è¯´æ˜ å‡è®¾å·²ç»çŸ¥é“å¦‚ä½•ä½¿ç”¨ MaixPy å·¥ç¨‹è¿›è¡Œå¼€å‘ã€ç¼–è¯‘ã€çƒ§å½•ï¼Œæ¥ä¸‹æ¥å°†æ·±å…¥ä»‹ç»ä¸€äº›å·¥å…·çš„ç”¨æ³•ï¼Œè¿™é‡Œé¢åªäº¤å¾…ä¸€äº›å¸¸è§ç”¨æ³•ï¼Œå¹¶ä¸ä¼šå±•å¼€ç»†èŠ‚è¯´æ˜ã€‚ ### ä»‹ç» cmake çš„å·¥ç¨‹ç¼–è¯‘æ–¹æ³• cmake æ˜¯é€šè¿‡ CMakeLists.txt ç¼–å†™ä»£ç å’Œè§„åˆ™åç¼–è¯‘ç”Ÿæˆ Makefile çš„å·¥å…·ï¼Œç”¨æ³•å’Œç»†èŠ‚è‡ªè¡Œç™¾åº¦ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªç»“æ„ç®€å•çš„ cmake å·¥ç¨‹[Get_static_library_by_cmake](https://github.com/junhuanchen/Get_static_library_by_cmake.git)ä¾›ä½ è¿è¡Œå’Œå‚è€ƒå­¦ä¹ ã€‚ åœ¨æ²¡æœ‰ cmake ä¹‹å‰ï¼Œéƒ½æ˜¯ä½¿ç”¨ makefile çš„æ–¹å¼è¿›è¡Œå·¥ç¨‹ç®¡ç†ï¼Œç›´åˆ°ä»Šå¤© micropython å®˜æ–¹ä¹Ÿä¾ç„¶æ˜¯ä½¿ç”¨åŒå±‚ Makefile + inclue(makefile) çš„å·¥ç¨‹ç®¡ç†å¤šç‰ˆå‹ç¡¬ä»¶çš„æ–¹æ³•ã€‚ ä½† MaixPy åªæŠŠ micropython å½“åšä¸€ä¸ªä¾èµ–åº“åŒ…åŠ å…¥åˆ°è‡ªå·±çš„ç¯å¢ƒå½“ä¸­ï¼Œæ‰€ä»¥å®é™…ä¸Š MaixPy çš„è½¯ä»¶æ¶æ„è®¾è®¡æ˜¯å›´ç»•ç€ K210 è½¯ä»¶ç»„ä»¶çš„å½¢å¼è¿›è¡Œæ„å»ºçš„ã€‚ å› æ­¤å¯ä»¥æ¥åˆ° maixpy æ–‡ä»¶å¤¹é‡Œå­˜åœ¨ä¸€ä¸ª hello_world çš„å·¥ç¨‹ï¼Œè®©çœ‹çœ‹å®ƒæ˜¯æ€ä¹ˆæ„æˆçš„ã€‚ hello_world build compile main CMakeLists.txt config_defaults.mk project.py MaixPy é¡¹ç›®å·²ç»å‡†å¤‡äº†ä¸€ä¸ªæ¨¡æ¿æä¾›ç»™ä½ è¿›è¡Œ K210 çš„é¡¹ç›®æ„å»ºï¼Œè¿™é‡Œå¿½ç•¥é¡¹ç›®æ„å»ºçš„è¿‡ç¨‹ï¼Œé‡ç‚¹å…³æ³¨éœ€è¦å¯ä»¥ç¼–è¯‘é“¾æ¥çš„å·¥ç¨‹é…ç½®éƒ¨åˆ†ï¼Œä¹Ÿå°±æ˜¯ main ä¸‹çš„ CMakeLists.txt ï¼Œå®ƒçš„å†…å®¹å¦‚ä¸‹ã€‚ ```cmake ############### Add include ################### # list(APPEND ADD_INCLUDE \"include\" # ) # list(APPEND ADD_PRIVATE_INCLUDE \"\") ############################################### ############ Add source files ################# list(APPEND ADD_SRCS \"src/main.cpp\" ) # aux_source_directory(src ADD_SRCS) # list(REMOVE_ITEM COMPONENT_SRCS \"src/test2.c\") ############################################### ###### Add required/dependent components ###### list(APPEND ADD_REQUIREMENTS kendryte_sdk) ############################################### ############ Add static libs ################## # list(APPEND ADD_STATIC_LIB \"lib/libtest.a\") ############################################### register_component() ``` å¯ä»¥çœ‹åˆ° `ADD_SRCS` é“¾æ¥äº†ä¸€ä¸ª `src/main.cpp` ä»£ç æ–‡ä»¶ä½œä¸ºç¨‹åºå…¥å£ã€‚ é€šè¿‡ `ADD_REQUIREMENTS` å°±å¯ä»¥åŠ è½½å…¶ä»–åœ°æ–¹çš„æ¨¡å—è¿›æ¥ï¼Œä¾‹å¦‚ `list(APPEND ADD_REQUIREMENTS kendryte_sdk)` åˆ™è¯·æ±‚äº† `kendryte_sdk` è¿™ä¸ª SDK åŒ…ã€‚ å¦‚æœæƒ³è¦é“¾æ¥è‡ªå·±çš„ nncase åº“å‘¢ï¼Ÿå…¶ä»–åº“ä»£ç å‘¢ï¼Ÿ å¯ä»¥ç›´æ¥åˆ™æ”¹ä¸ºç»å¯¹è·¯å¾„ä¸‹çš„ `LINK_DIRECTORIES(/home/juwan/maixpy/projects/maixpy_old/main/src/nncase)` çš„ä»£ç å°±å¯ä»¥äº†ï¼Œè¿™æ ·åšçš„å‰ææ˜¯è¿™ä¸ªåº“æ˜¯ç”± cmake å·¥ç¨‹çš„æ–¹å¼æä¾›çš„ã€‚ > è¿™é‡Œç¤ºèŒƒäº†å¦‚ä½•åœ¨ç¼–è¯‘è°ƒç”¨è‡ªå·±çš„ nncase åº“ï¼Œç»“åˆè¿™äº›å…³é”®è®¯æ¯å†å»é˜…è¯»å·¥ç¨‹ï¼Œåº”è¯¥å°±å¯ä»¥è¾ƒä¸ºè½»æ¾çš„ç”¨èµ·æ¥äº†å§ã€‚ ### å¦‚ä½•æ‰“åŒ… micropython spiffs æ–‡ä»¶ç³»ç»Ÿåˆ†äº«å‡ºæ¥ å¦‚æœä½ æ·±å…¥ä½¿ç”¨äº† MaixPy è¿›è¡Œå¼€å‘ï¼Œä½ ä¼šå‘ç° MaixUI æä¾›äº†ä¸€ç§æ–‡ä»¶ç³»ç»Ÿæ–‡ä»¶ï¼ˆimgï¼‰ï¼Œå½“ä½ åˆ·å…¥è¿™ä¸ª UI ç³»ç»Ÿä¸€æ ·çš„ img ï¼Œä½ å°±ä¼šåœ¨çƒ§å½•åç›´æ¥è¿›å…¥ UI ç•Œé¢ã€‚ éœ€è¦çŸ¥é“ MicroPython æ˜¯ä» 0x0 å¼€å§‹çš„ç¨‹åºï¼Œåœ¨ç¨‹åºä¸­ä¼šé€šè¿‡ spiffs åœ¨ Flash çš„ [0xD00000, (0xD00000 + 0x300000)) åŒºé—´æ„å»º VFS ï¼ˆè™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼‰ï¼Œæ˜¯ç”± maixpy/projects/maixpy_xxxxx/config_defaults.mk ä¸­å®šä¹‰å¾—åˆ°çš„ã€‚ ```makefile CONFIG_SPIFFS_SIZE 0x300000 CONFIG_SPIFFS_START_ADDR 0xD00000 ``` > è¿™é‡Œåªè®¨è®ºå·¥å…·çš„ä½¿ç”¨ï¼Œè€Œä¸å¯¹å…¶å®ç°åšè¯¦è§£ã€‚ è€Œ [spiffs](https://github.com/pellepl/spiffs) æ˜¯ä¸æ”¯æŒç›®å½•ç»“æ„çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¼šå‘ç° ui çš„ img åœ¨ flash é‡Œçš„æ–‡ä»¶åç§°ä¼šå­˜åœ¨ `lib/core.py` è¿™æ ·çš„åç§°ï¼Œè€Œæ­£å¸¸æƒ…å†µä¸‹æˆ‘ä»¬æ˜¯ä¸å¯èƒ½å°†è¿™ä¸ªæ–‡ä»¶åˆ›å»ºèµ·æ¥çš„ï¼Œæ‰€ä»¥è¦é€šè¿‡å·¥å…·å°†å…¶æ‰“åŒ…ã€‚ åœ¨ tools/spiffs/mkspiffs ç›®å½•ä¸‹æœ‰ gen_spiffs_image.py è„šæœ¬å®Œæˆè¿™ä¸ªæ‰“åŒ…é•œåƒçš„åŠŸèƒ½ï¼Œç”¨æ³•è¯·çœ‹ tools/spiffs/README.md è¯´æ˜ã€‚ åœ¨ spiffs ç›®å½•ä¸‹å‡†å¤‡ä¸€ä¸ª fs æ–‡ä»¶å¤¹ï¼ŒåŒ…å«ä½ è¦æ‰“åŒ…çš„ä»£ç æˆ–èµ„æºæ–‡ä»¶å†…å®¹ã€‚ æ‰§è¡Œ `python gen_spiffs_image.py ../../projects/maixpy_k210/config_defaults.mk` å³å¯å¾—åˆ° maixpy_spiffs.img äºŒè¿›åˆ¶æ–‡ä»¶ã€‚ å°†ä¸Šè¿°å¾—åˆ°çš„ img çƒ§å…¥åˆ° 0xD00000 å°±æ¢å¤ micropython çš„æ–‡ä»¶ç³»ç»Ÿé‡Œçš„å†…å®¹ã€‚ å¦‚æœä½ åšäº†ä¸€äº›å°ç³»ç»Ÿï¼Œç”¨è¿™æ ·çš„æ–¹å¼å‘å¸ƒï¼Œç”¨æˆ·æ‹¿åˆ°ä½ æä¾›çš„ img æ–‡ä»¶ï¼Œçƒ§å…¥å°±å¯ä»¥ç«‹åˆ»å¾—åˆ°å’Œä½ ä¸€æ ·çš„ç¯å¢ƒå•¦ï¼Œè¿™å…¶å®å’ŒåŸºäº Linux ç³»ç»Ÿå‘å¸ƒæŸç³»ç»Ÿé•œåƒçš„ç»“æ„æ˜¯ä¸€æ ·çš„ã€‚ ç°åœ¨ï¼Œä½ å­¦ä¼šäº†å—ï¼Ÿ ### MaixPy çš„æŒç»­é›†æˆæœåŠ¡ï¼ˆTravis CIï¼‰ Travis CI æä¾›çš„æ˜¯æŒç»­é›†æˆæœåŠ¡ï¼ˆContinuous Integrationï¼Œç®€ç§° CIï¼‰ã€‚å®ƒç»‘å®š Github ä¸Šé¢çš„é¡¹ç›®ï¼Œåªè¦æœ‰æ–°çš„ä»£ç ï¼Œå°±ä¼šè‡ªåŠ¨æŠ“å–ã€‚ç„¶åï¼Œæä¾›ä¸€ä¸ªè¿è¡Œç¯å¢ƒï¼Œæ‰§è¡Œæµ‹è¯•ï¼Œå®Œæˆæ„å»ºï¼Œè¿˜èƒ½éƒ¨ç½²åˆ°æœåŠ¡å™¨ã€‚ æåŠä¸€ä¸‹ MaixPy æ˜¯æœ‰å€ŸåŠ© travis + tools/release.sh å®Œæˆé¡¹ç›®çš„ç¼–è¯‘åï¼Œå°†ç¼–è¯‘ç›®å½•ä¸Šä¼ åˆ°äº†å‘å¸ƒæœåŠ¡å™¨ä¸Šä»è€Œå®Œæˆäº†æ¯æ—¥æ„å»ºï¼Œè¿™å¸¸è§äºå„ç±»åŒ…çš„è‡ªåŠ¨åŒ–æ„å»ºä¸ç¼–è¯‘ï¼Œæ„Ÿå…´è¶£ä¸å¦¨è‡ªå·±äº²æ‰‹è¯•è¯•ã€‚ > [æŒç»­é›†æˆæœåŠ¡ Travis CI æ•™ç¨‹](http://www.ruanyifeng.com/blog/2017/12/travis_ci_tutorial.html) ### å¦‚ä½•æ›´å¥½çš„é˜…è¯»å¼€æºé¡¹ç›®æºä»£ç  è¯´åˆ°è¿™é‡Œï¼Œä»¥ä¸ªäººçš„è§’åº¦æ¥çœ‹ï¼ŒåŸºäºé˜…è¯»ä»£ç è¿™ç§åŸºæœ¬åŠŸè¦æ±‚ä¹‹å¤–ï¼Œæƒ³è¦æ›´å¥½çš„é˜…è¯»æºä»£ç ï¼Œå¯¹äºä¸åŒçš„é¡¹ç›®æœ‰ä¸åŒçš„ç»„ç»‡æ¶æ„ï¼Œä»»ä½•ä¸€ä½åˆšè¿›å…¥è¿™ä¸ªè¡Œä¸šçš„åˆå­¦è€…ï¼Œå¯ä»¥ç”¨äº²èº«ç»å†çš„é¡¹ç›®ä½œä¸ºåˆ‡å…¥ç‚¹ï¼Œé€æ¸ä»é¡¹ç›®æ¶æ„ã€æºç ã€ç¼–è¯‘ã€æµ‹è¯•ã€å‘å¸ƒè½¯ä»¶ç­‰æ–¹é¢å»ºç«‹èµ·å®Œæ•´çš„è½¯ä»¶å·¥ç¨‹æ„è¯†ï¼Œå›´ç»•æ­¤è¿›è¡ŒçŸ¥è¯†çš„æ·±å…¥å­¦ä¹ ä¹Ÿæ˜¯ä¸€ç§ä¸é”™çš„æ‰‹æ®µï¼Œå¸Œæœ›ä½ èƒ½é€šè¿‡è¿™ç¯‡æ–‡ç« å»ºç«‹èµ·å®Œæ•´çš„è½¯ä»¶å·¥ç¨‹ä½“ç³»å§ã€‚ ## æœ€åçš„å‚è€ƒèµ„æ–™ bing.com + keyword + yourself"},"/soft/maixpy/zh/course/advance/pack_fs.html":{"title":"æ‰“åŒ…æ–‡ä»¶ç³»ç»Ÿ","content":" title: æ‰“åŒ…æ–‡ä»¶ç³»ç»Ÿ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy æ‰“åŒ…æ–‡ä»¶ç³»ç»Ÿ å°† PC ä¸Šçš„è‹¥å¹²ä¸ªæ–‡ä»¶æ‰“åŒ…æˆä¸€ä¸ª SPIFFS æ–‡ä»¶ç³»ç»Ÿé•œåƒï¼Œä½¿ç”¨ kflash çƒ§å½•åˆ° flash ç‰¹å®šçš„åœ°å€ï¼Œ è¿™äº›æ–‡ä»¶å°±èƒ½ç›´æ¥åœ¨å¼€å‘æ¿ä¸Š(MaixPy)è¯»å–åˆ°äº† è¯¦æƒ…è¯·çœ‹ä½¿ç”¨è¯´æ˜ï¼š [pack SPIFFS for MaixPy](https://github.com/sipeed/MaixPy v1tree/master/tools/spiffs) æ“ä½œç¤ºä¾‹ GIFï¼š ![pack fs](https://cdn.sipeed.com/pack_spiffs_ops.gif) GIF å¤‡ç”¨é“¾æ¥ï¼š [pack_spiffs_ops.gif](../../../assets/course/advance/pack_spiffs_ops.gif)"},"/soft/maixpy/zh/course/advance/project_framework.html":{"title":"ä»£ç æ¡†æ¶ç»“æ„","content":" title: ä»£ç æ¡†æ¶ç»“æ„ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy ä»£ç æ¡†æ¶ç»“æ„ ## ç›®å½•ç®€ä»‹ ç›®å½• å­ç›®å½• å­ç›®å½•2 å­ç›®å½•3 å†…å®¹æ¢—æ¦‚ assets èµ„æºæ–‡ä»¶ projects å·¥ç¨‹æ–‡ä»¶ï¼Œ æ¯ä¸ªæ–‡ä»¶å¤¹ä¸€ä¸ªå·¥ç¨‹ tools å·¥å…· componentsâ” ç»„ä»¶ â”” boards æ¿çº§ä»£ç  â”” drivers é©±åŠ¨ â”” micropython â” micropython ç›¸å…³ä»£ç  â”” core micropython æºç  â”” portâ” maixpy è‡ªå®šä¹‰éƒ¨åˆ†æºç  â”” builtin_py maixpy é»˜è®¤å†…ç½®ç±» â”” include ç§»æ¤éƒ¨åˆ†å¤´æ–‡ä»¶ â”” src åŠŸèƒ½æ¨¡å—æºç  â”” spiffs SPIFFS æ–‡ä»¶ç³»ç»Ÿ â”” utils å·¥å…·ç±»ï¼ˆå‡½æ•°ï¼‰ > ç°åœ¨çš„ä»£ç å› ä¸ºå†å²é—ç•™åŸå› åœ¨ `components/micropython/port/src` ç›®å½•ä¸‹ä»£ç ç»“æ„ä¸æ˜¯å¾ˆå¥½ï¼Œä»¥åçš„ä»£ç å°½é‡æŒ‰ç…§ç°åœ¨çš„æ¡†æ¶åšåˆ°å±‚æ¬¡åˆ†æ˜ ## æ·»åŠ ä»£ç  å·¥ç¨‹ä½¿ç”¨ `CMake` è¿›è¡Œç»„ç»‡ï¼Œ å¹¶ä¸”å·¥ç¨‹æ”¯æŒå¤šä¸ªå¯é…ç½®é€‰é¡¹ï¼ˆ`Kconfig`ï¼‰ * å¦‚æœä¸æ·»åŠ æ–‡ä»¶å¤¹å’Œé…ç½®é¡¹ï¼Œå¯ä»¥åœ¨ç°æœ‰çš„æ–‡ä»¶å¤¹å†…æ·»åŠ æ–‡ä»¶ç¼–è¯‘å³å¯ * å¦‚æœéœ€è¦æ·»åŠ æ¨¡å—ï¼Œå¯ä»¥ä¿®æ”¹ `CMakeLists.txt` æ¥æ·»åŠ å†…å®¹ï¼Œ å¯ä»¥å‚è€ƒå†…å®¹æ›´å°‘çš„[c_cpp_project_framework](https://github.com/Neutree/c_cpp_project_framework) * å¦‚æœéœ€è¦æ·»åŠ é…ç½®é¡¹ï¼Œ å¯ä»¥é€šè¿‡ä¿®æ”¹ `Kconfig` æ–‡ä»¶æ¥è¾¾åˆ°ç›®çš„ï¼Œæ‰€æœ‰é…ç½®é¡¹åœ¨ç¼–è¯‘æ—¶ä¼šç”Ÿæˆå®å®šä¹‰æ·»åŠ åˆ°`global_config.h`(ç”Ÿæˆçš„æ–‡ä»¶)ä¸­å»ï¼Œ è€Œä¸”åœ¨ `CmakeLists.txt` æ–‡ä»¶ä¸­éƒ½å¯ä»¥ä½¿ç”¨è¯¥å®å®šä¹‰ã€‚ > æ¯”å¦‚åœ¨ Kconfig ä¸­å®šä¹‰ `config BOARD_M5STICK`, åœ¨ CMakeLists.txt ä¸­å¯ä»¥é€šè¿‡åˆ¤æ–­CONFIG_BOARD_M5STICK æ˜¯å¦ä¸ºçœŸæ¥å†³å®šæ˜¯å¦ç¼–è¯‘ç‰¹å®šçš„ä»£ç ã€‚ ç¼–è¯‘æ—¶å°±å¯ä»¥é€šè¿‡`python3 project.py menuconfig`æ¥é€‰æ‹©æ˜¯å¦å‹¾é€‰äº†"},"/soft/maixpy/zh/course/speech/recognizer_cnn.html":{"title":"maix asrï¼ˆè‡ªåŠ¨è¯­éŸ³è¯†åˆ«ï¼‰","content":" title: maix asrï¼ˆè‡ªåŠ¨è¯­éŸ³è¯†åˆ«ï¼‰ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy maix asrï¼ˆè‡ªåŠ¨è¯­éŸ³è¯†åˆ«ï¼‰ > **æœ¬æ–‡æ¡£åœ¨ MaixPy 0.5.1_128 minimum_speech_with_ide_support å›ºä»¶æµ‹è¯•é€šè¿‡ï¼Œä½¿ç”¨å‰è¯·ç¡®ä¿å½•éŸ³åŠŸèƒ½/è°ƒç”¨æ¨¡å‹å¯ç”¨ã€‚** è¿™æ˜¯ä¸€ä¸ªåŸºäºå£°å­¦æ¨¡å‹çš„è¯­éŸ³è¯†åˆ«æ¨¡å—ï¼Œç”¨æˆ·è®¾ç½®æ‹¼éŸ³ç»„æˆçš„è¯æ±‡åŠ è½½åˆ°æ¨¡å—ä¸­ï¼Œå°±å¯ä»¥å¼€å§‹å½•éŸ³è¯†åˆ«ç”¨æˆ·è¾“å…¥çš„è¯æ±‡ï¼Œå¹¶è¿”å›å¯èƒ½åŒ¹é…çš„è¯æ±‡åˆ—è¡¨ã€‚ > 2021å¹´02æœˆ01æ—¥æœ€è¿‘æ”¶åˆ°ä¸€äº›åé¦ˆï¼Œç¡®è®¤æœ‰ä¸ªåˆ«åŒå­¦åœ¨ IDE çš„ä¸‹è¿è¡Œä¸å‡ºç»“æœï¼Œè¿™æ—¶è¯·åˆ‡æ¢åˆ°èœå•ã€‹ç»ˆç«¯ä¸­è¿è¡Œæ‰å¯ä»¥çœ‹åˆ°ç»“æœã€‚ ## ä½¿ç”¨æ–¹æ³• **è­¦å‘Š** ä¸ä¼šã€ä½¿ç”¨å½•éŸ³ã€‘å’Œã€è°ƒç”¨æ¨¡å‹ã€‘çš„åŒå­¦ï¼Œè¯·å…ˆå»å­¦ä¹ å‰ç½®æŠ€èƒ½å†æ¥ä½¿ç”¨æœ¬ç¯‡æ–‡æ¡£ã€‚ çƒ§å½•å£°å­¦æ¨¡å‹ > TODO ä¹‹åå­˜æ”¾åˆ°ä¸‹è½½ç«™ç»Ÿä¸€é“¾æ¥ã€‚ ä»è¿™é‡Œè·å–å£°å­¦æ¨¡å‹[maix_asr_2900k_0x500000](https://github.com/sipeed/MaixPy v1_scripts/blob/master/multimedia/speech_recognizer/maix_asr_2900k_0x500000.kmodel), çƒ§å½•åˆ° 0x500000 åœ°å€å³å¯ã€‚ > æ²¡æœ‰çƒ§æ¨¡å‹å°±åŠ è½½æ¨¡å—ä¼š core dump ï¼Œä¸è¦è·‘æ¥é—®æ€ä¹ˆæŠ¥é”™äº†ã€‚ åˆ›å»ºå½•éŸ³è®¾å¤‡ æœ¬æ¨¡å—æ”¯æŒæ‰€æœ‰ Maix ç³»åˆ—ç¡¬ä»¶ä½¿ç”¨ï¼Œæˆ‘ä»¬åªéœ€è¦é…ç½®ä¸€ä¸ª I2S.DEVICE_0 è®¾å¤‡ï¼Œå¹¶è®¾ç½® CHANNEL_0 é€šé“åˆ°å½•éŸ³è¾“å…¥å°±å¯ä»¥äº†ï¼Œå¦‚æœæ˜¯ Cube å’Œ amigo åˆ™éœ€è¦å…ˆé…ç½®å…·ä½“çš„éŸ³é¢‘è§£ç èŠ¯ç‰‡ï¼Œå†æ‰“å¼€ I2C å½•éŸ³è®¾å¤‡ã€‚ ```python from Maix import GPIO, I2S from fpioa_manager import fm fm.register(20,fm.fpioa.I2S0_IN_D0, force True) fm.register(18,fm.fpioa.I2S0_SCLK, force True) # dock 32 fm.register(19,fm.fpioa.I2S0_WS, force True) # dock 30 rx I2S(I2S.DEVICE_0) rx.channel_config(rx.CHANNEL_0, rx.RECEIVER, align_mode I2S.STANDARD_MODE) rx.set_sample_rate(16000) print(rx) ``` åˆ›å»º maix_asr çš„è¾…åŠ©ç±»ï¼Œå¯ä»¥è·³è¿‡ä¸çœ‹ã€‚ ```python from speech_recognizer import asr class maix_asr(asr): asr_vocab [\"lv\", \"shi\", \"yang\", \"chun\", \"yan\", \"jing\", \"da\", \"kuai\", \"wen\", \"zhang\", \"de\", \"di\", \"se\", \"si\", \"yue\", \"lin\", \"luan\", \"geng\", \"xian\", \"huo\", \"xiu\", \"mei\", \"yi\", \"ang\", \"ran\", \"ta\", \"jin\", \"ping\", \"yao\", \"bu\", \"li\", \"liang\", \"zai\", \"yong\", \"dao\", \"shang\", \"xia\", \"fan\", \"teng\", \"dong\", \"she\", \"xing\", \"zhuang\", \"ru\", \"hai\", \"tun\", \"zhi\", \"tou\", \"you\", \"ling\", \"pao\", \"hao\", \"le\", \"zha\", \"zen\", \"me\", \"zheng\", \"cai\", \"ya\", \"shu\", \"tuo\", \"qu\", \"fu\", \"guang\", \"bang\", \"zi\", \"chong\", \"shui\", \"cuan\", \"ke\", \"shei\", \"wan\", \"hou\", \"zhao\", \"jian\", \"zuo\", \"cu\", \"hei\", \"yu\", \"ce\", \"ming\", \"dui\", \"cheng\", \"men\", \"wo\", \"bei\", \"dai\", \"zhe\", \"hu\", \"jiao\", \"pang\", \"ji\", \"lao\", \"nong\", \"kang\", \"yuan\", \"chao\", \"hui\", \"xiang\", \"bing\", \"qi\", \"chang\", \"nian\", \"jia\", \"tu\", \"bi\", \"pin\", \"xi\", \"zou\", \"chu\", \"cun\", \"wang\", \"na\", \"ge\", \"an\", \"ning\", \"tian\", \"xiao\", \"zhong\", \"shen\", \"nan\", \"er\", \"ri\", \"zhu\", \"xin\", \"wai\", \"luo\", \"gang\", \"qing\", \"xun\", \"te\", \"cong\", \"gan\", \"lai\", \"he\", \"dan\", \"wei\", \"die\", \"kai\", \"ci\", \"gu\", \"neng\", \"ba\", \"bao\", \"xue\", \"shuai\", \"dou\", \"cao\", \"mao\", \"bo\", \"zhou\", \"lie\", \"qie\", \"ju\", \"chuan\", \"guo\", \"lan\", \"ni\", \"tang\", \"ban\", \"su\", \"quan\", \"huan\", \"ying\", \"a\", \"min\", \"meng\", \"wu\", \"tai\", \"hua\", \"xie\", \"pai\", \"huang\", \"gua\", \"jiang\", \"pian\", \"ma\", \"jie\", \"wa\", \"san\", \"ka\", \"zong\", \"nv\", \"gao\", \"ye\", \"biao\", \"bie\", \"zui\", \"ren\", \"jun\", \"duo\", \"ze\", \"tan\", \"mu\", \"gui\", \"qiu\", \"bai\", \"sang\", \"jiu\", \"yin\", \"huai\", \"rang\", \"zan\", \"shuo\", \"sha\", \"ben\", \"yun\", \"la\", \"cuo\", \"hang\", \"ha\", \"tuan\", \"gong\", \"shan\", \"ai\", \"kou\", \"zhen\", \"qiong\", \"ding\", \"dang\", \"que\", \"weng\", \"qian\", \"feng\", \"jue\", \"zhuan\", \"ceng\", \"zu\", \"bian\", \"nei\", \"sheng\", \"chan\", \"zao\", \"fang\", \"qin\", \"e\", \"lian\", \"fa\", \"lu\", \"sun\", \"xu\", \"deng\", \"guan\", \"shou\", \"mo\", \"zhan\", \"po\", \"pi\", \"gun\", \"shuang\", \"qiang\", \"kao\", \"hong\", \"kan\", \"dian\", \"kong\", \"pei\", \"tong\", \"ting\", \"zang\", \"kuang\", \"reng\", \"ti\", \"pan\", \"heng\", \"chi\", \"lun\", \"kun\", \"han\", \"lei\", \"zuan\", \"man\", \"sen\", \"duan\", \"leng\", \"sui\", \"gai\", \"ga\", \"fou\", \"kuo\", \"ou\", \"suo\", \"sou\", \"nu\", \"du\", \"mian\", \"chou\", \"hen\", \"kua\", \"shao\", \"rou\", \"xuan\", \"can\", \"sai\", \"dun\", \"niao\", \"chui\", \"chen\", \"hun\", \"peng\", \"fen\", \"cang\", \"gen\", \"shua\", \"chuo\", \"shun\", \"cha\", \"gou\", \"mai\", \"liu\", \"diao\", \"tao\", \"niu\", \"mi\", \"chai\", \"long\", \"guai\", \"xiong\", \"mou\", \"rong\", \"ku\", \"song\", \"che\", \"sao\", \"piao\", \"pu\", \"tui\", \"lang\", \"chuang\", \"keng\", \"liao\", \"miao\", \"zhui\", \"nai\", \"lou\", \"bin\", \"juan\", \"zhua\", \"run\", \"zeng\", \"ao\", \"re\", \"pa\", \"qun\", \"lia\", \"cou\", \"tie\", \"zhai\", \"kuan\", \"kui\", \"cui\", \"mie\", \"fei\", \"tiao\", \"nuo\", \"gei\", \"ca\", \"zhun\", \"nie\", \"mang\", \"zhuo\", \"pen\", \"zun\", \"niang\", \"suan\", \"nao\", \"ruan\", \"qiao\", \"fo\", \"rui\", \"rao\", \"ruo\", \"zei\", \"en\", \"za\", \"diu\", \"nve\", \"sa\", \"nin\", \"shai\", \"nen\", \"ken\", \"chuai\", \"shuan\", \"beng\", \"ne\", \"lve\", \"qia\", \"jiong\", \"pie\", \"seng\", \"nuan\", \"nang\", \"miu\", \"pou\", \"cen\", \"dia\", \"o\", \"zhuai\", \"yo\", \"dei\", \"n\", \"ei\", \"nou\", \"bia\", \"eng\", \"den\", \"_\"] def get_asr_list(string 'xiao ai fas tong xue'): return [__class__.asr_vocab.index(t) for t in string.split(' ') if t in __class__.asr_vocab] def get_asr_string(listobj [117, 214, 257, 144]): return ' '.join([__class__.asr_vocab[t] for t in listobj if t < len(__class__.asr_vocab)]) def unit_test(): print(__class__.get_asr_list('xiao ai')) print(__class__.get_asr_string(__class__.get_asr_list('xiao ai fas tong xue'))) def config(self, sets): self.set([(sets[key], __class__.get_asr_list(key)) for key in sets]) def recognize(self): res self.result() # print(tmp) if res ! None: sets {} for tmp in res: sets[__class__.get_asr_string(tmp[1])] tmp[0] #print(tmp[0], get_asr_string(tmp[1])) return sets return None from machine import Timer def on_timer(timer): #print(\"time up:\",timer) #print(\"param:\",timer.callback_arg()) timer.callback_arg().state() try: # default: maix dock / maix duino set shift 0 t maix_asr(0x500000, I2S.DEVICE_0, 3, shift 0) # maix bit set shift 1 tim Timer(Timer.TIMER0, Timer.CHANNEL0, mode Timer.MODE_PERIODIC, period 64, callback on_timer, arg t) tim.start() #for i in range(50): #time.sleep_ms(100) #t.stop() #for i in range(50): #time.sleep_ms(100) #t.run() t.config({ 'xiao ai ya' : 0.3, 'hao de ya' : 0.2, 'ni hao ya' : 0.3, }) print(t.get()) while True: #time.sleep(1) tmp t.recognize() # print(tmp) if tmp ! None: print(tmp) except Exception as e: print(e) finally: tim.stop() t.__del__() del t ``` å¯¹éº¦å…‹é£è¯´è¯ æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä»£ç ä¸­å®šä¹‰äº†ä»¥ä¸‹è¯æ±‡ï¼š ```python t.config({ 'xiao ai' : 0.3, 'hao de' : 0.2, 'ni hao' : 0.3, }) print(t.get()) ``` ä¹Ÿå°±æ˜¯ä½ å¯¹ç€éº¦å…‹é£åœ¨ 6 ç§’å†…ï¼Œè¯´ã€ä½  å¥½ã€‘ã€ã€å¥½ çš„ã€‘ã€ã€å° çˆ±ã€‘å°±å¯ä»¥å®Œæˆè¯†åˆ«äº†ï¼Œé…ç½®é¡¹ä¸ºä¸¤ä¸ªå­—æ®µï¼Œç¬¬ä¸€ä¸ªå­—æ®µé•¿åº¦ä¸è¶…è¿‡å…­ç»„æ‹¼éŸ³ï¼Œç¬¬äºŒä¸ªå­—æ®µè¡¨ç¤ºè¯†åˆ«çš„æœ€ä½é—¨é™ï¼ˆåŒ¹é…çš„é˜ˆå€¼ï¼‰ï¼Œé«˜äºè¯¥å€¼å°±æ‰“å°ï¼Œä½äºè¯¥å€¼å°±ä¸¢å¼ƒã€‚ æœ€å¼€å§‹æµ‹è¯•çš„æ—¶å€™ï¼Œè¯´è¯å¯ä»¥å¤§å£°ä¸€ç‚¹ï¼Œå…·ä½“æ•ˆæœçœ‹[æ¼”ç¤ºè§†é¢‘](https://www.bilibili.com/video/BV1C5411L7JC/), å®Œæ•´ç¤ºä¾‹: [test_maix_asr.py](https://github.com/sipeed/MaixPy v1_scripts/blob/master/multimedia/speech_recognizer/test_maix_asr.py)"},"/soft/maixpy/zh/course/speech/fft_waterfall.html":{"title":"FFT ç€‘å¸ƒå›¾(é›¨å›¾)","content":" title: FFT ç€‘å¸ƒå›¾(é›¨å›¾) keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy FFT ç€‘å¸ƒå›¾(é›¨å›¾) FFT ç€‘å¸ƒå›¾å³ä¸ºæ•°æ®éšæ—¶é—´å˜åŒ–çš„é¢‘ç‡åˆ†å¸ƒå›¾ï¼Œä¸‹é¢å°†ä»‹ç»å¦‚ä½•ä½¿ç”¨ MaixPy ç»˜åˆ¶ç€‘å¸ƒå›¾ã€‚ ## ç»˜åˆ¶æ–¹æ³• * å‡†å¤‡æ—¶åŸŸä¿¡å·ï¼ˆä¾‹å¦‚éŸ³é¢‘æ•°æ®ï¼‰ ```python rx I2S(I2S.DEVICE_0) rx.channel_config(rx.CHANNEL_0, rx.RECEIVER, align_mode I2S.STANDARD_MODE) rx.set_sample_rate(sample_rate) audio rx.record(sample_points) ``` * è¿›è¡ŒFFTè¿ç®—ï¼ˆå°†æ•°æ®è¿›è¡Œ FFT è¿ç®—å¹¶è·å–å…¶é¢‘ç‡åˆ†å¸ƒæƒ…å†µï¼‰ ```python fft_points 512 fft_res FFT.run(audio.to_bytes(),fft_points) fft_amp FFT.amplitude(fft_res) ``` * ç»˜åˆ¶åœ¨ image ï¼ˆç”±äº FFT ç»“æœçš„å¯¹ç§°æ€§ï¼Œåªéœ€è¦ç»˜åˆ¶å…¶ä¸­ä¸€éƒ¨åˆ†å³å¯ï¼‰ ```python hist_x_num 128 img image.Image(size (128,128)) for i in range(hist_x_num): img[i] fft_amp[i] ``` *è¯¦ç»†APIå‚è€ƒ[I2S API](../../api_reference/Maix/i2s.html), [FFT API](../../api_reference/Maix/fft.html)* ## ä¾‹ç¨‹ > ä»¥ä¸‹ä¾‹ç¨‹åœ¨å›ºä»¶v0.5.1 MaixDock æµ‹è¯•é€šè¿‡ å®æ—¶é‡‡é›†éŸ³é¢‘æ•°æ®å¹¶ç»˜åˆ¶ä¸º FFT ç€‘å¸ƒå›¾ [demo_fft_waterfall.py](https://github.com/sipeed/MaixPy v1_scripts/blob/master/hardware/demo_fft_waterfall.py) æ•ˆæœï¼š ![](../../../assets/course/fft_waterfall.gif)"},"/soft/maixpy/zh/course/speech/recognizer_mfcc.html":{"title":"isolated word","content":" title: isolated word keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy isolated word > **æœ¬æ–‡æ¡£åœ¨ MaixPy 0.5.1_128 minimum_speech_with_ide_support å›ºä»¶æµ‹è¯•é€šè¿‡ï¼Œä½¿ç”¨å‰è¯·ç¡®ä¿ç¡¬ä»¶å½•éŸ³åŠŸèƒ½å¯ç”¨ã€‚** è¿™æ˜¯ä¸€ä¸ªå­¤ç«‹è¯è¯†åˆ«çš„ç®—æ³•æ¨¡å—,ç”¨æˆ·é€šè¿‡å½•éŸ³ç”Ÿæˆè¯æ±‡æ¨¡æ¿åŠ è½½åˆ°æ¨¡å—ä¸­ï¼Œå†é€šè¿‡å®ƒè¯†åˆ«åˆ°ç”¨æˆ·åŠ è½½çš„è¯æ±‡æ¨¡æ¿ï¼Œå¹¶è¿”å›åŒ¹é…çš„å¯èƒ½æ€§ï¼Œå®ç°è¯·å‚è€ƒ[åŸºäºSTM32çš„å­¤ç«‹è¯è¯­éŸ³è¯†åˆ«](https://gk969.com/stm32 speech recognition/)ã€‚ å­¤ç«‹è¯è¯†åˆ« æŒ‰ç…§è¯­éŸ³å‘éŸ³æ–¹å¼æ¥åˆ†ï¼Œæœ‰å­¤ç«‹è¯è¯†åˆ«ã€è¿æ¥è¯è¯†åˆ«ã€è¿ç»­è¯­éŸ³è¯†åˆ« 3 ç§ï¼›æ‰€è°“å­¤ç«‹è¯è¯†åˆ«ï¼ˆIsolated Word Recognitionï¼‰æ˜¯æŒ‡åœ¨å‘å¾…è¯†åˆ«éŸ³æ—¶ï¼Œæ¯æ¬¡åªå«è¯æ±‡è¡¨ä¸­çš„ä¸€ä¸ªè¯æ¡ã€‚ è¯æ±‡æ¨¡æ¿ æˆ‘ä»¬å°†ä¸€æ®µç”¨äººå£°è¯´å‡ºçš„è¯æ±‡å½•éŸ³ä¸‹æ¥ï¼Œé€šè¿‡ç®—æ³•åˆ¶ä½œæˆå¯è¯†åˆ«çš„æ¨¡æ¿ï¼Œç§°ä¸ºè¯æ±‡æ¨¡æ¿ã€‚ æ¨¡æ¿åŒ¹é… å‡è®¾ç®—æ³•æ¨¡å—åŠ è½½äº†è¯æ±‡æ¨¡æ¿ï¼Œæˆ‘ä»¬é€šè¿‡å½•éŸ³è¾“å…¥æ•°æ®ç»™ç®—æ³•æ¨¡å—åï¼Œå®ƒä¼šè¿›è¡Œå†…éƒ¨åŒ¹é…å¾—åˆ°æœ€æœ‰å¯èƒ½çš„è¯†åˆ«ç»“æœã€‚ > æœ¬æ¨¡å—å…·ä½“è¯†åˆ«æµç¨‹æ˜¯ï¼šé¢„æ»¤æ³¢ã€ADCã€åˆ†å¸§ã€ç«¯ç‚¹æ£€æµ‹ã€é¢„åŠ é‡ã€åŠ çª—ã€ç‰¹å¾æå–ã€ç‰¹å¾åŒ¹é…ã€‚ç«¯ç‚¹æ£€æµ‹(VAD)é‡‡ç”¨çŸ­æ—¶å¹…åº¦å’ŒçŸ­æ—¶è¿‡é›¶ç‡ç›¸ç»“åˆã€‚æ£€æµ‹å‡ºæœ‰æ•ˆè¯­éŸ³åï¼Œæ ¹æ®äººè€³å¬è§‰æ„ŸçŸ¥ç‰¹æ€§ï¼Œè®¡ç®—æ¯å¸§è¯­éŸ³çš„Melé¢‘ç‡å€’è°±ç³»æ•°(MFCC)ã€‚ç„¶åé‡‡ç”¨åŠ¨æ€æ—¶é—´å¼¯æŠ˜(DTW)ç®—æ³•ä¸ç‰¹å¾æ¨¡æ¿ç›¸åŒ¹é…ï¼Œæœ€ç»ˆè¾“å‡ºè¯†åˆ«ç»“æœã€‚ ## å¦‚ä½•ä½¿ç”¨ï¼Ÿ ç›®å‰ç¡¬ä»¶æ”¯æŒç¨‹åº¦ï¼šMaix BIT / DOCK / DUINO / GO ã€‚ > æˆªè‡³ 20201123 ç”±äº Cube & Amigo ç»è¿‡ ES8374 åï¼Œéº¦å…‹é£åº•å™ªè¿‡å¤§ä¼šè¢«åˆ¤æ–­ä¸ºå™ªéŸ³ç¯å¢ƒï¼Œè¿˜éœ€è¦ä¿®å¤ã€‚ ### å¼€ç®±å³ç”¨ç¤ºä¾‹ä»£ç  ä½¿ç”¨ maixduino / maixbit çš„æµ‹è¯•ç”¨ä¾‹ [isolated_word.py](https://github.com/sipeed/MaixPy v1_scripts/blob/master/multimedia/speech_recognizer/isolated_word.py)ï¼Œä½¿ç”¨æ–¹æ³•è¯·é˜…è¯»ä»£ç ï¼Œè¯·æ³¨æ„ç¡¬ä»¶çš„ éº¦å…‹é£ é…ç½® å’Œ å£°é“ é…ç½®ã€‚ Maix DOCK å¯ç›´æ¥ä½¿ç”¨çš„ç¤ºä¾‹ä»£ç [demo_isolated_word_on_maixdock.py](https://github.com/sipeed/MaixPy v1_scripts/blob/master/multimedia/speech_recognizer/demo_isolated_word_on_maixdock.py)ï¼ŒæŒ‰å±å¹•æç¤ºè¯´è¯å³å¯ï¼Œå…·ä½“çœ‹[æµ‹è¯•å½•åƒ](https://www.bilibili.com/video/BV1oz4y1C7yE?from search&seid 17464946072274851468)ã€‚ ### æ¨¡å—è°ƒç”¨æµç¨‹ ä¸ºäº†èƒ½å¤Ÿæ›´å¥½åœ°ä½¿ç”¨æœ¬æ¨¡å—ï¼Œè¯·äº†è§£ä½¿ç”¨æµç¨‹ã€‚ #### å‡†å¤‡ I2S å½•éŸ³æ¨¡å— é…ç½®ä¸€ä¸ª I2S.DEVICE_0 è®¾å¤‡ï¼Œå¹¶è®¾ç½® CHANNEL_0 é€šé“åˆ°å½•éŸ³è¾“å…¥ã€‚ ```python from Maix import GPIO, I2S from fpioa_manager import fm fm.register(20,fm.fpioa.I2S0_IN_D0, force True) fm.register(18,fm.fpioa.I2S0_SCLK, force True) # dock 32 fm.register(19,fm.fpioa.I2S0_WS, force True) # dock 30 rx I2S(I2S.DEVICE_0) rx.channel_config(rx.CHANNEL_0, rx.RECEIVER, align_mode I2S.STANDARD_MODE) rx.set_sample_rate(16000) print(rx) ``` è¿è¡Œç»“æœï¼š ```shell [MAIXPY]i2s0:(sampling rate 16003, sampling points 1024) [MAIXPY]channle0:(resolution 2, cycles 2, align_mode 1, mode 1) [MAIXPY]channle1:(resolution 0, cycles 0, align_mode 0, mode 0) [MAIXPY]channle2:(resolution 0, cycles 0, align_mode 0, mode 0) [MAIXPY]channle3:(resolution 0, cycles 0, align_mode 0, mode 0) ``` #### åˆ›å»º å­¤ç«‹è¯ æ¨¡å— isolated_word åˆå§‹åŒ–çš„å‚æ•°å¦‚ä¸‹ï¼š [dmac] å½•éŸ³æ‰€ä½¿ç”¨çš„ DMA é€šé“ï¼Œé»˜è®¤ä½¿ç”¨ã€é€šé“ 2ã€‘ã€‚ [i2s] å½•éŸ³è®¾å¤‡ï¼Œé»˜è®¤ä½¿ç”¨ I2S.DEVICE_0 ã€‚ [size] è¯æ±‡æ¨¡æ¿å®¹é‡ï¼Œè¡¨ç¤ºå¯ä»¥åŠ è½½çš„æ¨¡æ¿æ€»æ•°ï¼Œé»˜è®¤ä¸º 10 ä¸ªã€‚ [shift] å£°é“é€‰æ‹©ï¼ŒMaix ç³»åˆ—çš„ç¡¬ä»¶å½•éŸ³è®¾å¤‡é€šå¸¸ä¸ºå•å£°é“è¾“å…¥ï¼Œè®¾ç½® 0 ä¸ºå·¦å£°é“ï¼Œæ‰€ä»¥ 1 ä¸ºå³å£°é“ã€‚ ```python from speech_recognizer import isolated_word # default: maix dock / maix duino set shift 0 sr isolated_word(dmac 2, i2s I2S.DEVICE_0, size 10, shift 0) # maix bit set shift 1 print(sr.size()) print(sr) ## threshold sr.set_threshold(0, 0, 10000) ``` è¿è¡Œç»“æœå¦‚ä¸‹ï¼š ```shell 10 [MAIXPY] isolated_word:(80212a60) mfcc_dats 8023a060 size 10 i2s_device_number_t 0 dmac_channel_number_t 2 ``` #### å½•å…¥è¯æ±‡æ¨¡æ¿ è°ƒç”¨å¦‚ä¸‹ä»£ç ï¼š å¦‚æœå‘¨å›´ç¯å¢ƒå¾ˆå˜ˆæ‚ï¼Œå®ƒå°±ä¼šåå¤è¾“å‡º 2 (isolated_word.Ready) åˆ° 3 (isolated_word.MaybeNoise) ï¼Œéœ€è¦å¤„äºå®‰é™ç¯å¢ƒä¸‹æ‰èƒ½å½•å…¥è¯æ±‡æ¨¡æ¿ å¦‚æœçŠ¶æ€ä¸º isolated_word.Speak åˆ™è¡¨ç¤ºä½ å¯ä»¥è¯´è¯äº† å¦‚æœè¿è¡Œ sr.record(0) å®ƒçŠ¶æ€å˜æˆäº† isolated_word.Done åˆ™è¡¨ç¤ºå½•å…¥å®Œæˆï¼Œå¹¶ä¿å­˜åˆ°ç¼–å· 0 çš„æ¨¡æ¿ã€‚ ä½ å¯ä»¥é€šè¿‡ sr.state() å¯ä»¥æŸ¥çœ‹å½“å‰æ¨¡å—çš„çŠ¶æ€ ```python ## record and get & set while True: time.sleep_ms(100) print(sr.state()) if sr.Done sr.record(0): data sr.get(0) print(data) break if sr.Speak sr.state(): print('speak A') #sr.set(1, data) ``` åŒç†ï¼Œå¦‚æœä½ è¦å½•å…¥ç¬¬äºŒä¸ªã€è¯æ±‡æ¨¡æ¿ã€‘ï¼Œåªéœ€è¦æ”¹å˜å½•å…¥çš„ä½ç½®ï¼Œå¦‚æ”¹æˆ sr.record(1)ï¼ˆè®¡ç®—æœºå­˜å‚¨æ•°ç»„ä» 0 å¼€å§‹è®¡æ•°ï¼‰ã€‚ #### è¯†åˆ«è¯æ±‡æ¨¡æ¿ å‡è®¾ä½ å·²ç»å½•å…¥äº†ã€è¯æ±‡æ¨¡æ¿ã€‘åˆ™è°ƒç”¨å¦‚ä¸‹ä»£ç ï¼Œå®ƒä¼šæŒç»­è¯†åˆ«å½“å‰çš„å£°éŸ³å¼€å§‹åŒ¹é…å½•å…¥çš„ã€è¯æ±‡æ¨¡æ¿ã€‘ï¼Œä¹Ÿå°±æ˜¯æ‰€è°“çš„å­¤ç«‹è¯è¯­éŸ³è¯†åˆ«ã€‚ ```python print('recognizer') while True: time.sleep_ms(200) #print(sr.state()) #print(sr.dtw(data)) if sr.Done sr.recognize(): res sr.result() print(res) ``` æœ€ç»ˆå‘ˆç°çš„æ•ˆæœå°±æ˜¯æ‰“å°å‡ºæœ€ä¼˜åŒ¹é…çš„ã€è¯æ±‡æ¨¡æ¿ã€‘ç¼–å·ä»¥åŠç›¸å…³æ•°æ®ï¼Œå…·ä½“è¯·æŸ¥çœ‹ result å‡½æ•°ç”¨æ³•ï¼Œå¯ä»¥æ ¹æ®å®é™…æƒ…å†µæ¥åˆ¤æ–­æœ¬æ¬¡è¯†åˆ«æ˜¯å¦åˆç†ï¼Œå¦‚åŒ¹é…çš„å¸§é•¿/åŒ¹é…åº¦æ˜¯å¦ç¬¦åˆé¢„æœŸï¼Œè¿‡å¤§æˆ–è¿‡å°éƒ½æ˜¯ä¸åˆç†çš„ã€‚"},"/soft/maixpy/zh/course/speech/fft.html":{"title":"FFT ä¿¡å·å¤„ç†","content":" title: FFT ä¿¡å·å¤„ç† keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy FFT ä¿¡å·å¤„ç† FFT å³å¿«é€Ÿå‚…é‡Œå¶å˜æ¢ï¼ˆFast Fourier Transformï¼‰ï¼Œå°†æ—¶åŸŸä¿¡å·è½¬åŒ–ä¸ºé¢‘åŸŸä¿¡å·ï¼Œåº”ç”¨èŒƒå›´éå¸¸å¹¿ï¼Œä¾‹å¦‚æ¶ˆé™¤éŸ³é¢‘å›¾åƒå™ªå£°ã€‚ ## ä½¿ç”¨æ–¹æ³• k210 å¸¦æœ‰ç¡¬ä»¶ FFT æ¨¡å—ï¼Œæ”¯æŒ 64 ç‚¹ã€ 128 ç‚¹ã€ 256 ç‚¹ä»¥åŠ 512 ç‚¹çš„ FFTã€‚ * å¯¼å…¥ FFT æ¨¡å— ```python import FFT ``` * è¾“å…¥æ—¶åŸŸæ•°æ®ï¼ˆä¾‹å¦‚éŸ³é¢‘æ•°æ®ï¼‰å¹¶è¿›è¡Œ FFT è¿ç®— ```python res FFT.run(data, points, shift) ``` ç›¸å…³ API è§£é‡Šè¯·å‚è€ƒ[FFT API](../../api_reference/Maix/fft.html) ## ä¾‹ç¨‹ é‡‡é›†å£°éŸ³å¹¶è¿›è¡Œ FFT è¿ç®—ï¼Œå°†è¿ç®—åçš„æ•°æ®åœ¨å±å¹•ä¸Šæ˜¾ç¤ºä¸ºæŸ±çŠ¶å›¾: [demo_fft_spectrum](https://github.com/sipeed/MaixPy v1_scripts/blob/master/hardware/demo_fft_spectrum.py) æ•ˆæœï¼š <iframe width \"600\" height \"350\" src \"//player.bilibili.com/player.html?aid 44617696&cid 78104545&page 1\" scrolling \"no\" border \"0\" frameborder \"no\" framespacing \"0\" allowfullscreen \"true\"> </iframe>"},"/soft/maixpy/zh/course/others/mem.html":{"title":"å†…å­˜ç®¡ç†","content":" title: å†…å­˜ç®¡ç† keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy å†…å­˜ç®¡ç† åœ¨ MaixPy ä¸­ï¼Œ ç›®å‰ä½¿ç”¨äº†ä¸¤ç§å†…å­˜ç®¡ç†ï¼Œ ä¸€ç§æ˜¯ GCï¼ˆåƒåœ¾å›æ”¶ï¼‰ï¼Œ å¦ä¸€ç§æ˜¯ç³»ç»Ÿå †å†…å­˜ï¼Œ ä¸¤è€…åŒæ—¶å­˜åœ¨ã€‚ æ¯”å¦‚ï¼šèŠ¯ç‰‡æœ‰ 6MiB å†…å­˜ï¼ŒåŠ å…¥å›ºä»¶ä½¿ç”¨äº†å‰é¢çš„ 2MiBï¼Œ è¿˜å‰© 4MiBï¼Œ é»˜è®¤ `GC`ä½¿ç”¨ 512KiBï¼Œ å‰©ä¸‹çš„ç»™ç³»ç»Ÿå †å†…å­˜ç®¡ç†ã€‚ * åœ¨`mpy`å±‚é¢å†™çš„ä»£ç ï¼Œ å˜é‡éƒ½æ˜¯å­˜åœ¨`GC`ç®¡ç†çš„å†…å­˜å—ä¸­ï¼Œæ¯”å¦‚å®šä¹‰ä¸€ä¸ªå˜é‡`a [1,2,3,4]`, å¦‚æœ`GC'`å†…å­˜ä¸è¶³äº†ï¼Œ ä¼šè‡ªåŠ¨è§¦å‘`gc.collect()`å‡½æ•°çš„æ‰§è¡Œï¼Œ `GC`ä¼šè‡ªåŠ¨æŠŠæ²¡æœ‰åœ¨ä½¿ç”¨äº†çš„å˜é‡ç»™é”€æ¯ï¼Œç•™å‡ºæ¥ç©ºé—´ç»™æ–°çš„å˜é‡ä½¿ç”¨ã€‚ > `GC`ä½¿ç”¨`æ ‡è®° æ¸…é™¤`çš„æ–¹å¼è¿›è¡Œå†…å­˜å›æ”¶ï¼Œæœ‰å…´è¶£å¯ä»¥çœ‹[è¿™é‡Œ](https://neucrack.com/p/46) * å› ä¸º`GC`è¦æ‰«æå†…å­˜ï¼Œ å¦‚æœé™¤äº†ç¨‹åºå ç”¨çš„å†…å­˜ï¼Œå‰©ä¸‹çš„éƒ½ç»™`GC`ï¼Œé‚£æ¯æ¬¡æ‰«æéœ€è¦è€—è´¹å¤§é‡æ—¶é—´ï¼Œæ‰€ä»¥åˆ†æˆäº†ä¸¤ç§å†…å­˜ã€‚ å †å†…å­˜ç”± `C`å±‚é¢çš„ä»£ç æ§åˆ¶ï¼Œä¸»è¦ç”¨äºå›¾ç‰‡å†…å­˜ï¼Œ AIå†…å­˜ï¼Œ LCD å†…å­˜ï¼Œ ä»¥åŠæ¨¡å‹åŠ è½½åˆ°å†…å­˜ç­‰ `GC` å†…å­˜çš„æ€»å¤§å°æ˜¯å¯ä»¥è®¾ç½®çš„ï¼Œ æ‰€ä»¥ï¼Œæ ¹æ®å…·ä½“çš„ä½¿ç”¨æƒ…å†µå¯ä»¥é€‚å½“ä¿®æ”¹`GC`å†…å­˜å¤§å°ï¼Œ æ¯”å¦‚ï¼š * ä¸ºäº†åŠ è½½æ›´å¤§çš„æ¨¡å‹ï¼Œå¯ä»¥æŠŠ `GC`å†…å­˜è®¾ç½®å°ä¸€ç‚¹ * å¦‚æœåˆ†é…æ–°çš„å˜é‡æç¤ºå†…å­˜ä¸è¶³ï¼Œ å¯ä»¥é€‚å½“å°†`GC`å†…å­˜è®¾ç½®å¤§ä¸€ç‚¹å³å¯ * å¦‚æœéƒ½ä¸å¤Ÿäº†ï¼Œ å°±è¦è€ƒè™‘ç¼©å‡å›ºä»¶å¤§å°ï¼Œæˆ–è€…ä¼˜åŒ–ä»£ç äº† è®¾ç½®`GC`å†…å­˜å¤§å°ç¤ºä¾‹ï¼š ```python from Maix import utils import machine print(utils.gc_heap_size()) utils.gc_heap_size(1024*1024) # 1MiB machine.reset() ``` æ³¨æ„ä¿®æ”¹åéœ€è¦é‡å¯ç”Ÿæ•ˆ æŸ¥çœ‹å†…å­˜åˆ†é…æƒ…å†µï¼š ```python import gc print(gc.mem_free() / 1024) # stack mem import Maix print(Maix.utils.heap_free() / 1024) # heap mem ''' >>> raw REPL; CTRL B to exit >OK 352.0937 4640.0 > MicroPython v0.5.1 136 g039f72b6c dirty on 2020 11 18; Sipeed_M1 with kendryte k210 Type \"help()\" for more information. >>> ''' ```"},"/soft/maixpy/zh/course/others/maixui.html":{"title":"MaixUI åŸºç¡€ä½¿ç”¨æŒ‡å¯¼","content":" title: MaixUI åŸºç¡€ä½¿ç”¨æŒ‡å¯¼ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy MaixUI åŸºç¡€ä½¿ç”¨æŒ‡å¯¼ å¦‚ä½•æ­£ç¡®çš„é£Ÿç”¨ MaixUI é¡¹ç›®ï¼Ÿ ## ä¸ºä»€ä¹ˆè¦å¼€å‘å®ƒï¼Ÿå®ƒçš„æ„ä¹‰å’Œå­˜åœ¨ä»·å€¼æ˜¯ä»€ä¹ˆï¼Ÿ åœ¨ä»»ä½•èŠ¯ç‰‡ä¸‹æ°¸è¿œå­˜åœ¨å¯¹ UI æ¡†æ¶çš„åŸºæœ¬éœ€æ±‚ï¼Œä½†ç”±äº K210 æ— æ³•åœ¨æ”¯æŒ Ai åŠŸèƒ½çš„æƒ…å†µä¸‹ç»§ç»­ä½¿ç”¨ LVGL ç¯å¢ƒï¼Œå¯¼è‡´ UI å¤±å»äº†æœ¬æ¥å­˜åœ¨çš„æ„ä¹‰ã€‚ ä¹Ÿå°±æ˜¯åœ¨ä¸èƒ½ç”¨ QT ä¹Ÿä¸èƒ½ç”¨ LVGL çš„æ—¶å€™ï¼Œåˆå¸Œæœ›èƒ½å¤Ÿä½¿ç”¨ Python ç¼–å†™ UI åº”ç”¨ï¼Œæ‰€ä»¥æ‰è¯ç”Ÿäº†åŸºäº image çš„ MaixUI UI æ¡†æ¶ã€‚ ## å¯¹ MaixUI çš„è¦æ±‚ åœ¨æœ€æ–° MaixPy å›ºä»¶çš„åŸºç¡€ä¸Š 2020å¹´10æœˆ7æ—¥ æ»¡è¶³å¦‚ä¸‹è¦æ±‚ã€‚ ç¡®ä¿ MicroPython çš„ GC å†…å­˜åœ¨ä»»ä½•æ—¶å€™éƒ½æ˜¯ä½¿ç”¨å¯å›æ”¶å¯æ§çš„ã€‚ ç¡®ä¿ UI ç»„ä»¶ä»£ç ç‹¬ç«‹ï¼Œä¸åŒ…å«åœ¨å›ºä»¶ï¼Œå¯è¢«è°ƒè¯•ä¿®æ”¹ã€‚ ç¡®ä¿ç³»ç»Ÿç¨³å®šæ€§ï¼Œä¿è¯ä»£ç å’Œç¡¬ä»¶èµ„æºå‡å¯é‡å…¥ï¼Œä¸ä¼šå‡ºç° core dump ç°è±¡ã€‚ è¿è¡Œå¯é‡å…¥ï¼Œä¹Ÿå°±è¿è¡ŒåŠ¨æ€ä»£ç å±•ç¤º UI æ ·å¼ï¼Œç±»ä¼¼ HTML5 / CSS çš„è®¾è®¡ã€‚ Python çš„å¼‚å¸¸æ•è·å®æ—¶åé¦ˆåˆ°å±å¹•ä¸Šï¼Œå¿«é€Ÿå®šä½å‡ºé”™è¡Œã€‚ UI ç›¸å…³çš„ç»˜åˆ¶å‡½æ•°å¯è¢«å¤šå¤„è£…é¥°ä½¿ç”¨ï¼Œä¹Ÿå¯ç‹¬ç«‹è¿è¡Œã€‚ æ¡†æ¶æä¾›çš„æ‰€æœ‰ MicroPython ç¡¬ä»¶é©±åŠ¨å‡å¯ç‹¬ç«‹è¿è¡Œç›¸åº”çš„å•å…ƒæµ‹è¯•ã€‚ æ¡†æ¶è¿è¡Œæ—¶å…è®¸åŠ¨æ€åŠ è½½å¤–éƒ¨ç¬¦åˆç»“æ„çš„ UI åº”ç”¨ï¼Œå¯ä»¥ä» storage æˆ– network ä¸Šè·å–ç”¨æˆ·è‡ªå®šä¹‰åº”ç”¨ã€‚ æ‰€ä»¥åœ¨æœ€åŸºç¡€çš„ç¤ºä¾‹ä¸­ï¼Œå®ƒå°†ä¸¥æ ¼æ§åˆ¶å†…å­˜å ç”¨æ§åˆ¶åœ¨ 512k ~ 1M ï¼Œå¹¶å°†ç»˜å›¾æ€§èƒ½ä¿æŒ 15 ~ 24fps ä¹‹é—´ã€‚ ## å¦‚ä½•é£Ÿç”¨ï¼Ÿ æ¥ï¼Œæˆ‘ä»¬ä»æœ€ç®€å•çš„å…¥å£ä»£ç å¼€å§‹è¯´èµ·ï¼Œå®Œæ•´çš„ä»£ç åœ¨è¿™é‡Œ [app_main.py](https://github.com/sipeed/MaixUI/blob/master/app/app_main.py) ã€‚ ```python # This file is part of MaixUI # Copyright (c) sipeed.com # # Licensed under the MIT license: # http://www.opensource.org/licenses/mit license.php # import time, gc, math, sys try: from core import agent, system from dialog import draw_dialog_alpha from ui_canvas import ui, print_mem_free from ui_container import container from wdt import protect from creater import get_time_curve except ImportError as e: sys.print_exception(e) from lib.core import agent, system from lib.dialog import draw_dialog_alpha from ui.ui_canvas import ui, print_mem_free from ui.ui_container import container from driver.wdt import protect from lib.creater import get_time_curve ``` åˆ†åˆ«æ˜¯è¿è¡Œå®ƒæ‰€éœ€è¦ import çš„ä¾èµ–ä»£ç ï¼Œæœ‰å¦‚ä¸‹ä¾èµ–ï¼š from core import agent, system æä¾›ä¸€ä¸ª agent è½¯å®šæ—¶å™¨å’Œä¸€ä¸ªå…¨å±€å®ä¾‹ system è½¯å®šæ—¶å™¨å¯¹è±¡ã€‚ from dialog import draw_dialog_alpha æä¾›äº†ä¸€ä¸ªåœ†è§’è¾¹æ¡† MessageBox æ§ä»¶çš„ç»˜å›¾æ“ä½œã€‚ from ui_canvas import ui, print_mem_free æä¾›äº†ä¸€ä¸ª UI ç”»å¸ƒçš„åŸºç¡€æ¥å£ï¼Œé€šè¿‡å®ƒæ¥ç®¡ç†å…¨å±€çš„ç»Ÿä¸€ç»˜å›¾æ“ä½œã€‚ from ui_container import container æä¾›äº†ä¸€ç§è¿è¡Œ UI åº”ç”¨çš„å®¹å™¨æ¨¡å—ï¼Œå¯ä»¥é€šè¿‡å®ƒåˆ‡æ¢ä¸åŒçš„ UI åº”ç”¨ã€‚ from wdt import protect çœ‹é—¨ç‹—ï¼Œä¿è¯ç³»ç»Ÿåœ¨å‡ºç° core dump åèƒ½å¤Ÿé‡å¯æ¢å¤è¿‡æ¥ã€‚ from creater import get_time_curve ä¸€ç§åŸºäºæ—¶é—´æˆ–è®¡æ•°å™¨çš„æ›²çº¿ç”Ÿæˆå‡½æ•°ï¼Œç”¨æ¥ç»´æŒéçº¿æ€§åŠ¨ç”»æ•ˆæœã€‚ è¿™ä¸¤æ®µä»£ç æ˜¯ç”¨æ¥ import åŠ è½½åˆ°ä¸åŒåŒºåŸŸï¼ˆåœ¨ Flash/SD çš„æ ¹ç›®å½•æˆ–æ–‡ä»¶å¤¹ä¸‹ï¼‰çš„ä»£ç ï¼Œæ‰€ä»¥ä½ çŸ¥é“æ€ä¹ˆ import ä»£ç äº†å°±è¡Œã€‚ å¯ä»¥ä½¿ç”¨ MaixPy IDE å‘é€æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ [mpfshell lite](https://github.com/junhuanchen/mpfshell lite) put æ–‡ä»¶åˆ°ç¡¬ä»¶çš„ flash æˆ– sd ä¸­ã€‚ å¯ä»¥ä½¿ç”¨ SD è¯»å¡å™¨ï¼ŒæŠŠæ•´ä¸ª maixui ä»“åº“ä¸‹çš„æ–‡ä»¶å¤¹æ”¾åˆ° SD å¡ä¸­å¯åŠ¨å³å¯ã€‚ ### å®šä¹‰ UI åº”ç”¨ æ¥ç€ä»‹ç»ä¸€ç§å…¸å‹çš„åŸºç¡€åº”ç”¨çš„æ¡ˆä¾‹ï¼Œå‡†å¤‡å¦‚ä¸‹ä»£ç ï¼ˆclass launcher é™æ€ç±»ï¼‰ã€‚ ```python class launcher: def load(): __class__.ctrl agent() __class__.ctrl.event(20, __class__.draw) def free(): __class__.ctrl None @ui.warp_template(ui.blank_draw) @ui.warp_template(ui.grey_draw) @ui.warp_template(ui.bg_in_draw) @ui.warp_template(ui.anime_in_draw) @ui.warp_template(ui.help_in_draw) #@ui.warp_template(taskbar.time_draw) #@ui.warp_template(taskbar.mem_draw) #@catch # need sipeed_button def draw(): height 100 + int(get_time_curve(3, 250) * 60) pos draw_dialog_alpha(ui.canvas, 20, height, 200, 20, 10, color (255, 0, 0), alpha 200) ui.canvas.draw_string(pos[0] + 10, pos[1] + 10, \"Welcome to MaixUI\", scale 2, color (0,0,0)) ui.display() def event(): __class__.ctrl.cycle() ``` åœ¨è¿™é‡Œï¼Œ __class__ ç±»ä¼¼äº å®ä¾‹ç±» ä¸­çš„ this æŒ‡é’ˆï¼Œå¯ä»¥é€šè¿‡å®ƒè®¿é—®å½“å‰ç±»çš„å…¨å±€å˜é‡ã€‚ è¯¥é™æ€ç±»æ‹¥æœ‰æœ‰ load / free / event ä¸‰ä¸ªç”Ÿå‘½å‘¨æœŸå‡½æ•°ç”¨ä»¥æä¾›ç»™ UI å®¹å™¨ç»´æŒè¯¥ UI åº”ç”¨çš„æŒç»­è¿è¡Œã€‚ load åªä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œç”¨äº UI åº”ç”¨çš„åˆå§‹åŒ–ã€‚ free åªä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œç”¨äº UI åº”ç”¨çš„é‡Šæ”¾ã€‚ event å°†ä¼šæä¾›ç»™ UI å®¹å™¨å¾ªç¯æ‰§è¡Œå…¶ä¸­çš„æ“ä½œã€‚ UI å®¹å™¨æŒ‡çš„æ˜¯ [ui/ui_container.py](https://github.com/sipeed/MaixUI/tree/master/ui/ui_container.py) ã€‚ å½“ç„¶ä½ ä¹Ÿå¯ä»¥ä¸é€šè¿‡ UI å®¹å™¨æ¥ç»´æŒè¿è¡Œã€‚ å¯ä»¥çœ‹åˆ°è¯¥ UI åº”ç”¨åœ¨ load çš„æ—¶å€™å®šä¹‰äº† agent è½¯å®šæ—¶å™¨å’Œè®¾ç½®äº†ç»˜å›¾å‡½æ•°çš„æœŸæœ›æ‰§è¡Œå‘¨æœŸä¸º 20ms ï¼Œè®¾ç½®å†å°ä¹Ÿä¸ä¼šä½äºçœŸå®è¿è¡Œçš„å‘¨æœŸã€‚ ```python __class__.ctrl agent() __class__.ctrl.event(20, __class__.draw) ``` ç„¶ååœ¨ event å‡½æ•°ä¸­ç»´æŒ è½¯å®šæ—¶å™¨ ctrl æ‹¥æœ‰çš„åˆ†æ—¶äº‹ä»¶ï¼ˆéé˜»å¡ no blockï¼‰ï¼Œå› æ­¤åŸºäºæ­¤è®¾è®¡ä½ å¯ä»¥åˆ¶ä½œå¾ˆå¤šä¸ªä¸åŒå®šæ—¶çš„åˆ†æ—¶ä»»åŠ¡ã€‚ ```python __class__.ctrl.cycle() ``` å®ƒå¯ä»¥å‘¨æœŸæ‰§è¡Œï¼Œä¹Ÿå¯ä»¥ç”¨å®Œåˆ é™¤ï¼Œå°±å¦‚ä¸‹ç¤ºèŒƒã€‚ ```python self.ctrl agent() # loop self.ctrl.event(5, self.draw) # once def into_launcher(self): container.reload(launcher) self.remove(into_launcher) self.ctrl.event(2000, into_launcher) ``` æ¥ç€æˆ‘ä»¬çœ‹åˆ°å…·ä½“çš„ UI ç»˜å›¾äº‹ä»¶ï¼Œä¸åŒäºæŒ‰é”®/è§¦æ‘¸ç­‰ç¡¬ä»¶é©±åŠ¨äº‹ä»¶ï¼Œä½†æ— è®ºæ˜¯å“ªç±»äº‹ä»¶ï¼Œæˆ‘ä»¬éƒ½æœŸæœ›å®ƒèƒ½å¤Ÿå°½å¿«ç»“æŸï¼Œäº¤å‡ºè¿è¡Œæ ¸å¿ƒã€‚ ```python @ui.warp_template(ui.blank_draw) @ui.warp_template(ui.grey_draw) @ui.warp_template(ui.bg_in_draw) @ui.warp_template(ui.anime_in_draw) @ui.warp_template(ui.help_in_draw) #@ui.warp_template(taskbar.time_draw) #@ui.warp_template(taskbar.mem_draw) #@catch # need sipeed_button def draw(): height 100 + int(get_time_curve(3, 250) * 60) pos draw_dialog_alpha(ui.canvas, 20, height, 200, 20, 10, color (255, 0, 0), alpha 200) ui.canvas.draw_string(pos[0] + 10, pos[1] + 10, \"Welcome to MaixUI\", scale 2, color (0,0,0)) ui.display() ``` åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªæœ€åŸºç¡€çš„ draw() ç»˜å›¾å‡½æ•°ï¼Œä¹Ÿä¸ºå®ƒè£…é¥°äº† 5 ä¸ªåŸºç¡€å‡½æ•°ï¼Œäº‹å®ä¸Šè£…é¥°åªæ˜¯å¥½çœ‹ï¼Œå®ƒå®é™…ä¸Šç­‰æ•ˆäºå¦‚ä¸‹ä»£ç ï¼Œæ‰€ä»¥æ˜¯å¦ä½¿ç”¨å–å†³äºä½ çš„å–œå¥½ã€‚ ```python def draw(): ui.blank_draw() # å‡†å¤‡ä¸€ä¸ªç©ºç™½çš„ image ç”»å¸ƒå¯¹è±¡ ui.grey_draw() # ç»™ ç”»å¸ƒ ç”»ä¸Šç°è‰² ui.bg_in_draw() # ç»™ ç”»å¸ƒ ç”»ä¸Šå†…ç½®çš„ èƒŒæ™¯å›¾ ä¸€ä¸ª sipeed çš„ logo ã€‚ ui.anime_in_draw() # ç»™ ç”»å¸ƒ åŠ è½½å››å‘¨æ°´æ³¢åŠ¨ç”»æ•ˆæœ ui.help_in_draw() # ç»™ ç”»å¸ƒ ç”»ä¸Š å†…ç½®çš„ å¸®åŠ©è¯´æ˜ã€‚ height 100 + int(get_time_curve(3, 250) * 60) # è·å–åŸºäºæ—¶é—´çš„æ­£å¼¦æ›²çº¿å€¼ # åœ¨æŒ‡å®šä½ç½®ç”»å‡º åœ†è§’è¾¹æ¡†çš„ MessageBox çš„æ•ˆæœï¼Œå¹¶è·å–è¾¹æ¡†çš„ å·¦ä¸Šè§’èµ·ç‚¹ ã€‚ pos draw_dialog_alpha(ui.canvas, 20, height, 200, 20, 10, color (255, 0, 0), alpha 200) # åœ¨æŒ‡å®šä½ç½®æ‰“å° \"Welcome to MaixUI\" å­—ç¬¦ä¸²ã€‚ ui.canvas.draw_string(pos[0] + 10, pos[1] + 10, \"Welcome to MaixUI\", scale 2, color (0,0,0)) # æŠŠå½“å‰çš„ç”»å¸ƒæ˜¾ç¤ºåˆ°å±å¹•ä¸Šï¼Œå¤šæ¬¡æ‰§è¡Œä¹Ÿä¸å½±å“ï¼Œæ‰§è¡Œåä¼šé‡Šæ”¾å½“å‰ç”»å¸ƒå¯¹è±¡ã€‚ ui.display() ``` æ¥å…¥å…¶ä»–æŒ‰é”®/è§¦æ‘¸/æ‘„åƒå¤´çš„äº‹ä»¶äº¦å¦‚æ­¤ï¼Œå¯ä»¥åœ¨æ­¤æŸ¥çœ‹ UI ç»˜å›¾çš„å…·ä½“å®ç° [ui/ui_canvas.py](https://github.com/sipeed/MaixUI/tree/master/ui/ui_canvas.py)ã€‚ ### è¿è¡Œ UI æ¡†æ¶ åœ¨çœŸæ­£è¿›å…¥ä¸Šè¿°çš„ä¸šåŠ¡é€»è¾‘ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦æŠŠ UI æ¡†æ¶è·‘èµ·æ¥ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ä¸€ä¸ªå…¥å£å‡½æ•°ï¼Œå¦‚ `if __name__ \"__main__\":` ä¸­çš„ä»£ç ã€‚ ```python if __name__ \"__main__\": container.reload(launcher) while True: container.forever() ``` è®²è§£ä¸€ä¸‹ï¼Œæˆ‘ä»¬çœ‹åˆ°ä½¿ç”¨ UI å®¹å™¨ ï¼ˆcontainer.reload(launcher)ï¼‰ åŠ è½½ä¸€ä¸ªåä¸º launcher çš„ UI åº”ç”¨å³å¯è¿è¡Œï¼Œå¯ä»¥åœ¨æ­¤æŸ¥çœ‹ UI å®¹å™¨çš„å…·ä½“å®ç° [ui/ui_container.py](https://github.com/sipeed/MaixUI/tree/master/ui/ui_container.py)ã€‚ ä½†ä»…ä»…è¿™æ ·å†™æ˜¯ä¸å¤Ÿç¨³å®šçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸¤ä¸ª while True ä¿æŒç¨‹åºæ°¸è¿œä¸ä¼šé€€å‡ºï¼ˆé™¤éç³»ç»Ÿ core dump å´©æºƒï¼‰ã€‚ å¹¶é€šè¿‡ last ä¸ å½“å‰ tick_ms åšå·®å¾—åˆ°å½“å‰çš„ fps å€¼ï¼Œå»ºè®®éè°ƒè¯•åœºåˆå»ºè®®å…³é—­ print è¿™ä¸ªå‡½æ•°ï¼Œå®ƒéå¸¸è€—æ—¶ï¼ˆms çº§ï¼‰ã€‚ ```python while True: while True: last time.ticks_ms() 1 while True: try: #time.sleep(0.1) print(1000 // (time.ticks_ms() last), 'fps') last time.ticks_ms() except Exception as e: gc.collect() print(e) finally: try: ui.display() except: pass ``` ç„¶åæˆ‘ä»¬åŠ å¼ºä¸€ä¸‹ç¯å¢ƒçš„ç¨³å®šæ€§ï¼ŒåŠ å…¥çœ‹é—¨ç‹—çš„ç»´æŒï¼ˆprotect.keep()ï¼‰å’Œ GC å†…å­˜å›æ”¶ï¼ˆgc.collect()ï¼‰ï¼Œè¿˜æœ‰ç»´æŒä¸€ä¸ªå…¨å±€çš„è½¯å®šæ—¶å™¨ï¼ˆsystem.parallel_cycle()ï¼‰ï¼Œç”¨ä½œå…¨å±€çš„å®šæ—¶å™¨çº¿ç¨‹ã€‚ ```python if __name__ \"__main__\": container.reload(launcher) while True: while True: last time.ticks_ms() 1 while True: try: #time.sleep(0.1) print(1000 // (time.ticks_ms() last), 'fps') last time.ticks_ms() gc.collect() container.forever() system.parallel_cycle() protect.keep() #gc.collect() #print_mem_free() except KeyboardInterrupt: protect.stop() raise KeyboardInterrupt #except Exception as e: #gc.collect() #print(e) finally: try: ui.display() except: pass ``` ä½ å¯ä»¥é€šè¿‡ time.sleep(0.1) æ¥é™ä½ UI å®¹å™¨çš„æ‰§è¡Œé€Ÿç‡æ¥è§‚å¯Ÿ UI çš„å˜åŒ–çŠ¶æ€æ˜¯å¦ç¬¦åˆé¢„æœŸï¼Œæœ‰æ—¶å€™é«˜äº 15 fps çš„å˜åŒ–äººçœ¼æ„ŸçŸ¥ä¸åˆ°ï¼Œå°±å¯ä»¥å‡å°‘ä¸å¿…è¦çš„ç»˜å›¾è¿‡ç¨‹ï¼Œå‹ç¼©ç»˜å›¾è¿‡ç¨‹æé«˜æ€§èƒ½ã€‚ ä½ å¯ä»¥é€šè¿‡ except Exception as e: æ¥ä¿è¯ä»»ä½•å¼‚å¸¸éƒ½ä¸ä¼šå¯¼è‡´ UI æ¡†æ¶çš„å´©æºƒï¼Œä½†è°ƒè¯•çš„æ—¶å€™å¯ä»¥æŠŠè¿™ä¸ªæ³¨é‡Šï¼Œæ¥æ•è·å¯èƒ½å‡ºç°çš„å¼‚å¸¸ã€‚ > é»˜è®¤æƒ…å†µä¸‹ç¨‹åºè¶…è¿‡ 10 ç§’æ²¡æœ‰æ‰§è¡Œ protect.keep() é‡ç½®çœ‹é—¨ç‹—ï¼Œåˆ™ç³»ç»Ÿè‡ªåŠ¨é‡å¯ï¼Œè¿™ä» import wdt é©±åŠ¨çš„æ—¶å€™å°±å¼€å§‹è®¡æ—¶äº†ï¼Œè¯¦ç»†å¯ä»¥çœ‹ [driver/wdt.py](https://github.com/sipeed/MaixUI/tree/master/driver/wdt.py) é©±åŠ¨ã€‚ æœ€åå†åŠ å…¥æ•è· KeyboardInterrupt å¼‚å¸¸äº‹ä»¶æ¥ä¿è¯ç¨‹åºå¯ä»¥åœ¨ IDE æˆ– Ctrl + C è¾“å…¥åï¼Œåœä¸‹æ¥å¹¶è¢«é‡æ–°è¿è¡Œï¼Œå¹¶åœä¸‹çœ‹é—¨ç‹—äº‹ä»¶ï¼ˆprotect.stop()ï¼‰ï¼ŒåŒæ—¶è¿˜è¦åœ¨ finally ä¸­è¯•å›¾æ‰§è¡Œ ui.display() é˜²æ­¢ç»˜å›¾äº‹ä»¶ä¸­å­˜åœ¨å¼‚å¸¸å¯¼è‡´æ²¡æœ‰é‡Šæ”¾ç”»å¸ƒï¼Œä¿è¯ image ç”»å¸ƒå¯¹è±¡æ°¸è¿œéƒ½èƒ½åœ¨å¾ªç¯çš„æœ€åè¢«é‡Šæ”¾ã€‚ ```python try: protect.keep() except KeyboardInterrupt: protect.stop() raise KeyboardInterrupt except Exception as e: gc.collect() print(e) finally: try: ui.display() except: pass ``` ä»¥ä¸Šå°±æ˜¯ MaixUI æ¡†æ¶æœ€åŸºç¡€çš„ç¤ºèŒƒï¼Œè™½ç„¶ MaixUI åªä¼šæä¾› Cube å’Œ Amigo çš„åº”ç”¨æ¡ˆä¾‹ï¼Œä½†åªè¦åŸºäº MaixPy å‡å¯ä½¿ç”¨ï¼Œæˆ–è€…è¯´ï¼Œæ”¯æŒ image æ¥å£å¯¹è±¡çš„ MicroPython ç¯å¢ƒå‡å¯ä½¿ç”¨ã€‚ å¸Œæœ›æˆ‘ä»¬æœªæ¥èƒ½ä¼šåŒæ­¥åˆ° CPython å…±ç”¨çš„ï¼Œä¹Ÿå°±æ˜¯å¯ä»¥åœ¨ CPython ä¸Šè¿›è¡Œ UI æ ·å¼çš„å¼€å‘åŒæ­¥åˆ° MicroPython ç¯å¢ƒä¸­ï¼Œè¿™ä¼šé«˜æ•ˆç‡çš„å®Œæˆå¼€å‘çš„ï¼Œä½†æ€§èƒ½ä¹Ÿä¸èƒ½è½ä¸‹ã€‚ ### æœ€å æœ¬æ–‡æ¡£ä»‹ç»å¦‚ä½•è¿è¡Œæœ€åŸºç¡€çš„ç¤ºä¾‹ï¼Œå¦‚æœæƒ³çœ‹æ›´å¤šç¤ºä¾‹ï¼Œå¯ä»¥å‚è€ƒ [app_cube.py](https://github.com/sipeed/MaixUI/tree/master/app/app_cube.py) & [app_amigo.py](https://github.com/sipeed/MaixUI/tree/master/app/app_amigo.py) ä¸¤ä¸ªæ¡ˆä¾‹ã€‚ > æˆªè‡³ç›®å‰ 2020å¹´10æœˆ7æ—¥ å·²ç»å®Œæˆ MaixPy çš„å¸¸è§åŠŸèƒ½ä½¿ç”¨çš„ App æ¡ˆä¾‹ï¼Œä¸è¿‡è¿™éœ€è¦ä½ äº²è‡ªçƒ§å†™ä¸€ä¸‹ä½“éªŒçœ‹çœ‹äº† XD ï¼Œ è¯´æ˜é‡Œåªæœ‰ä¸€ç‚¹ç®€å•çš„äº¤äº’ä¸åŠ¨ç”»å±•ç¤ºã€‚ ç›®å‰ app_main.py è¿è¡Œæ•ˆæœå¦‚ä¸‹ï¼š ![](./image/app_main.gif)"},"/soft/maixpy/zh/course/others/system.html":{"title":"ç³»ç»Ÿæ§åˆ¶","content":" title: ç³»ç»Ÿæ§åˆ¶ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy ç³»ç»Ÿæ§åˆ¶ ## å¤ä½ï¼ˆresetï¼‰ ```python import machine machine.reset() ``` ## ä¸»é¢‘ï¼ˆcpuï¼‰ å¯ä»¥è®¾ç½® CPU å’Œ KPU çš„ä¸»é¢‘ï¼Œ å…·ä½“å‚è€ƒ[Maix.freq](./../../api_reference/Maix/freq.html)æ¨¡å— ```python from Maix import freq freq.set(cpu 400, kpu 400) ```"},"/soft/maixpy/zh/course/others/lvgl.html":{"title":"lvgl","content":" title: lvgl keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy LittlevGL **ç°åœ¨å·²ç»ä¸æ¨èä½¿ç”¨è¯¥æ¨¡å—ï¼Œè¯·ä½¿ç”¨è€…å…·å¤‡è¶³å¤Ÿçš„å¼€å‘æ°´å¹³ï¼Œä¸æ¥æ”¶æœ‰å…³äº LVGL ä¸ AI åŠŸèƒ½å…±ç”¨çš„é—®é¢˜ï¼Œè°¢è°¢é…åˆï¼ˆ2020å¹´12æœˆ11æ—¥å¤§ä½¬é¼ å®£ï¼‰** è¯·ä½¿ç”¨å¸¦æœ‰ LVGL å­—æ ·çš„ bin å›ºä»¶è¿›è¡Œæ“ä½œã€‚ å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼š [lvgl blog page](https://lvgl.io/developers) ## ä¾‹ç¨‹ å‚è€ƒ [github çš„ MaixPy_Scripts](https://github.com/sipeed/MaixPy v1_scripts/tree/master/multimedia/gui/lvgl)"},"/soft/maixpy/zh/course/others/pye.html":{"title":"pye (Micropython Editor)","content":" title: pye (Micropython Editor) keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy pye (Micropython Editor) åœ¨ MaixPy ä¸­, æˆ‘ä»¬å†…ç½®äº†ä¸€æ¬¾ç¼–å¼€æºç¼–è¾‘å™¨ [Micropython Editor(pye)](https://github.com/robert hh/Micropython Editor) > æ³¨æ„åœ¨`minimum`ç‰ˆæœ¬çš„å›ºä»¶ä¸­ä¸åŒ…å«æ­¤åŠŸèƒ½ ä½¿ç”¨ `os.listdir()` å¯ä»¥æŸ¥çœ‹å½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶, ä½¿ç”¨ `pye(\"hello.py\")` å¯ä»¥åˆ›å»ºæ–‡ä»¶å¹¶è¿›å…¥ç¼–è¾‘æ¨¡å¼, å¿«æ·é”®ç­‰ä½¿ç”¨è¯´æ˜å¯ä»¥åœ¨[è¿™é‡ŒæŸ¥çœ‹](https://github.com/robert hh/Micropython Editor/blob/master/Pyboard%20Editor.pdf) æ¯”å¦‚æˆ‘ä»¬å†™å…¥ä»£ç  ```python print(\"hello maixpy\") ``` ç„¶åæŒ‰ `Ctrl+S` æŒ‰ `Enter` é”®ä¿å­˜, æŒ‰ `Ctrl+Q` é€€å‡ºç¼–è¾‘ **æ³¨æ„**ï¼š ä½¿ç”¨è¿™æ¬¾ç¼–è¾‘å™¨å¯¹ä½¿ç”¨çš„ä¸²å£å·¥å…·æœ‰ä¸€å®šè¦æ±‚, å¿…é¡»å°† `BackSpace` æŒ‰é”®è®¾ç½®ä¸º `DEL` åŠŸèƒ½, å¦åˆ™æŒ‰ `BackSpace` è°ƒç”¨çš„æ˜¯ `Ctrl+H` ä¸€æ ·çš„åŠŸèƒ½ï¼ˆå³å­—ç¬¦æ›¿æ¢ï¼‰ã€‚ Linux ä¸‹æ¨èä½¿ç”¨ `minicom`, éœ€è¦ä½¿ç”¨ `sudo minicom s` æ¥è®¾ç½®,å‚è€ƒ[å‰é¢çš„æ•™ç¨‹](./../../get_started/env_serial_tools.html) Windows ä¸‹ä¹Ÿä¸€æ ·, æ ¹æ®è‡ªå·±ä½¿ç”¨çš„å·¥å…·ä¸Šç½‘æœè®¾ç½®æ–¹æ³•, æ¯”å¦‚ `xshell` æœ `xshellå¦‚ä½•è®¾ç½®backspaceä¸ºdel` å¾—åˆ°ç»“æœï¼š `æ–‡ä»¶` > `å±æ€§` > `ç»ˆç«¯` > `é”®ç›˜`, æŠŠ delete å’Œ backspace åºåˆ—æ”¹ä¸º ASCII 127 å³å¯."},"/soft/maixpy/zh/course/ai/image/1000_type_classifier.html":{"title":"1000 ç§ç‰©ä½“åˆ†ç±»æ¨¡å‹","content":" title: 1000 ç§ç‰©ä½“åˆ†ç±»æ¨¡å‹ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy 1000 ç§ç‰©ä½“åˆ†ç±»æ¨¡å‹ å¯ä»¥è¯†åˆ« 1000 ç§ç‰©ä½“ ## ä½¿ç”¨æ–¹æ³• * ä½¿ç”¨`minimum` ç‰ˆæœ¬å›ºä»¶ * [ä¸‹è½½æ¨¡å‹æ–‡ä»¶](https://dl.sipeed.com/fileList/MAIX/MaixPy/model/mobilenet_0x300000.kfpkg) * ä½¿ç”¨ `kflash_gui` çƒ§å½•æ¨¡å‹æ–‡ä»¶åˆ° `Flash`, è¿™ä¸ªæ¨¡å‹æ–‡ä»¶å›è‡ªåŠ¨çƒ§å½•åˆ°åœ°å€0x300000ä¸Šï¼Œä¸éœ€è¦æ‰‹åŠ¨é€‰æ‹©åœ°å€ * ä¿å­˜æ–‡ä»¶[labels.txt](https://github.com/sipeed/MaixPy v1_scripts/tree/master/machine_vision/mobilenet_1000_class/labels.txt) ([å¤‡ç”¨é“¾æ¥](https://en.bbs.sipeed.com/uploads/default/original/1X/d41ad9dfbe01f228abe726986fbf1baf4e288f2e.zip)) åˆ°æ–‡ä»¶ç³»ç»Ÿï¼Œå…·ä½“æ–¹æ³•è§å…¥é—¨æ•™ç¨‹ï¼ˆå‘æŒ¥ä½ çš„èªæ˜æ‰æ™ºï¼‰ï¼ˆå‚è€ƒç­”æ¡ˆï¼šå› ä¸ºå†…å®¹å¤ªå¤šï¼Œå¦‚æœä½¿ç”¨ REPL ç›´æ¥å¤åˆ¶ç²˜è´´å¯èƒ½æ•°æ®ä¼šå‡ºé”™ï¼Œ æ‰€ä»¥è¦ä½¿ç”¨ å·¥å…·ä¼ è¾“ã€‚æœ€ç®€å•çš„æ˜¯æ”¾åˆ° SD å¡ï¼› å¦‚æœè¦æ”¾åˆ° `/flash`ï¼Œminimum å¯èƒ½ä¸æ”¯æŒ IDEï¼Œ å¯ä»¥ä½¿ç”¨`upyloader`å‘é€æ–‡ä»¶ï¼‰ * å› ä¸ºè¿™ä¸ªæ¨¡å‹æœ‰`4.2MiB`ï¼Œæ¯”è¾ƒå¤§ï¼Œæ‰€ä»¥ä½¿ç”¨äº†`minimum`çš„å›ºä»¶ï¼ŒåŒæ—¶ä¿è¯`GC`ä½¿ç”¨çš„å†…å­˜ä¸è¦å¤ªå¤§ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è®¾ç½®å°ä¸€ç‚¹,æŠŠå†…å­˜ç•™ç»™æ¨¡å‹ä½¿ç”¨ ```python from Maix import utils import machine utils.gc_heap_size(256*1024) machine.reset() ``` * å¯¼å…¥æ¨¡å‹ ```python import KPU as kpu task kpu.load(0x300000) ``` * è¯»å…¥ labels ```python f open('/sd/labels.txt','r') labels f.readlines() f.close() ``` * åˆå§‹åŒ–æ‘„åƒå¤´, LCD å¯ä»¥æ ¹æ®è‡ªå·±çš„ç¡¬ä»¶å®‰è£…æƒ…å†µè®¾ç½®æ‘„åƒå¤´æ˜¯å¦é•œåƒï¼Œä»¥åŠ LCD æ˜¯å¦æ—‹è½¬ç­‰ ç•¥ï¼Œè¯·å‚è€ƒå‰é¢çš„æ•™ç¨‹ * è¯†åˆ«ç‰©ä½“ ```python fmap kpu.forward(task, img) plist fmap[:] pmax max(plist) max_index plist.index(pmax) ``` è¿™é‡ŒæŠŠè¿è¡Œçš„ç»“æœè½¬æ¢æˆäº†ä¸€ä¸ª`list`å¯¹è±¡ï¼Œ ç„¶åæ‰¾åˆ°äº†æœ€å¤§å€¼çš„ä¸‹æ ‡ï¼Œ é€šè¿‡è¿™ä¸ªä¸‹æ ‡æˆ‘ä»¬å°±çŸ¥é“æ ‡ç­¾åæ˜¯ä»€ä¹ˆäº†ï¼ˆ`labels[max_index]`ï¼‰ * æ˜¾ç¤ºç»“æœ ```python img img.draw_string(0, 0, \"%.2f : %s\" %(pmax, labels[max_index].strip()), color (255, 0, 0)) lcd.display(img, oft (0,0)) print(fps) ``` å®Œæ•´ä¾‹ç¨‹çœ‹ [maixpy_scripts](https://github.com/sipeed/MaixPy v1_scripts/tree/master/machine_vision/mobilenet_1000_class)"},"/soft/maixpy/zh/course/ai/image/self_learn_classifier.html":{"title":"è‡ªå­¦ä¹ åˆ†ç±»å™¨ï¼ˆself learning classifierï¼‰","content":" title: è‡ªå­¦ä¹ åˆ†ç±»å™¨ï¼ˆself learning classifierï¼‰ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy è‡ªå­¦ä¹ åˆ†ç±»å™¨ï¼ˆself learning classifierï¼‰ æ— éœ€å•ç‹¬è®­ç»ƒï¼Œ ç›´æ¥åœ¨å¼€å‘æ¿ä¸Šå¯¹ç‰©ä½“ç‰¹å¾è¿›è¡Œå­¦ä¹ ï¼Œç„¶åç›´æ¥ä½¿ç”¨ æ¼”ç¤ºè§†é¢‘ï¼š [youtube](https://www.youtube.com/watch?v aLW1YQrT 2A) æˆ–è€… [bilibili](https://www.bilibili.com/video/BV1Ck4y1d7tx) ## ä½¿ç”¨æ–¹æ³• * [åœ¨è¿™é‡Œ](https://dl.sipeed.com/shareURL/MAIX/MaixPy/release/master) ä¸‹è½½ç‰ˆæœ¬ > v0.5.0 33 çš„å›ºä»¶ * [ä¸‹è½½ kmodel](https://maixhub.com/model/zoo/61) * ä½¿ç”¨ [kflash_gui](https://github.com/sipeed/kflash_gui) ä¸‹è½½å›ºä»¶å’Œæ¨¡å‹ * è¿è¡Œ [ç¤ºä¾‹è„šæœ¬](https://github.com/sipeed/MaixPy v1_scripts/blob/master/machine_vision/self_learning_classifier/self_learning_classifier.py) > å¦‚æœä½¿ç”¨ lite ç‰ˆæœ¬çš„ kmodel, åº”è¯¥åœ¨åˆ›å»º classifier çš„æ—¶å€™ä¼ å…¥ `fea_len` å‚æ•°ä¸º`512`ï¼Œä½¿ç”¨å¦å¤–ä¸€ä¸ªå¤§ä¸€ç‚¹çš„ï¼ˆ1.8MiBï¼‰æ¨¡å‹çš„æ—¶å€™åˆ™ä¸éœ€è¦è¿™ä¸ªå‚æ•°: ```python classifier kpu.classifier(model, class_num, sample_num, fea_len 512) ``` ç„¶åè¿è¡Œå¯åŠ¨åå¼€å§‹å­¦ä¹ ç‰©ä½“ * æŒ‰å¼€å‘æ¿ä¸Šçš„ `boot æŒ‰é’®` æ¥æ•è· 3 ä¸ªç±»åˆ« `æ‰‹æœº`, `å°è½¦`, `é”®ç›˜`ï¼Œ æ¯ä¸ªç±»åˆ«åªéœ€è¦æ•è·ä¸€æ¬¡ * ç„¶åæ•è· 15 å¼ å›¾ï¼Œ å¯¹é¡ºåºæ²¡æœ‰è¦æ±‚ï¼Œ æ¯”å¦‚æ•è· 5 å¼  `æ‰‹æœº`, 5 å¼  `å°è½¦` ï¼Œ 5 å¼  `é”®ç›˜` çš„å›¾ç‰‡ * ç„¶åå®ƒä¼šè‡ªåŠ¨å­¦ä¹ è¿™ 15 å¼ å›¾çš„ç‰¹å¾ * æœ€åè¯†åˆ«åˆ°çš„å›¾åƒç±»åˆ«ä¼šå±•ç¤ºåœ¨å·¦ä¸Šè§’ ## ä¿å­˜/åŠ è½½å­¦ä¹ å¥½çš„ç‰¹å¾ * ä½¿ç”¨ `classifier.save(path)` æ¥ä¿å­˜å­¦ä¹ å¥½çš„ç‰¹å¾åˆ°`path`æ–‡ä»¶ * ä½¿ç”¨ `KPU.classifier.load()` æ¥åŠ è½½ç‰¹å¾, å‚è€ƒ [self_learning_classifier_load.py](https://github.com/sipeed/MaixPy v1_scripts/blob/master/machine_vision/self_learning_classifier/self_learning_classifier_load.py) æ–‡ä»¶"},"/soft/maixpy/zh/course/ai/image/face_recognization.html":{"title":"äººè„¸è¯†åˆ«","content":" title: äººè„¸è¯†åˆ« keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy äººè„¸è¯†åˆ« é™¤äº†æ£€æµ‹åˆ°äººè„¸çš„ä½ç½®ä»¥å¤–ï¼Œ è¿˜å¯ä»¥è¯†åˆ«åˆ°è¿™ä¸ªäººæ˜¯è°ï¼ˆéœ€è¦å…ˆå¯¹å‡†äººæŒ‰æŒ‰é’®å­¦ä¹ ï¼‰ æ•ˆæœè§†é¢‘ï¼š [youtube](https://www.youtube.com/embed/hS_mcGptXeo) æˆ–è€… [bilibili](https://www.bilibili.com/video/BV1bJ411Q7L6) <iframe src \"https://player.bilibili.com/player.html?aid 77466790&bvid BV1bJ411Q7L6&cid 132521878&page 1\" scrolling \"no\" border \"0\" frameborder \"no\" framespacing \"0\" allowfullscreen \"true\" width 500 height 400> </iframe> ## ä½¿ç”¨æ–¹æ³• * ä» [MaixHub](https://www.maixhub.com) æŒ‰ç…§è¯´æ˜ä¸‹è½½æ¨¡å‹ï¼Œ è·å¾—æ¨¡å‹`smodel`, å°±æ˜¯ åŠ å¯†ç‰ˆæœ¬çš„`kmodel` * æŒ‰ç…§å…¥é—¨æ•™ç¨‹çš„æ–¹æ³•ä¸‹è½½æ¨¡å‹åˆ°å¼€å‘æ¿ * è¿è¡Œè„šæœ¬ [script](https://github.com/sipeed/MaixPy v1_scripts/blob/master/machine_vision/face_recognization/demo_face_recognization.py) ## ç¨‹åºç†è§£ æ€»å…±ç”¨äº†ä¸‰ä¸ªæ¨¡å‹ï¼Œ åˆ†åˆ«æ˜¯ï¼š * äººè„¸æ£€æµ‹æ¨¡å‹ï¼Œ è¿™å’Œå‰é¢çš„äººè„¸æ£€æµ‹ä½¿ç”¨çš„æ˜¯åŒä¸€ä¸ªæ¨¡å‹ï¼Œ å³æ‰¾åˆ°äººè„¸ * äººè„¸å…³é”®ç‚¹æ£€æµ‹æ¨¡å‹ï¼Œä»å‰é¢æ‰¾åˆ°çš„äººè„¸ä¸­æ‰¾åˆ°äººè„¸çš„ çœ¼ç› é¼»å­ å’Œ å˜´å·´ çš„ä½ç½® * äººè„¸ç‰¹å¾æå–æ¨¡å‹ï¼Œ ä»ä¸€å¼ äººè„¸å›¾ç‰‡ä¸­å¾—å‡ºä¸€ä¸ªç‰¹å¾å€¼ æ­¥éª¤å¦‚ä¸‹ï¼š * æ£€æµ‹åˆ°äººè„¸ * è£å‡ºäººè„¸ï¼Œæ‰¾åˆ°äººè„¸çš„çœ¼ç›é¼»å­å˜´å·´ï¼Œ è¿™é‡Œè£æˆäº†`128x128`çš„å›¾ * æŠŠäººè„¸å›¾ä¸­çš„è„¸æ—‹è½¬åˆ°æ ‡å‡†ä½ç½® * ç”¨ç‰¹å¾æå–æ¨¡å‹æå–å‡ºäººè„¸çš„ç‰¹å¾å€¼ æœ‰äº†å‰é¢çš„åŸºç¡€ï¼Œ è¿™é‡Œçš„ç¨‹åºå°±èƒ½çœ‹æ‡‚äº†ï¼Œä¹Ÿå°±ä¸å†è¿›è¡Œè¯¦ç»†çš„é˜è¿°äº†ï¼Œåªä¸è¿‡æ˜¯ä»ä¹‹å‰çš„ä½¿ç”¨ä¸€ä¸ªæ¨¡å‹ï¼Œå˜æˆäº†æŒ‰ç…§é¡ºåºåˆ†åˆ«ä½¿ç”¨ä¸‰ä¸ªæ¨¡å‹ï¼Œå†åŠ ä¸Šä¸€ç‚¹ç®€å•çš„å›¾åƒè£å‡å’Œæ—‹è½¬å¤„ç†ï¼Œéƒ½æ˜¯è°ƒç”¨`API`ï¼Œä»”ç»†çœ‹ä¸€éä»£ç å°±çŸ¥é“å…·ä½“çš„ç»†èŠ‚æ˜¯å¦‚ä½•å®ç°çš„äº†"},"/soft/maixpy/zh/course/ai/image/face_detect.html":{"title":"äººè„¸æ£€æµ‹","content":" title: äººè„¸æ£€æµ‹ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy äººè„¸æ£€æµ‹ åœ¨ä¸€å¼ å›¾ç‰‡ä¸­æ‰¾å‡ºäººè„¸ï¼Œ å¹¶ä¸”æ¡†å‡ºäººè„¸ï¼Œå³çŸ¥é“è„¸çš„ä½ç½®å’Œå¤§å° ä½¿ç”¨äº†`YOLO V2`æ¨¡å‹å¯¹äººè„¸è¿›è¡Œæ£€æµ‹ ## ä½¿ç”¨æ–¹æ³•ï¼š * ä¸‹è½½æ¨¡å‹ï¼š åˆ°[è¿™é‡Œ](https://dl.sipeed.com/MAIX/MaixPy/model) ä¸‹è½½ `face_model_at_0x300000.kfpkg` è¿™ä¸ªæ¨¡å‹æ–‡ä»¶ * ç”¨ kflash_gui ä¸‹è½½æ¨¡å‹åˆ° Flashï¼Œ æˆ–è€…æ”¾åˆ° SD å¡ä¸­ * åŠ è½½æ¨¡å‹ ```python task kpu.load(0x300000) # task kpu.load(\"/sd/face.kmodel\") anchor (1.889, 2.5245, 2.9465, 3.94056, 3.99987, 5.3658, 5.155437, 6.92275, 6.718375, 9.01025) kpu.init_yolo2(task, 0.5, 0.3, 5, anchor) ``` å› ä¸ºä½¿ç”¨äº†`YOLO V2`è¿™ä¸ªæ¨¡å‹ï¼Œ å®ƒæœ‰ä¸“ç”¨çš„å‡½æ•°æ¥å£ï¼Œ ä½¿ç”¨`init_yolo2`æ¥åˆå§‹åŒ–æ¨¡å‹ å‚æ•°åˆ†åˆ«ä¸ºï¼š * `kpu_net`: kpu ç½‘ç»œå¯¹è±¡, å³åŠ è½½çš„æ¨¡å‹å¯¹è±¡, `KPU.load()`çš„è¿”å›å€¼ * `threshold`: æ¦‚ç‡é˜ˆå€¼ï¼Œ åªæœ‰æ˜¯è¿™ä¸ªç‰©ä½“çš„æ¦‚ç‡å¤§äºè¿™ä¸ªå€¼æ‰ä¼šè¾“å‡ºç»“æœï¼Œ å–å€¼èŒƒå›´ï¼š[0, 1] * `nms_value`: box_iou é—¨é™, ä¸ºäº†é˜²æ­¢åŒä¸€ä¸ªç‰©ä½“è¢«æ¡†å‡ºå¤šä¸ªæ¡†ï¼Œå½“åœ¨åŒä¸€ä¸ªç‰©ä½“ä¸Šæ¡†å‡ºäº†ä¸¤ä¸ªæ¡†ï¼Œè¿™ä¸¤ä¸ªæ¡†çš„äº¤å‰åŒºåŸŸå ä¸¤ä¸ªæ¡†æ€»å ç”¨é¢ç§¯çš„æ¯”ä¾‹ å¦‚æœå°äºè¿™ä¸ªå€¼æ—¶ï¼Œ å°±å–å…¶ä¸­æ¦‚ç‡æœ€å¤§çš„ä¸€ä¸ªæ¡† * `anchor_num`: anchor çš„é”šç‚¹æ•°ï¼Œ è¿™é‡Œå›ºå®šä¸º `len(anchors)//2` * `anchor`: é”šç‚¹å‚æ•°ä¸æ¨¡å‹å‚æ•°ä¸€è‡´ï¼ŒåŒä¸€ä¸ªæ¨¡å‹è¿™ä¸ªå‚æ•°æ˜¯å›ºå®šçš„ï¼Œå’Œæ¨¡å‹ç»‘å®šçš„ï¼ˆè®­ç»ƒæ¨¡å‹æ—¶å³ç¡®å®šäº†ï¼‰ï¼Œ ä¸èƒ½æ”¹æˆå…¶å®ƒå€¼ã€‚ ç„¶åè¾“å…¥å›¾ç‰‡æ•°æ®ï¼Œè¿è¡Œæ¨¡å‹ ```python code kpu.run_yolo2(task, img) ``` å¾—åˆ°ç»“æœï¼Œ å®Œæ•´ä¾‹ç¨‹çœ‹[è¿™é‡Œ](https://github.com/sipeed/MaixPy v1_scripts/blob/master/machine_vision/face_find/demo_find_face.py) API æ–‡æ¡£çœ‹ [Maix.KPU](./../../../api_reference/Maix/kpu.html)"},"/soft/maixpy/zh/course/ai/train/local_windows_1.html":{"title":"æœ¬åœ°è®­ç»ƒ for windows","content":"# æœ¬åœ°è®­ç»ƒ for windows > æ²¡æœ‰ä»»ä½•çš„å¼€å‘åŸºç¡€è¯·æ…é‡ä½¿ç”¨ï¼Œå‡ºç°é—®é¢˜è¯·è‡ªè¡Œè§£å†³ï¼ è¿™ä¸ªæ•™ç¨‹æœ‰æ‰‹å°±è¡Œï¼Œä¸éœ€è¦è™šæ‹Ÿæœºï¼Œè¯·ä¸¥æ ¼æŒ‰ç…§æ•™ç¨‹çš„æ­¥éª¤ä¸€æ­¥æ­¥æ¥ã€‚ tensorflow gpu 2.3.0ç‰ˆæœ¬å¯¹äºcudaç‰ˆæœ¬æœ‰ç‚¹ä¸¥æ ¼ï¼Œä¹‹å‰çš„æ•™ç¨‹å‡ºç°äº†é—®é¢˜äº†ï¼Œå¯ä»¥è¿è¡Œåˆ†ç±»è®­ç»ƒï¼Œä½†æ˜¯å¯¹äºæ£€æµ‹è®­ç»ƒå¯ä»¥è®­ç»ƒï¼Œä½†æ˜¯ä¸èƒ½è¿›è¡Œæ¨¡å‹è¾“å‡ºã€‚ç°åœ¨å·²ç»è§£å†³äº†ï¼Œcudaç‰ˆæœ¬å¿…é¡»æ˜¯10.1ç‰ˆæœ¬ï¼Œcudnnæ˜¯ 10.1 V7.**ç‰ˆæœ¬ï¼Œä¸ç„¶æ˜¯ä¸èƒ½ä½¿ç”¨GPUè¿›è¡Œè®­ç»ƒã€‚ ## å®‰è£…python3.8 æ¨èå®‰è£…python3.8ï¼Œç”±äºpython3.9æœ‰ä¸€äº›ä¸çŸ¥åé—®é¢˜å¯¼è‡´äº†ç¯å¢ƒå¯èƒ½ä¼šé…ç½®å¤±è´¥ [ç‚¹å‡»ä¸‹è½½å®‰è£…python3.8](https://www.python.org/ftp/python/3.8.10/python 3.8.10 amd64.exe)ï¼ŒåŒå‡»æ‰“å¼€python3.8å®‰è£…åŒ… å®‰è£…ä¹‹åçš„pythonï¼ŒæŒ‰win+rï¼Œè¾“å…¥cmdæ‰“å¼€å‘½ä»¤è¡Œï¼Œç„¶åè¾“å…¥python+å›è½¦ï¼Œå‡ºç°ä¸‹å›¾åˆ™è¡¨ç¤ºpythonå®‰è£…æˆåŠŸ ![3.png](https://bbs.sipeed.com/storage/attachments/2021/07/21/VIkEq8iIkf0ae6WJRB7xVOatpIcNBBBjHVLu0DPX_thumb.png \"1456\") ## å®‰è£…pip åœ¨pythonç¯å¢ƒä¸‹å®‰è£…å„ç§åŒ…æ˜¯å¯ä»¥é€šè¿‡ä½¿ç”¨pipæ¥è¿›è¡Œå®‰è£…çš„ï¼Œå…·ä½“çš„å®‰è£…æ–¹å¼[è¿™é‡Œ](https://www.cnblogs.com/littlehb/p/8886409.html) å¯ä»¥é€šè¿‡ `pip list`æ¥æŸ¥çœ‹pythonä¸Šå®‰è£…äº†çš„åŒ… ## CUDAå’ŒCUDNNç¯å¢ƒé…ç½® å¯¹äºæ¨¡å‹çš„è®­ç»ƒï¼Œå¯ä»¥ä½¿ç”¨CPUæˆ–è€…æ˜¯GPUè¿›è¡Œè®­ç»ƒï¼Œæœ¬æ•™ç¨‹æ˜¯é’ˆå¯¹GPUè®­ç»ƒçš„ç¯å¢ƒé…ç½®çš„ã€‚ ä¸åŒç‰ˆæœ¬çš„CUDAæœ‰æ‰€å¯¹åº”ä¸åŒçš„æ˜¾å¡é©±åŠ¨ç‰ˆæœ¬è¦æ±‚ï¼Œå¯ä»¥å‚è€ƒ[è¿™é‡Œ](https://docs.nvidia.com/cuda/cuda toolkit release notes/index.html)ä¸‹è½½å¯¹åº”çš„æ˜¾å¡é©±åŠ¨ç‰ˆæœ¬ æ¨èä½¿ç”¨CUDA10.1ç‰ˆæœ¬ > å¿…é¡»æ˜¯è‹±ä¼Ÿè¾¾çš„æ˜¾å¡ï¼Œå¦‚æœæ˜¯AMDçš„æ˜¾å¡æˆ–è€…ç”µè„‘ä¸Šæ²¡æœ‰è‹±ä¼Ÿè¾¾çš„æ˜¾å¡ï¼Œå¯ä»¥è·³è¿‡è¿™ä¸€æ­¥ ### å®‰è£…æ˜¾å¡é©±åŠ¨ ç‚¹å‡»[è¿™é‡Œ](https://www.nvidia.cn/Download/index.aspx?lang cn),é€‰æ‹©ä½ å¯¹åº”çš„æ˜¾å¡å‹å·ï¼Œä¸‹è½½å¯¹åº”çš„æ˜¾å¡é©±åŠ¨ï¼Œç„¶åæ‰“å¼€æ–‡ä»¶å¤¹ï¼Œè¿›è¡Œæ˜¾å¡é©±åŠ¨çš„å®‰è£…ã€‚ å¯ä»¥é€šè¿‡å³é”®çš„VNIDIAæ§åˆ¶é¢ç‰ˆæŸ¥çœ‹å½“å‰ç³»ç»Ÿçš„æ˜¾å¡é©±åŠ¨ç‰ˆæœ¬ ### å®‰è£…CUDA æ‰“å¼€cuda10.1ä¸‹è½½çš„[é“¾æ¥](https://developer.nvidia.com/cuda 10.1 download archive base)ï¼Œé€‰æ‹©å¯¹åº”çš„ç³»ç»Ÿç‰ˆæœ¬å’Œä¸‹è½½æ–¹å¼ ![111.png](https://bbs.sipeed.com/storage/attachments/2021/07/21/qCvepuVTJVbL8DgDkHzD9b4L7GLXPBHcqXVX4YLR_thumb.png \"1457\") ç‚¹å‡»Downloadè¿›è¡Œä¸‹è½½ï¼Œè¿™ä¸ªç½‘é¡µå¯èƒ½æ‰“å¼€çš„æ¯”è¾ƒæ…¢ï¼Œå¯ä»¥é€šè¿‡ç§‘å­¦ä¸Šç½‘æ¥æ‰“å¼€ã€‚ä¸‹è½½å¥½çš„å®‰è£…åŒ…ï¼Œç›´æ¥æ‰“å¼€ï¼Œç„¶åä¸€ç›´ç‚¹ä¸‹ä¸€æ­¥å°±å¥½äº†ã€‚ ### å®‰è£…CUDNN å¯¹äºCUDNNä¸‹è½½ï¼Œè¿™ä¸ªå¯ä»¥è‡ªè¡Œç™¾åº¦ï¼Œç”±äºè¿™ä¸ªç½‘é¡µæ²¡æœ‰ç§‘å­¦ä¸Šç½‘çš„æƒ…å†µä¸‹æ‰“å¼€æ˜¯æ¯”è¾ƒæ…¢çš„ã€‚ ç‚¹å‡»[è¿™é‡Œ](https://developer.nvidia.com/rdp/cudnn archive)è¿›å…¥åˆ°cudnnçš„ä¸‹è½½å®˜ç½‘ï¼Œé€‰æ‹©cudnn v7.6.5.32 for cuda 10.1çš„ç‰ˆæœ¬è¿›è¡Œä¸‹è½½ï¼Œ ![2.png](https://bbs.sipeed.com/storage/attachments/2021/07/21/y7bzFvQanbwKTjypKgeMmJ1WWnjrn5KF0VVwBAZv_thumb.png \"1458\") ä¸‹è½½ä¹‹åä¼šå¾—åˆ°ä¸€ä¸ªcudnn 10.1 windows10 x64 v7.6.5.32.zipçš„å‹ç¼©åŒ…ï¼Œå°†å…¶è§£å‹ã€‚è§£å‹çš„å¾—åˆ°çš„æ–‡ä»¶ä¸‰ä¸ªæ–‡ä»¶![æ–‡ä»¶](https://bbs.sipeed.com/storage/attachments/2021/08/02/6s0BxoZQX1Bhii36KnKQccwxXot5XDIgI6xgoLyw_thumb.png \"1608\")ï¼Œéƒ½å¤åˆ¶åˆ° **C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v10.1**æ–‡ä»¶ä¸‹é¢ã€‚ è¿™æ—¶CUDAçš„ç¯å¢ƒå·²ç»é…ç½®å¥½äº† ## tensorflowå®‰è£… å¯¹äºtensorflowçš„å®‰è£…ï¼Œè¿™æ˜¯ä¹Ÿæ˜¯æœ‰è¦æ±‚çš„ï¼Œéœ€è¦å®‰è£…tensorflow gpu 2.3.0ç‰ˆ win+rï¼Œè¾“å…¥cmdï¼Œæ‰“å¼€å‘½ä»¤è¡Œ åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥ pip install tensorflow gpu 2.3.0 å¦‚æœä½¿ç”¨è¿™å‘½ä»¤çš„æ—¶å€™æç¤º **'pip'ä¸æ˜¯å†…éƒ¨æˆ–å¤–éƒ¨å‘½ä»¤ï¼Œä¹Ÿä¸æ˜¯å¯è¿è¡Œçš„ç¨‹åºæˆ–æ‰¹å¤„ç†æ–‡ä»¶**ï¼Œè¿™è¯´æ˜äº†ä½ ç”µè„‘ä¸Šæ²¡æœ‰å®‰è£…pipï¼Œä¸ºä»€ä¹ˆä¸å¥½å¥½çœ‹æˆ‘å‰é¢çš„å†™çš„å®‰è£…pipï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿ å¦‚æœä¸‹è½½çš„å¾ˆæ…¢ï¼Œè¯·è¾“å…¥ pip install tensorflow gpu 2.3.0 i https://pypi.mirrors.ustc.edu.cn/simple ç„¶åç­‰å¾…å®‰è£…æˆåŠŸå³å¯ ## MaixHubæœ¬åœ°è®­ç»ƒ é…ç½®äº†é‚£ä¹ˆä¹…çš„ç¯å¢ƒäº†ï¼Œç»ˆäºåˆ°æœ€åä¸€æ­¥äº†ï¼Œ[ä¸‹è½½æœ¬åœ°è®­ç»ƒä»£ç ](https://github.com/sipeed/maix_train) è¿›å…¥è¿æ¥ä¹‹åï¼Œå¯ä»¥é€šè¿‡gitå‘½ä»¤è¿›è¡Œä¸‹è½½ï¼Œæˆ–è€…æ˜¯ç‚¹å‡»Download ZIPè¿›è¡Œä¸‹è½½å‹ç¼©åŒ… ![3.png](https://bbs.sipeed.com/storage/attachments/2021/07/21/bGnesxEq2b4YxRIsyFZobK36kpk9Ip3GVoQohgd5_thumb.png \"1459\") å°†å‹ç¼©åŒ…è§£å‹ï¼Œä»»ä½•ä½ç½®éƒ½éƒ½å¯ä»¥ï¼Œåªè¦ä½ è®°å¾—è§£å‹åˆ°å“ªé‡Œäº†ã€‚ç„¶åä¸‹è½½ [ncc win7 x86_64](https://github.com/kendryte/nncase/releases/tag/v0.1.0 rc5) å¹¶è§£å‹ï¼Œå°±ä¼šå¾—åˆ°ä¸€ä¸ªå«ncc win7 x86_64çš„æ–‡ä»¶å¤¹ï¼Œå°†è¿™ä¸ªæ–‡ä»¶å¤¹åå­—ä¿®æ”¹ä¸ºncc_v0.1ã€‚ å†å°†è¿™ä¸ªæ–‡ä»¶å¤¹çš„å¤åˆ¶åˆ°maix_train/tools/nccæ–‡ä»¶å¤¹ä¸‹é¢ã€‚ï¼ˆå¦‚æœæ²¡æœ‰nccè¿™ä¸ªæ–‡ä»¶å¤¹å°±åˆ›å»ºä¸€ä¸ªï¼Œè·¯å¾„ä¸€å®šè¦å¯¹çš„ä¸Šï¼‰ ![maix_train_windows](./../../../../assets/get_started/maix_train_windows.gif) ä¸ä¼šç§‘å­¦ä¸Šç½‘çš„åŒå­¦å¯èƒ½ä¼šä¸‹è½½å¾ˆæ…¢ï¼Œæˆ‘å·²ç»ä¸‹è½½å¥½ï¼Œä¸Šä¼ åˆ°[gitee](https://gitee.com/Rui_worker/maix_train)ä¸Šäº†(é‡Œé¢ä¹Ÿæœ‰nccçš„æ–‡ä»¶äº†)ã€‚"},"/soft/maixpy/zh/course/ai/train/local_windows_2.html":{"title":"æœ¬åœ°è®­ç»ƒä½¿ç”¨æ•™ç¨‹","content":"# æœ¬åœ°è®­ç»ƒä½¿ç”¨æ•™ç¨‹ > æ²¡æœ‰ä»»ä½•çš„å¼€å‘åŸºç¡€è¯·æ…é‡ä½¿ç”¨ï¼Œå‡ºç°é—®é¢˜è¯·è‡ªè¡Œè§£å†³ï¼ é…ç½®å¥½æœ¬åœ°è®­ç»ƒçš„ç¯å¢ƒä¹‹åï¼Œå°±å¯ä»¥å¼€å§‹è¿›è¡Œæœ¬åœ°è®­ç»ƒäº†ï¼Œå¦‚æœæ²¡æœ‰é…ç½®å¥½çš„ï¼Œè¯·çœ‹ä¸Šä¸€ç¯‡[æ•™ç¨‹](https://bbs.sipeed.com/thread/932) ## å®‰è£…ä¾èµ– æ‰“å¼€è§£å‹åå¾—åˆ°çš„æ–‡ä»¶å¤¹ï¼Œæ‰“å¼€é‡Œé¢çš„ requirements.txt æ–‡ä»¶ï¼Œå°†é‡Œé¢çš„ tensorflow> 2.3.1 åˆ é™¤ï¼Œä¿å­˜å…³é—­ã€‚ ![4.png](https://bbs.sipeed.com/storage/attachments/2021/07/21/2AZNFAWTnje3DQSuBplNRmJv3FXJO8rkAATuJdjf_thumb.png \"1460\") åœ¨æ–‡ä»¶å¤¹çš„è¿™é‡Œè¾“å…¥cmd, å›è½¦ï¼Œè¿›å…¥å‘½ä»¤è¡Œç•Œé¢ ![5.png](https://bbs.sipeed.com/storage/attachments/2021/07/21/hkzdghzlqlnZBTbcES61V7p15EnCKnYJNpPZ8tgJ_thumb.png \"1463\") è¾“å…¥ pip install r requirements.txt å¦‚æœä¸‹è½½é€Ÿåº¦å¾ˆæ…¢çš„è¯ï¼Œå¯ä»¥ä½¿ç”¨ä¸­ç§‘å¤§æºæ¥è¿›è¡Œä¸‹è½½ pip install r requirements.txt i https://mirrors.aliyun.com/pypi/simple/ ç­‰å¾…å…¨éƒ¨åŒ…çš„å®‰è£…ç»“æŸå°±å¯ä»¥äº† ## æ•°æ®é›†çš„åˆ¶ä½œ å¯¹äºæ•°æ®é›†çš„åˆ¶ä½œï¼Œè¯·ä¸¥æ ¼æŒ‰ç…§ Maixhub ä¸Šçš„æ•°æ®é›†[åˆ¶ä½œè¦æ±‚](https://www.maixhub.com/ModelTrainingHelp_zh.html)æ¥è¿›è¡Œã€‚å¦‚æœæ˜¯åˆ†ç±»è®­ç»ƒå¯ä»¥ä¸ç”¨è¿›è¡Œå‹ç¼©ï¼Œä½†æ˜¯è¦æŒ‰å‹ç¼©åŒ…çš„æ–‡ä»¶å±‚çº§è¦æ±‚æ¥å°†æ–‡ä»¶æ”¾åˆ°æ–‡ä»¶å¤¹ä¸­ æ³¨æ„ï¼šå¯¹äºå‹ç¼©åŒ…ä¸­çš„æ–‡ä»¶å¤¹åå­—å’Œå±‚çº§æ•°ä¸€å®šè¦å’Œè¦æ±‚ä¸­çš„ä¸€æ‘¸ä¸€æ ·ï¼ä¸€æ‘¸ä¸€æ ·ï¼ä¸ç„¶ä¼šå‡ºç°æ•°æ®é›†è¯»å–ä¸åˆ°ç­‰çš„ä¸€äº›å¥‡å¥‡æ€ªæ€ªçš„é”™è¯¯ï¼Œå¯¼è‡´è®­ç»ƒä¸èƒ½å¼€å§‹ã€‚ ## å¼€å§‹è®­ç»ƒ å…ˆè¿›è¡Œåˆå§‹åŒ– python train.py init å¼€å§‹è®­ç»ƒä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å°†è‡ªå·±æœ¬åœ°è®­ç»ƒçš„å‚æ•°è¿›è¡Œä¿®æ”¹ï¼Œåœ¨instance/config.pyä¸­è¿›è¡Œä¿®æ”¹å¯¹åº”çš„å‚æ•°ï¼Œå¦åˆ™å°±ä¼šå‡ºç°é”™è¯¯ï¼Œå†è¿›è¡Œè®­ç»ƒ å°†æ•°æ®é›†æ”¾åˆ°æœ¬åœ°è®­ç»ƒæºç ä¸­çš„datasetsæ–‡ä»¶å¤¹ä¸­ï¼Œç„¶ååœ¨æœ‰train.pyæ–‡ä»¶å±‚çº§ä¸Šå¯åŠ¨å‘½ä»¤è¡Œç•Œé¢ï¼Œå’Œå®‰è£…ä¾èµ–çš„æ—¶çš„å¯åŠ¨æ–¹æ³•ä¸€æ ·ã€‚ > å°ç™½ä¸çŸ¥é“æ€ä¹ˆæ”¹çš„å¯ä»¥ä¸ç”¨å»ä¿®æ”¹ ![5.png](https://bbs.sipeed.com/storage/attachments/2021/07/21/CkW1EwXQiKCLsouz5mPJzhVK6S6zn1vcxH1ZcQTA_thumb.png \"1461\") åˆ†ç±»è®­ç»ƒè¾“å…¥ python train.py t classifier z datasets/test_classifier_datasets.zip train å¦‚æœæ˜¯æ²¡æœ‰å‹ç¼©çš„æ–‡ä»¶å¤¹ï¼Œåˆ™è¾“å…¥ python train.py t classifier d datasets/test_classifier_datasets train > è¿™é‡Œè¾“å…¥çš„å‘½ä»¤ä¸­ï¼Œåœ¨datasets/åé¢åŠ çš„æ˜¯ä½ è‡ªå·±çš„æ‰€åˆ¶ä½œçš„æ•°æ®é›†åå­—ï¼Œä¸è¦ä¸Šæ¥å°±ç›´æ¥å°†å¤åˆ¶å‘½ä»¤è¿è¡Œã€‚ ç›®æ ‡æ£€æµ‹è¾“å…¥ python train.py t detector z datasets/test_detector_xml_format.zip train > è¿™é‡Œè¾“å…¥çš„å‘½ä»¤ä¸­ï¼Œåœ¨datasets/åé¢åŠ çš„æ˜¯ä½ è‡ªå·±çš„æ‰€åˆ¶ä½œçš„æ•°æ®é›†åå­—ï¼Œä¸è¦ä¸Šæ¥å°±ç›´æ¥å°†å¤åˆ¶å‘½ä»¤è¿è¡Œã€‚ è®­ç»ƒå®Œä¹‹åå°±ä¼šå¾—åˆ°ä¸€ä¸ªoutçš„æ–‡ä»¶å¤¹ï¼Œé‡Œé¢çš„æ–‡ä»¶å°±æ˜¯è®­ç»ƒä¹‹åå¾—åˆ°çš„æ¨¡å‹ ## å¸¸è§é—®é¢˜ ### è®­ç»ƒè¿‡ç¨‹ä¸­åˆ¤æ–­æ˜¯å¦ä½¿ç”¨ GPU 1. å¯åŠ¨è®­ç»ƒçš„æŸ¥çœ‹æ˜¯å¦å‡ºç°ç­”åº”å‡ºè¿™äº›ä¿¡æ¯ï¼Œå¹¶éƒ½æ˜¯å’Œä¸‹å›¾æ¡†å‡ºæ¥çš„ä¸€æ ·çš„ ![6.png](./../../../../assets/AI/GPU.png) å¦‚æœæ²¡æœ‰ï¼Œåˆ™è¯´æ˜ä½ çš„å‰é¢çš„cudaå’Œcudnnç¯å¢ƒæ²¡æœ‰å®‰è£…å¥½ï¼Œè¯·å°†æ‰€æœ‰å…³äºè‹±ä¼Ÿè¾¾çš„è½¯ä»¶é©±åŠ¨è¿›è¡Œå¸è½½ï¼Œæ˜¯å¸è½½ï¼ï¼ï¼ä¸æ˜¯å°†æ–‡ä»¶åˆ é™¤ã€‚ç„¶åå†é‡æ–°è¿›è¡Œcudaå’Œcudnnçš„ç¯å¢ƒé…ç½®ã€‚ 2. åœ¨ä»»åŠ¡ç®¡ç†å™¨ä¸­æŸ¥çœ‹ï¼ŒGPU çš„æ˜¾å­˜æœ‰æ²¡æœ‰è¢«ä½¿ç”¨åˆ°ï¼Œè€Œä¸æ˜¯çœ‹æ˜¾å¡çš„åˆ©ç”¨ç‡ 3. è®­ç»ƒåˆšå¼€å§‹å‡ºç°çš„ no GPUï¼Œwill use CPU åªæ˜¯ä¸€ä¸ªæç¤ºä¿¡æ¯è€Œå·²ï¼Œå¹¶ä¸æ˜¯æ²¡æœ‰ä½¿ç”¨åˆ° ### è®­ç»ƒä¸­å‡ºç°Internal: no kernel image is available for execution on the device ç¯å¢ƒéœ€è¦é‡æ–°å®‰è£…ï¼Œtensorflowå®‰è£…ç‰ˆæœ¬æ²¡æœ‰å¯¹ä¸Š ### å‡ºç°failed: TrainFailReason.ERROR_PARAM, datasets not valid: datasets format error: datasets error, not support format, please check è¿™ç§å°±æ˜¯æ²¡æœ‰ä¸¥æ ¼çš„å®‰è£…æ•°æ®é›†è¦æ±‚æ¥è¿›è¡Œåˆ¶ä½œï¼Œæ£€æŸ¥ä½ çš„æ–‡ä»¶å¤¹åå­—ï¼Œå°±å¯ä»¥è§£å†³çš„äº†ï¼Œç‰¹åˆ«æ˜¯imagesè¿™ä¸ªæ–‡ä»¶å¤¹ï¼Œå®¹æ˜“å°‘äº†ä¸ªs ## å‡ºç°æŠ¥é”™ä¹‹åï¼Œå…ˆè‡ªå·±å°†æŠ¥é”™ä¿¡æ¯è¿›è¡ŒæŸ¥çœ‹ï¼Œçœ‹ä¸æ‡‚å¯ä»¥ç¿»è¯‘ï¼Œä¸è¦æŠ¥é”™äº†å°±ç›´æ¥é—®ï¼Œè‡ªå·±éƒ½å…ˆæ’æŸ¥ä¸€æ¬¡"},"/soft/maixpy/zh/course/ai/train/local.html":{"title":"æœ¬åœ°æ¨¡å‹è®­ç»ƒ for Linux","content":" title: æœ¬åœ°æ¨¡å‹è®­ç»ƒ for Linux keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy æœ¬åœ°æ¨¡å‹è®­ç»ƒ > æ²¡æœ‰ä»»ä½•çš„å¼€å‘åŸºç¡€è¯·æ…é‡ä½¿ç”¨ï¼Œå‡ºç°é—®é¢˜è¯·è‡ªè¡Œè§£å†³ï¼ windows10ä¸Šä½¿ç”¨æœ¬åœ°è®­ç»ƒæ•™ç¨‹çœ‹[è¿™é‡Œ](https://bbs.sipeed.com/thread/932) æœ¬åœ°æ¨¡å‹è®­ç»ƒä½¿ç”¨ [sipeed/maix_train](https://github.com/sipeed/maix_train) è¿™ä»½ä»£ç è¿›è¡Œï¼Œ ä½¿ç”¨äº† Tensorflow ä½œä¸ºè®­ç»ƒæ¡†æ¶ ä»¥ä¸‹æ‰€æœ‰çš„è®­ç»ƒä½¿ç”¨çš„ä»£ç éƒ½æ˜¯åœ¨linuxä¸‹è¿›è¡Œä½¿ç”¨çš„ï¼Œä¸æ˜¯åœ¨windowsä¸‹ä½¿ç”¨çš„ï¼ ä¸»è¦æ”¯æŒï¼š * ç‰©ä½“åˆ†ç±»æ¨¡å‹ï¼ˆä½¿ç”¨ Mobilenet V1ï¼‰ï¼š åªè¯†åˆ«å›¾ç‰‡ä¸­çš„ç‰©ä½“æ˜¯ä»€ä¹ˆ * ç‰©ä½“æ£€æµ‹æ¨¡å‹ï¼ˆä½¿ç”¨ YOLO V2ï¼‰ï¼š æ‰¾åˆ°å›¾ç‰‡ä¸­è®¤è¯†çš„å›¾ä½“ï¼Œå¹¶åŒæ—¶æ‰¾åˆ°å…¶åæ ‡å’Œå¤§å° ## ç³»ç»Ÿç¯å¢ƒ é¦–å…ˆï¼Œéœ€è¦ä¸€å°æœ‰ Linux ç³»ç»Ÿçš„ç”µè„‘ å¦‚æœä½ çš„ä¸»åŠ›ç³»ç»Ÿæ˜¯ Windowsï¼Œ ä½ å¯ä»¥ç”¨ä»¥ä¸‹ç³»ç»Ÿç¯å¢ƒï¼š * ä½¿ç”¨è™šæ‹Ÿæœº, `virtual box` æˆ–è€… `vmware` éƒ½å¯ä»¥ï¼Œ ç³»ç»Ÿæ¨èå®‰è£…`Ubuntu20.04` * æˆ–è€…å®‰è£…åŒç³»ç»Ÿï¼Œå®‰è£…æ–¹æ³•è¯·è‡ªè¡Œæœç´¢å­¦ä¹ ï¼Œæˆ–è€…çœ‹[è¿™ä¸ªåŒç³»ç»Ÿå®‰è£…æ•™ç¨‹](https://neucrack.com/p/330) ä½ å¯èƒ½æƒ³ç€åœ¨ `Windows` ä¸‹é¢è¿›è¡Œå¼€å‘ï¼Œ ä½†æ˜¯è¿™é‡Œå¼ºçƒˆå»ºè®®ä½¿ç”¨`Linux`è€Œä¸æ˜¯`Windows`ï¼š * é¦–å…ˆï¼Œå¤§å¤šæ•°æ¨¡å‹è®­ç»ƒæ¡†æ¶éƒ½æ˜¯é¦–å…ˆæ”¯æŒ `Linux`ï¼Œ åœ¨`Linux`ä¸‹é¢å¼€å‘çš„éš¾åº¦ä¼šæ¯”`Windows`ä¸‹å¼€å‘æ›´åŠ å®¹æ˜“ * ä½œä¸ºä¸€ä¸ªå¼€å‘è€…ï¼Œ å­¦ä¼šä½¿ç”¨`Linux`æ˜¯åŸºç¡€æŠ€èƒ½ï¼Œå½“ç„¶ï¼Œé™¤éä½ æ˜¯`Windows`ç‹‚çƒ­ç²‰ï¼Œ é‚£æˆ‘ç›¸ä¿¡ä½ ä¸€å®šæœ‰æŠŠå…¶å®ƒç³»ç»Ÿçš„è½¯ä»¶ç§»æ¤åˆ°`Windows`çš„èƒ½åŠ› * å¯¹äºwindowsç¯å¢ƒçš„é…ç½®å­˜åœ¨è®¸å¤šå¥‡å¥‡æ€ªæ€ªçš„ç°è±¡ï¼Œä¼šå‡ºç°æ— æ³•ä½¿ç”¨GPUè¿›è¡Œè®­ç»ƒï¼Œåªèƒ½ä½¿ç”¨CPUè®­ç»ƒ ## è½¯ä»¶å®‰è£… è®­ç»ƒå¯ä»¥ä½¿ç”¨ CPU è¿›è¡Œè®­ç»ƒï¼Œä½†æ˜¯é€Ÿåº¦æ¯”è¾ƒæ…¢ï¼Œ å¦‚æœä½¿ç”¨ä¸“ç”¨çš„æ˜¾å¡ï¼ˆGPUï¼‰è¿›è¡ŒåŠ é€Ÿï¼Œé€Ÿåº¦ä¼šå¿«éå¸¸å¤šï¼Œä¸ªäººä¸€èˆ¬ä½¿ç”¨`Nvidia`çš„æ˜¾å¡ï¼Œ æ¯”å¦‚`RTX 3090`ï¼Œ å½“ç„¶ï¼Œä½¿ç”¨æ™®é€šçš„`GTX 1060 6Gå†…å­˜`ç‰ˆæœ¬å°±å¯ä»¥æ„‰å¿«ä½¿ç”¨äº† åˆæ¬¡æ¥è§¦ï¼Œå»ºè®®å…ˆä½¿ç”¨ CPU è¿›è¡Œè®­ç»ƒï¼Œç¯å¢ƒå®‰è£…ä¼šç®€å•å¾ˆå¤šå¾ˆå¤šï¼Œ ä»¥ä¸‹åªè®² CPU è®­ç»ƒçš„æ–¹æ³•ï¼Œ GPU è¯·è‡ªè¡Œå­¦ä¹  > GPU ä½¿ç”¨å¯ä»¥å‚è€ƒ Tensorflow å®˜æ–¹ [GPU ä½¿ç”¨æ•™ç¨‹](https://tensorflow.google.cn/install/gpu)ï¼Œ å¦‚æœä½ æ˜¾å¡é©±åŠ¨é‡åˆ°äº†é—®é¢˜ï¼Œå¯ä»¥å‚è€ƒ[è¿™é‡Œ](https://neucrack.com/p/252)ï¼Œ å¦å¤–å¦‚æœä½ ç”¨ [docker å®‰è£…](https://tensorflow.google.cn/install/docker)é‡åˆ°äº†é—®é¢˜ï¼Œ ä¹Ÿå¯ä»¥çœ‹[è¿™é‡Œ](https://neucrack.com/p/116) æ¥ä¸‹æ¥çš„ä½¿ç”¨æ–¹æ³•æ‘˜æŠ„äºä»“åº“çš„ [README](https://github.com/sipeed/maix_train/blob/master/README.md), å¦‚æœæœ‰å‡ºå…¥ï¼Œ ä»¥ä»“åº“çš„`README`ä¸ºå‡†ï¼Œæ³¨æ„åˆ†è¾¨ * å°†è®­ç»ƒä»£ç å…‹éš†åˆ°æœ¬åœ° ``` git clone https://github.com/sipeed/maix_train recursive ``` * å®‰è£…ä¾èµ– ``` cd maix_train pip3 install r requirements.txt ``` ä¸­å›½ç”¨æˆ·å¯ä»¥ä½¿ç”¨é˜¿é‡Œäº‘æˆ–è€…æ¸…åçš„æºï¼Œ ä¸‹è½½é€Ÿåº¦æ›´å¿« ``` pip3 install r requirements.txt i https://mirrors.aliyun.com/pypi/simple/ ``` * ä¸‹è½½ [nncase v0.1.0 rc5](https://github.com/kendryte/nncase/releases/tag/v0.1.0 rc5) å¹¶è§£å‹åˆ° `maix_train/tools/ncc/ncc_v0.1`, ä¿è¯å¯æ‰§è¡Œæ–‡ä»¶çš„è·¯å¾„æ˜¯ `maix_train/tools/ncc/ncc_v0.1/ncc` * é…ç½®å·¥ç¨‹ å…ˆåˆå§‹åŒ–å·¥ç¨‹ ``` python3 train.py init ``` ç„¶åæ ¹æ®ä½ çš„ç¡¬ä»¶æƒ…å†µï¼Œç¼–è¾‘`maix_train/instance/config.py`é…ç½® ## å‡†å¤‡æ•°æ®é›† å‡†å¤‡æ•°æ®é›†ï¼Œ å›¾ç‰‡å¤§å°ä¸º `224x224`ï¼Œ æ ¼å¼å¯ä»¥å‚è€ƒ`maix_train/datasets`ä¸‹çš„æ•°æ®é›†ç¤ºä¾‹ ## è®­ç»ƒåˆ†ç±»æ¨¡å‹ ``` python3 train.py t classifier z datasets/test_classifier_datasets.zip train ``` æˆ–è€…è§£å‹æ•°æ®é›†åˆ°æ–‡ä»¶å¤¹ï¼ŒæŒ‡å®šæ•°æ®é›†æ–‡ä»¶å¤¹ ``` python3 train.py t classifier d datasets/test_classifier_datasets train ``` ## è®­ç»ƒç›®æ ‡æ£€æµ‹æ¨¡å‹ ``` python3 train.py t detector z datasets/test_detector_xml_format.zip train ``` ## ä½¿ç”¨æ¨¡å‹ å’Œä½¿ç”¨`Maixhub`è®­ç»ƒçš„æ¨¡å‹ä¸€æ ·ï¼Œ åœ¨`out`æ–‡ä»¶å¤¹ä¼šç”Ÿæˆä¸€ä¸ª`zip`æ–‡ä»¶ï¼Œé‡Œé¢åŒ…å«äº†ç»“æœï¼ŒæŠŠ**æ‰€æœ‰**æ–‡ä»¶æ‹·è´åˆ°`SD`å¡æ ¹ç›®å½•ï¼Œç„¶åå¼€å‘æ¿ä¸Šç”µè¿è¡Œå³å¯"},"/soft/maixpy/zh/course/ai/train/maixhub.html":{"title":"Maixhub æ¨¡å‹è®­ç»ƒ","content":" title: Maixhub æ¨¡å‹è®­ç»ƒ keywords: æ¨¡å‹è®­ç»ƒ, åœ¨çº¿è®­ç»ƒ, AIæ¨¡å‹, æ¨¡å‹åº“ desc: MaixHub æ¨¡å‹è®­ç»ƒ ç›®å‰ MaixHub æ–°ç‰ˆç½‘ç«™å·²ä¸Šçº¿ï¼Œç‚¹æ­¤å‰å¾€ [maixhub.com](http://maixhub.com) ï¼Œé™¤äº†æ”¯æŒ k210 nncase æ¨¡å‹è®­ç»ƒï¼Œæ›´æ”¯æŒäº†æ›´å¤šå¹³å°å’Œå¼€å‘æ¿ï¼Œæ¯”å¦‚æ‰‹æœºã€ç”µè„‘ã€V831ã€å•ç‰‡æœºç­‰ç­‰ã€‚ å¹¶ä¸”å¤§å¤§æ”¹è¿›äº†è®­ç»ƒæµç¨‹ï¼Œæ”¯æŒåœ¨çº¿æ ‡æ³¨ï¼Œä¸€é”®ä¸Šä¼ æ•°æ®æ”¯æŒï¼Œæ›´å¤šè®­ç»ƒå‚æ•°å¯æ‰‹åŠ¨è°ƒæ•´ï¼Œä»¥åŠä¸€é”®éƒ¨ç½²åˆ°è®¾å¤‡ç­‰åŠŸèƒ½ï¼Œå¿«æ¥ä½“éªŒå§ï¼ MaixHub æä¾›æ¨¡å‹è®­ç»ƒåŠŸèƒ½å’Œæ¨¡å‹åˆ†äº«åŠŸèƒ½ï¼Œ åªéœ€è¦å‡†å¤‡å¥½éœ€è¦è®­ç»ƒçš„æ•°æ®é›†ï¼Œ ä¸éœ€è¦æ­å»ºè®­ç»ƒç¯å¢ƒå’Œä»£ç ï¼Œ ä¸Šä¼ è®­ç»ƒæ•°æ®å³å¯å¿«é€Ÿè®­ç»ƒå‡ºæ¨¡å‹ï¼Œæ–¹ä¾¿å¿«é€Ÿåˆ¶ä½œä½ çš„ AI åº”ç”¨ï¼Œæˆ–è€…å…¥é—¨å­¦ä¹  AI è®­ç»ƒçš„æµç¨‹å’ŒåŸç†ã€‚ å¦å¤–ä½ ä¹Ÿå¯ä»¥åœ¨ MaixHub æ¨¡å‹åº“ä¸‹è½½ä½ å–œæ¬¢çš„æ¨¡å‹ï¼Œç”šè‡³ä¸Šä¼ åˆ†äº«ä½ è‡ªå·±åˆ¶ä½œçš„æ¨¡å‹ï¼Œä¸ç®¡æ˜¯åœ¨ MaixHub è®­ç»ƒçš„ï¼Œè¿˜æ˜¯è‡ªå·±å†™ä»£ç è®­ç»ƒçš„å„ç§æœ‰æ„æ€çš„æ¨¡å‹ï¼"},"/soft/maixpy/zh/course/ai/basic/maixpy_hardware_ai_basic.html":{"title":"MaixPy AI ç¡¬ä»¶åŠ é€ŸåŸºæœ¬çŸ¥è¯†","content":" title: MaixPy AI ç¡¬ä»¶åŠ é€ŸåŸºæœ¬çŸ¥è¯† keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy MaixPy AI ç¡¬ä»¶åŠ é€ŸåŸºæœ¬çŸ¥è¯† ## æ¨¡å‹ä½¿ç”¨å’Œç¡¬ä»¶åŠ é€ŸåŸç† å‰é¢æˆ‘ä»¬çŸ¥é“äº†æ¨¡å‹æ˜¯ä¸€ç»„æ•°æ®ç»“æ„ä»¥åŠå¾ˆå¤šå‚æ•°ï¼Œ æœ€ç»ˆä»¥ä¸€ä¸ªæ–‡ä»¶æ¯”å¦‚ `kmodel` æ ¼å¼çš„æ–‡ä»¶çš„å½¢å¼å­˜åœ¨ã€‚ è€Œè¿™ä¸ªæ¨¡å‹è¦èƒ½åœ¨ MaixPy çš„ç¨‹åºé‡Œé¢è¢«ä½¿ç”¨ï¼Œ é¦–å…ˆéœ€è¦ç¨‹åºèƒ½å¤Ÿç†è§£ `kmodel` è¿™ä¸ªæ–‡ä»¶çš„æ ¼å¼ï¼Œ å¹¶ä¸”æ”¯æŒæ¨¡å‹é‡Œé¢çš„ç®—æ³•ï¼Œè¿™æ ·æ‰èƒ½æŒ‰ç…§æ¨¡å‹çš„æè¿°å°†è¾“å…¥ç»è¿‡ä¸€äº›è£‚è®¡ç®—è¿‡ç¨‹åå¾—åˆ°è¾“å‡ºã€‚ æ‰€ä»¥ï¼Œé‡ç‚¹å°±æ˜¯æ”¯æŒæ¨¡å‹é‡Œé¢çš„ç®—æ³•ï¼Œç§° **ç®—å­**ï¼Œ ç†è®ºä¸Šï¼Œæˆ‘ä»¬å¯ä»¥ç”¨è½¯ä»¶å»å®ç°è¿™äº›ç®—å­ï¼Œ å°±å¯ä»¥æˆåŠŸè¿è¡Œæ¨¡å‹äº†ï¼Œ è€Œæ‰§è¡Œè½¯ä»¶çš„ç‰©ç†å™¨ä»¶æ˜¯ `CPU` ï¼Œ ç¥ç»ç½‘ç»œæ¨¡å‹çš„è®¡ç®—é‡å¾ˆå¤§ï¼ŒåŠ ä¸Šæˆ‘ä»¬è¾“å…¥çš„æ˜¯å›¾ç‰‡ï¼Œå›¾ç‰‡æœ¬èº«çš„æ•°æ®é‡å°±æŒºåºå¤§ï¼Œ å°±ç®—æ˜¯ `K210` `400MHz` çš„ä¸»é¢‘ï¼Œ ä¹Ÿæ— æ³•æ»¡è¶³æµç•…çš„æ¨ç®—æ¨¡å‹ã€‚ æ‰€ä»¥ï¼Œ è¦ä¹ˆå‡çº§ `CPU`ï¼Œä½†æ˜¯æˆæœ¬å¤ªé«˜ï¼Œ è¦ä¹ˆåšä¸€ä¸ªä¸“ç”¨çš„ç¡¬ä»¶ï¼Œ è®©è¿™ä¸ªç¡¬ä»¶ä¸“é—¨å»ç‰¹å®šçš„ç®—æ³•ï¼Œå› ä¸ºä¸åƒ `CPU` ä¸€æ ·è¦åšé€šç”¨è®¡ç®—ï¼Œ æ‰€ä»¥é€Ÿåº¦ä¼šéå¸¸å¿«ï¼Œåœ¨ç”µè„‘ä¸Šï¼Œ æˆ‘ä»¬é€šå¸¸ä½¿ç”¨ä¸“ç”¨çš„å›¾åƒåŠ é€Ÿå¡å³ `GPU` æ¥åŠ é€Ÿå›¾å½¢è®¡ç®—ï¼Œ åœ¨ `K210` ä¸Šï¼Œè¿™ä¸ªä¸“é—¨çš„ç¡¬ä»¶å«åš `KPU` (Kendryte Proccess Unit)ï¼Œç¬¬ä¸€ä¸ªå•è¯æ˜¯å…¬å¸åï¼Œ å…¶å®å’Œå…¶å®ƒèŠ¯ç‰‡çš„ `NPU` (ç¥ç»ç½‘ç»œå¤„ç†å•å…ƒ Neural network Processing Unit) åšçš„äº‹æƒ…æ˜¯ä¸€æ ·çš„ã€‚ åœ¨ MaixPy é‡Œé¢ï¼Œå·²ç»é›†æˆäº†æ¨å¯¼æ¨¡å‹çš„ä»£ç ï¼ŒåŒæ—¶ä½¿ç”¨äº† `KPU` è¿›è¡Œè®¡ç®—åŠ é€Ÿï¼Œä½¿ç”¨æ—¶æ— éœ€ç¼–å†™å¾ˆå¤šä»£ç ï¼Œåªéœ€è¦è°ƒç”¨å‡ ä¸ªå‡½æ•°å³å¯å¿«é€Ÿè¿è¡Œæ¨¡å‹ ## å…³äº KPU è™½ç„¶ KPU æ˜¯èƒ½å¤ŸåŠ é€Ÿæ¨¡å‹è¿ç®—äº†ï¼Œ ä½†æ˜¯ç”±äºæˆæœ¬ã€æ—¶é—´ã€åŠŸè€—ã€ä½“ç§¯ã€å‘çƒ­ã€åº”ç”¨é¢†åŸŸå®šä½ç­‰å„ç§å› ç´ ï¼Œå®ƒçš„èƒ½åŠ›å¹¶ä¸èƒ½åƒä¸“ä¸šé¢†åŸŸçš„å¼ºåŠ› `NPU` ä¸€æ ·ï¼ŒåŒ…å«äº†æ¯ä¸€ç§ç®—å­ï¼Œå®ƒåªèƒ½å¤„ç†ä¸€éƒ¨åˆ†ã€‚ KPU å®ç°äº† å·ç§¯ã€æ‰¹å½’ä¸€åŒ–ã€æ¿€æ´»ã€æ± åŒ– è¿™ 4 ç§åŸºç¡€æ“ä½œçš„ç¡¬ä»¶åŠ é€Ÿï¼Œ ä½†æ˜¯å®ƒä»¬ä¸èƒ½åˆ†å¼€å•ç‹¬ä½¿ç”¨ï¼Œæ˜¯ä¸€ä½“çš„åŠ é€Ÿæ¨¡å—ã€‚ æ‰€ä»¥ï¼Œ åœ¨ KPU ä¸Šé¢æ¨ç†æ¨¡å‹ï¼Œ ä»¥ä¸‹è¦æ±‚ï¼ˆå¦‚æœä¸éœ€è¦è®­ç»ƒå’Œè®¾è®¡æ¨¡å‹ï¼Œæš‚æ—¶ä¸éœ€è¦ä»”ç»†äº†è§£ï¼‰ï¼š 1. å†…å­˜é™åˆ¶ K210 æœ‰ 6MB é€šç”¨ RAM å’Œ 2MB KPU ä¸“ç”¨ RAMã€‚æ¨¡å‹çš„è¾“å…¥å’Œè¾“å‡ºç‰¹å¾å›¾å­˜å‚¨åœ¨ 2MB KPU RAM ä¸­ã€‚æƒé‡å’Œå…¶ä»–å‚æ•°å­˜å‚¨åœ¨ 6MB é€šç”¨ RAM ä¸­ã€‚ 2. å“ªäº›ç®—å­å¯ä»¥è¢« KPU å®Œå…¨åŠ é€Ÿï¼Ÿ ä¸‹é¢çš„çº¦æŸéœ€è¦å…¨éƒ¨æ»¡è¶³ã€‚ * ç‰¹å¾å›¾å°ºå¯¸ï¼šè¾“å…¥ç‰¹å¾å›¾å°äºç­‰äº 320x240 (å®½xé«˜) åŒæ—¶è¾“å‡ºç‰¹å¾å›¾å¤§äºç­‰äº 4x4 (å®½xé«˜)ï¼Œé€šé“æ•°åœ¨ 1 åˆ° 1024ã€‚ * Same å¯¹ç§° paddings (TensorFlow åœ¨ stride 2 åŒæ—¶å°ºå¯¸ä¸ºå¶æ•°æ—¶ä½¿ç”¨éå¯¹ç§° paddings)ã€‚ * æ™®é€š Conv2D å’Œ DepthwiseConv2Dï¼Œå·ç§¯æ ¸ä¸º 1x1 æˆ– 3x3ï¼Œstride ä¸º 1 æˆ– 2ã€‚ * æœ€å¤§æ± åŒ– MaxPool (2x2 æˆ– 4x4) å’Œ å¹³å‡æ± åŒ– AveragePool (2x2 æˆ– 4x4)ã€‚ * ä»»æ„é€å…ƒç´ æ¿€æ´»å‡½æ•° (ReLU, ReLU6, LeakyRelu, Sigmoid...), KPU ä¸æ”¯æŒ PReLUã€‚ 3. å“ªäº›ç®—å­å¯ä»¥è¢« KPU éƒ¨åˆ†åŠ é€Ÿï¼Ÿ * éå¯¹ç§° paddings æˆ– valid paddings å·ç§¯ï¼Œ nncase ä¼šåœ¨å…¶å‰åæ·»åŠ å¿…è¦çš„ Pad å’Œ Cropï¼ˆå¯ç†è§£ä¸º è¾¹æ¡† ä¸ è£åˆ‡ï¼‰ã€‚ * æ™®é€š Conv2D å’Œ DepthwiseConv2Dï¼Œå·ç§¯æ ¸ä¸º 1x1 æˆ– 3x3ï¼Œä½† stride ä¸æ˜¯ 1 æˆ– 2ã€‚ nncase ä¼šæŠŠå®ƒåˆ†è§£ä¸º KPUConv2D å’Œä¸€ä¸ª StridedSlice (å¯èƒ½è¿˜éœ€è¦ Pad)ã€‚ * MatMul ç®—å­ï¼Œ nncase ä¼šæŠŠå®ƒæ›¿æ¢ä¸ºä¸€ä¸ª Pad(åˆ° 4x4)+ KPUConv2D(1x1 å·ç§¯å’Œ) + Crop(åˆ° 1x1)ã€‚ * TransposeConv2D ç®—å­ï¼Œ nncase ä¼šæŠŠå®ƒæ›¿æ¢ä¸ºä¸€ä¸ª SpaceToBatch + KPUConv2D + BatchToSpaceã€‚ > ä»¥ä¸Šè¯´æ˜æ¥è‡ª[è¿™é‡Œ](https://github.com/kendryte/nncase/blob/master/docs/FAQ_ZH.md) ## æ¨¡å‹è½¬æ¢ å‰é¢è¯´åˆ°ï¼Œ æ¨¡å‹å…¶å®å°±æ˜¯ä¸€ç»„æ•°æ®ç»“æ„å’Œå‚æ•°æ•°æ®ï¼Œä¸åŒçš„è½¯ä»¶åªèƒ½è¯†åˆ«ç‰¹å®šæ ¼å¼çš„æ¨¡å‹ï¼Œ KPU åªè®¤`.kmodel`æ ¼å¼çš„æ¨¡å‹ï¼Œ ä¸€èˆ¬ç”¨ç”µè„‘è®­ç»ƒçš„æ¨¡å‹åˆ™ä¸æ˜¯ï¼Œ æ¯”å¦‚ `tensorflow` æ˜¯ `.h5` æ ¼å¼æˆ–è€… `.tflite` æ ¼å¼ï¼Œ è¦ç»™ `KPU` ä½¿ç”¨ï¼Œ å¿…é¡»ç»è¿‡å˜æˆ `kmodel` æ ¼å¼ï¼Œ å¯ä»¥ä½¿ç”¨ [nncase](https://github.com/kendryte/nncase) è¿™ä¸ªå·¥å…·æ¥è¾¾åˆ°æ¨¡å‹è½¬æ¢çš„ç›®çš„ å¦‚æœä½ éœ€è¦è½¬æ¢æ¨¡å‹ï¼Œ å…·ä½“ä½¿ç”¨æ–¹æ³•è¯·è‡ªè¡ŒæŸ¥çœ‹è¿™ä¸ªä»“åº“é‡Œé¢çš„ä»‹ç» ## kmodel V3 æ¨¡å‹ å’Œ V4 æ¨¡å‹ ç”±äºä»£ç æ›´æ–°ï¼Œ åœ¨è¿‡ç¨‹ä¸­äº§ç”Ÿäº†ä¸¤ä¸ªå¤§ç‰ˆæœ¬ï¼Œ `V3` å’Œ `V4`ï¼Œ å…¶ä¸­ `V3` æ¨¡å‹æ˜¯æŒ‡ç”¨ [nncase v0.1.0 RC5](https://github.com/kendryte/nncase/releases/tag/v0.1.0 rc5) è½¬æ¢å‡ºæ¥çš„æ¨¡å‹ï¼› `V4`æ¨¡å‹æŒ‡ç”¨ [nncase v0.2.0](https://github.com/kendryte/nncase/releases/tag/v0.2.0 beta4) è½¬æ¢å‡ºæ¥çš„æ¨¡å‹ ä¸¤è€…æœ‰ä¸€å®šçš„ä¸åŒï¼Œæ‰€ä»¥ç°åœ¨ä¸¤è€…å…±å­˜ï¼Œ `V3` ä»£ç é‡æ›´å°‘ï¼Œå ç”¨å†…å­˜å°ï¼Œæ•ˆç‡ä¹Ÿé«˜ï¼Œä½†æ˜¯æ”¯æŒçš„ç®—å­å°‘ï¼› `V4` æ”¯æŒçš„ç®—å­æ›´å¤šï¼Œä½†æ˜¯éƒ½æ˜¯è½¯ä»¶å®ç°çš„ï¼Œæ²¡æœ‰ç¡¬ä»¶åŠ é€Ÿï¼Œå†…å­˜ä½¿ç”¨æ›´å¤šï¼Œæ‰€ä»¥å„æœ‰æ‰€é•¿ã€‚ MaixPy çš„å›ºä»¶ä¹Ÿå¯ä»¥é€‰æ‹©æ˜¯å¦æ”¯æŒ `V4`ã€‚ ## MaixPy ä¸­ä½¿ç”¨æ¨¡å‹ kmodel 1. åŠ è½½ SD å¡ ï¼ˆTF å¡ï¼‰ä¸­çš„æ¨¡å‹ å°†æ¨¡å‹æ”¾åˆ° SD å¡ï¼Œ ç„¶ååŠ è½½ ```python import KPU as kpu m kpu.load(\"/sd/test.kmodel\") ``` 2. åŠ è½½ Flash ä¸­çš„æ¨¡å‹ å°†æ¨¡å‹ä¸‹è½½åˆ° Flashï¼Œ ç„¶ååŠ è½½ ```python import KPU as kpu model_addr_in_flash 0x300000 m kpu.load(model_addr_in_flash) ``` æ­¤å¤„çš„ `model_addr_in_flash` ä¸ºæ¨¡å‹åœ¨ Flash ä¸­çš„åç§»åœ°å€ï¼Œæ¨¡å‹å¯ä»¥é€šè¿‡ kflash.py æˆ–è€… kflash_gui çƒ§å½•åˆ° Flash å¯¹åº”çš„åœ°å€ä¸­ 3. å‡†å¤‡è¾“å…¥ ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨å›¾åƒä½œä¸ºè¾“å…¥ï¼š ç›´æ¥ä½¿ç”¨æ‘„åƒå¤´é‡‡é›†çš„æ•°æ®ä½œä¸ºè¾“å…¥ï¼š ```python img sensor.snapshot() ``` è¿™é‡Œ `img` å°±å¯ä»¥ç›´æ¥ä½œä¸ºè¾“å…¥ï¼Œ è¿™é‡Œéœ€è¦ **æ³¨æ„**ï¼š `snapshot()` å‡½æ•°é‡‡é›†åˆ°å›¾ç‰‡åï¼Œä¼šå°†å›¾ç‰‡æ•°æ®æ”¾åˆ°ä¸¤ä¸ªåœ°æ–¹ (1) `RGB565` å†…å­˜å—ï¼Œ å›¾åƒä»¥ `RGB565` çš„å½¢å¼å­˜æ”¾åœ¨ä¸€å—å†…å­˜ä¸­ï¼Œæ–¹ä¾¿å›¾åƒå¤„ç†çš„å‡½æ•°ä½¿ç”¨ï¼Œæ³¨æ„åœ¨å†…å­˜ä¸­çš„æ’åºæ˜¯ `[åƒç´ 1 RGB, åƒç´ 2 RGB...]` (2) `RGB888` å†…å­˜å—ï¼Œ å›¾åƒä»¥ `R8G8B8` çš„å½¢å¼å­˜æ”¾åœ¨å¦ä¸€å—å†…å­˜ä¸­ï¼Œæ³¨æ„åœ¨å†…å­˜ä¸­çš„æ’åºæ˜¯ `[æ‰€æœ‰åƒç´  R, æ‰€æœ‰åƒç´  Gï¼Œ æ‰€æœ‰åƒç´  B]`ï¼Œ æˆ‘ä»¬ä¹Ÿç§°ä¹‹ä¸º `AI` å†…å­˜ **å…¶ä¸­ï¼Œå®é™…ä¸Šä½œä¸º KPU è¾“å…¥çš„æ•°æ®æ˜¯ `RGB888` åŒºåŸŸ**ï¼Œ è¿™ä¸ªåœ¨å‰é¢çš„æ–‡æ¡£ [MaixPy å›¾åƒåŠå¸¸ç”¨æ“ä½œ](./../../../course/image/basic/vary.html) ç« èŠ‚ä¸­æœ‰ä»”ç»†è®²è§£è¿‡ ä»æ–‡ä»¶è¯»å–ï¼Œæˆ–è€…å°†ä¿®æ”¹è¿‡çš„æ‘„åƒå¤´å›¾åƒä½œä¸ºè¾“å…¥ï¼š ç›´æ¥ä»æ‘„åƒå¤´é‡‡é›†çš„å›¾åƒä¼šè‡ªåŠ¨å¡«å…… `RGB888` åŒºåŸŸï¼Œä½†æ˜¯æˆ‘ä»¬ä½¿ç”¨å›¾åƒå¤„ç†å‡½æ•°æ¯”å¦‚ `image.resize()` æ—¶ï¼Œåªä¼šä¿®æ”¹ `RGB565`ï¼Œæ²¡æœ‰ä¿®æ”¹ `RGB888`ï¼Œå› ä¸ºåŒæ—¶ä¿®æ”¹ä¸¤å¤„å†…å­˜éœ€è¦è€—è´¹å¤§é‡æ—¶é—´ï¼Œè€Œ `KPU` çš„è¾“å…¥åˆæ˜¯ `RGB888` å†…å­˜å—ï¼Œ æ‰€ä»¥åœ¨éœ€è¦è¿›è¡Œ `KPU` è¿ç®—æ—¶ï¼Œ éœ€è¦åŒæ­¥ï¼ˆåˆ·æ–°ï¼‰ä¸€ä¸‹ `RGB888` å†…å­˜å—ï¼Œ ä½¿ç”¨ `img.pix_to_ai()` æ¥è¿›è¡ŒåŒæ­¥ï¼Œå¦åˆ™å…ˆå‰çš„ä¿®æ”¹å°†ä¸ä¼šåœ¨ `KPU` ä¸Šç”Ÿæ•ˆã€‚ æ¯”å¦‚ï¼š ```python img image.Image(\"/sd/test.jpg\") # ä» sd å¡è¯»å– test.jpg ä½œä¸ºè¾“å…¥ img.pix_to_ai() # åŒæ­¥ `RGB888` å†…å­˜å— ``` ```python img sensor.snapshot() # è·å–æ‘„åƒå¤´é‡‡é›†çš„æ•°æ® img img.resize(240, 240) # ä½¿ç”¨å›¾åƒå¤„ç†å‡½æ•°å¤„ç†åŸå›¾åƒ img.pix_to_ai() # åŒæ­¥ `RGB888` å†…å­˜å— ``` 4. å‰å‘è¿è¡Œæ¨¡å‹ å‰å‘è¿è¡Œæ¨¡å‹ï¼Œä¹Ÿå°±æ˜¯æŒ‰ç…§ è¾“å…¥åˆ°è¾“å‡º çš„æ–¹å‘èµ°ä¸€éæ¨¡å‹è®¡ç®—ï¼Œ é€šè¿‡è¾“å…¥å¾—å‡ºè¾“å‡ºçš„å€¼ï¼š ```python feature_map kpu.forward(m, img) ``` è¿™é‡Œå¾—åˆ°äº† `feature_map`ï¼Œ æ˜¯ä¸€ä¸ªç‰¹å¾å›¾ï¼Œ æ¯”å¦‚æˆ‘ä»¬å‰é¢å°†çš„ `å°çƒ` å’Œ `ç©å…·` çš„åˆ†ç±»ï¼Œè¾“å‡ºç‰¹å¾å›¾æ˜¯ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œ æ¯ä¸ªèŠ‚ç‚¹è¡¨ç¤ºäº†æ˜¯å¯¹åº”ç‰©ä½“çš„æ¦‚ç‡ï¼Œæˆ‘ä»¬å°†ç‰¹å¾å›¾è½¬æ¢ä¸º `list` å¯¹è±¡ï¼š ```python p_list feature_map[:] print(p_list) ``` å°±å¯ä»¥å¾—åˆ°ç±»ä¼¼ `[0.9, 0.1]` è¿™æ ·çš„ç½®ä¿¡åº¦ç»“æœäº† ## KPUä½¿ç”¨è¿‡ç¨‹ä¸­çš„å¸¸è§é—®é¢˜ ### KPUèƒ½å¤ŸåŠ è½½å¤šå¤§çš„æ¨¡å‹ï¼Ÿ C è¯­è¨€ä»£ç è¿è¡Œæ¨¡å‹ï¼š å½“ K210 è¿è¡Œ C ä»£ç æ—¶ï¼Œèƒ½å¤ŸåŠ è½½ < 6MB å·¦å³çš„æ¨¡å‹ï¼Œ å…·ä½“è¦çœ‹ C ä»£ç çš„å†…å®¹ã€‚ MaixPy è¿è¡Œæ¨¡å‹ï¼š * å½“è¿è¡Œ MaixPy (minimumç‰ˆæœ¬) æ—¶ï¼Œèƒ½å¤ŸåŠ è½½ 4MB å·¦å³çš„æ¨¡å‹ã€‚ å¦‚æœä¸ä½¿ç”¨æ‘„åƒå¤´å’Œ LCDï¼Œ æœ€å¤§å¯ä»¥åŠ è½½ 5MB å·¦å³çš„æ¨¡å‹ï¼ˆå› ä¸ºæ‘„åƒå¤´å’Œ LCD çš„ç¼“å†²åŒºå ç”¨äº†å¾ˆå¤šå†…å­˜ï¼Œä½†å®é™…åº”ç”¨ä¹Ÿæ²¡å¤šå¤§æ„ä¹‰äº†ï¼‰ * å½“è¿è¡Œ MaixPy (å®Œæ•´ç‰ˆ) æ—¶ï¼Œèƒ½å¤ŸåŠ è½½ 2MB å·¦å³çš„æ¨¡å‹ * å¦å¤–ä¹Ÿæ”¯æŒå®æ—¶ä» `Flash` åŠ è½½æ¨¡å‹ï¼Œ ç†è®ºä¸Šåªè¦å•å±‚ä½¿ç”¨å†…å­˜ä¸è¶…è¿‡ 2MBï¼Œ æ•´ä½“æ¨¡å‹å¯ä»¥æ— é™å¤§ï¼Œåªä¸è¿‡è¦ç‰ºç‰²ä¸€ç‚¹è¿ç®—é€Ÿåº¦ã€‚ ä½¿ç”¨æ–¹æ³•çœ‹[è¿™é‡Œ](https://github.com/sipeed/MaixPy v1_scripts/tree/master/machine_vision/load_big_model)ã€‚ å¦‚æœå¯¹åŸç†å’Œå®ç°æ„Ÿå…´è¶£ï¼Œå¯ä»¥çœ‹[è¿™é‡Œ](https://neucrack.com/p/313) ### æŠ¥é”™\"memory overflow\"æ€ä¹ˆåŠï¼Ÿ å‡ºç°è¿™ä¸ªé—®é¢˜ï¼Œæ ¹æ®å‰é¢è®²åˆ°è¿‡çš„ [`ç³»ç»Ÿå†…å­˜ç®¡ç†`](../../others/mem.html) å¯çŸ¥ï¼Œä¸€èˆ¬æœ‰ä¸¤ä¸ªå¯èƒ½æ€§ï¼š 1. æŠ¥é”™çš„åœ°æ–¹è·Ÿç³»ç»Ÿå †æ— å…³ç³»ï¼Œ å¯èƒ½æ˜¯ `GC` å†…å­˜ä¸å¤Ÿå¯¼è‡´ï¼Œå¯ä»¥é€‚å½“å¢åŠ  `GC` çš„æ€»å†…å­˜å¤§å° 2. ç”±äºæ¨¡å‹è¿‡å¤§å¼•èµ·çš„ã€‚å¯ä»¥ä¾æ¬¡å°è¯•å¦‚ä¸‹è§£å†³æ–¹æ¡ˆï¼š 1. æ›´æ¢ MaixPy mini ç‰ˆæœ¬å›ºä»¶ 2. è¿›è¡Œæ¨¡å‹å‰ªæä¼˜åŒ– 3. ä½¿ç”¨ `kpu.load_flash` æ¥å£è¿è¡Œæ—¶å®æ—¶åŠ è½½æ¨¡å‹ï¼Œåªæ˜¯æ‰§è¡Œæ•ˆç‡é™ä½ä¸€ç‚¹ 4. å¦‚æœå†…å­˜ä¸è¶³ï¼Œä¸” `kpu.load_flash` æ€§èƒ½æ— æ³•æ»¡è¶³ï¼Œ é‚£ä¹ˆä½ å¯èƒ½éœ€è¦ä½¿ç”¨ [C SDK](https://github.com/kendryte/kendryte standalone sdk) è¿›è¡Œå¼€å‘ã€‚ ### æŠ¥é”™\"load error,only support kmodel v3/v4\"æ€ä¹ˆåŠï¼Ÿ å‡ºç°è¿™ä¸ªé—®é¢˜å¯ä»¥å°è¯•å¦‚ä¸‹è§£å†³æ–¹æ¡ˆ: 1. å¦‚æœä¸ºåŠ è½½ Flash ä¸­çš„æ¨¡å‹ï¼Œè¯·ç¡®ä¿ `flash offset` å¡«å†™æ­£ç¡®ï¼Œå¹¶ä¿è¯å’Œ MaixPy å›ºä»¶çš„åœ°å€æ²¡æœ‰å†²çªï¼ˆæ¨¡å‹åœ¨ Flash ä¸­çš„åœ°å€å¤ªé å‰ï¼Œç„¶åå¾€ Flash çƒ§å½•å…¥å›ºä»¶æ—¶ï¼Œ å›ºä»¶å¤§å°è¶…è¿‡äº†æ¨¡å‹æ‰€åœ¨çš„èµ·å§‹åœ°å€ï¼Œ å¯¼è‡´æ¨¡å‹è¢«ç ´åï¼‰ 2. å¦‚æœæ˜¯é‡‡ç”¨ `nncase 0.2.0` è¿›è¡Œè½¬æ¢çš„ `kmodel V4`ï¼Œè¯·å°è¯•é‡‡ç”¨ `nncase 0.1.0` è¿›è¡Œè½¬æ¢ï¼Œä»è€Œç”Ÿæˆ `kmodel V3` ### æˆ‘æƒ³å®ç°ä¸åŒæ¨¡å‹çš„é€‰æ‹©åŠ è½½(ä¾‹å¦‚æŒ‰ä¸‹æŒ‰é’®è¿è¡Œç›®æ ‡åˆ†ç±»ï¼Œå†æ¬¡æŒ‰ä¸‹æŒ‰é’®åˆ™è¿è¡Œç›®æ ‡æ£€æµ‹)ï¼Œåº”è¯¥æ€ä¹ˆå†™ç¨‹åºï¼Ÿ å› ä¸ºå†…éƒ¨ RAM æœ‰é™ï¼Œæ‰€ä»¥å½“éœ€è¦åˆ‡æ¢ä¸åŒæ¨¡å‹è¿›è¡Œ `kpu.load(address)` å‰ï¼Œè¯·å…ˆæ‰§è¡Œ `kpu.deinit(k210model)` é‡Šæ”¾ä¹‹å‰æ¨¡å‹å ç”¨çš„å†…å­˜ï¼Œç„¶åå†åŠ è½½æ–°çš„æ¨¡å‹ã€‚ ä¹Ÿå°±æ˜¯åˆ†æ—¶å¤ç”¨å†…å­˜"},"/soft/maixpy/zh/course/ai/basic/dnn_basic.html":{"title":"æ·±åº¦ç¥ç»ç½‘ç»œï¼ˆDNNï¼‰åŸºç¡€çŸ¥è¯†","content":" title: æ·±åº¦ç¥ç»ç½‘ç»œï¼ˆDNNï¼‰åŸºç¡€çŸ¥è¯† keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy æ·±åº¦ç¥ç»ç½‘ç»œï¼ˆDNNï¼‰åŸºç¡€çŸ¥è¯† è¿™é‡Œä»‹ç»ä½¿ç”¨ MaixPy AI ç›¸å…³åŠŸèƒ½éœ€è¦äº†è§£çš„çŸ¥è¯†ï¼Œè®©ä½ èƒ½å¤Ÿç†è§£åé¢çš„å†…å®¹ï¼Œ ä¸åœ¨æœ¬ç¯‡ä¸­æ·±å…¥ä»‹ç»ã€‚ ## å¦‚ä½•è§£å†³ä¸€ä¸ªé—®é¢˜ å¼•å‡ºæœºå™¨è§£å†³é—®é¢˜ ä¸€ä¸ªé—®é¢˜ï¼Œ é€šå¸¸åˆ†ä¸º **è¾“å…¥** å’Œ **è¾“å‡ºï¼ˆç»“æœï¼‰** æ¯”å¦‚ï¼š åæ ‡ç³»ä¸­çš„ä¸€æ¡ç›´çº¿å¦‚ä¸‹ï¼Œ ä¸Šé¢çš„æ•°æ®ç‚¹å€¼æ˜¯å·²çŸ¥çš„: ![y kx+b](../../../../assets/dnn/ykxb.jpg) ç°åœ¨æé—®ï¼Œå‡å¦‚æ•°æ®ç‚¹è§„å¾‹ä¸å˜ï¼Œ è¾“å…¥ä¸€ä¸ª x åæ ‡ 20, y çš„å€¼æ˜¯å¤šå°‘ï¼Ÿ æŒ‰ç…§å¤§å®¶çš„çŸ¥è¯†ï¼Œéƒ½çŸ¥é“è¿™æ˜¯ä¸€ä¸ªä¸€å…ƒä¸€æ¬¡æ–¹ç¨‹(`y kx + b`èƒ½è§£å†³çš„ï¼Œ å¸¦å…¥ä¸¤ä¸ªç‚¹çš„å€¼ï¼Œç®—å‡ºæ–¹ç¨‹ä¸º`y 3x + 10`, é‚£ä¹ˆå½“ `x 20`, `y` çš„å€¼ä¸º`70`ï¼Œ äºæ˜¯è¾“å…¥æ˜¯`20`, è¾“å‡ºæ˜¯`70`ã€‚ è¿™é‡Œå°±æ˜¯ è¾“å…¥(`20`) + ç®—æ³•ï¼ˆä¸€å…ƒä¸€æ¬¡æ–¹ç¨‹ï¼‰ è¾“å‡ºï¼ˆ`70`ï¼‰ï¼Œ è¿™å°±æ˜¯æˆ‘ä»¬åœ¨è§£å†³ä¸€ä¸ªé—®é¢˜æ—¶çš„åŸºæœ¬æ–¹æ³•ï¼Œ æ‰€ä»¥å…³é”®å°±æ˜¯æ‰¾åˆ°è¿™ä¸ªç¬¦åˆè¿™æ¡çº¿æ®µä¸Šæ•°æ®ç‚¹è§„å¾‹çš„ä¸€ä¸ªç®—æ³•ã€‚ äººç±»å¾ˆå¼ºå¤§ï¼Œä¼šä»è¿™äº›æ•°æ®ä¸­å½’çº³æ€»ç»“å­¦ä¹ ï¼Œæœ€ç»ˆå¾—åˆ°äº†è¿™ä¸ªç®—æ³•ï¼ˆæ–¹ç¨‹ï¼‰ï¼Œç„¶åå…¶ä»–çš„äººç›´æ¥ä½¿ç”¨è¿™ä¸ªç®—æ³•å°±å¯ä»¥å¿«é€Ÿç”¨äºè§£å†³åŒç±»é—®é¢˜ï¼Œé‚£ä¹ˆï¼Œæœ‰æ²¡æœ‰ä¸€ç§æ–¹æ³•ï¼Œ è®©æœºå™¨è‡ªåŠ¨å»å¯»æ‰¾è¿™ä¸ªç®—æ³•å‘¢ï¼Ÿ ## å¦‚ä½•è®©æœºå™¨æ€»ç»“å‡ºç®—æ³• è¦è®©æœºå™¨è‡ªåŠ¨æ€»ç»“å‡ºç®—æ³•ï¼Œå³æœºå™¨å­¦ä¹ ï¼ˆMLï¼ŒMachine Learningï¼‰ï¼Œ æˆ‘ä»¬å…ˆçœ‹çœ‹ï¼Œäººç±»æ˜¯å¦‚ä½•å¾—åˆ°è¿™ä¸ªç®—æ³•ï¼ˆæ–¹ç¨‹ï¼‰çš„ã€‚ * æ­¥éª¤1ï¼š é¦–å…ˆï¼Œæœ‰å¤§é‡æ•°æ®ç‚¹ï¼Œç„¶åäººç±»æ ¹æ®è¿™äº›æ•°æ®ç‚¹å‘ç°äº†ç›´çº¿éƒ½ç¬¦åˆ`y kx + b`è¿™ä¸ªé€‚åº”æ‰€æœ‰ç›´çº¿çš„ç®—æ³•, ä½†æ˜¯å‘ç°ï¼Œè¿™é‡Œé¢æœ‰ä¸¤ä¸ªæœªçŸ¥æ•°`k`å’Œ`b`, è¿™å°±æ˜¯é€‚åº”ä»»ä½•ç›´çº¿çš„å‚æ•° * æ­¥éª¤2ï¼š ç„¶åå…·ä½“çš„æ˜¯ä»€ä¹ˆæ ·çš„ç›´çº¿ï¼Œå› ä¸ºæ–¹ç¨‹æœ‰ä¸¤ä¸ªæœªçŸ¥æ•°ï¼Œå³å‚æ•°ï¼Œå°†å®é™…çš„ä¸¤ä¸ªæ•°æ®ç‚¹å¸¦å…¥è¿™ä¸ªæ–¹ç¨‹ï¼Œå¾—åˆ°äº†`k 3`å’Œ`b 10` * æ­¥éª¤3ï¼š ç„¶åæˆ‘ä»¬ç”¨åœ¨æ­¥éª¤2ä¸­æ²¡æœ‰ç”¨åˆ°çš„åœ¨çº¿ä¸Šçš„æ•°æ®ç‚¹ï¼Œå»è¯•è¯•è¿™ä¸ªç®—æ³•ï¼ˆæ–¹ç¨‹ï¼‰æ˜¯å¦æ­£ç¡®ï¼Œæœ€ç»ˆå‘ç°éƒ½éªŒè¯æ­£ç¡® * æ­¥éª¤4ï¼š ç„¶åè¦é€šè¿‡`x`çš„å€¼çŸ¥é“å…¶å®ƒçš„ç‚¹çš„`y`çš„å€¼ï¼Œåªéœ€è¦ä»£å…¥`y 3x + 10` å³å¯ é‚£ä¹ˆï¼Œæœºå™¨å­¦ä¹ æ˜¯ä¸æ˜¯ä¹Ÿå¯ä»¥åˆ©ç”¨è¿™ä¸ªæ­¥éª¤æ¥åšå‘¢ï¼Ÿ * æˆ‘ä»¬è®¤ä¸ºåœ°è®¾è®¡ä¸€ä¸ªç®—æ³•ç»“æ„ï¼Œ åŠ å…¥æˆ‘ä»¬ç¢°å·§ç›´æ¥è®¾è®¡æˆäº†`y kx + b`ï¼Œ æˆ‘ä»¬ç»™å…·ä½“çš„ç›´çº¿ç•™ä¸‹äº†ä¸¤ä¸ªå‚æ•°ï¼Œæˆ‘ä»¬æš‚ä¸”ç§°å‘¼è¿™ä¸ªç»“æ„å« **æ¨¡å‹ç»“æ„**ï¼Œå› ä¸ºæœ‰æœªçŸ¥å‚æ•°ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºæœªè®­ç»ƒçš„æ¨¡å‹ç»“æ„ã€‚å…¶ä¸­`x`ç§°ä¸º**è¾“å…¥**, `y`ç§°ä¸º**è¾“å‡º** * ç°åœ¨ï¼Œæˆ‘ä»¬å°†æˆ‘ä»¬è¿™æ¡ç›´çº¿çš„çš„å‡ ä¸ªç‚¹ä»£å…¥åˆ°è¿™ä¸ªæ–¹ç¨‹ï¼Œ æˆ‘ä»¬ç§°è¿™ä¸ªè¿‡ç¨‹ä¸º **è®­ç»ƒ**ï¼Œå¾—åˆ°`y 3x + 10` è¿™ä¸ªç®—æ³•ï¼Œ å·²ç»æ²¡æœ‰æœªçŸ¥å‚æ•°äº†ï¼Œ æˆ‘ä»¬ç°åœ¨ç§°å®ƒä¸º**æ¨¡å‹** æˆ–è€… è®­ç»ƒå¥½çš„æ¨¡å‹ï¼Œå…¶ä¸­`k b`æ˜¯æ¨¡å‹å†…çš„å‚æ•°ï¼Œ`y kx + b`æ˜¯è¿™ä¸ªæ¨¡å‹çš„ç»“æ„ã€‚ è€Œå¸¦å…¥è®­ç»ƒçš„æ•°æ®ç‚¹ï¼Œå°±å«åš**è®­ç»ƒæ•°æ®**ï¼Œå®ƒä»¬çš„ç»Ÿç§°å°±å«**è®­ç»ƒæ•°æ®é›†** * ç„¶åï¼Œæˆ‘ä»¬ä½¿ç”¨å‡ ä¸ªåœ¨ è®­ç»ƒ è¿‡ç¨‹ä¸­æ²¡æœ‰ç”¨åˆ°çš„åœ¨çº¿æ®µä¸Šçš„æ•°æ®ç‚¹ä½œä¸ºè¾“å…¥ï¼Œä»£å…¥è¿™ä¸ªæ¨¡å‹è¿›è¡Œè¿ç®—ï¼Œå¾—åˆ°ç»“æœï¼Œæ¯”å¦‚ `x 10`, å¾—åˆ°`y 40`, ç„¶åå¯¹æ¯”è¾“å‡ºå€¼æ˜¯å¦ä¸é¢„æœŸç›¸ç¬¦ï¼Œè¿™é‡Œæˆ‘ä»¬å‘ç°`x 10, y 40` ç¡®å®æ˜¯åœ¨å›¾ä¸­è¿™æ¡ç›´çº¿ä¸Šçš„ï¼Œ å¹¶ä¸”è®­ç»ƒæ—¶æ²¡æœ‰ä½¿ç”¨è¿™ä¸ªç‚¹ï¼Œè¯´æ˜æˆ‘ä»¬å¾—åˆ°çš„æ¨¡å‹åœ¨æ­¤æ¬¡æ ¸éªŒä¸­é€šè¿‡ï¼Œè¿™ä¸ªè¿‡ç¨‹å« **éªŒè¯**ï¼Œ `x 10, y 40` è¿™ä¸ªæ•°æ®å«éªŒè¯æ•°æ®ã€‚ å¦‚æœæˆ‘ä»¬ç”¨å¤šç»„æ•°æ®å»éªŒè¯è¿™ä¸ªæ¨¡å‹ï¼Œ è¿™äº›æ•°æ®çš„ç»Ÿç§°å°±å«**éªŒè¯æ•°æ®é›†** * ç°åœ¨ï¼Œ æˆ‘ä»¬è·å¾—äº†ä¸€ä¸ª**æ¨¡å‹**ï¼Œå¹¶ä¸”ç”¨**éªŒè¯æ•°æ®é›†**å¯¹è¿™ä¸ªæ¨¡å‹è¿›è¡Œäº†éªŒè¯ï¼Œè²Œä¼¼ä¹Ÿæ˜¯å¾ˆå‡†ç¡®äº†ï¼Œé‚£æˆ‘ä»¬å°±å¯ä»¥å‡è®¾è¿™ä¸ªæ¨¡å‹åŸºæœ¬æ»¡è¶³äº†æˆ‘ä»¬ä»¥åæœ‰ä¸€ä¸ª`x`ï¼Œ è¦æ±‚ç€å›¾ä¸­çº¿ä¸Šä»»æ„ä¸€ç‚¹çš„`y`å€¼ï¼Œéƒ½å¯ä»¥è¾“å…¥`x`ç»™å‡ºè¿™æ¡ç›´çº¿ä¸Šå¯¹åº”ç‚¹çš„`y`åæ ‡ã€‚ è¿™ä¸ªè¿‡ç¨‹æˆ‘ä»¬å…¶å®æ˜¯åœ¨**ä½¿ç”¨æ¨¡å‹**äº†ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¹‹ä¸º**æ¨ç†** å…¶å®è¿™å°±ç®—æ˜¯æœºå™¨å­¦ä¹ äº†ï¼Œ æˆ‘ä»¬äººç±»éœ€è¦çš„äº‹å°±æ˜¯è®¾è®¡`y kx + b`è¿™ä¸ªç»“æ„ï¼Œä»¥åŠç»™å‡º**è®­ç»ƒæ•°æ®é›†**å’Œ**éªŒè¯æ•°æ®é›†**ï¼Œç»è¿‡**è®­ç»ƒ**å’Œ**éªŒè¯**å¾—åˆ°ä¸€ä¸ªæˆ‘ä»¬è®¤ä¸ºå¯ç”¨çš„æ¨¡å‹ï¼Œç„¶åä½¿ç”¨`è¾“å…¥ + æ¨¡å‹`å°±å¯ä»¥å¾—åˆ°è®¤ä¸ºçš„æ­£ç¡®`è¾“å‡ºï¼ˆç»“æœï¼‰`äº†ã€‚ ## ä»€ä¹ˆæ˜¯æ·±åº¦ç¥ç»ç½‘ç»œï¼Ÿ æ·±åº¦ç¥ç»ç½‘ç»œï¼ˆDNNï¼‰æ˜¯æœºå™¨å­¦ä¹ ï¼ˆMLï¼‰é¢†åŸŸä¸­çš„ä¸€ç§æŠ€æœ¯ã€‚ å‰é¢è¯´äº†ä¸€ä¸ªæ¯”è¾ƒç®€å•çš„ä¾‹å­ï¼Œ æ ¹æ®ä¸€æ¡ç›´çº¿æ•°æ®æ¥é¢„æµ‹ç›´çº¿ä¸Šçš„ä»»ä½•ä¸€ä¸ªç‚¹ï¼Œ `y kx + b`è¿™ä¸ªç»“æ„æ˜¯äººä¸ºè®¾è®¡çš„ï¼Œ å¾ˆç®€å•ï¼Œå½“ç”¨äºå¤æ‚çš„æ•°æ®ï¼Œå‘ç°å®ƒå°±ä¸é€‚ç”¨äº†ï¼Œæ¯”å¦‚â€œè¿™å¼ å›¾ç‰‡é‡Œé¢æ˜¯çƒè¿˜æ˜¯ç©å…·â€ ![å°çƒ](../../../../assets/dnn/ball.jpg) ![ç©å…·](../../../../assets/dnn/toy.jpg) å‰é¢ä¸ºäº†æ¨¡å‹èƒ½å¤Ÿå­˜ä¸‹ä¸€æ¡ç›´çº¿çš„ä¿¡æ¯ï¼Œ ç”¨äº†ç»“æ„`y kx + b`ï¼Œç›´çº¿çš„ç‰¹å¾éƒ½å­˜åœ¨æ¨¡å‹é‡Œé¢äº†ã€‚ ç°åœ¨ç”¨æ¥å­˜ä¸€å¼ å›¾çš„ç‰¹å¾ï¼Œå…‰æ˜¯`y kx + b`è¿™ä¸ªçº¿æ€§ç»“æ„ï¼Œ ä»¥åŠ`k å’Œ b`ä¸¤ä¸ªå‚æ•°æ˜¾ç„¶æ— æ³•æ»¡è¶³äº†ï¼Œ éœ€è¦è®¾è®¡ä¸€ä¸ªæ›´å¥½çš„ç»“æ„ï¼Œ è¿™æ—¶ **ç¥ç»ç½‘ç»œ** å°±å‡ºç°äº†ï¼Œ ä¸€ç§ç½‘çŠ¶ç»“æ„ï¼Œèƒ½æ›´å¥½åœ°è®°ä½å›¾ç‰‡çš„ç‰¹å¾ä¿¡æ¯ï¼Œ è€Œè¿™ä¸ªç½‘çŠ¶ç»“æ„åˆæ˜¯å¤šå±‚çš„ï¼Œä¹Ÿå°±æ˜¯æœ‰æ·±åº¦çš„ï¼Œæ‰€ä»¥ç§°ä¹‹ä¸ºæ·±åº¦ç¥ç»ç½‘ç»œï¼ˆDNNï¼Œ deep neural networkï¼‰ï¼Œ æ‰€ä»¥è¯´ DNN æ˜¯ä¸€ç§ç½‘ç»œç»“æ„ï¼Œæ˜¯ä¸ºäº†å®ç°æœºå™¨å­¦ä¹ çš„ä¸€ç§æ‰‹æ®µã€‚ æ¯ä¸€å±‚ç”±å¤šä¸ªèŠ‚ç‚¹ç»„æˆï¼Œ å¦‚ä¸‹å›¾ï¼Œ ä¸€ä¸ª DNN åŒ…å«äº† **è¾“å…¥å±‚**ï¼Œ **éšè—å±‚**ï¼Œ **è¾“å‡ºå±‚**ï¼Œ è¿™é‡Œéšè—å±‚ç”±ä¸‰å±‚ç»„æˆï¼ˆ`A[1], A[2], A[3]`å±‚ï¼‰ï¼Œä½†æ˜¯ç»Ÿç§°éšè—å±‚ï¼š ![æ·±åº¦ç¥ç»ç½‘ç»œ](../../../../assets/dnn/dnn.jpg) **è¾“å…¥å±‚**ï¼š å›¾ä¸­å°±æ˜¯ä¸€ä¸ªæ·±åº¦ç¥ç»ç½‘ç»œç»“æ„ï¼Œ `x` æ˜¯è¾“å…¥ï¼Œ æ¯”å¦‚`x`è¿™é‡Œå¯ä»¥æ˜¯å›¾ç‰‡, è¾“å…¥æœ‰å¤šä¸ªèŠ‚ç‚¹ï¼Œæ¯ä¸ªèŠ‚ç‚¹å¯ä»¥æ˜¯ä¸€ä¸ªåƒç´ ç‚¹å€¼ï¼Œ è¿™é‡Œè¾“å…¥å±‚ç”»äº† 7 ä¸ªèŠ‚ç‚¹ï¼Œ å‡å¦‚æˆ‘ä»¬æœ‰ä¸€å¼ å›¾ç‰‡æ˜¯ `10 x 10`çš„åˆ†è¾¨ç‡ï¼Œåˆ™è¾“å…¥å±‚å…±éœ€è¦ `100` ä¸ªèŠ‚ç‚¹ã€‚ è¿™é‡Œè¾“å…¥å±‚æ˜¯ä¸€ä¸ªä¸€ç»´ç»“æ„ï¼Œå®é™…æƒ…å†µå¯èƒ½æœ‰å¤šç»´ç»“æ„ï¼Œ æ¯”å¦‚è¾“å…¥å¦‚æœæ˜¯ä¸€å¼ ç°åº¦å›¾ç‰‡ï¼Œåˆ†è¾¨ç‡`3x3`ï¼Œè¿™å…¶å®æ˜¯ä¸€ä¸ªäºŒç»´ç»“æ„ï¼Œå³ä¸¤è¡Œä¸¤åˆ—çš„çŸ©é˜µï¼ˆå…³äºçŸ©é˜µçš„æ¦‚å¿µè¯·è‡ªè¡Œå­¦ä¹ ï¼Œæˆ–è€…æš‚ä¸”ç†è§£æˆäºŒç»´æ•°ç»„ï¼‰ï¼Œæ¯”å¦‚ï¼š ``` [[109 138 110] [220 37 166] [32 243 67] ] ``` æ¯ä¸ªåƒç´ ç‚¹çš„å€¼å–å€¼èŒƒå›´âˆˆ[0, 255]ï¼Œç„¶åæˆ‘ä»¬å°†å…¶å¹³é“ºåå˜æˆå…± 9 ä¸ªæ•°æ®çš„ä¸€ç»´æ•°ç»„ç»™è¾“å…¥å±‚ ``` [109 138 110 220 37 166 32 243 67] ``` > å¦å¤–ï¼Œ ä¸€èˆ¬ä¹Ÿä¼šå°†è¾“å…¥å±‚çš„å€¼å½’ä¸€åŒ–åˆ°èŒƒå›´`[0, 1]` å¦‚æœæ˜¯ä¸€å¼ å½©è‰²å›¾ç‰‡ï¼Œé‚£å°±æ˜¯ä¸‰ç»´ï¼Œå³`é«˜ã€å®½ã€é¢œè‰²é€šé“`ï¼Œé¢œè‰²é€šé“æ¯”å¦‚`RGB`ä¸‰ä¸ªé¢œè‰²é€šé“ï¼Œå³ï¼Œè¾“å…¥æœ‰å½¢çŠ¶ï¼ˆåŒ…å«äº†ç»´åº¦å’Œæ¯ä¸ªç»´åº¦çš„æ•°æ®æ•°é‡ï¼‰ï¼Œæ¯”å¦‚ä¸Šé¢çš„ä¸€ç»´è¾“å…¥å½¢çŠ¶ä¸º`(9)`ï¼Œå…¶å®ƒå›¾åƒé€šå¸¸ä»¥`(é«˜ï¼Œå®½ï¼Œé€šé“æ•°)`æ¥è¡¨ç¤ºå½¢çŠ¶ï¼Œæ¯”å¦‚`(10, 10, 3)`è¡¨ç¤ºåˆ†è¾¨ç‡`10 x 10`ï¼Œ å¹¶ä¸”æœ‰ä¸‰ä¸ªé¢œè‰²é€šé“ï¼Œ æ¯”å¦‚`RGB`ã€‚ è¿™é‡Œä¸ºäº†å…¥é—¨å¥½ç†è§£ï¼ŒåŸç†åªä»‹ç»ä¸€ç»´çš„æƒ…å†µ **è¾“å‡ºå±‚**ï¼š `y` æ˜¯è¾“å‡ºï¼Œè¿™é‡Œè¾“å‡ºæœ‰ä¸¤ä¸ªå€¼ï¼Œä½ å¯ä»¥ç†è§£æˆå°±æ˜¯ MaixPy çš„ä¸¤ä¸ªæµ®ç‚¹å€¼çš„ `list` `[Y1, Y2]`ï¼Œ `Y1`æ˜¯`æ˜¯å°çƒçš„æ¦‚ç‡`ï¼Œå€¼âˆˆ[0, 1], `Y2`æ˜¯`æ˜¯ç©å…·çš„æ¦‚ç‡`ã€‚ æ‰€ä»¥æœ€ç»ˆæˆ‘ä»¬ä½¿ç”¨è¿™ä¸ªæ¨¡å‹ï¼Œ å°±æ˜¯ç»™å®ƒä¸€å¼ å›¾ç‰‡ï¼Œ æœºå™¨æŒ‰ç…§è¿™ä¸ªæ¨¡å‹è§„å®šçš„ç»“æ„å’Œç®—æ³•è¿›è¡Œè®¡ç®—åå¾—åˆ°ä¸€ä¸ª `list`ï¼Œ æˆ‘ä»¬æ ¹æ®è¿™ä¸ªè¾“å‡ºçš„å€¼å°±çŸ¥é“å›¾ä¸­æ˜¯ä»€ä¹ˆä¸œè¥¿äº†ã€‚ **éšè—å±‚**: è¿æ¥è¾“å…¥å±‚å’Œè¾“å‡ºå±‚çš„éšè—å±‚ï¼Œä»¥åŠä¸­é—´çš„è¿æ¥ï¼Œè´Ÿè´£äº†å°†è¾“å…¥æ•°æ®æ¨ç®—æˆåˆç†çš„è¾“å‡ºå€¼ã€‚ ## ä¸­é—´ä¼‘æ¯ï¼Œæ€»ç»“ åˆ°ç°åœ¨ä¸ºæ­¢ï¼Œ ä½ çŸ¥é“ï¼Œ **æ¨¡å‹**æ˜¯ä»€ä¹ˆï¼šå°±æ˜¯ä¸€ç»„æ•°æ®ç»“æ„ï¼Œä¿å­˜äº†ä¸€ä¸ªç½‘ç»œçš„å½¢çŠ¶ï¼Œä»¥åŠé‡Œé¢çš„å‚æ•°ï¼Œ é€šå¸¸ï¼Œè¿™ä¸ªæ¨¡å‹çš„æ•°æ®å¯ä»¥è¢«ä¿å­˜æˆæ–‡ä»¶ï¼Œæ¯”å¦‚`.h5 .tflite .kmodel`ç­‰æ–‡ä»¶ï¼Œéƒ½æ˜¯ç”¨æ¥é˜è¿°è¿™ä¸ªæ¨¡å‹çš„å½¢çŠ¶ç»“æ„å’Œå‚æ•°ï¼Œåªä¸è¿‡æ˜¯ä¸åŒè½¯ä»¶ä½¿ç”¨ã€‚ äººä»¬åªéœ€è¦è®¾è®¡æ¨¡å‹ç»“æ„ä»¥åŠå‚æ•°ï¼Œç”¨æ¥è§£å†³ä¸€ç±»é—®é¢˜ï¼Œæ¯”å¦‚å¸¸è§çš„ç‰©ä½“åˆ†ç±»ï¼Œ æ¯”å¦‚å°±æ˜¯ä¸Šé¢è¯´çš„åŒºåˆ†ä¸€å¼ å›¾é‡Œé¢æ˜¯å°çƒè¿˜æ˜¯ç©å…·ã€‚ è¿™ä¸ªæ¨¡å‹é‡Œé¢æœ‰å¾ˆå¤šå‚æ•°ï¼Œå…·ä½“åœ¨éœ€è¦è¯†åˆ«ç‰©ä½“çš„æ—¶å€™ï¼Œä½¿ç”¨å·²çŸ¥åˆ†ç±»çš„æ•°æ®é›†è®©æœºå™¨è‡ªåŠ¨è®­ç»ƒå¾—å‡ºä¸€å¥—åˆé€‚çš„æ¨¡å‹å‚æ•°ã€‚ ç„¶åæˆ‘ä»¬å°±å¯ä»¥è¾“å…¥æ•°æ®ï¼Œè®©é€šè¿‡æ¨¡å‹æ¨ç†å‡ºæ¥è¾“å…¥çš„æ•°æ®æ—¶ä»€ä¹ˆç±»åˆ«äº†ã€‚ æ‰€ä»¥ï¼Œ å¦‚æœæˆ‘ä»¬ä¸éœ€è¦è®­ç»ƒæ¨¡å‹ï¼Œç›´æ¥ä½¿ç”¨åˆ«äººè®­ç»ƒå¥½çš„æ¨¡å‹ï¼Œåªéœ€è¦ï¼š * ç¡®è®¤éœ€æ±‚ï¼Œæ‰¾åˆ°ç°æˆçš„æ¨¡å‹ï¼Œå› ä¸ºæ¨¡å‹å·²ç»æ˜¯è®­ç»ƒå¥½çš„äº†ï¼Œè¾“å…¥å’Œè¾“å‡ºçš„å½¢çŠ¶çš„å«ä¹‰éƒ½å·²ç»å®šäº† * ç¡®è®¤æ¨¡å‹çš„è¾“å…¥å½¢çŠ¶ï¼Œæ¯”å¦‚æ¨¡å‹è¾“å…¥åˆ†è¾¨ç‡`10x10`çš„å½©å›¾ï¼Œåˆ™ä½¿ç”¨æ—¶éœ€è¦å°†ç¬¦åˆè¦æ±‚çš„å›¾ç‰‡ä¼ ä¸ªè¾“å…¥å±‚ * ç¡®è®¤è¾“å‡ºå±‚çš„å«ä¹‰ï¼Œæ¯”å¦‚å‰é¢è¯´çš„è¯†åˆ«å°çƒå’Œç©å…·ï¼Œæœ€åè¾“å‡ºæ˜¯åˆ†åˆ«ä»£è¡¨æ˜¯è¯¥ç‰©ä½“çš„æ¦‚ç‡çš„ listï¼Œ æ¯”å¦‚ `[0.9, 0.1]`, ç¬¬ä¸€ä¸ªå€¼ä»£è¡¨æ˜¯å°çƒçš„æ¦‚ç‡ï¼Œé‚£æˆ‘ä»¬å°±çŸ¥é“è¿™å¼ å›¾é‡Œæœ‰ 90% çš„æ¦‚ç‡æ˜¯å°çƒï¼Œ åªæœ‰ 10% çš„æ¦‚ç‡æ˜¯ç©å…· * å°†æ¨¡å‹æ”¾åˆ°æ¨ç†ç¨‹åºè¿›è¡Œè¿è¡Œã€‚ å…·ä½“ç”¨ä»€ä¹ˆç¨‹åºå…ˆä¸ç€æ€¥ï¼Œä¼šåœ¨ä¸‹ä¸€ç« ä»‹ç» åˆ°è¿™é‡Œï¼Œåº”è¯¥å¤§è‡´ä¸Šæ˜ç™½äº†ä»¥ä¸‹ä¸œè¥¿ï¼š * ä»€ä¹ˆæ˜¯æœºå™¨å­¦ä¹  * ä»€ä¹ˆæ˜¯æ·±åº¦ç¥ç»ç½‘ç»œï¼ˆç®€å•æ¦‚å¿µï¼‰ * æ¨¡å‹æ˜¯ä»€ä¹ˆ * ä»€ä¹ˆæ˜¯è¾“å…¥å±‚ï¼Œè¾“å‡ºå±‚ï¼Œåœ¨ä¸Šé¢ä¸¾ä¾‹çš„åˆ†ç±»åº”ç”¨ä¸­åˆ†åˆ«è¡¨ç¤ºä»€ä¹ˆå«ä¹‰ï¼Œå±‚å½¢çŠ¶æ˜¯ä»€ä¹ˆæ ·çš„ * åˆ°æ­¤ä¸ºæ­¢ï¼Œæˆ‘å¯èƒ½è¿˜ä¸çŸ¥é“ä»€ä¹ˆæ˜¯æ¨¡å‹è®­ç»ƒ * å¦‚æœæˆ‘éœ€è¦ä¸€ä¸ªæ¨¡å‹ï¼Œæˆ‘çŸ¥é“å¦‚ä½•ç¡®è®¤éœ€æ±‚ æ‰€ä»¥ï¼Œ**å¦‚æœä½ åªå¸Œæœ›èƒ½å¤Ÿä½¿ç”¨æ¨¡å‹ï¼Œä¸éœ€è¦è®­ç»ƒï¼Œåˆ°æ­¤å³å¯**ï¼Œ ä¹Ÿä¸éœ€è¦çŸ¥é“æ¨¡å‹æœ‰äº›ä»€ä¹ˆå…·ä½“çš„ä¸œè¥¿ï¼Œä½ å°±æŠŠå®ƒå½“æˆä¸€ä¸ª**é»‘ç›’å·¥å…·ç®±**ä½¿ç”¨å³å¯ã€‚ å¦‚æœæƒ³è¦æ›´æ·±çš„äº†è§£ï¼Œè¯·ç»§ç»­çœ‹ä¸‹é¢çš„å†…å®¹ã€‚ ## ç»§ç»­ï¼šæ·±åº¦ç¥ç»ç½‘ç»œï¼ˆç»­ æ—¢ç„¶è®¾è®¡äº†å¤šå±‚è®¾è®¡ï¼Œé‚£æˆ‘ä»¬ç»§ç»­æ·±å…¥ï¼š **æ•°æ®æµ** ï¼Œ **æƒé‡**ï¼Œ **åç½®**: åœ¨æ¨¡å‹è¿›è¡Œæ¨ç†æ—¶ï¼Œæ•°æ®ä»è¾“å…¥å±‚æµåŠ¨åˆ°è¾“å‡ºå±‚ï¼Œå°±æ˜¯è¿™äº›ç½‘çŠ¶ç®­å¤´çš„æ–¹å‘ï¼ˆç¬¬ä¸‰èŠ‚ç½‘çŠ¶å›¾ï¼‰ï¼Œæ¯ä¸ªç®­å¤´å‰ä¸€å±‚åˆ°åä¸€å±‚çš„è®¡ç®—å¯ä»¥ç”¨ä¸€ä¸ªç†Ÿæ‚‰çš„å…¬å¼:`y wx + b`, ç§°`w`ä¸º**æƒé‡**(weight), `b`ä¸º**åç½®**ï¼ˆbiasï¼‰, æ³¨æ„æ˜¯æ¯ä¸ªç®­å¤´éƒ½æœ‰ä¸€ä¸ªå•ç‹¬çš„`w, b`, ä¹Ÿå°±æ˜¯è¯´åä¸€å±‚èŠ‚ç‚¹çš„å€¼ç­‰äºå‰ä¸€å±‚èŠ‚ç‚¹ç»è¿‡è¿™ä¸ªå…¬å¼è®¡ç®—è¿‡åçš„å€¼ï¼Œ åä¸€å±‚çš„èŠ‚ç‚¹æœ‰å¤šä¸ªå‰ä¸€å±‚èŠ‚ç‚¹æŒ‡å‘ï¼Œé‚£å°±ç­‰äºæ‰€æœ‰å‰ä¸€å±‚èŠ‚ç‚¹çš„å€¼ç»è¿‡è¿™ä¸ªå…¬å¼è®¡ç®—åçš„å€¼çš„å’Œã€‚ å°±è¿™æ ·ç»å†äº†æ— æ•°æ¬¡è¿ç®—åï¼Œç»“æœç»ˆäºåœ¨è¾“å‡ºå±‚ä»¥ä¸€ä¸ªå€¼çš„å½¢å¼å‡ºç°äº†ï¼Œæ•´ä¸ªæ¨ç†ä¹Ÿå°±å®Œæˆäº† **æ¿€æ´»å‡½æ•°**ï¼š ä¸Šé¢çš„æ¨¡å‹è™½ç„¶å¯ä»¥é€šè¿‡è¾“å…¥å¾—åˆ°ç»“æœï¼Œä½†æ˜¯ä¼šå‘ç°ï¼Œæ‰€æœ‰å±‚è®¡ç®—éƒ½æ˜¯çº¿æ€§å‡½æ•°ï¼Œé‚£ä¹ˆä¸ç®¡æœ‰å¤šå°‘å±‚ï¼Œæ•´ä½“å…¶å®è¿˜æ˜¯ä¸€ä¸ªçº¿æ€§å‡½æ•°ï¼Œå³`y0 w1x + b1` + `y w2y0 + b2` > `y w2(w1x + b1) + b2` > `y w2w1x + w2b1 + b2`, å…¶å®è¿˜æ˜¯ä¸€ä¸ªçº¿æ€§å‡½æ•°ï¼Œé‚£ä¹ˆå¤šå±‚çš„æ„ä¹‰å°±æ²¡æœ‰äº†ï¼Œäºæ˜¯æˆ‘ä»¬éœ€è¦åœ¨ä¸­é—´åŠ å…¥éçº¿æ€§å‡½æ•°ï¼Œè®©ç½‘ç»œå†…éƒ¨æ›´åŠ å¤æ‚ä¸€ç‚¹ï¼Œ äºæ˜¯å°±åœ¨æ¯ä¸ªèŠ‚ç‚¹ä¸Šåšæ‰‹è„šï¼Œ åœ¨æ¯ä¸ªèŠ‚ç‚¹è¾“å‡ºæ•°æ®å‰ï¼Œå…ˆå¯¹å…¶ç”¨ä¸€ä¸ªéçº¿æ€§å‡½æ•°è¿ç®—ï¼Œæ¯”å¦‚`sigmod`æˆ–è€…`relu`å‡½æ•°ï¼Œåˆ«å¬åˆ°åå­—å®³æ€•ï¼Œå…¶å®å¾ˆç®€å•ï¼Œçœ‹ä¸‹å›¾, æ€»ä¹‹å°±æ˜¯ x å’Œ y ä¸æˆçº¿æ€§å…³ç³»ï¼š ![sigmod](../../../../assets/dnn/sigmod.jpg) ![relu](../../../../assets/dnn/relu.jpg) å³åˆ°ç°åœ¨ä¸ºæ­¢ï¼Œ é™¤äº†è¾“å…¥å±‚ï¼Œæ‰€æœ‰èŠ‚ç‚¹è¾“å‡ºçš„å€¼éƒ½éœ€è¦ç»è¿‡`Sigmod(âˆ‘(Wn * x + Bn))`, è¾“å‡ºä¸€ä¸ªæµ®ç‚¹æ•°å€¼ **softmax**: è¾“å‡ºå±‚åœ¨æœ€åè¾“å‡ºçš„æ—¶å€™ï¼Œå› ä¸ºå‰é¢çš„è¿ç®—ï¼Œå€¼çš„èŒƒå›´ä¸æ˜¯å¾ˆç»Ÿä¸€ï¼Œè™½ç„¶æˆ‘ä»¬å¯ä»¥é€šè¿‡æ¯”å¤§å°ï¼Œå€¼æœ€å¤§çš„å³è®¤ä¸ºæ˜¯ç­”æ¡ˆï¼Œä½†æ˜¯ä¸ºäº†ç»Ÿä¸€è€Œä¸”å¯ä»¥ç›´è§‚åœ°çŸ¥é“æ¯ä¸ªç±»åˆ«çš„å¯èƒ½æ€§ï¼ˆå¦å¤–ä¹Ÿä¸ºäº†è®­ç»ƒçš„å‡†ç¡®æ€§ï¼Œè¿™é‡Œä¸è®²ï¼‰ï¼Œæ­£å¦‚å‰é¢è®²åˆ°ï¼Œæˆ‘ä»¬æœ€åè¾“å‡ºçš„ä¸€ä¸ªç±»åˆ«çš„æ¦‚ç‡ï¼Œå–å€¼èŒƒå›´âˆˆ[0, 1]ï¼Œ ä¸”æ‰€æœ‰è¾“å‡ºçš„å€¼å’Œä¸º`1`ï¼Œæ‰€ä»¥åœ¨è¾“å‡ºå±‚åé¢å¯¹è¾“å‡ºå±‚çš„æ‰€æœ‰å€¼è¿›è¡Œå¤„ç†ï¼Œå…¬å¼ä¸º ![softmax](../../../../assets/dnn/softmax.jpg) åˆ°æ­¤ï¼Œä»è¾“å…¥åˆ°è¾“å‡ºçš„æ¨ç†è¿‡ç¨‹å°±ç»“æŸäº† ## æ·±åº¦ç¥ç»ç½‘ç»œè®­ç»ƒ å‰é¢ç®€å•ä»‹ç»äº†æ·±åº¦ç¥ç»ç½‘ç»œçš„ç»“æ„ç»„æˆï¼Œ ä»¥åŠä»è¾“å…¥å±‚åˆ°è¾“å‡ºå±‚çš„æ­£å‘è¿‡ç¨‹ï¼Œåœ¨æˆ‘ä»¬ä½¿ç”¨æ¨¡å‹æ—¶ï¼Œå°±æ˜¯è¿™ä¸ªæ­£å‘è¿‡ç¨‹ã€‚ é‚£ä¹ˆï¼Œæ¨¡å‹å®šå¥½äº†ï¼Œé‡Œé¢çš„å‚æ•°ï¼ˆæ¯”å¦‚`w,b`ï¼‰éƒ½æ˜¯éšæœºçš„å€¼ï¼Œæ€ä¹ˆè®©å®ƒè‡ªåŠ¨è®­ç»ƒå¾—åˆ°æ¨¡å‹ä¸­å‚æ•°çš„å€¼å‘¢ï¼Ÿ åœ¨å‰é¢æˆ‘ä»¬è®²åˆ°ï¼Œ ä½¿ç”¨ä¸€äº›æˆ‘ä»¬å·²çŸ¥ç»“æœçš„æ•°æ®è¾“å…¥ï¼Œæ¥å¾—åˆ°å‚æ•°ï¼ŒåŒæ ·åœ°ï¼Œè¿™é‡Œæˆ‘ä»¬ä¹Ÿè¾“å…¥å·²çŸ¥ç»“æœçš„æ•°æ®ï¼Œå¾—åˆ°ç¬¬ä¸€æ¬¡çš„è¾“å‡ºç»“æœ **åˆ¤å®šè¾“å‡ºæ­£ç¡®æ€§(accuracy)ï¼ˆæˆ–è€…è¯´è¯¯å·®/lossï¼‰** å’Œ **æŸå¤±å‡½æ•°**ï¼š åœ¨è¾“å‡ºå±‚å¾—å‡ºç»“æœï¼Œæ¯”å¦‚å¾—åˆ°äº†`[0.6, 0.4]` ä»£è¡¨æ˜¯å°çƒçš„æ¦‚ç‡`0.6`, æ˜¯ç©å…·çš„æ¦‚ç‡`0.4`, ä½†æ˜¯å› ä¸ºæ˜¯å·²çŸ¥ç­”æ¡ˆçš„æ•°æ®ï¼Œ å®é™…æ­£ç¡®ç­”æ¡ˆæ˜¯`[1.0, 0.0]`, è¿™æ˜æ˜¾ä¸ç¬¦åˆè¦æ±‚ã€‚ æ‰€ä»¥æˆ‘ä»¬å¾—å‡ºæ­£ç¡®ç­”æ¡ˆå’Œæ¨ç®—çš„ç­”æ¡ˆçš„è¯¯å·®ä¸ºï¼š `[0.4, 0.4]`, ä½†æ˜¯å‘ç°ä¸€ä¸ªé—®é¢˜å°±æ˜¯è¿™ä¸ªè¯¯å·®å€¼çš„èŒƒå›´ä¸å¤ªå¥½çœ‹ï¼Œè¦æ˜¯è¯¯å·®çš„å–å€¼èŒƒå›´âˆˆ`[0, âˆ]` å°±å¥½äº†ã€‚ åœ¨é«˜ä¸­æ•°å­¦ä¸­æœ‰ä¸ªå‡½æ•°`y log10(x)`, åæ ‡å›¾å¦‚ä¸‹ï¼š ![log10](../../../../assets/dnn/log10x.jpg) å‘ç°`x`å–å€¼âˆˆ`[0, 1]`æ—¶ï¼Œ ` y`çš„å–å€¼åˆšå¥½âˆˆ`[0, âˆ]`ï¼Œ è€Œæˆ‘ä»¬çš„è¾“å‡ºç»“æœä¹Ÿåˆšå¥½âˆˆ`[0, 1]`ï¼ æ‰€ä»¥ï¼Œæˆ‘ä»¬ç›´æ¥è¿™æ ·è®¡ç®—è¯¯å·®ï¼š `error log10(è¾“å‡º)`ï¼Œ ä¹Ÿå°±æ˜¯è¾“å‡ºè¶Šæ¥è¿‘`1`ï¼Œè¯¯å·®å°±è¶Šæ¥è¿‘ `0`ï¼Œè¿™ç§æ–¹æ³•ç§°ä¹‹ä¸º`äº¤å‰ç†µæŸå¤±ï¼ˆCEE, Cross Entropy Error)`ï¼Œ é™¤äº†è¿™ç§æ–¹æ³•è¿˜æœ‰å…¶å®ƒçš„æ¯”å¦‚å‡æ–¹è¯¯å·®ï¼ˆMSEï¼ŒMean Squared Errorï¼‰ç­‰ è‡³æ­¤ï¼Œæˆ‘ä»¬çŸ¥é“äº†ç°åœ¨ç»“æœå’Œå®é™…ç»“æœçš„è¯¯å·® **è¯¯å·®çš„åå‘ä¼ æ’­** å’Œ **å‚æ•°ä¼˜åŒ–ï¼ˆæƒé‡æ›´æ–°ï¼‰**ï¼š å› ä¸ºæ¨¡å‹çš„å‚æ•°è¿˜ä¸ç¬¦åˆæˆ‘ä»¬çš„é¢„æœŸï¼Œ é‚£æˆ‘ä»¬éœ€è¦å¯¹å‚æ•°è¿›è¡Œä¿®æ­£ï¼Œæˆ‘ä»¬ä½¿ç”¨åå‘ä¼ æ’­çš„æ–¹å¼ã€‚ å‰é¢æˆ‘ä»¬å¾—å‡ºäº†è¯¯å·®ï¼Œ å› ä¸ºå‚æ•°ä¸å¤Ÿæ­£ç¡®ï¼Œ æˆ‘ä»¬ç”¨è¿™ä¸ªè¯¯å·®å»ä¿®æ”¹æ¨¡å‹ä¸­çš„å‚æ•°ï¼Œæ¥è¾¾åˆ°å¾®è°ƒæ¨¡å‹å†…å‚æ•°çš„æ•ˆæœã€‚ å°±å¥½åƒä½ åœ¨å¼€ä¸€ä¸ªæ°´é¾™å¤´ï¼Œ æ°´å¤§äº†ï¼ˆå³è¯¯å·®å¤§äº†ï¼‰ï¼Œå°±æŠŠå¼€å…³æ‹§ç´§ä¸€ç‚¹ï¼Œå°äº†å°±æ‹§æ¾ä¸€ç‚¹ï¼Œå¯¹å…¶åšè°ƒæ•´ã€‚ å°±åƒæˆ‘ä»¬æ­£å‘æ¨ç®—ä¸€æ ·ï¼Œè¿™æ¬¡æ¢æˆäº†åå‘ï¼Œä»åå¾€å‰ï¼Œå¯ä»¥å¾—åˆ°åœ¨æ¯ä¸ªèŠ‚ç‚¹å¤„çš„è¯¯å·®å€¼ï¼Œç„¶åå†æ ¹æ®ä¸€å®šçš„å­¦ä¹ ç‡å»æ›´æ–°æ¨¡å‹å†…å‚æ•°ã€‚è¿™é‡Œæš‚æ—¶å°±ä¸ä»”ç»†å±•å¼€è®²äº†ã€‚ æ€»ä¹‹ï¼Œç»è¿‡ä¸€è½®åå‘çš„è°ƒæ•´å‚æ•°ä¹‹åï¼Œå¾—åˆ°äº†æ–°çš„æ¨¡å‹ **è¡¡é‡æ¨¡å‹å¥½åï¼šè®­ç»ƒé›†è¯¯å·®å’ŒéªŒè¯é›†è¯¯å·®**ï¼š æˆ‘ä»¬ä½¿ç”¨è®­ç»ƒæ•°æ®é›†é‡Œé¢çš„æ•°æ®åå¤å»è¿›è¡Œæ­£å‘æ¨ç†å¾—å‡ºè¯¯å·®ï¼Œç„¶ååå‘è°ƒæ•´è¿™ä¸ªè¿‡ç¨‹ï¼Œåœ¨ä½¿ç”¨å®Œè®­ç»ƒæ•°æ®é›†åï¼Œå¯èƒ½ä¼šå¾—åˆ°è¯¯å·®æ¯”è¾ƒå°ï¼Œä½†æ˜¯è¿™åªèƒ½è¯´æ˜è¿™ä¸ªæ¨¡å‹å¯¹è¿™æ‰¹æ•°æ®æ¥è¯´æ¯”è¾ƒå‡†ç¡®ï¼Œæ¢ä¸€äº›æ–°çš„æ•°æ®å¯èƒ½å°±ä¸å‡†ç¡®äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦ç”¨ä¸€äº›è®­ç»ƒé›†é‡Œæ²¡æœ‰çš„æ•°æ®å»**éªŒè¯**æ¨¡å‹çš„æ•ˆæœï¼š æˆ‘ä»¬ä½¿ç”¨ **éªŒè¯æ•°æ®é›†** å»æ­£å‘æ¨ç®—ï¼Œå¾—åˆ°è¯¯å·®ï¼Œå› ä¸ºéªŒè¯æ•°æ®é›†æ²¡æœ‰å‚ä¸è®­ç»ƒï¼Œä¹Ÿå°±æ˜¯è¯´ç°åœ¨æ¨¡å‹çš„å‚æ•°å’ŒéªŒè¯æ•°æ®é›†æ²¡æœ‰ä»»ä½•å…³ç³»ï¼Œæˆ‘ä»¬ç”¨è¿™ä¸ªå¾—åˆ°çš„è¯¯å·®æ¥æ’å®šè¿™ä¸ªæ¨¡å‹çš„å¥½åï¼Œè¯¯å·®è¶Šå°åˆ™è®¤ä¸ºæ•ˆæœè¶Šå¥½ **å¤šæ¬¡è¿­ä»£**ï¼š å¦‚æœå°†æ‰€æœ‰æ•°æ®é›†è®­ç»ƒå®Œäº†ï¼Œå‘ç°è¯¯å·®ä¾ç„¶å¾ˆå¤§ï¼Œé‚£ä¹ˆå¯ä»¥ç”¨å¤šæ¬¡è®­ç»ƒçš„æ–¹æ³•æ¥ç»§ç»­è®­ç»ƒï¼Œå³**å¤šæ¬¡è¿­ä»£**ï¼Œæ¯æ¬¡è¿­ä»£å®Œæˆåéƒ½ç”¨ éªŒè¯æ•°æ®é›† å»éªŒè¯æ•ˆæœå¦‚ä½•ï¼Œ å¦‚æœè®­ç»ƒé›†çš„è¯¯å·®å’ŒéªŒè¯é›†çš„è¯¯å·®éƒ½è¶³å¤Ÿå°ï¼Œæˆ‘ä»¬å°±å¯ä»¥æš‚ä¸”è®¤ä¸ºæ¨¡å‹å·²ç»æœ‰ä¸é”™çš„æ•ˆæœäº†ã€‚ **æµ‹è¯•é›†**ï¼š è¿™æ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç”¨åˆä¸€æ‰¹æ–°çš„æ•°æ®å»æµ‹è¯•æˆ‘ä»¬çš„æ¨¡å‹æ•ˆæœå¦‚ä½•ï¼Œå› ä¸ºè¿™æ˜¯å…¨æ–°çš„æ•°æ®ï¼Œæ²¡æœ‰å‚ä¸åˆ°è®­ç»ƒä¹Ÿæ²¡å‚ä¸åˆ°éªŒè¯ï¼ˆå³ç¡®å®šä»€ä¹ˆæ—¶å€™åœæ­¢è®­ç»ƒï¼‰ï¼Œç†è®ºä¸Šæ›´æœ‰å…¬ä¿¡åŠ›ã€‚å¦‚æœæµ‹è¯•è¯¯å·®è¾ƒå°ï¼Œé‚£ä¹ˆè®­ç»ƒå°±ç®—æˆåŠŸäº† **ä¼˜åŒ–è®­ç»ƒ**ï¼š å¦‚æœæœ€ç»ˆæ•ˆæœä¸å¤ªå¥½ï¼Œ æœ‰å¾ˆå¤šåœ°æ–¹å¯ä»¥è°ƒæ•´ï¼Œ æ¯”å¦‚ * è®­ç»ƒè¿­ä»£çš„æ¬¡æ•°ï¼Œå¹¶ä¸æ˜¯è¶Šå¤šè¶Šå¥½ï¼Œè¿‡å¤šçš„åœ¨ä¸€æ‰¹æ•°æ®é›†ä¸Šè®­ç»ƒå¯èƒ½å¯¼è‡´æ¨¡å‹åªå¯¹è¿™æ‰¹æ•°æ®æœ‰æ•ˆï¼Œæ³›åŒ–èƒ½åŠ›ä¸å¤Ÿï¼Œ ä¹Ÿå°±æ˜¯**è¿‡åº¦æ‹Ÿåˆ** * æ¯æ¬¡è®­ç»ƒçš„å­¦ä¹ ç‡ä¹Ÿå¯ä»¥è°ƒæ•´ * æ£€æŸ¥æ•°æ®é›†ï¼Œæ˜¯å¦æœ‰ä¸€äº›å½±å“åˆ†ç±»çš„æ•°æ®å­˜åœ¨ * ä¼˜åŒ–ç½‘ç»œç»“æ„ï¼Œä¸ç®¡æ˜¯è¾“å…¥è¾“å‡ºè¿˜æ˜¯å†…éƒ¨ç»“æ„å’Œå‚æ•°ï¼Œæ ¹æ®ä¸åŒçš„æ•°æ®å’Œä»»åŠ¡å¯ä»¥æœ‰æ›´ä¼˜çš„è®¾è®¡ï¼Œä¹Ÿå«**ç‰¹å¾å·¥ç¨‹** ## è¯´åœ¨æœ€å åˆ°è¿™é‡Œï¼Œåº”è¯¥å¤§è‡´ä¸Šæ˜ç™½äº†ä»¥ä¸‹ä¸œè¥¿ï¼š * ä»€ä¹ˆæ˜¯æœºå™¨å­¦ä¹  * ä»€ä¹ˆæ˜¯æ·±åº¦ç¥ç»ç½‘ç»œ * æ¨¡å‹æ˜¯ä»€ä¹ˆ * ä»€ä¹ˆæ˜¯è¾“å…¥å±‚ï¼Œè¾“å‡ºå±‚ï¼Œåœ¨ä¸Šé¢ä¸¾ä¾‹çš„åˆ†ç±»åº”ç”¨ä¸­åˆ†åˆ«è¡¨ç¤ºä»€ä¹ˆå«ä¹‰ï¼Œå±‚å½¢çŠ¶æ˜¯ä»€ä¹ˆæ ·çš„ * ä»€ä¹ˆæ˜¯è®­ç»ƒï¼Œæœ‰ä»€ä¹ˆä½œç”¨ * æ•°æ®è®­ç»ƒé›†ï¼ŒéªŒè¯é›†ï¼Œæµ‹è¯•é›†åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Œç”¨åœ¨ä»€ä¹ˆåœ°æ–¹ï¼Œéœ€è¦æ³¨æ„ä»€ä¹ˆ * è¡¡é‡æ¨¡å‹å¥½åçš„æ ‡å‡†æ˜¯ä»€ä¹ˆ å¦‚æœè¿˜ä¸æ˜ç™½çš„ï¼Œå¯ä»¥å†ä»”ç»†ç†è§£ä¸€éï¼Œæˆ–è€…æŸ¥é˜…ç›¸å…³èµ„æ–™ï¼Œå¦‚æœä½ å‘ç°æœ‰æ›´å¥½çš„é˜è¿°æ–¹æ³•ï¼Œæ¬¢è¿æŒ‰ç…§å·¦è¾¹ç›®å½•çš„æ–‡æ¡£è´¡çŒ®æ–¹æ³•å‚ä¸è´¡çŒ® ## ä¿®æ”¹è®°å½• æ—¥æœŸ ä½œè€… å¤‡æ³¨ 2020.11.17 [neucrack](https://neucrack.com) åˆå§‹ç‰ˆæœ¬ï¼Œæ ¹æ® MaixPy çš„éœ€è¦ä»‹ç»æ·±åº¦ç¥ç»ç½‘ç»œåŸºæœ¬æ¦‚å¿µï¼Œåˆç¨¿ "},"/soft/maixpy/zh/course/network/network_config.html":{"title":"å¦‚ä½•ç»™ MaixPy è¿æ¥ç½‘ç»œ","content":" title: å¦‚ä½•ç»™ MaixPy è¿æ¥ç½‘ç»œ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy å¦‚ä½•ç»™ MaixPy è¿æ¥ç½‘ç»œ > å¤§ä½¬é¼  2020 11 26 ç¼–è¾‘ æ—¢ç„¶å« AIOT è‡ªç„¶ä¸èƒ½å°‘äº†è”ç½‘ï¼Œ MaixPy ç°åœ¨æ”¯æŒ W5X00 / EPS32 / ESPAT ç­‰è”ç½‘çš„æ–¹æ³•ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚ ESP32 éœ€è¦æ­é…[ä¸“ç”¨çš„ SPI å›ºä»¶](https://github.com/sipeed/Maixduino_esp32_fimware)ï¼Œæ”¯æŒ TCP / UDP å®¢æˆ·ç«¯ã€‚ ESPAT é…åˆä¹é‘«[AT å›ºä»¶ï¼ˆesp atï¼‰](https://github.com/espressif/esp at)ï¼Œåªæ”¯æŒ TCP å®¢æˆ·ç«¯ã€‚ W5X00 æ¥ä¸Šç½‘çº¿å°±å¯ä»¥é…ç½®+ä½¿ç”¨äº†ï¼Œæ”¯æŒ TCP / UDP å®¢æˆ·ç«¯ã€‚ åœ¨ä½¿ç”¨ Socket ä¹‹å‰ï¼Œè¯·å…ˆæŠŠç½‘ç»œè¿æ¥å¥½ï¼Œæœ‰çº¿çš„éœ€è¦è§£æ DNS å’Œ IP åœ°å€ã€ç½‘å…³ï¼Œæ— çº¿çš„éœ€è¦å¡« WIFI çš„è´¦å·ï¼ˆSSIDï¼‰å’Œå¯†ç ï¼Œåƒä¸‡ä¸è¦é—®å‡ºâ€œå‘ç° Bug äº†ï¼ï¼ï¼æ€ä¹ˆè®¿é—®ä¸äº†ç™¾åº¦ï¼ˆæˆ‘æ²¡æœ‰è”ç½‘ï¼‰â€çš„é—®é¢˜ã€‚ ## è®¡ç®—æœºç½‘ç»œåŸºç¡€ > ä¸ä¼šè¿™äº›åŸºç¡€ï¼Œä½ ä¹Ÿç”¨ä¸èµ·æ¥ã€‚ åœ¨åº”ç”¨ MaixPy ç½‘ç»œåŠŸèƒ½å»ºè®®çŸ¥é“ä»¥ä¸‹å…³é”®è¯ï¼š network å’Œ socket æ˜¯ä»€ä¹ˆï¼Ÿ TCP \\ UDP æ˜¯ä»€ä¹ˆï¼Ÿ HTTP \\ HTTPS \\ MQTT \\ FTP åˆæ˜¯ä»€ä¹ˆï¼Ÿ ä»å®ç”¨ä¸»ä¹‰çš„è§’åº¦è®²è§£ï¼Œåœ¨ maixpy (micropython) ä¸­ï¼Œå…³äºç½‘ç»œçš„å†…å®¹åˆ†ä¸ºæœ€åŸºç¡€çš„ä»¥ä¸‹ä¸¤å±‚æ¥å£ã€‚ ### network è´Ÿè´£ç®¡ç†ç½‘å¡çš„æ¥å£ï¼Œç½‘å¡æ˜¯å°†ç½‘ç»œæ•°æ®åè®®ä»ç¡¬ä»¶å‘å‡ºçš„ä¸€ç±»ç¡¬ä»¶æ¥å£ï¼Œå±äºç¡¬ä»¶èŒƒç•´ã€‚ ä¸¾ä¾‹æ¥è¯´ï¼š é€šå¸¸ WIFI ç½‘å¡ä¸»è¦èŒèƒ½å°±æ˜¯è¿æ¥æ— çº¿è·¯ç”±å™¨ï¼Œå¸®åŠ©ç”¨æˆ·è¿æ¥äº’è”ç½‘ï¼Œè€Œæœ‰çº¿ç½‘å¡åˆ™æ˜¯å€Ÿç”±ç½‘çº¿å¸®åŠ©ç”¨æˆ·è¿æ¥äº’è”ç½‘ï¼Œå®ƒä»¬ä¼šåœ¨è¿™ä¸€å±‚å®Œæˆç½‘å…³é…ç½®ã€DNS è§£æã€Ping è¯·æ±‚ç­‰æ“ä½œï¼Œè‹¥æ˜¯ä½œä¸ºæœåŠ¡ç«¯è¿˜ä¼šå®Œæˆæ— çº¿é…ç½‘ã€åŸŸåè§£æç­‰åŠŸèƒ½ã€‚ ### socket ä¸ç½‘å¡ä¸åŒçš„åœ°æ–¹åœ¨äº socket åªè´Ÿè´£åº”ç”¨å±‚çš„æ•°æ®åè®®çš„ä¼ è¾“ï¼Œé€šå¸¸ç”±æœ€åº•å±‚çš„ PCB è¿æ¥å—å°è£…æˆç°åœ¨å¸¸è§çš„ socket å¥—æ¥å­—æ¥å£æ¨¡å—ï¼Œå®ƒä¸»è¦æä¾› TCP/IP ä¸ UDP çš„è¿æ¥ä¼ è¾“æ–¹æ³•ï¼Œç”¨æˆ·å¯ä»¥åŸºäºè¯¥æ¥å£è¿›è¡Œç½‘ç»œç¼–ç¨‹ã€‚ #### TCP å’Œ UDP æ˜¯ä»€ä¹ˆï¼Ÿ åœ¨ socket çš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬åˆ†ä¸º TCP å’Œ UDP ä¸¤ä¸ªå…¸å‹ä¼ è¾“æ¥å£ï¼Œä¸»è¦å¼ºè°ƒçš„æ˜¯ä¸¤ä¸ªåº”ç”¨ä¹‹é—´é€šä¿¡æ˜¯å¦ä¿æŒè¿æ¥ï¼Œå¦‚æœä¸ä¿æŒè¿æ¥ï¼Œåˆ™ä½¿ç”¨ UDP è¿æ¥æ–¹å¼ï¼Œéœ€è¦ä¸æœåŠ¡å™¨ä¿æŒé•¿è¿æ¥åˆ™ä½¿ç”¨ TCP è¿æ¥æ–¹å¼ï¼Œæ³¨æ„ UDP å’Œ TCP ç«¯å£æ˜¯å½¼æ­¤ç‹¬ç«‹çš„å­˜åœ¨ï¼Œä¸éœ€è¦æ··ä¸ºä¸€è°ˆã€‚ > TCP æ‹¥æœ‰æµå¼é•¿è¿æ¥é‡ä¼ æœºåˆ¶ï¼Œé€šè¿‡å†…éƒ¨å‡ ç±»è®¡æ—¶å™¨å’Œæ•°æ®æ‹¥å µçª—å£å¯ä»¥ä¸€å®šç¨‹åº¦ä¸Šä¿è¯ç”¨æˆ·æ•°æ®ä¸ä¼šä¸¢å¤±ï¼Œä½†å­˜åœ¨è¶…æ—¶ç­‰å¾…çš„æƒ…å†µã€‚ > UDP åˆ™ä¸éœ€è¦è¿æ¥ï¼Œç›´æ¥è®²æ•°æ®ä»¥å¹¿æ’­çš„å½¢å¼å‘ä¸Šå±‚äº¤æ¢æœºã€è·¯ç”±å™¨ä¹‹é—´ä¼ è¾“ï¼Œæ‰€ä»¥ UDP åŒ…å…·æœ‰ä¸€å®šçš„ç©¿é€æ€§ï¼Œå¯ä»¥åœ¨ä¸Šçº§ç½‘ç»œä¸­ä¸ç»è¿‡é…ç½®å‘å¤–ç©¿é€æ•°æ®åŒ…ï¼ˆå®é™…æƒ…å†µä¼šè¢«æ”¹å˜ï¼‰ã€‚ #### HTTP \\ HTTPS \\ MQTT \\ FTP æ˜¯ä»€ä¹ˆï¼Ÿ è€ŒåŸºäºæ­¤å¯ä»¥æ‹“å±•å‡ºè¿è¡Œåœ¨ 80 ç«¯å£çš„ HTTP åè®®ï¼Œåœ¨ 443 ç«¯å£ä¼ è¾“çš„ HTTP ç­‰é€šä¿¡åè®®ï¼Œåœ¨ 21 ç«¯å£çš„ FTP æ–‡ä»¶ä¼ è¾“åè®®ï¼ŒåŸºäºæ­¤çš„è¿˜æœ‰ MQTT å’Œ WebSocket ç­‰åº”ç”¨ä¼ è¾“åè®®ï¼Œä½†å®ƒä»¬éƒ½æ˜¯åŸºäºåŸå§‹ socket æ¥å£å®Œæˆçš„åŠŸèƒ½ï¼Œä¸åŒçš„åªæ˜¯å°è£…çš„åº”ç”¨åè®®ã€‚ ### å¦‚ä½•è”ç½‘ï¼Ÿ è¯·æ ¹æ®è‡ªå·±çš„ç½‘ç»œæƒ…å†µé€‰æ‹©å¯¹åº”çš„è”ç½‘è„šæœ¬ï¼Œå¯ä»¥ç›´æ¥è¿è¡Œï¼Œä¹Ÿå¯ä»¥å°†å…¶ä½œä¸ºç±»åº“ä¸Šä¼ åˆ°ç¡¬ä»¶ä¸­ï¼Œæ–¹ä¾¿åç»­çš„ socket å¼€å‘ï¼Œå¯ä»¥ä½¿ç”¨ç±»ä¼¼å¦‚ä¸‹çš„è„šæœ¬å®Œæˆç½‘ç»œçš„é…ç½®ï¼Œè¿™åœ¨ç¤ºä¾‹ä»£ç ä¸­å¯ä»¥å¾—çŸ¥å…·ä½“ç”¨æ³•ã€‚ ä¸€èˆ¬éªŒè¯ç”¨æ³•ï¼š ```python import network_esp32 print(network_esp32) print(dir(network_esp32)) from network_esp32 import wifi print(wifi) '''ouput >>> <module 'network_esp32' from 'network_esp32.py'> ['__class__', '__name__', '__file__', 'GPIO', 'network', 'time', 'board_info', 'fm', 'wifi'] <class 'wifi'> MicroPython v0.5.1 140 g7bf6445e7 dirty on 2020 11 26; Sipeed_M1 with kendryte k210 Type \"help()\" for more information. >>> ''' ``` çœŸå®ç¯å¢ƒç”¨æ³•ï¼š ```python SSID \"Sipeed_2.4G\" PASW \"xxxxxxxx\" def enable_esp32(): from network_esp32 import wifi if wifi.isconnected() False: for i in range(5): try: # Running within 3 seconds of power up can cause an SD load error # wifi.reset(is_hard False) wifi.reset(is_hard True) print('try AT connect wifi...') wifi.connect(SSID, PASW) if wifi.isconnected(): break except Exception as e: print(e) print('network state:', wifi.isconnected(), wifi.ifconfig()) enable_esp32() def enable_espat(): from network_espat import wifi if wifi.isconnected() False: for i in range(5): try: wifi.reset() print('try AT connect wifi...') wifi.connect(SSID, PASW) if wifi.isconnected(): break except Exception as e: print(e) print('network state:', wifi.isconnected(), wifi.ifconfig()) #enable_espat() ``` #### Maixduino + ESP32 ä½¿ç”¨ Maixduino çš„ esp32 è”ç½‘ï¼Œä¸Šä¼ è¯¥ç±»åº“ [network_esp32.py](https://github.com/sipeed/MaixPy v1_scripts/blob/master/network/network_esp32.py) å³å¯ã€‚ ```python # This file is part of MaixPY # Copyright (c) sipeed.com # # Licensed under the MIT license: # http://www.opensource.org/licenses/mit license.php # import time, network from Maix import GPIO from fpioa_manager import fm class wifi(): nic None def reset(force False, reply 5, is_hard True): if force False and __class__.isconnected(): return True try: # IO map for ESP32 on Maixduino fm.register(25,fm.fpioa.GPIOHS10)#cs fm.register(8,fm.fpioa.GPIOHS11)#rst fm.register(9,fm.fpioa.GPIOHS12)#rdy if is_hard: print(\"Use Hareware SPI for other maixduino\") fm.register(28,fm.fpioa.SPI1_D0, force True)#mosi fm.register(26,fm.fpioa.SPI1_D1, force True)#miso fm.register(27,fm.fpioa.SPI1_SCLK, force True)#sclk __class__.nic network.ESP32_SPI(cs fm.fpioa.GPIOHS10, rst fm.fpioa.GPIOHS11, rdy fm.fpioa.GPIOHS12, spi 1) print(\"ESP32_SPI firmware version:\", __class__.nic.version()) else: # Running within 3 seconds of power up can cause an SD load error print(\"Use Software SPI for other hardware\") fm.register(28,fm.fpioa.GPIOHS13, force True)#mosi fm.register(26,fm.fpioa.GPIOHS14, force True)#miso fm.register(27,fm.fpioa.GPIOHS15, force True)#sclk __class__.nic network.ESP32_SPI(cs fm.fpioa.GPIOHS10,rst fm.fpioa.GPIOHS11,rdy fm.fpioa.GPIOHS12, mosi fm.fpioa.GPIOHS13,miso fm.fpioa.GPIOHS14,sclk fm.fpioa.GPIOHS15) print(\"ESP32_SPI firmware version:\", __class__.nic.version()) # time.sleep_ms(500) # wait at ready to connect except Exception as e: print(e) return False return True def connect(ssid \"wifi_name\", pasw \"pass_word\"): if __class__.nic ! None: return __class__.nic.connect(ssid, pasw) def ifconfig(): # should check ip ! 0.0.0.0 if __class__.nic ! None: return __class__.nic.ifconfig() def isconnected(): if __class__.nic ! None: return __class__.nic.isconnected() return False if __name__ \"__main__\": # It is recommended to callas a class library (upload network_espat.py) # from network_esp32 import wifi SSID \"Sipeed_2.4G\" PASW \"xxxxxxxx\" def check_wifi_net(reply 5): if wifi.isconnected() ! True: for i in range(reply): try: wifi.reset(is_hard True) print('try AT connect wifi...') wifi.connect(SSID, PASW) if wifi.isconnected(): break except Exception as e: print(e) return wifi.isconnected() if wifi.isconnected() False: check_wifi_net() print('network state:', wifi.isconnected(), wifi.ifconfig()) # The network is no longer configured repeatedly import socket sock socket.socket() # your send or recv # see other demo_socket_tcp.py / udp / http / mqtt sock.close() '''ouput MicroPython v0.5.1 136 g039f72b6c dirty on 2020 11 18; Sipeed_M1 with kendryte k210 Type \"help()\" for more information. >>> >>> >>> raw REPL; CTRL B to exit >OK Use Hareware SPI for other maixduino [esp32_spi] use hard spi(1) hard spi esp32 set hard spi clk:9159090 Get version fail try AT connect wifi... Use Hareware SPI for other maixduino [Warning] function is used by unknown(pin:10) [Warning] function is used by unknown(pin:6) [Warning] function is used by unknown(pin:11) [esp32_spi] use hard spi(1) hard spi esp32 set hard spi clk:9159090 ESP32_SPI firmware version: 1.4.0 try AT connect wifi... network state: True ('192.168.0.180', '255.255.255.0', '192.168.0.1') > MicroPython v0.5.1 136 g039f72b6c dirty on 2020 11 18; Sipeed_M1 with kendryte k210 Type \"help()\" for more information. >>> >>> >>> raw REPL; CTRL B to exit >OK network state: True ('192.168.0.180', '255.255.255.0', '192.168.0.1') > MicroPython v0.5.1 136 g039f72b6c dirty on 2020 11 18; Sipeed_M1 with kendryte k210 Type \"help()\" for more information. >>> ''' ``` #### ESP82XX çš„ AT å›ºä»¶ ä½¿ç”¨ ESP8266/85 çš„ AT å›ºä»¶è”ç½‘ï¼Œä¸Šä¼ è¯¥ç±»åº“ [network_espat.py](https://github.com/sipeed/MaixPy v1_scripts/blob/master/network/network_espat.py) å³å¯ > `board_info` ä¸æ¿å¡ç›¸å…³ï¼Œä¸åŒæ¿å¡é…ç½®ä¸åŒï¼Œä½¿ç”¨å‰éœ€è¦[æ‰‹åŠ¨é…ç½®](../../api_reference/builtin_py/board_info.html)ã€‚ ```python # This file is part of MaixPY # Copyright (c) sipeed.com # # Licensed under the MIT license: # http://www.opensource.org/licenses/mit license.php # import time, network from Maix import GPIO from machine import UART from fpioa_manager import fm from board import board_info class wifi(): __is_m1w__ True uart None eb None nic None def init(): if __class__.__is_m1w__: fm.register(0, fm.fpioa.GPIOHS1, force True) M1wPower GPIO(GPIO.GPIOHS1, GPIO.OUT) M1wPower.value(0) # b'\\r\\n ets Jan 8 2013,rst cause:1, boot mode:(7,6)\\r\\n\\r\\nwaiting for host\\r\\n' fm.register(board_info.WIFI_EN, fm.fpioa.GPIOHS0) # board_info.WIFI_EN IO 8 __class__.en GPIO(GPIO.GPIOHS0,GPIO.OUT) fm.register(board_info.WIFI_RX,fm.fpioa.UART2_TX) # board_info.WIFI_RX IO 7 fm.register(board_info.WIFI_TX,fm.fpioa.UART2_RX) # board_info.WIFI_TX IO 6 __class__.uart UART(UART.UART2, 115200, timeout 1000, read_buf_len 8192) def enable(en): __class__.en.value(en) def _at_cmd(cmd \"AT\\r\\n\", resp \"OK\\r\\n\", timeout 20): __class__.uart.write(cmd) # \"AT+GMR\\r\\n\" time.sleep_ms(timeout) tmp __class__.uart.read() # print(tmp) if tmp and tmp.endswith(resp): return True return False def at_cmd(cmd \"AT\\r\\n\", timeout 20): __class__.uart.write(cmd) # \"AT+GMR\\r\\n\" time.sleep_ms(timeout) tmp __class__.uart.read() return tmp def reset(force False, reply 5): if force False and __class__.isconnected(): return True __class__.init() for i in range(reply): print('reset...') __class__.enable(False) time.sleep_ms(50) __class__.enable(True) time.sleep_ms(500) # at start > 500ms if __class__._at_cmd(timeout 500): break __class__._at_cmd() __class__._at_cmd('AT+UART_CUR 921600,8,1,0,0\\r\\n', \"OK\\r\\n\") __class__.uart UART(UART.UART2, 921600, timeout 1000, read_buf_len 10240) # important! baudrate too low or read_buf_len too small will loose data #print(__class__._at_cmd()) try: __class__.nic network.ESP8285(__class__.uart) time.sleep_ms(500) # wait at ready to connect except Exception as e: print(e) return False return True def connect(ssid \"wifi_name\", pasw \"pass_word\"): if __class__.nic ! None: return __class__.nic.connect(ssid, pasw) def ifconfig(): # should check ip ! 0.0.0.0 if __class__.nic ! None: return __class__.nic.ifconfig() def isconnected(): if __class__.nic ! None: return __class__.nic.isconnected() return False if __name__ \"__main__\": # It is recommended to callas a class library (upload network_espat.py) # from network_espat import wifi SSID \"Sipeed_2.4G\" PASW \"xxxxxxxx\" def check_wifi_net(reply 5): if wifi.isconnected() ! True: for i in range(reply): try: wifi.reset() print('try AT connect wifi...', wifi._at_cmd()) wifi.connect(SSID, PASW) if wifi.isconnected(): break except Exception as e: print(e) return wifi.isconnected() if wifi.isconnected() False: check_wifi_net() print('network state:', wifi.isconnected(), wifi.ifconfig()) # The network is no longer configured repeatedly import socket sock socket.socket() # your send or recv # see other demo_socket_tcp.py / udp / http / mqtt sock.close() '''ouput >>> raw REPL; CTRL B to exit >OK [Warning] function is used by fm.fpioa.GPIOHS1(pin:17) [Warning] function is used by fm.fpioa.GPIOHS0(pin:16) reset... try AT connect wifi... True could not connect to ssid Sipeed_2.4G reset... try AT connect wifi... True network state: True ('192.168.0.165', '255.255.255.0', '192.168.0.1', '0', '0', 'b0:b9:8a:5b:be:7f', 'Sipeed_2.4G') > MicroPython v0.5.1 136 g039f72b6c dirty on 2020 11 18; Sipeed_M1 with kendryte k210 Type \"help()\" for more information. >>> >>> >>> raw REPL; CTRL B to exit >OK network state: True ('192.168.0.165', '255.255.255.0', '192.168.0.1', '0', '0', 'b0:b9:8a:5b:be:7f', 'Sipeed_2.4G') > ''' ``` #### Spmod çš„ WIZNET5K ä½¿ç”¨ Spmod çš„ WIZNET5K ç½‘å¡è”ç½‘ï¼Œè¿è¡Œæ­¤ç±»ä¸­çš„ä»£ç  [network_wiznet5k.py](https://github.com/sipeed/MaixPy v1_scripts/blob/master/network/network_wiznet5k.py) å³å¯ï¼Œå¯ä»¥ç›´æ¥è·å–å¯¹åº”çš„ IP ä¿¡æ¯ WIZNET5K ä¸ºæœ‰çº¿ç½‘å¡æ¨¡å—, ä½¿ç”¨æ—¶åªéœ€è¦å°†ç½‘çº¿æ’å¥½å³å¯, ä½¿ç”¨ SPI åè®®, åœ¨å®Œæ•´å›ºä»¶ä¸­é»˜è®¤ä½¿èƒ½äº†æ­¤æ¨¡å—, æœ€å°å›ºä»¶ä¸­æ²¡æœ‰. ```python spi1 SPI(4, mode SPI.MODE_MASTER, baudrate 600 * 1000, polarity 0, phase 0, bits 8, firstbit SPI.MSB, sck WIZNET5K_SPI_SCK, mosi WIZNET5K_SPI_MOSI, miso WIZNET5K_SPI_MISO) nic network.WIZNET5K(spi spi1, cs WIZNET5K_SPI_CS) print(\"Static IP: \", nic.ifconfig()) #dhcp åŠ¨æ€è·å– IP, å› ä¸ºä¸Šé¢å·²ç»è®¾ç½®äº†é™æ€ IP , è¿™ä¸€æ­¥å¯è·³è¿‡, è¦æ³¨æ„çš„æ˜¯å¦‚æœä½¿ç”¨ DHCP, å¿…é¡»åƒä¸‹é¢ä»£ç ä¸€æ ·ä½¿ç”¨æ­»å¾ªç¯, å¦åˆ™å°†è·å–ä¸æˆåŠŸ while True: if(nic.dhclient()): print(\"DHCP IP:\", nic.ifconfig() ) break; '''output >>> Static IP: ('192.168.0.117', '255.255.255.0', '192.168.0.1', '8.8.8.8') init dhcp DHCP IP: ('192.168.0.165', '255.255.255.0', '192.168.0.1', '8.8.8.8') ''' ``` ### è”ç½‘è¡¨ç° è¯·åœ¨ç¡®è®¤äº†è”ç½‘ï¼Œå¾—åˆ°äº† IP åœ°å€æ‰å¼€å§‹ä½¿ç”¨ socket ç½‘ç»œç¼–ç¨‹å–”ï¼Œå°±å¦‚ä¸‹è·å¾—äº† IP åœ°å€ã€‚ ```shell network state: True ('192.168.0.165', '255.255.255.0', '192.168.0.1', '0', '0', 'b0:b9:8a:5b:be:7f', 'Sipeed_2.4G') ```"},"/soft/maixpy/zh/develop_kit_board/maix_bit.html":{"title":"Maix Bit","content":" title: Maix Bit keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®—, Maix Bit desc: maixpy Maix Bit ## å¤–è§‚åŠåŠŸèƒ½ä»‹ç» ### å¤–è§‚ä¸€è§ˆ ![Maix Bit](../../assets/hardware/maix_bit/maix_bit.png) ### æ¿è½½åŠŸèƒ½ é¡¹ç›® è¯´æ˜ CPUï¼š åŒæ ¸ 64bit RISC V / 400MHz (åŒç²¾åº¦FPUé›†æˆ) å†…å­˜ï¼š 8MiB 64bit ç‰‡ä¸Š SRAM å­˜å‚¨ï¼š 16MiB Flash, æ”¯æŒ micro SDXC æ‹“å±•å­˜å‚¨ (æœ€å¤§128GB) å±å¹•(å¥—é¤)ï¼š 2.4 å¯¸ TFT, å±å¹•åˆ†è¾¨ç‡ï¼š320\\*240 æ‘„åƒå¤´(å¥—é¤)ï¼š 200W åƒç´ (å®é™…ä½¿ç”¨ 30W)ï¼Œ0V2640 å‹å· M12 æ‘„åƒå¤´ TF å¡æ§½ï¼š å¤šåª’ä½“èµ„æºæ‰©å±•ï¼Œæ”¯æŒå¤§å®¹é‡å‚¨å­˜ ### å¼•è„šèµ„æº ![](./../../assets/hardware/maix_bit/maixbit_pin_maps.svg) ## èµ„æ–™ä¸‹è½½ Sipeed Maix Bit èµ„æ–™[ä¸‹è½½](https://dl.sipeed.com/shareURL/MAIX/HDK/Sipeed Maix Bit/Maix Bit_V2.0_with_MEMS_microphone) Sipeed Maix Bit è§„æ ¼ä¹¦[ä¸‹è½½](https://dl.sipeed.com/fileList/MAIX/HDK/Sipeed Maix Bit/Specifications/Sipeed%20Maix Bit%20%E8%A7%84%E6%A0%BC%E4%B9%A6%20V2.0.pdf) Sipeed Maix Bit åŸç†å›¾[ä¸‹è½½](https://dl.sipeed.com/fileList/MAIX/HDK/Sipeed Maix Bit/Maix Bit_V2.0_with_MEMS_microphone/Maix Bit_V2.0_Schematic.pdf)"},"/soft/maixpy/zh/develop_kit_board/get_hardware.html":{"title":"å¦‚ä½•é€‰è´­å¼€å‘æ¿","content":" title: å¦‚ä½•é€‰è´­å¼€å‘æ¿ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®—, Maixå¼€å‘æ¿ desc: maixpy å¦‚ä½•é€‰è´­å¼€å‘æ¿ è¦å¼€å§‹ä½¿ç”¨ MaixPy, å¿…é¡»éœ€è¦ä¸€æ¬¾ K210 å¼€å‘æ¿, å¯ä»¥ä» Sipeed å®˜æ–¹æ·˜å®åº—è·å¾—å¿ƒä»ªçš„ç¡¬ä»¶ï¼š [Sipeed å®˜æ–¹æ·˜å®åº—](https://sipeed.taobao.com/) ## éœ€è¦çš„ç¡¬ä»¶ ### ä¸€æ¬¾å¼€å‘æ¿ ç”±äº MaixPy æ—©æœŸäº§å“çº¿æ¯”è¾ƒå¤šï¼Œå…·ä½“å¼€å‘æ¿åŠå‚æ•°åˆ—è¡¨å¦‚ä¸‹ï¼Œç”¨æˆ·å¯ä»¥æ ¹æ®è‡ªå·±çš„åŠ¨æ‰‹èƒ½åŠ›å’Œéœ€æ±‚é€‰è´­å¯¹åº”å¼€å‘æ¿ > MaixPy ç³»ç±»å¼€å‘æ¿æ¿è½½çš„ ROM å‡ä¸º 16MB SPI FLASH, RAM: 6MB(é€šç”¨) + 2MB(KPU ä¸“ç”¨) <table border \"2\"> <tr> <th colspan 3>MaixPy ç³»åˆ—å¼€å‘æ¿</th> </tr> <tr> <td>æè¿°</td> <td>å®ç‰©å›¾</td> <td>è¯´æ˜</td> </tr> <td>Maix Amigo</td> <td> <img src \"../../assets/hardware/maix_amigo/sipeed_maix_amigo_400x400.jpg\" height \"200\"> </p><a href \"https://sipeed.taobao.com/\">ç‚¹å‡»è´­ä¹° Maix Amigo</a> </td> <td>3.5å¯¸ å¤§å±å¹•ï¼Œ é¢„ç•™ä¸‰ä¸ª Grove æ¥å£ï¼Œä¸‰ä¸ª SPMOD æ¥å£(å…¶ä¸­ä¸€ä¸ªä¸ºæ¸¸æˆæ‰‹æŸ„æ¥å£)</td> <tr> <td>Maix Cube</td> <td> <img src \"../../assets/hardware/maix_cube/sipeed_maix_cube_400x400.jpg\" height \"200\"> </p><a href \"https://sipeed.taobao.com/\">ç‚¹å‡»è´­ä¹° Maix Cube</a> </td> <td>è¿·ä½ å¼€å‘æ¿ï¼Œå¼•å‡º Grove/Spmod æ¥å£</td> </tr> <tr> <td>Maix Dock(M1W)</td> <td> <img src \"../../assets/hardware/maix_dock/sipeed_maix_dock_m1w.jpg\" height \"200\"> </p><a href \"https://sipeed.taobao.com/\">ç‚¹å‡»è´­ä¹° Maix Dock(M1W)</a> </td> <td>å…¨å¼•è„šå¼•å‡ºï¼Œé‡‡ç”¨ M1W æ¨¡å— (å†…éƒ¨é›†æˆ ESP8285)</td> </tr> <tr> <td>Maix Dock(M1)</td> <td> <img src \"../../assets/hardware/maix_dock/sipeed_maix_dock_m1.jpg\" height \"200\"> </p><a href \"https://sipeed.taobao.com/\">ç‚¹å‡»è´­ä¹° Maix Dock(M1)</a> </td> <td>å…¨å¼•è„šå¼•å‡ºï¼Œé‡‡ç”¨ M1 æ¨¡å— </td> </tr> <tr> <td>Maix Bit</td> <td> <img src \"../../assets/hardware/maix_bit/sipeed_maix_bit_400x400.jpg\" height \"200\"> </p><a href \"https://sipeed.taobao.com/\">ç‚¹å‡»è´­ä¹° Maix Bit</a> </td> <td>å…¨å¼•è„šå¼•å‡ºï¼Œ2x20pinï¼Œæœ€å°ç³»ç»Ÿæ¿</td> </tr> <tr> <td>Maix Duino</td> <td> <img src \"../../assets/hardware/maix_duino/sipeed_maix_duino_400x400.jpg\" height \"200\"> </p><a href \"https://sipeed.taobao.com/\">ç‚¹å‡»è´­ä¹° Maix Duino</a> </td> <td>å…¼å®¹ Arduinoï¼Œæ”¯æŒ ESP32 WIFIï¼Œæ”¯æŒ ESP32 5ä¸ª ADC é€šé“çš„è¯»å–</td> </tr> <tr> <td>Grove AI HAT</td> <td> <img src \"../../assets/hardware/grove_ai_hat/grove_ai_hat.jpg\" height \"200\"></br> </p><a href \"https://sipeed.taobao.com/\">ç‚¹å‡»è´­ä¹° Grove AI HAT</a> </td> <td>æ¿è½½åŠ é€Ÿåº¦è®¡å’Œé«˜ç²¾åº¦ ADC, å¼•å‡ºå¤šä¸ª Grove/Spmod æ¥å£, å¯ç”¨ä½œæ ‘è“æ´¾é…ä»¶</td> </tr> <tr> <td>Maix GO</td> <td> <img src \"../../assets/hardware/maix_go/sipeed_maix_go_400x400.jpg\" height \"200\"> </p><a href \"https://sipeed.taobao.com/\">ç‚¹å‡»è´­ä¹° Maix GO</a> </td> <td>å”®ç½„</td> </tr> <tr> <td>Maix Nano</td> <td> <img src \"../../assets/hardware/m1n/sipeed_maix_m1n_400x400.jpg\" height \"200\"></br> <img src \"../../assets/hardware/m1n/sipeed_maix_nano_400x400.jpg\" height \"200\"> </p><a href \"https://sipeed.taobao.com/\">ç‚¹å‡»è´­ä¹° Maix Nano</a> </td> <td>æ ¸å¿ƒå¼€å‘æ¿</td> </tr> </table> ### USB Type C è¿æ¥çº¿ <img src \"../../assets/hardware/other/usb_type_c.png\" height \"300\" alt \"type_c\"> é€‰ç”¨ Type C æ˜¯å› ä¸ºå®ƒæ”¯æŒæ­£åæ’ï¼Œå¯¹å¼€å‘ååˆ†å‹å¥½ ä»æ·˜å®å®˜æ–¹è´­ä¹°å¯ä»¥è¯¢é—®æ˜¯å¦é™„é€ï¼Œç›®å‰å¤§éƒ¨åˆ†å®‰å“æœºä¹Ÿåœ¨ä½¿ç”¨ Type C è¿æ¥çº¿ > **USB æ•°æ®çº¿æ³¨æ„ç‚¹ï¼š** ç”±äºå¸‚é¢ä¸Šçš„ USB çº¿è´¨é‡è‰¯è ä¸é½ï¼Œé‡‡ç”¨çš„çº¿æï¼ˆä¸»è¦æ˜¯çº¿èŠ¯æè´¨ï¼‰ä¸åŒï¼Œå¥½ä¸€ç‚¹çš„æ•°æ®çº¿é‡‡ç”¨ é•€é”¡é“œã€é“œä¸ã€é“œç®”ä¸ã€è£¸é“œç­‰,çº¿é˜»å°,æ•°æ®çº¿ä¸¤ç«¯å‹é™å°ï¼Œè€Œå·®ä¸€ç‚¹çš„æœ‰é“œåŒ…é’¢ï¼Œé“œåŒ…é“,çº¿é˜»å¤§,æ•°æ®çº¿ä¸¤ç«¯å‹é™å¤§ï¼Œé€ æˆå®é™…ä¾›ç»™å¼€å‘æ¿çš„ç”µå‹ï¼Œç”µæµè¿‡å°ï¼Œä½¿å¼€å‘æ¿å¤„äºéæ­£å¸¸å·¥ä½œçŠ¶æ€ï¼›æ‰€ä»¥å»ºè®®é€‰ç”¨è´¨é‡å¯é çš„æ•°æ®çº¿ï¼ˆä¸€èˆ¬æ‰‹æœºé™„é€çš„æ•°æ®çº¿è´¨é‡éƒ½æ˜¯æ¯”è¾ƒå¯é çš„ï¼‰ ### å±å¹• **å±å¹•å¼ºçƒˆå»ºè®®è´­ä¹°!** ä»æ·˜å®å®˜æ–¹è´­ä¹°å¯ä»¥è¯¢é—®æ˜¯å¦åŒ…å«, æ¨èç”¨æˆ·è´­ä¹°å¸¦ LCD çš„æ¿å­æˆ–è€…å¥—é¤,æ–¹ä¾¿åç»­è¿è¡Œç¨‹åºæ—¶ç»“æœçš„ç›´è§‚å±•ç¤º, æ¿å‹ å±å¹•é©±åŠ¨ IC æ”¯æŒåˆ†è¾¨ç‡ å¤‡æ³¨ Maix Cube(IPS) ST7789 240\\*240 Maix Amigo ILI9486 320\\*480 Maix Amigo(IPS ç‰ˆ) ILI9486 320\\*480 Maix Nano(ä¸å¸¦å±å¹•) Maix Dock ST7789 320\\*240 Maix Bit ST7789 320\\*240 Maix Dock ST7789 320\\*240 Maix Go ST7789 320\\*240 Grove AI HAT ST7789 320\\*240 ### æ‘„åƒå¤´ åœ¨å”®çš„æœ‰ï¼šOV2640ï¼ˆå¸¸è§„ï¼ŒM12ï¼‰ã€OV7740ã€GC0328ï¼› ç”±äº K210 DVP æ¥å£æ”¯æŒçš„åˆ†è¾¨ç‡ä¸º VGAï¼ˆ640*480 30Wï¼‰ï¼Œ æ‰€ä»¥å®é™…ä½¿ç”¨é€‰å– 30W åƒç´ çš„æ‘„åƒå¤´å³å¯ã€‚ æˆªè‡³ MaixPy å›ºä»¶ç‰ˆæœ¬: `MaixPy 0.6.2_54` ,æ”¯æŒçš„æ‘„åƒå¤´å‹å·å¦‚ä¸‹è¡¨ å‹å· è®¾å¤‡ id åƒç´  è¯´æ˜ å¤‡æ³¨ OV2640 0x2642 200W æ”¯æŒåº¦è¾ƒå¥½ OV7740 0x7742 30W æ”¯æŒåº¦è¾ƒå¥½ OV3660 0x3660 300W å…¼å®¹è¿è¡Œ GC0328 0x9d 30W æ”¯æŒåº¦è¾ƒå¥½ GC2145 0x2145 200W å…¼å®¹è¿è¡Œ MT9D111 0x1519 200W å¯ä»¥è¿è¡Œï¼Œæ”¯æŒä¸å®Œæ•´ OV5640 0x5640 500W æ”¯æŒåº¦è¾ƒå¥½ OV5642 0x5642 500w æ”¯æŒåº¦è¾ƒå¥½ æˆªæ­¢è‡³å›ºä»¶ç‰ˆæœ¬ `MaixPy 0.6.2_54` ç›¸å…³æ‘„åƒå¤´æµ‹è¯•æƒ…å†µå¦‚ä¸‹: ç¡¬ä»¶å‹å· æµ‹è¯•é€šè¿‡çš„å•ç›®æˆ–åŒç›®æ‘„åƒå¤´ M1/M1W æ¨¡ç»„ç³»åˆ—ï¼ˆMaixduinoã€Dockã€Goï¼‰ OV2640ã€GC0328ã€OV7740ã€GC2145ã€OV5640ã€OV5642 M1n æ¨¡ç»„ç³»åˆ—ï¼ˆNanoã€Cubeï¼‰ OV2640ã€GC0328ã€OV7740ã€GC2145ã€OV5640ã€OV5642 MaixBit OV2640ã€GC0328ã€OV7740ã€GC2145ã€OV5640ã€OV5642 Maix Amigo OV7740ï¼ˆåæ‘„ï¼‰ã€GC0328ï¼ˆå‰æ‘„ï¼‰ ç›®å‰æ‘„åƒå¤´çš„é¢œè‰²æ¨¡å¼ YUV422 RGB565 & YUV422 OV2640 OV5640 OV7740 GC2145 GC0328 OV5642 ä»æ·˜å®å®˜æ–¹è´­ä¹°å¯ä»¥è¯¢é—®å‹å·, OV7740 å¸§ç‡ç›¸å¯¹é«˜ä¸€ç‚¹; OV2640 æ¯”è¾ƒå¤è€, ç”»è´¨ç¨ä¸å¦‚ GC0328 > æ³¨ï¼šå¾ˆå¤šç”¨æˆ·ä¸€ä¸Šæ¥å°±é—®å“ªæ¬¾æ”¯æŒçš„å¸§ç‡æœ€é«˜ï¼Œå…¶å®å¸§ç‡é™¤äº†ç¡¬ä»¶ä¸Šä¼šæœ‰å·®å¼‚ï¼Œè€Œä¸”åœ¨ä½ ä½¿ç”¨çš„ç¨‹åºï¼Œç”±äºç¨‹åºçš„å¤„ç†æµç¨‹ä¸åŒï¼Œå¸§ç‡ä¹Ÿæ˜¯ä¼šæœ‰å·®å¼‚çš„ï¼Œæ‰€ä»¥è¿™é‡Œæ— æ³•æ ‡æ³¨ï¼ˆä»¥å…è¯¯å¯¼ç”¨æˆ·ï¼‰å…·ä½“æœ€é«˜å¸§ç‡ã€‚ç›®å‰æ¥è¯´åˆ«çš„æ‘„åƒå¤´æ˜¯æ²¡æœ‰å¯¹åº”çš„é©±åŠ¨ç¨‹åºï¼Œéœ€è¦çš„å¯ä»¥è‡ªå·±è¿›è¡Œç¼–å†™ã€‚ ### Micro SD å¡ (TF å¡) (å¯é€‰) ä¸ä½¿ç”¨ Micro SD å¡ä¹Ÿæ˜¯å¯ä»¥æ“ä½œæ–‡ä»¶çš„, åœ¨å†…éƒ¨ Flash ä¸Šå·²ç»ä¿ç•™ä¸€éƒ¨åˆ†æ¥ä½œä¸ºæ–‡ä»¶ç³»ç»Ÿäº†, åªæ˜¯ Flash é€Ÿåº¦å¾ˆæ…¢ï¼ ä¸ºäº†æ–¹ä¾¿å›¾ç‰‡æ–‡ä»¶å¿«é€Ÿæ“ä½œ, å¯ä»¥é€‰æ‹©è´­ä¹°ä¸€å¼  `Micro SD` å¡, ã€€ MaixPyã€€å†…ç½®äº† SPI SDå¡åè®®é©±åŠ¨, è´­ä¹°æ—¶å°½é‡é€‰æ‹©é€Ÿåº¦å¿«åè®®æ–°çš„ Micro SD å¡, æ¯”å¦‚ SD 2ä»£åè®®, Class10 çš„å†…å­˜å¡ å› ä¸º K210 æ²¡æœ‰ SDIO ç¡¬ä»¶å¤–è®¾, æ‰€ä»¥ä½¿ç”¨äº† SPI æ¥ä¸ SD å¡é€šä¿¡, å½“ç„¶, å¸‚é¢ä¸Šçš„ SD å¡å“è´¨å‚å·®ä¸é½, SPI æ¨¡å¼ä¸ä¸€å®šéƒ½èƒ½å…¼å®¹, å°½é‡ä¹°æ­£è§„çš„å¡, å®åœ¨æœ‰éœ€æ±‚è¯·è‡ªè¡Œå®šåˆ¶é©±åŠ¨ï½ï½ æ¯”å¦‚ï¼šä¸‹å›¾å·¦è¾¹ä¸¤å¼ å¡ MaixPy çš„é©±åŠ¨ä¸æ”¯æŒ, ä¸­é—´å’Œå³è¾¹çš„éƒ½æ”¯æŒ, ä½†æ˜¯ä¸­é—´çš„ class10 å¡é€Ÿåº¦æœ€å¿«(æœ€é«˜æµ‹è¿‡ 128GBå¯ç”¨) > å¦å¤–æµ‹è¯•è¿‡ç½‘ä¸Šè´­ä¹°çš„å‡ å¼ é—ªè¿ªã€é‡‘å£«é¡¿ã€ä¸‰æ˜Ÿçš„å¡, å…¶ä¸­å‘ç°æœ‰ä¸€å¼ ä¸‰æ˜Ÿçš„å¡æ— æ³•ä½¿ç”¨ ![TF SDCard](../../assets/hardware/other/tf_sdcard.png) [**Sipeed å®˜æ–¹åº— SD å¡è´­ä¹°é“¾æ¥**](https://item.taobao.com/item.htm?spm a1z10.5 c.w4002 21231188711.12.5a7f7379ZEhEdC&id 587713418483)ï¼Œè¯¥å¡ SPI åè®®åªæ”¯æŒ V1 ç‰ˆæœ¬ï¼Œ æ‰€ä»¥è¯»å–é€Ÿç‡è¾ƒä½ï¼Œå»ºè®®è´­ä¹°å…¶ä»–æ”¯æŒ SPI V2 åè®®çš„ SD å¡ï¼Œæ·˜å®åº—å¼€å‘æ¿å¥—é¤ä¸­å¯ä»¥å•é€‰ SD å¡ã€‚ ### ST Link (ç”¨æ¥ç»™å¼€å‘æ¿ Maix Go ä¸Šçš„ STM32 æ›´æ–°å›ºä»¶) (å¯é€‰) å¦‚æœè´­ä¹°çš„æ˜¯ `Maix Go`, ä¸Šé¢é›†æˆäº†ä¸€é¢— `STM32` èŠ¯ç‰‡, ç”¨æ¥æ¨¡æ‹Ÿ `USBè½¬ä¸²å£` å·¥å…·, ä»¥åŠæ¨¡æ‹Ÿ `JTAG`, å¦‚æœæƒ³åæœŸè‡ªè¡Œæ›´æ–°å…¶å›ºä»¶, å»ºè®®è´­ä¹°ä¸€ä¸ª `ST Link` å¤‡ç”¨; å¦‚æœä¸éœ€è¦`JTAG` åŠŸèƒ½å¯ä»¥ä¸ç”¨è´­ä¹° ### JTAG è°ƒè¯•å™¨ (å¯é€‰) **æ³¨æ„ï¼š** **!!! çƒ§å½•è¿‡ key_gen.bin ä¹‹åå°†æ°¸ä¹…ç¦ç”¨ K210 çš„ JTAG è°ƒè¯•åŠŸèƒ½** `K210` è¿™æ¬¾èŠ¯ç‰‡æ”¯æŒ `JTAG` è°ƒè¯•, å¦‚æœéœ€è¦è°ƒè¯•åŠŸèƒ½, éœ€è¦ä½¿ç”¨ `JTAG` è°ƒè¯•å™¨, è¯·åœ¨ `Sipeed` å®˜æ–¹æ·˜å®åº—å’¨è¯¢è´­ä¹°ã€‚ å¦‚æœæ˜¯ `Maix Go` å¼€å‘æ¿, å¯ä»¥ä¸ç”¨å¦å¤–è´­ä¹° `JTAG` è°ƒè¯•å™¨, `Maix Go` å¼€å‘æ¿ä¸Šé¢é›†æˆäº†ä¸€ä¸ª `STM32`èŠ¯ç‰‡, å¯ä»¥æ¨¡æ‹Ÿ `JTAG`(`STM32` ä½¿ç”¨ `CMSIS DAP` æˆ–è€… `open ec` å›ºä»¶), `open ec` å›ºä»¶ç›®å‰è¿˜ä¸æ”¯æŒ, åç»­ä¼šæ”¯æŒ, è¯·ä»¥ `open ec` github é¡¹ç›®ä¸»é¡µè¯´æ˜ä¸ºå‡†"},"/soft/maixpy/zh/develop_kit_board/develop_kit_board.html":{"title":"MaixPy ç³»åˆ—å¼€å‘æ¿","content":" title: MaixPy ç³»åˆ—å¼€å‘æ¿ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®—, Maixå¼€å‘æ¿ desc: maixpy MaixPy ç³»åˆ—å¼€å‘æ¿ ## MaixPy å¼€å‘æ¿ ç›®å‰ MaixPy ç³»ç±»å¼€å‘æ¿æœ‰ä¸€ä¸‹è¿™å‡ æ¬¾å‹å·: Maix Go Maix Dock Maix Duino Maix Bit Maix Cube Maix Amigo ## å·®å¼‚å¯¹æ¯” å‹å· USB IC æ ¸å¿ƒæ¨¡å— å¤‡æ³¨ Maix Go <img src \"../../assets/dk_board/maix_go/Go.jpg\" width \"260\"> Maix Go STM32 M1W Maix Dock <img src \"../../assets/dk_board/maix_dock/Dan_Dock.png\" width \"260\"> CH340 M1/M1W Maix Duino <img src \"../../assets/dk_board/maix_duino/maixduino_0.png\" width \"260\"> CH552 M1 Maix Bit <img src \"../../assets/dk_board/maix_bit/BiT.png\" width \"260\"> CH552/CH340 Maix Cube <img src \"../../assets/dk_board/maix_cube/maixcube_2020 06 13_06 31 29.png\" width \"260\"> GD32/CH552 M1n Maix Amigo <img src \"\" width \"260\"> GD32 M1n "},"/soft/maixpy/zh/maixpy_history.html":{"title":"MaixPy å‘å±•å†ç¨‹","content":" title: MaixPy å‘å±•å†ç¨‹ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®—, äººå·¥æ™ºèƒ½, æ·±åº¦å­¦ä¹  desc: maixpy MaixPy å‘å±•å†ç¨‹ å†™ä¸‹æœ¬ç¯‡å‘å±•å†ç¨‹ï¼Œ å¸Œæœ›è®©åæ¥çš„å¼€å‘è€…ä»¬äº†è§£åˆ° MaixPy éƒ½ç»å†äº†ä»€ä¹ˆï¼Œä»¥åŠä¸€äº›é‡å¤§çš„æ”¹å˜çš„åŸå› æ˜¯ä»€ä¹ˆï¼Œä»¥åŠåœ¨ä½•æ—¶å–å¾—äº†é‡å¤§çš„è¿›æ­¥ç­‰ ä»£ç æäº¤å†å²å¯ä»¥åœ¨ [historic](https://github.com/sipeed/MaixPy v1commits/historic) å’Œ [master](https://github.com/sipeed/MaixPy v1commits/master) åˆ†æ”¯çœ‹åˆ° ## 2018 å¹´ 9 æœˆ MaixPy é¡¹ç›®å¯åŠ¨ï¼Œå¥‘æœºæ˜¯ K210 èŠ¯ç‰‡æµç‰‡å®Œæˆã€‚ äºæ˜¯å¤§å®¶æƒ³ç€åšä¸€å¥—è®©æ›´å¤šäººåœ¨åµŒå…¥å¼ä½¿ç”¨çš„ AI å¼€å‘çš„æ˜“ä½¿ç”¨çš„è½¯ä»¶å¥—ä»¶ï¼Œ å› ä¸º Micropython çš„æ˜“ç”¨æ€§ï¼Œè€Œä¸” k210 æœ‰ 6+2MiB å†…å­˜ï¼Œä¸»é¢‘ 400MHzï¼Œå®Œå…¨èƒ½å¤Ÿé©¾é©­ Micropythonï¼Œ æ•…é€‰æ‹©äº† Micropython ä½œä¸ºç¼–ç¨‹è¯­æ³• åŸºäºå¼€å‘æ¿ Maix dockï¼Œ è¿™æ—¶å–åä¸º è”æä¸¹ï¼Œ QQ ç¾¤åä¹Ÿå«è”æä¸¹ç‚¼ä¸¹ç¾¤ [xiaohui](https://github.com/xiaoxiaohuixxh) å’Œ [wipping](https://github.com/wipping) å¼€å§‹å°è¯•å¯¹ Micropython ç§»æ¤ ## 2018 å¹´ 12 æœˆ k210 SDK ä» freertos æ¢æˆäº† standalone SDK, å¹¶ä¸”ç€æ‰‹ç‰‡ä¸Šå¤–è®¾é©±åŠ¨é€‚é… [neucrack](https://github.com/neutree) ï¼Œ[xel](https://github.com/xelll) å’Œ [zepan](https://github.com/Zepan) åŠ å…¥é¡¹ç›®ç»„ ## 2019 å¹´ 2 æœˆ å‘å¸ƒç¬¬ä¸€ç‰ˆå›ºä»¶ [v0.1.1 beta](https://github.com/sipeed/MaixPy v1releases/tag/v0.1.1), æ”¯æŒäº†åŸºæœ¬çš„å¤–è®¾ï¼Œ ç»§æ‰¿äº† openmv çš„ image sensor lcd APIï¼Œé€‚é…äº†ä¸€äº›å¼€æºçš„å·¥å…·æ¯”å¦‚ upyloaderï¼Œarmpyç­‰, ç¼–å†™æ–‡æ¡£ å¹¶å‘å¸ƒåœ¨ maixpy.sipeed.com å¦å¤–è¿™æ—¶ä¹Ÿæœ‰äº† Maix bit å’Œ Maix Go ä¸¤å—æ–°å¼€å‘æ¿ xiaohui é€€å‡ºé¡¹ç›®ç»„ ## 2019 å¹´ 3 æœˆ å‘å¸ƒç¬¬äºŒç‰ˆå›ºä»¶ [v0.2.4](https://github.com/sipeed/MaixPy v1releases/tag/v0.2.4), å¢åŠ äº† jpegï¼Œ wavï¼Œ kpuï¼Œ nesï¼Œ aviï¼Œ lvgl ç­‰æ”¯æŒ ## 2019 å¹´ 4 æœˆ é€‚é…äº† OpenMV IDE ä¹Ÿå°±æ˜¯ MaixPy IDEï¼Œ åœ¨åŸæ¥è½¯ä»¶çš„åŸºç¡€ä¸Šåªå°† USB é€šä¿¡æ”¹æˆäº† k210 æ”¯æŒçš„ ä¸²å£é€šä¿¡ï¼Œ å…¶å®ƒåŠŸèƒ½æ²¡æœ‰å˜åŒ– é¢„ç¼–è¯‘å›ºä»¶å¼€å§‹åŒºåˆ†åŠŸèƒ½åˆ†æˆå¤šä¸ªå›ºä»¶ï¼Œ ä¸»è¦è€ƒè™‘åˆ°è¿è¡Œæ¨¡å‹å†…å­˜ä¸è¶³çš„é—®é¢˜ wipping é€€å‡ºé¡¹ç›®ç»„ï¼Œ zepan å’Œ xel ä¸“æ³¨åˆ°å…¶å®ƒé¡¹ç›®ç»„ ## 2019 å¹´ 6 æœˆ é‡æ„äº†é¡¹ç›®ç»“æ„ï¼Œ ä¹‹å‰æ˜¯ç›´æ¥åœ¨ micropython çš„ç›®å½•ç»“æ„ä¸­æ·»åŠ ä»£ç ï¼Œ åœ¨ port ç›®å½•ä¸­æ·»åŠ ä»£ç ï¼Œ ä½†æ˜¯è¿™ä¼šæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œ å°±æ˜¯æ›´æ–° micropython ç¨‹åºå˜å¾—æ¯”è¾ƒéº»çƒ¦ï¼Œ éœ€è¦å°† micropython å’Œ MaixPy å¢åŠ çš„ä»£ç åˆ†å¼€ï¼Œ è€Œä¸”æ—§çš„ä»£ç ç»“æ„å¤ªæ··ä¹±ï¼Œ Makefile å†™å¾—ä¹Ÿä¸æ˜¯å¾ˆå¥½ï¼Œæ„å»ºç¼“æ…¢ã€‚ æ‰€ä»¥æœ‰äº†ç°åœ¨çš„ç›®å½•ç»“æ„ï¼Œ ä½¿ç”¨äº† cmake + kconfig å¯¹å·¥ç¨‹è¿›è¡Œæ„å»ºï¼Œ åŒæ—¶å°†å„ä¸ªç»„ä»¶æ¨¡å—åŒ–ï¼Œ å¹¶ä¸”å¯ä»¥é€‰æ‹©æ˜¯å¦ç¼–è¯‘è¿›å›ºä»¶ï¼Œ ç¼–è¯‘æ¡†æ¶åœ¨[è¿™é‡Œ](https://github.com/Neutree/c_cpp_project_framework)ã€‚ ä½†æ˜¯ä»æœ‰é—ç•™é—®é¢˜ï¼Œ ç›®å½•ä¸‹é¢æœ‰ä¸€äº›é—ç•™ä»£ç æ²¡æœ‰å®Œå…¨æ¥å¶ã€‚ ## 2019 å¹´ 7 æœˆ å¢åŠ  M5Stick V å¼€å‘æ¿çš„æ”¯æŒï¼Œ ç”± [Martin Han](https://github.com/MarsTechHAN) ç»´æŠ¤ ## 2019 å¹´ 12 æœˆ [Maixhub](https://www.maixhub.com) ä¸Šçº¿ï¼Œ ç”¨äºåœ¨çº¿æ¨¡å‹è®­ç»ƒï¼Œåªéœ€è¦ä¸Šä¼ æ•°æ®é›†æ— é¡»ç¼–å†™ä»£ç  ç¡¬ä»¶æ›´æ–°ï¼š ä¸Šçº¿ M1N æ¨¡å—ï¼Œ é‡‘æ‰‹æŒ‡æ¨¡å— ## 2020 å¹´ 4 æœˆ [ç³–è€é¸­](https://github.com/QinYUN575) åŠ å…¥é¡¹ç›®ç»„ ## 2020 å¹´ 5 æœˆ [å¤§ä½¬é¼ ](https://github.com/junhuanchen) åŠ å…¥é¡¹ç›®ç»„ ## 2020 å¹´ 6 æœˆ ç¡¬ä»¶æ›´æ–°ï¼š ä¸Šçº¿ Maix Cube å¼€å‘æ¿ ## 2020 å¹´ 7 æœˆ ä¸ºä¸åŒæ¿å­å¢åŠ æ¿çº§é…ç½®æ–‡ä»¶ï¼Œ æ”¾åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œ å¼€æœºè¯»å–ï¼Œ ä¸»è¦æ˜¯ç”±äº Cube å’Œ Amigo å¢åŠ äº†ç”µæºèŠ¯ç‰‡ï¼Œ åœ¨å¼€æœºæ—¶ä¸ºäº†èƒ½æ­£å¸¸ä½¿ç”¨å¿…é¡»å…ˆè®¾ç½®ç”µæºèŠ¯ç‰‡ ç¡¬ä»¶æ›´æ–°ï¼š ä¸Šçº¿ Maix Amigo å¼€å‘æ¿ï¼Œ å¢åŠ äº†å¤–å£³ ## 2020 å¹´ 11 æœˆ é‡æ–°æ¢³ç†æ–‡æ¡£ï¼Œ æ›´å®Œç¾çš„æ–‡æ¡£å’Œç¤¾åŒº ## 2021 å¹´ 1 æœˆ ç¨³å®š MaixPy å„é¡¹åŠŸèƒ½ï¼Œè¡¥å……ç¼ºå¤±çš„æ–‡æ¡£ï¼Œè¿æ¥ MaixPy3 é¡¹ç›®çš„åˆ°æ¥ã€‚ ## 2022 å¹´ 6 æœˆ å…¨æ–° [Maixhub](maix.sipeed.com) ä¸Šçº¿ï¼Œæ›´å¥½çš„ä½“éªŒ ## 2024 å¹´ 4 æœˆ å…¨æ–°çš„ [MaixPy v4](https://wiki.sipeed.com/maixpy/) æ›´æ–°ï¼Œä¸å†ä½¿ç”¨ MicroPythonï¼Œè½¬è€Œä½¿ç”¨æ ‡å‡† CPython3ï¼Œé€‚é…æ€§èƒ½æ›´å¼ºå¤§çš„ [MaixCAM](https://wiki.sipeed.com/maixcam) ç¡¬ä»¶è®¾å¤‡ã€‚ ä¸ºäº†åŒºåˆ† MicroPython ç‰ˆæœ¬çš„ MaixPyï¼Œ å°†å…¶åç§°æ”¹ä¸º MaixPy v1ï¼Œå¹¶ä¸”æš‚åœç»´æŠ¤ï¼Œç­‰åˆ°æœªæ¥å¦‚æœæœ‰å¿…è¦å†è€ƒè™‘æ›´æ–°ï¼Œæ–°ç‰ˆçš„ MaixPy v4 é‡‡ç”¨ MaixPy åç§°ã€‚"},"/soft/maixpy/zh/share/open_projects.html":{"title":"MaixPy ç›¸å…³å¼€æºé¡¹ç›®ç²¾é€‰","content":" title: MaixPy ç›¸å…³å¼€æºé¡¹ç›®ç²¾é€‰ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy MaixPy ç›¸å…³å¼€æºé¡¹ç›®ç²¾é€‰ è¿™é‡Œæ”¶é›†äº†ä¸€äº›æ¯”è¾ƒä¸é”™çš„ MaixPy ç›¸å…³çš„å¼€æºé¡¹ç›®åˆ†äº«ï¼Œæ¬¢è¿ star å¦‚æœä½ ä¹Ÿæœ‰ä¸é”™çš„ MaixPy ç›¸å…³çš„å¼€æºé¡¹ç›®ï¼Œ æ¬¢è¿æäº¤ [issue](https://github.com/sipeed/MaixPy_DOC/issues) è¯·æ±‚æ·»åŠ ï¼Œ è¦æ±‚ï¼š * ä¸ MaixPy ç›¸å…³ * é¡¹ç›®æœ‰å®Œæ•´æ¸…æ™°çš„`README`ï¼ŒåŒ…æ‹¬ç®€ä»‹ï¼Œæ•ˆæœï¼Œä»£ç ï¼Œä½¿ç”¨æ–¹æ³•ç­‰ ## åº”ç”¨ é¡¹ç›®ä¸»é¡µ ç®€ä»‹ ä½œè€… [LZBUAV/K210_Python](https://github.com/LZBUAV/K210_Python) Kendryte K210 AIèŠ¯ç‰‡åº”ç”¨ç¨‹åºçš„é›†åˆï¼Œå…¶ä¸­åŒ…æ‹¬é¢éƒ¨æ£€æµ‹ï¼Œé¢œè‰²æ£€æµ‹ï¼Œç›®æ ‡æ£€æµ‹å’Œåˆ†ç±»ï¼ŒQRç å’ŒApriltagç æ£€æµ‹ä»¥åŠä¸ArduPiloté£è¡Œè½¯ä»¶çš„é€šä¿¡ [LZBUAV](https://github.com/LZBUAV) [BBS](https://cn.bbs.sipeed.com/d/490 maixpy maixpy explorer aiot) MaixPy + è…¾è®¯äº‘Explorer+å°ç¨‹åº å¿«é€Ÿæ‰“é€ ä¸€ä¸ª AIOTåº”ç”¨ [neucrack](https://github.com/neutree) ## æ¨¡å‹è®­ç»ƒ é¡¹ç›®ä¸»é¡µ ç®€ä»‹ ä½œè€… [sipeed/maix_train](https://github.com/sipeed/maix_train) åˆ†ç±»å’Œæ£€æµ‹æ¨¡å‹è®­ç»ƒé¡¹ç›® [Sipeed](https://github.com/sipeed/maix_train/graphs/contributors) [lemariva/MaixPy_YoloV2](https://github.com/lemariva/MaixPy_YoloV2) ä½¿ç”¨ Mobilenet+YOLOv2 åœ¨ Sipeed Maix Dock å¼€å‘æ¿ä¸Šè¿›è¡Œç‰©ä½“æ£€æµ‹, æ›´å¤šè¯´æ˜çœ‹[åšå®¢](https://lemariva.com/blog/2020/01/maixpy object detector mobilenet and yolov2 sipeed maix dock) [lemariva](https://github.com/lemariva) [zhen8838/K210_Yolo_framework](https://github.com/zhen8838/K210_Yolo_framework) k210 ä¸Šçš„ yolo v3 æ¨¡å‹è®­ç»ƒæ¡†æ¶ [zhen8838](https://github.com/zhen8838) [TonyZ1Min/yolo for k210](https://github.com/TonyZ1Min/yolo for k210) åœ¨ windows è®­ç»ƒ YOLO ç‰©ä½“æ£€æµ‹æ¨¡å‹ [TonyZ1Min](https://github.com/TonyZ1Min) ## UI & System é¡¹ç›®ä¸»é¡µ ç®€ä»‹ ä½œè€… [eggfly/M5StickVComputer](https://github.com/eggfly/M5StickVComputer) è¿è¡Œåœ¨`M5StickV`ä¸Šçš„çº¯ Python åº”ç”¨æ¡†æ¶ [eggfly](https://github.com/eggfly) "},"/soft/maixpy/zh/share/my_share/index.html":{"title":"MaixPy ç»éªŒåˆ†äº« â€”â€” XXX","content":" title: MaixPy ç»éªŒåˆ†äº« â€”â€” XXX keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy MaixPy ç»éªŒåˆ†äº« â€”â€” XXX æœ¬ç›®å½•ä¸‹ä¸»è¦ç”¨äºå¤§å®¶åˆ†äº«è‡ªå·±çš„ç»éªŒï¼Œæˆ–è€…æ•™ç¨‹ï¼Œä¹Ÿå¯ä»¥åœ¨ä½œè€…å…è®¸è½¬è½½çš„æƒ…å†µä¸‹æ¬è¿ï¼Œå¹¶è‘—åå‡ºå¤„ã€‚ ## è¦å‚ä¸åˆ†äº«ï¼Œä½ éœ€è¦æå‰æŒæ¡çš„çŸ¥è¯† * git å’Œ github çš„ä½¿ç”¨ * github PRï¼ˆpull requestï¼‰çš„ä½¿ç”¨ åœ¨å…¥é—¨æ•™ç¨‹é‡Œé¢æœ‰ç®€è¦çš„ä»‹ç»ï¼Œ è¯¦ç»†çš„ä½¿ç”¨æ–¹æ³•è¯·è‡ªè¡Œå­¦ä¹  å¦‚æœä½ æ²¡æœ‰ä¿¡å¿ƒæŒæ¡è¿™äº›æŠ€èƒ½ï¼Œ ä½ å¯ä»¥åˆ°æäº¤[issue](https://github.com/sipeed/MaixPy_DOC/issues) æ¥è¯´æ˜é—®é¢˜æˆ–è€…è´¡çŒ®ç»éªŒç­‰ï¼Œæˆ‘ä»¬å¸®åŠ©ä½ è¿›è¡Œæ·»åŠ  ## å¦‚ä½•æ·»åŠ  ### å…‹éš†æ–‡æ¡£åˆ°æœ¬åœ° ``` git clone https://github.com/sipeed/MaixPy_DOC cd MaixPy_DOC ``` ### æ–°å»ºç›®å½• éœ€è¦æ–°å»ºä¸€ä¸ªç›®å½•ä¸“é—¨ç”¨äºå†™åˆ†äº«çš„æ–‡ç« ï¼Œ åœ¨`MaixPy_DOC/zh/share/my_share/`ç›®å½•ä¸‹å»ºç«‹ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œ æ–‡ä»¶å¤¹ååªèƒ½ç”¨å°å†™è‹±æ–‡å’Œä¸‹åˆ’çº¿ï¼Œå¯ä»¥ç”¨ä½ çš„è‹±æ–‡åå­—å‘½åï¼Œæ¯”å¦‚`tom`æˆ–è€…`lihua`, ä»¥ä¸‹ç”¨`MaixPy_DOC/zh/share/my_share/tom`ä¸¾ä¾‹ å½“ç„¶ï¼Œå¦‚æœä½ å†™çš„æ˜¯è‹±æ–‡æ–‡æ¡£ï¼Œéœ€è¦æ”¾åˆ°`MaixPy_DOC/en/share/my_share/tom`æ–‡ä»¶å¤¹ä¸‹ åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹å†…å»ºç«‹ä¸€ä¸ªæ–‡ä»¶ï¼Œå‘½åä¸º`readme.md`, ç„¶ååœ¨é‡Œé¢ä½¿ç”¨`markdown`è¯­æ³•ç¼–å†™åˆ†äº«ï¼Œ å»ºç«‹`MaixPy_DOC/zh/share/my_share/tom/assets`ç›®å½•ï¼Œç”¨æ¥å­˜æ”¾å›¾ç‰‡ï¼Œ æ–‡æ¡£é‡Œé¢å¼•ç”¨å›¾ç‰‡ä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼Œæ¯”å¦‚æ”¾äº†ä¸€å¼ å›¾ç‰‡è·¯å¾„æ˜¯`MaixPy_DOC/zh/share/my_share/tom/assets/cover.jpg`ï¼Œåˆ™åœ¨`MaixPy_DOC/zh/share/my_share/tom/readme.md`ä¸­å¼•ç”¨å›¾ç‰‡ä½¿ç”¨å¦‚ä¸‹è¯­æ³• ``` ![å°é¢](./assets/cover.jpg) ``` æ³¨æ„ï¼Œ ä¸è¦å¾€æ–‡ä»¶å¤¹å†…æ”¾å¤§æ–‡ä»¶ï¼Œ å›¾ç‰‡ä¹Ÿä¸è¦ç”¨å¤ªå¤§çš„ï¼Œå¦åˆ™ä¼šå¯¼è‡´æ–‡æ¡£ä»“åº“å·¨å¤§æ— æ¯” ### ç¼–å†™æ–‡æ¡£ ä¸ºäº†æ–‡æ¡£çœ‹èµ·æ¥æ ¼å¼æ­£ç¡®ï¼Œæ›´æ˜“äºé˜…è¯»ï¼Œ ç¼–å†™æ–‡æ¡£**å¿…é¡»**éµå¾ªè¯­æ³•å’Œæ ¼å¼è¦æ±‚ï¼š **çœ‹ [æ–‡æ¡£è§„èŒƒ](../../contribute/doc_convention.html)** **æ–‡æ¡£æ¨¡æ¿**, æŒ‰ç…§æ¨¡æ¿å†™æ–‡ç« ï¼Œ å¯ä»¥æ ¹æ®è‡ªå·±çš„æƒ…å†µä¿®æ”¹ ``` ä½œè€… è”ç³»æ–¹å¼ ä¸ªäººä¸»é¡µ XXX XXXX@XXX.com [github/sipeed](http://github.com/sipeed) ## ç®€ä»‹ï¼š æè¿°ä¸‹æœ¬æ¬¡åˆ†äº«çš„èƒŒæ™¯ï¼Œæœ€ç»ˆå®ç°çš„æ•ˆæœå±•ç¤ºç­‰ï¼Œå¯ä»¥ä½¿ç”¨å›¾ç‰‡æˆ–è€… GIF æˆ–è€…è§†é¢‘è¿›è¡Œå±•ç¤ºï¼Œä½†æ˜¯ä¸è¦æ”¾å¤ªå¤§çš„å›¾ç‰‡åˆ°`assets`æ–‡ä»¶å¤¹ï¼Œä¸ç„¶ç”¨æˆ·å› ä¸ºç½‘é€Ÿé—®é¢˜å¾ˆä¹…éƒ½æ— æ³•åŠ è½½å‡ºæ¥ï¼Œå°±å¤±å»äº†æ„ä¹‰äº† ## å‡†å¤‡: ### é¢„å¤‡çŸ¥è¯† ### éœ€è¦å‡†å¤‡çš„è½¯ç¡¬ä»¶ç¯å¢ƒ #### ç¡¬ä»¶ å›¾æ–‡æè¿°ä½¿ç”¨åˆ°çš„å¼€å‘æ¿ï¼Œ å¤–è®¾æ¨¡å—ç­‰ #### è½¯ä»¶ å›¾æ–‡æè¿°ä½¿ç”¨åˆ°çš„è½¯ä»¶å·¥å…·ï¼ŒMaixPy ç‰ˆæœ¬ å¦‚æœä½¿ç”¨åˆ°ç¬¬ä¸‰æ–¹è½¯ä»¶å·¥å…·ï¼Œå¯ä»¥é™„åŠ ç›¸å…³åç§°æˆ–ä¸‹è½½é“¾æ¥ ## è¿‡ç¨‹ï¼Œå…·ä½“æ ‡é¢˜è‡ªå®šä¹‰ ## è¿‡ç¨‹ï¼Œ å…·ä½“æ ‡é¢˜è‡ªå®šä¹‰ ## ç»“æœ å»ºè®®æ·»åŠ å›¾ç‰‡å±•ç¤ºå®é™…è¿è¡Œæ•ˆæœ ## æ€»ç»“ å¯¹æœ¬æ¬¡åˆ†äº«è¿›è¡Œæ€»ç»“ ## é—®é¢˜å’Œåé¦ˆ å¯ä»¥æä¾›åé¦ˆæ–¹å¼ ## å‚è€ƒ åœ¨è¿™é‡Œä»¥åˆ—è¡¨çš„æ–¹å¼æ³¨æ˜æ–‡ç« ä¸­å¼•ç”¨çš„æ–‡ç« å’Œæºç  * å¼•ç”¨æ–‡ç« 1: https://www.sipeed.com ``` ### æ·»åŠ è¿™ç¯‡åˆ†äº«åˆ°æ–‡æ¡£å·¦è¾¹çš„ç›®å½•æ  æ‰“å¼€`MaixPy_DOC/zh/SUMMARY.md`, åœ¨æœ«å°¾æ·»åŠ è‡ªå·±çš„åˆ†äº«ï¼Œæ¯”å¦‚ ``` ## ç¤¾åŒº & åˆ†äº« [ç²¾é€‰æ•™ç¨‹](./share/recommend_articles.html) [å¼€æºé¡¹ç›®](./share/open_projects.html) å¤§å®¶çš„ç»éªŒåˆ†äº« * [å‚ä¸ç»éªŒåˆ†äº«/åˆ†äº«æ¨¡æ¿](./share/my_share/index.html) * [jerry çš„æ¨¡å‹è®­ç»ƒæ•™ç¨‹](./share/my_share/jerry/index.html) ``` æ·»åŠ è‡ªå·±çš„å¡åæ•ˆæœæ˜¯ï¼š ``` ## ç¤¾åŒº & åˆ†äº« [ç²¾é€‰æ•™ç¨‹](./share/recommend_articles.html) [å¼€æºé¡¹ç›®](./share/open_projects.html) å¤§å®¶çš„ç»éªŒåˆ†äº« * [å‚ä¸ç»éªŒåˆ†äº«/åˆ†äº«æ¨¡æ¿](./share/my_share/index.html) * [æ¨¡å‹è®­ç»ƒæ•™ç¨‹ jerry](./share/my_share/jerry/index.html) * [å¦‚ä½•è®¾è®¡ä¸€ä¸ªè‡ªå·±çš„æ¨¡å‹ tom](./share/my_share/tom/index.html) ``` æ³¨æ„æ˜¯**\\***å·å‰é¢æ˜¯ä¸¤ä¸ªç©ºæ ¼ï¼Œä¸æ˜¯`tab` ### æäº¤ ç¼–å†™å®Œåæäº¤ä¿®æ”¹ï¼Œç„¶ååœ¨ github ä¸Šæäº¤ PRï¼Œ PR é€šè¿‡åå®˜æ–¹æ–‡æ¡£é¡µé¢å°±ä¼šæœ‰è¿™ç¯‡æ–‡ç« äº†"},"/soft/maixpy/zh/share/recommend_articles.html":{"title":"MaixPy ç²¾é€‰æ–‡ç« ","content":" title: MaixPy ç²¾é€‰æ–‡ç«  keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy MaixPy ç²¾é€‰æ–‡ç«  ä»ç¤¾åŒº**ç²¾é€‰**çš„æ–‡ç« ï¼Œæ”¶é›†ä¸€äº›ä¸é”™çš„æ–‡ç« åˆ°è¿™é‡Œï¼Œæ–¹ä¾¿å¤§å®¶å­¦ä¹ äº¤æµã€‚ å¦å¤–ï¼Œå¦‚æœä½ æœ‰ç»éªŒæƒ³è¦åˆ†äº«ï¼Œä¹Ÿæ¬¢è¿å‚ä¸ï¼Œ å†™å¥½æ–‡ç« åï¼Œæäº¤ [issue](https://github.com/sipeed/MaixPy_DOC/issues) è¯·æ±‚æ·»åŠ  è¦æ±‚ï¼š * ä¸ MaixPy ç›¸å…³ * æ–‡ç« ç›®å½•å±‚æ¬¡ç»“æ„æ¸…æ™° * æ–‡ç« é€»è¾‘æ¸…æ™°ï¼Œéœ€è¦å†™æ˜åˆ†äº«çš„ç®€ä»‹ã€æ•ˆæœã€æ“ä½œè¿‡ç¨‹ã€æ€»ç»“ï¼Œå›¾æ–‡å¹¶èŒ‚ ä½ ä¹Ÿå¯ä»¥æŒ‰ç…§[å‚ä¸ç»éªŒåˆ†äº«/åˆ†äº«æ¨¡æ¿](../share/my_share/index.html)ç›´æ¥åœ¨æ–‡æ¡£ä¸­æ·»åŠ ç»éªŒåˆ†äº«ï¼Œå¦‚æœå†™å¾—ä¸é”™ï¼Œä¹Ÿä¼šè¢«æ”¶å½•åˆ°æœ¬é¡µé¢ æ–‡ç« é“¾æ¥å…¨éƒ¨æ”¶å½•è¿›ä»¥ä¸‹å¸–å­ä»¥æ–¹ä¾¿æ›´æ–°ï¼š [ã€ç²¾é€‰æ–‡ç« å¯¼èˆªã€‘](https://bbs.sipeed.com/thread/492)"},"/soft/maixpy/zh/what_maix_do.html":{"title":"MaixPy èƒ½åšå“ªäº›äº‹","content":" title: MaixPy èƒ½åšå“ªäº›äº‹ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®—, äººå·¥æ™ºèƒ½, æ·±åº¦å­¦ä¹  desc: maixpy MaixPy èƒ½åšå“ªäº›äº‹ ä»¥ä¸‹å±•ç¤ºçš„åŠŸèƒ½ä¸º K210 ç›®å‰èƒ½å®ç°çš„åŠŸèƒ½ï¼Œéƒ¨åˆ†åŠŸèƒ½ä¸ºå¼€æºå¼€å‘è€…ä»¬è‡ªè¡Œå¼€å‘çš„æˆæœï¼Œå¹¶ä¸æ˜¯å®˜æ–¹èƒ½æä¾›ä»¥ä¸‹æ‰€æœ‰åŠŸèƒ½å¯¹åº”çš„æºç å’Œæ¨¡å‹ï¼ï¼ï¼ ## äººè„¸æ£€æµ‹ <iframe style src \"//player.bilibili.com/player.html?aid 48648880&cid 85194253&page 1\" scrolling \"no\" border \"0\" frameborder \"no\" framespacing \"0\" allowfullscreen \"true\"> </iframe> ## MobileNet ç‰©ä½“è¯†åˆ« <iframe src \"//player.bilibili.com/player.html?aid 46664014&cid 81743560&page 1\" scrolling \"no\" border \"0\" frameborder \"no\" framespacing \"0\" allowfullscreen \"true\"> </iframe> ## tiny yolov2 20åˆ†ç±» <iframe src \"//player.bilibili.com/player.html?aid 50442796&cid 88307224&page 1\" scrolling \"no\" border \"0\" frameborder \"no\" framespacing \"0\" allowfullscreen \"true\"> </iframe> ## äººè„¸è¯†åˆ« <iframe src \"//player.bilibili.com/player.html?aid 77466790&amp;cid 132521878&amp;page 1\" scrolling \"no\" border \"0\" frameborder \"no\" framespacing \"0\" allowfullscreen \"true\"> </iframe> ## æƒ…ç»ªè¯†åˆ« <iframe src \"//player.bilibili.com/player.html?aid 627513525&bvid BV1Jt4y1i755&cid 247518143&page 1\" scrolling \"no\" border \"0\" frameborder \"no\" framespacing \"0\" allowfullscreen \"true\"> </iframe> ## è¯†åˆ«é¢œè‰²å€¼ã€æ‰¾å½¢çŠ¶ã€æ‰¾ç›´çº¿ã€é¢éƒ¨è¯†åˆ«ç­‰ <iframe src \"//player.bilibili.com/player.html?aid 48652548&cid 85200171&page 1\" scrolling \"no\" border \"0\" frameborder \"no\" framespacing \"0\" allowfullscreen \"true\"> </iframe> è§†é¢‘æ¥è‡ª [Hardware.ai](https://www.youtube.com/channel/UCCBSoR9ZO0Uj7W6jH9Y317g) ## MNIST æ‰‹å†™æ•°å­—è¯†åˆ« <iframe src \"//player.bilibili.com/player.html?aid 46663492&cid 81742916&page 1\" scrolling \"no\" border \"0\" frameborder \"no\" framespacing \"0\" allowfullscreen \"true\"> </iframe> ## è½¦ç‰Œè¯†åˆ« <iframe src \"//player.bilibili.com/player.html?aid 628060482&bvid BV1it4y1Y7zc&cid 263532620&page 1\" scrolling \"no\" border \"0\" frameborder \"no\" framespacing \"0\" allowfullscreen \"true\"> </iframe> ## åˆ†æ‹£ç³»ç»Ÿ <iframe src \"//player.bilibili.com/player.html?aid 927463889&bvid BV1pT4y1w7Aq&cid 246175512&page 1\" scrolling \"no\" border \"0\" frameborder \"no\" framespacing \"0\" allowfullscreen \"true\"> </iframe> ## Feature map æ˜¾ç¤º <iframe src \"//player.bilibili.com/player.html?aid 44971536&cid 78764427&page 1\" scrolling \"no\" border \"0\" frameborder \"no\" framespacing \"0\" allowfullscreen \"true\"> </iframe> ## è§†é¢‘æ’­æ”¾å’Œå½•åˆ¶ <iframe src \"//player.bilibili.com/player.html?aid 44971751&cid 78764762&page 1\" scrolling \"no\" border \"0\" frameborder \"no\" framespacing \"0\" allowfullscreen \"true\"> </iframe> ## NES æ¸¸æˆæ¨¡æ‹Ÿå™¨ ï¼ˆFC çº¢ç™½æœºï¼‰ <iframe src \"//player.bilibili.com/player.html?aid 48653991&cid 85202525&page 1\" scrolling \"no\" border \"0\" frameborder \"no\" framespacing \"0\" allowfullscreen \"true\"> </iframe> ## GBA æ¸¸æˆæ¨¡æ‹Ÿå™¨ <iframe src \"//player.bilibili.com/player.html?aid 48654358&cid 85203041&page 1\" scrolling \"no\" border \"0\" frameborder \"no\" framespacing \"0\" allowfullscreen \"true\"> </iframe> [æºç ](https://github.com/44670/mgba k210) ## æ¸¸æˆ Quake I <iframe src \"//player.bilibili.com/player.html?aid 48656943&cid 85206864&page 1\" scrolling \"no\" border \"0\" frameborder \"no\" framespacing \"0\" allowfullscreen \"true\"> </iframe> [æºç ](https://github.com/elect gombe/quake k210) ## MMD 3D å®æ—¶æ¸²æŸ“ <iframe src \"//player.bilibili.com/player.html?aid 48656998&cid 85206967&page 1\" scrolling \"no\" border \"0\" frameborder \"no\" framespacing \"0\" allowfullscreen \"true\"> </iframe> [æºç ](https://github.com/elect gombe/k210_mmd) ## GUI ç•Œé¢ littlevGL <iframe src \"//player.bilibili.com/player.html?aid 48653253&cid 85201363&page 1\" scrolling \"no\" border \"0\" frameborder \"no\" framespacing \"0\" allowfullscreen \"true\"> </iframe> ## äº‘å°è„¸éƒ¨è·Ÿè¸ª <iframe src \"//player.bilibili.com/player.html?aid 36466137&cid 64024878&page 1\" scrolling \"no\" border \"0\" frameborder \"no\" framespacing \"0\" allowfullscreen \"true\"> </iframe> ## éº¦å…‹é£é˜µåˆ— <iframe src \"//player.bilibili.com/player.html?aid 37058760&cid 65120313&page 1\" scrolling \"no\" border \"0\" frameborder \"no\" framespacing \"0\" allowfullscreen \"true\"> </iframe> ## FFT é¢‘è°±å›¾ <iframe src \"//player.bilibili.com/player.html?aid 44617696&cid 78104545&page 1\" scrolling \"no\" border \"0\" frameborder \"no\" framespacing \"0\" allowfullscreen \"true\"> </iframe>"},"/soft/maixpy/zh/get_started/knowledge_prepare.html":{"title":"å¿…å¤‡åŸºç¡€çŸ¥è¯†","content":" title: å¿…å¤‡åŸºç¡€çŸ¥è¯† keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®—, maixpyå…¥é—¨, äººå·¥æ™ºèƒ½ desc: maixpy å¿…å¤‡åŸºç¡€çŸ¥è¯† è¦å¼€å§‹ä½¿ç”¨ `MaixPy`ï¼Œ æˆ‘ä»¬å»ºè®®è‡³å°‘æœ‰ä»¥ä¸‹åŸºç¡€çŸ¥è¯†ï¼ˆå¦‚æœæ²¡æœ‰ï¼Œéœ€è¦å…ˆå­¦ä¹ ï¼‰ï¼š * æœ‰è¶³å¤Ÿçš„è€å¿ƒå’Œç»†å¿ƒï¼Œ èƒ½å¤Ÿé™ä¸‹å¿ƒæ¥ä¸“ç ”æŠ€æœ¯ã€ä»”ç»†æŸ¥çœ‹æ–‡æ¡£ã€ä¸“å¿ƒå†™ä»£ç  * æœ‰ `Python` æˆ–è€… `Micropython` åŸºç¡€ï¼Œ ä¼šä½¿ç”¨ `Python` åŸºç¡€è¯­æ³•ã€‚ * å¦‚æœä¸ä¼š `Python`è¯­æ³•ï¼Œ ä½†æ˜¯æœ‰å…¶å®ƒç¼–ç¨‹è¯­è¨€åŸºç¡€ï¼Œè¯·ç”¨ç™¾åº¦æœä¸€ä¸‹ `Python æ•™ç¨‹` å­¦ä¹ åŸºç¡€è¯­æ³•éƒ¨åˆ†å³å¯ï¼› * å¦‚æœä¸ä¼šä»»ä½•ä¸€é—¨ç¼–ç¨‹è¯­è¨€ï¼Œ é‚£æœ¬æ–‡æ¡£çœ‹èµ·æ¥ä¼šå¾ˆåƒåŠ›ï¼Œ è¯·å…ˆå­¦ä¹  `Python` åŸºç¡€è¯­æ³•å’Œä½¿ç”¨ * è‡³å°‘æœ‰ä¸€ç§å•ç‰‡æœºå¼€å‘åŸºç¡€ï¼Œèƒ½çœ‹æ‡‚åŸºæœ¬çš„ç”µè·¯å›¾ï¼Œ ç›®å‰æœ¬æ–‡æ¡£è¿˜æ²¡æœ‰é’ˆå¯¹é›¶åŸºç¡€çš„äººç¾¤çš„æ•™ç¨‹ > éœ€è¦æœ‰å•ç‰‡æœºå¼€å‘ç»éªŒçš„åŸå› æ˜¯æœ¬æ–‡æ¡£ç›®å‰è¿˜æ²¡æœ‰å¯¹ä¸€äº›åŸºæœ¬çš„æœ¯è¯­è¿›è¡Œæ•™å­¦ï¼Œæ¯”å¦‚ `UART` æ˜¯ä»€ä¹ˆï¼Ÿ `I2S` æ˜¯ä»€ä¹ˆï¼Ÿè€Œä¸”åœ¨æœªæ¥ä¹Ÿå¤šåŠä¸ä¼šå¯¹è¿™äº›åŸºç¡€çŸ¥è¯†è¿›è¡Œè¯¦ç»†åœ°é˜è¿° ï¼ˆä½†æ˜¯å®é™…ä¸Šï¼Œ å¦‚æœä½ å–„äºä½¿ç”¨æœç´¢å·¥å…·è¿›è¡Œå­¦ä¹ ï¼Œ å°±ç®—ä¸æ‡‚ä¹Ÿå¯ä»¥å­¦ä¹ åˆ°ï¼‰ * äº†è§£ Micropython æ˜¯ä»€ä¹ˆï¼Œ è¿™é‡ŒæŸ¥çœ‹ï¼š [MicroPython è¯­è¨€ä»‹ç»](http://docs.micropython.org/en/latest/reference/index.html) * å¤§è‡´ä¸Šäº†è§£ Micropython ä¸ Python çš„ä¸åŒï¼Œ å¯ä»¥åœ¨è¿™é‡Œï¼š[MicroPython ä¸ CPythonï¼ˆPython3ï¼‰ çš„ä¸åŒä¹‹å¤„](http://docs.micropython.org/en/latest/genrst/index.html) æŸ¥çœ‹ å¦‚æœä¸Šè¿°çš„å‡ ç‚¹æœ‰ä¸€ç‚¹ä¸æ»¡è¶³ï¼Œ é‚£ä¹ˆå»ºè®®å…ˆè¡¥è¶³æ‰€ç¼ºï¼Œ å¦åˆ™å­¦ä¹ å’Œå¼€å‘çš„è¿‡ç¨‹å°†ä¼šå¼‚å¸¸è‰°è¾›ï¼ï¼ï¼ï¼"},"/soft/maixpy/zh/get_started/get_started_edit_file.html":{"title":"ç¼–è¾‘å¹¶æ‰§è¡Œæ–‡ä»¶","content":" title: ç¼–è¾‘å¹¶æ‰§è¡Œæ–‡ä»¶ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®—, maixpyå…¥é—¨ desc: maixpy ç¼–è¾‘å¹¶æ‰§è¡Œæ–‡ä»¶ ## MaixPy å†…ç½®äº†æ–‡ä»¶ç³»ç»Ÿ å‰é¢è¯´äº†ï¼Œ `MaixPy` æ”¯æŒ `Flash` ä½¿ç”¨çš„ `SPIFFS`ï¼ˆç›®å‰ä¸æ”¯æŒåˆ›å»ºç›®å½•ï¼‰, é»˜è®¤åˆ†é…äº† `3MB` ç»™ `SPIFF`ï¼ˆä»`flash` `0xD00000`åœ°å€å¼€å§‹ `3M`ï¼‰, å¼€æœºè‡ªåŠ¨æŒ‚è½½åˆ° `/flash` ç›®å½•ä¸‹ ä¹Ÿæ”¯æŒ `FAT32` æ ¼å¼`MBR`åˆ†åŒºçš„ `Micro SD ï¼ˆTFï¼‰`å¡ ,å¼€æœºè‡ªåŠ¨æŒ‚åœ¨åˆ° `/sd` ç›®å½•ä¸‹ éœ€è¦æ³¨æ„çš„æ˜¯, æ ¹ç›®å½•åªæ˜¯ç”¨æ¥æŒ‚è½½ Flash æˆ–è€… SD å¡, å…·ä½“çš„æ–‡ä»¶åœ¨ `/flash` æˆ–è€… `/sd` ç›®å½•ä¸‹ ## ä¸ºä»€ä¹ˆéœ€è¦ç¼–è¾‘å¹¶æ‰§è¡Œæ–‡ä»¶ åœ¨å‰é¢çš„å®éªŒä¸­,æˆ‘ä»¬ç›´æ¥åœ¨ç»ˆç«¯é‡Œé¢æ•²ä»£ç æ¥ä¸€å¥ä¸€å¥æ‰§è¡Œ,è¿™æ ·ä¹Ÿç®€å•æ–¹ä¾¿,æˆ‘ä»¬è¾“å…¥å‘½ä»¤åä¼šç«‹å³æ‰§è¡Œå¹¶åŠæ—¶å¾—åˆ°è¿”å›çš„ç»“æœ,è¿™ç§äº¤äº’æ–¹å¼ç§°ä¸º **`REPLï¼ˆRead Eval Print Loopï¼šäº¤äº’å¼è§£é‡Šå™¨ï¼‰`**, è¿™ç§æ–¹å¼çš„å¥½å¤„å°±æ˜¯ç®€å•æ–¹ä¾¿,ä½¿ç”¨èµ·æ¥å’Œ Linux ç»ˆç«¯ååˆ†ç›¸ä¼¼,åªæ˜¯ä½¿ç”¨çš„è¯­æ³•æ¢æˆäº† MaixPy(Micropython)çš„è¯­æ³•ã€‚ ä½†æ˜¯åœ¨å®é™…è¿è¡Œçš„æ—¶å€™ï¼Œæˆ‘ä»¬å¸Œæœ›ä»£ç ä¿å­˜åœ¨æ–‡ä»¶ç³»ç»Ÿï¼Œ éœ€è¦è¿è¡Œæ˜¯ç›´æ¥è¿è¡Œæ–‡ä»¶ï¼Œè¿™æ ·æˆ‘ä»¬ä¸ç”¨æ¯æ¬¡éƒ½æ•²ä»£ç ,å‡å°‘äº†å¾ˆå¤šéº»çƒ¦ ## ç¼–è¾‘å¹¶ä¿å­˜æ–‡ä»¶ ### æ–¹æ³•ä¸€ï¼š ä½¿ç”¨å†…ç½®ç¼–è¾‘å™¨ [Micropython Editor(pye)](https://github.com/robert hh/Micropython Editor) åœ¨ MaixPy ä¸­, æˆ‘ä»¬å†…ç½®äº†ä¸€æ¬¾ç¼–å¼€æºç¼–è¾‘å™¨ [Micropython Editor(pye)](https://github.com/robert hh/Micropython Editor) ä½¿ç”¨ `os.listdir()` å¯ä»¥æŸ¥çœ‹å½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶, ä½¿ç”¨ `pye(\"hello.py\")` å¯ä»¥åˆ›å»ºæ–‡ä»¶å¹¶è¿›å…¥ç¼–è¾‘æ¨¡å¼, å¿«æ·é”®ç­‰ä½¿ç”¨è¯´æ˜å¯ä»¥åœ¨[è¿™é‡ŒæŸ¥çœ‹](https://github.com/robert hh/Micropython Editor/blob/master/Pyboard%20Editor.pdf) æ¯”å¦‚æˆ‘ä»¬å†™å…¥ä»£ç  ```python print(\"hello maixpy\") ``` ç„¶åæŒ‰ `Ctrl+S` æŒ‰ `Enter` é”®ä¿å­˜, æŒ‰ `Ctrl+Q` é€€å‡ºç¼–è¾‘ **æ³¨æ„**ï¼š ä½¿ç”¨è¿™æ¬¾ç¼–è¾‘å™¨å¯¹ä½¿ç”¨çš„ä¸²å£å·¥å…·æœ‰ä¸€å®šè¦æ±‚, å¿…é¡»å°† `BackSpace` æŒ‰é”®è®¾ç½®ä¸º `DEL` åŠŸèƒ½, å¦åˆ™æŒ‰ `BackSpace` è°ƒç”¨çš„æ˜¯ `Ctrl+H` ä¸€æ ·çš„åŠŸèƒ½ï¼ˆå³å­—ç¬¦æ›¿æ¢ï¼‰ã€‚ Linux ä¸‹æ¨èä½¿ç”¨ `minicom`, éœ€è¦ä½¿ç”¨ `sudo minicom s` æ¥è®¾ç½®,å‚è€ƒ[å‰é¢çš„æ•™ç¨‹](env_serial_tools.html) Windows ä¸‹ä¹Ÿä¸€æ ·, æ ¹æ®è‡ªå·±ä½¿ç”¨çš„å·¥å…·ä¸Šç½‘æœè®¾ç½®æ–¹æ³•, æ¯”å¦‚ `xshell` æœ `xshellå¦‚ä½•è®¾ç½®backspaceä¸ºdel` å¾—åˆ°ç»“æœï¼š `æ–‡ä»¶` > `å±æ€§` > `ç»ˆç«¯` > `é”®ç›˜`, æŠŠ delete å’Œ backspace åºåˆ—æ”¹ä¸º ASCII 127 å³å¯. ### æ–¹æ³•äºŒï¼š ä½¿ç”¨ MaixPy IDE æ‰“å¼€ `MaixPy IDE`, è¿æ¥å¼€å‘æ¿ ç¼–è¾‘æ–‡ä»¶,ç„¶ååœ¨é¡¶ç«¯`Tool`ï¼ˆå·¥å…·ï¼‰èœå•ä¸­, ä½¿ç”¨é¡¶ç«¯`Tool`(å·¥å…·)èœå•ä¸­çš„`å‘é€æ–‡ä»¶`åŠŸèƒ½æ¥å‘é€æ–‡ä»¶,ä¼šä¿å­˜åˆ°å¼€å‘æ¿å¹¶ä¸”æ–‡ä»¶åå’Œç”µè„‘ä¸Šçš„æ–‡ä»¶åç›¸åŒ å½“ç„¶ä¹Ÿå¯ä»¥ç‚¹å‡»`å°†æ‰“å¼€çš„æ–‡ä»¶ä¿å­˜ä¸º boot.py` æ¥å°†ä»£ç ä¿å­˜åˆ°å¼€å‘æ¿çš„`boot.py`æ–‡ä»¶,ä¸­,ä¸‹æ¬¡å¼€å‘æ¿å¼€æœºä¸Šç”µä¼šè‡ªåŠ¨æ‰§è¡Œè¿™ä¸ªæ–‡ä»¶ ![](../../assets/maixpy/maixpy_ide_tools.png) ### æ–¹æ³•ä¸‰ï¼š ä½¿ç”¨å·¥å…· [uPyLoader](https://github.com/BetaRavener/uPyLoader) è¯»å–åˆ° PCï¼ˆç”µè„‘)ä¸Šç¼–è¾‘åå†ä¿å­˜åˆ°å¼€å‘æ¿ ä¸‹è½½å¯æ‰§è¡Œæ–‡ä»¶:[release](https://github.com/BetaRavener/uPyLoader/releases) ![uPyLoader](../../assets/other/uPyLoader.png) é€‰æ‹©ä¸²å£å¹¶ç‚¹å‡» `Connect` æŒ‰é’®æ¥è¿æ¥æ¿å­ ç¬¬ä¸€æ¬¡è¿è¡Œè¯¥è½¯ä»¶éœ€è¦åˆå§‹åŒ–, ç‚¹å‡» `File >Init transfer files` æ¥å®Œæˆåˆå§‹åŒ–,è¿™ä¼šåœ¨æ¿å­é‡Œåˆ›å»ºä¸¤ä¸ªæ–‡ä»¶,åˆ†åˆ«æ˜¯ `__upload.py` å’Œ `__download.py`ã€‚ ç„¶ååŒå‡»æ–‡ä»¶åå³å¯æ‰“å¼€æ–‡ä»¶å¹¶ç¼–è¾‘,ç¼–è¾‘å®Œæˆåç‚¹å‡» `save` æ¥ä¿å­˜åˆ°å¼€å‘æ¿å³å¯ ### æ–¹æ³•å››ï¼š ä½¿ç”¨å·¥å…· [rshell](https://github.com/dhylands/rshell) è¯»å–åˆ° PCï¼ˆç”µè„‘)ä¸Šç¼–è¾‘åå†ä¿å­˜åˆ°å¼€å‘æ¿ æŒ‰ç…§ `rshell` [é¡¹ç›®ä¸»é¡µ](https://github.com/dhylands/rshell)çš„è¯´æ˜å®‰è£…å¥½ `rshell` ```shell sudo apt get install python3 pip sudo pip3 install rshell rshell p /dev/ttyUSB1 # è¿™é‡Œæ ¹æ®å®é™…æƒ…å†µé€‰æ‹©ä¸²å£ ``` ç¼–è¾‘æ–‡ä»¶ ```python ls /flash edit /flash/boot.py # ç¼–è¾‘å™¨ä½¿ç”¨æ–¹æ³•å’Œ vim ä¸€æ · ``` ## æ‰§è¡Œæ–‡ä»¶ ä½¿ç”¨ `os.chdir()` åˆ‡æ¢å½“å‰ç›®å½•åˆ°æ–‡ä»¶çš„ç›®å½•,æ¯”å¦‚ `os.chdir(\"/flash\")` ### æ–¹æ³•ä¸€ï¼š `import` ç„¶åæ‰§è¡Œ `import hello` å³å¯çœ‹åˆ°è¾“å‡º `hello maixpy` ä½¿ç”¨æ­¤æ–¹æ³•ç®€å•æ˜“ç”¨,ä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯, ç›®å‰ `import` åªèƒ½ä½¿ç”¨ä¸€æ¬¡, å¦‚æœç¬¬äºŒæ¬¡ `import`, åˆ™æ–‡ä»¶ä¸ä¼šå†æ‰§è¡Œ, å¦‚æœéœ€è¦å¤šæ¬¡æ‰§è¡Œ,å»ºè®®ä½¿ç”¨ä¸‹é¢çš„æ–¹æ³• è€Œä¸” `import` ä¹Ÿä¸ä¼šæ‰§è¡Œ`if __name__ \"__main__\":`æ¡ä»¶ä¸‹çš„ä»£ç ï¼Œéœ€è¦æ³¨æ„ ### æ–¹æ³•äºŒï¼š `exec()` ä½¿ç”¨ `exec()` å‡½æ•°æ¥æ‰§è¡Œ ```python with open(\"hello.py\") as f: exec(f.read()) ``` ### æ–¹æ³•ä¸‰ï¼š ä½¿ç”¨ **MaixPy IDE** æ¥æ‰§è¡Œ æ‰“å¼€æ–‡ä»¶, ç„¶åç‚¹å‡»æ‰§è¡ŒæŒ‰é’®æ¥æ‰§è¡Œï¼Œ**æ³¨æ„**ï¼šè¿™æ ·æ‰§è¡Œä»£ç å’Œ `REPL`æ‰§è¡Œä»£ç ç±»ä¼¼ï¼Œåªæ˜¯å°†ç¨‹åºå‘é€åˆ°å¼€å‘æ¿ï¼Œå¹¶æ²¡æœ‰ä¿å­˜åˆ°æ–‡ä»¶ç³»ç»Ÿï¼Œæ˜¯ä¸€æ¬¡æ€§æ‰§è¡Œçš„ ![](../../assets/maixpy/maixpy_connect success.png) ### æ–¹æ³•å››ï¼š ä½¿ç”¨ uPyLoader æ¥æ‰§è¡Œ è¿æ¥å¥½åé€‰ä¸­æ–‡ä»¶, ç‚¹å‡» `excute` æŒ‰é’®æ¥æ‰§è¡Œæ–‡ä»¶ ### æ–¹æ³•äº”ï¼š ä½¿ç”¨ ampy æ¥ç›´æ¥è¿è¡Œç”µè„‘ä¸Šçš„æ–‡ä»¶ [ampy](https://github.com/pycampers/ampy) æ‰§è¡Œå‘½ä»¤ `ampy run file_in_PC.py` æ¥æ‰§è¡Œä½äºç”µè„‘ä¸Šçš„æ–‡ä»¶ï¼ˆæ–‡ä»¶ä¸ä¼šä¿å­˜åˆ°å¼€å‘æ¿ï¼‰ ## MaixPy æ”¯æŒæŒ‚è½½æ–‡ä»¶ç³»ç»Ÿåˆ°ç”µè„‘ä¹ˆ ä¸æ”¯æŒï¼Œ å› ä¸ºä½¿ç”¨çš„èŠ¯ç‰‡ k210 æ²¡æœ‰ USB åŠŸèƒ½ï¼Œ æ— æ³•æ¨¡æ‹Ÿ U ç›˜è®¾å¤‡ï¼Œæ‰€ä»¥ä¸èƒ½åƒ Microbit å’Œ STM32 çš„ Micropython ä¸€æ ·è™šæ‹Ÿä¸€ä¸ª U ç›˜"},"/soft/maixpy/zh/get_started/knowledge_image.html":{"title":"å›¾åƒå¤„ç†èƒŒæ™¯çŸ¥è¯†","content":" title: å›¾åƒå¤„ç†èƒŒæ™¯çŸ¥è¯† keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®—, maixpyå…¥é—¨, äººå·¥æ™ºèƒ½ desc: maixpy å›¾åƒå¤„ç†èƒŒæ™¯çŸ¥è¯† ## ä»€ä¹ˆæ˜¯æ‘„åƒå¤´ï¼Ÿ æˆ‘ä»¬éƒ½è§è¿‡å„ç§æ‘„åƒå¤´ï¼Œæ¯”å¦‚ <img src \"../../assets/other/camera_mi.png\" height \"200\"> <img src \"../../assets/hardware/module/camera.png\" height \"200\"> é‚£ä¹ˆä»€ä¹ˆæ˜¯æ‘„åƒå¤´ï¼Œè¯´åˆ°åº•ï¼Œå°±æ˜¯ä¸€ä¸ªå°†å…‰å­¦ä¿¡å·è½¬å˜æˆç”µä¿¡å·çš„ä¸€ä¸ªè£…ç½®ã€‚åœ¨è®¡ç®—æœºè§†è§‰ä¸­ï¼Œæœ€ç®€å•çš„ç›¸æœºæ¨¡å‹æ˜¯`å°å­”æˆåƒæ¨¡å‹`ï¼š ![](../../assets/other/Pinhole camera.svg) å°å­”æ¨¡å‹æ˜¯ä¸€ç§ç†æƒ³ç›¸æœºæ¨¡å‹ï¼Œæ²¡æœ‰è€ƒè™‘å®é™…ç›¸æœºä¸­å­˜åœ¨çš„åœºæ›²ã€ç•¸å˜ç­‰é—®é¢˜ã€‚ä½†æ˜¯åœ¨å®é™…ä½¿ç”¨æ—¶ï¼Œè¿™äº›é—®é¢˜å¯ä»¥é€šè¿‡åœ¨æ ‡å®šçš„è¿‡ç¨‹ä¸­å¼•å…¥`ç•¸å˜å‚æ•°`è§£å†³ï¼Œæ‰€ä»¥å°å­”æ¨¡å‹ä»ç„¶æ˜¯ç›®å‰æœ€å¹¿æ³›ä½¿ç”¨çš„ç›¸æœºæ¨¡å‹ã€‚ å›¾åƒé€è¿‡é•œå¤´ï¼Œç…§åœ¨ä¸€ä¸ªæ„Ÿå…‰èŠ¯ç‰‡ä¸Šï¼Œæ„Ÿå…‰èŠ¯ç‰‡å¯ä»¥æŠŠå…‰ç…§çš„æ³¢é•¿å’Œå¼ºåº¦ç­‰ä¿¡æ¯è½¬æˆè®¡ç®—æœº(æ•°å­—ç”µè·¯)å¯ä»¥è¯†åˆ«çš„æ•°å­—ä¿¡å·ï¼Œ`æ„Ÿå…‰å…ƒä»¶`æ˜¯é•¿è¿™æ ·çš„ï¼š ![camera sensor](../../assets/other/sensor.png) (ä¸­é—´çš„æ–¹å½¢å…ƒä»¶å°±æ˜¯æ„Ÿå…‰å…ƒä»¶) ## ä»€ä¹ˆæ˜¯åƒç´ å’Œåˆ†è¾¨ç‡ï¼Ÿ æ„Ÿå…‰å…ƒä»¶æ˜¯æœ‰å¾ˆå¤šä¸ªæ„Ÿå…‰ç‚¹æ„æˆçš„ï¼Œæ¯”å¦‚æœ‰ `640` x `480` ä¸ªç‚¹ï¼Œæ¯ä¸ªç‚¹å°±æ˜¯ä¸€ä¸ªåƒç´ ï¼ŒæŠŠæ¯ä¸ªç‚¹çš„åƒç´ æ”¶é›†æ•´ç†èµ·æ¥ï¼Œå°±æ˜¯ä¸€å‰¯å›¾ç‰‡ï¼Œé‚£ä¹ˆè¿™å¼ å›¾ç‰‡çš„åˆ†è¾¨ç‡å°±æ˜¯ 640x480ï¼š ## ä»€ä¹ˆæ˜¯å¸§ç‡ å¸§ç‡(FPS)å°±æ˜¯æ¯ç§’é’Ÿå¤„ç†çš„å›¾ç‰‡æ•°é‡ï¼Œå¦‚æœè¶…è¿‡20å¸§ï¼Œäººçœ¼å°±åŸºæœ¬åˆ†è¾¨ä¸å‡ºå¡é¡¿ã€‚å½“ç„¶ï¼Œå¦‚æœç”¨åœ¨æœºå™¨ä¸Šï¼Œå¸§ç‡è¶Šé«˜è¶Šå¥½ã€‚ ## ä»€ä¹ˆæ˜¯é¢œè‰² ç‰©ç†ä¸Šï¼Œé¢œè‰²å°±æ˜¯ä¸åŒæ³¢é•¿çš„ç”µç£æ³¢ã€‚ ![sRGB rendering of the spectrum of visible light](../../assets/other/1920px Linear_visible_spectrum.svg.png) é¢œè‰²é¢‘ç‡ æ³¢é•¿ ç´«è‰²668â€“789 THz380â€“450 nm è“è‰²631â€“668 THz450â€“475 nm é’è‰²606â€“630 THz476â€“495 nm ç»¿è‰²526â€“606 THz495â€“570 nm é»„è‰²508â€“526 THz570â€“590 nm æ©™è‰²484â€“508 THz590â€“620 nm çº¢è‰²400â€“484 THz620â€“750 nm ä½†æ˜¯ï¼Œæ ¹æ®äººçœ¼çš„è§†è§‰æ•ˆæœï¼Œå¯ä»¥é€šè¿‡ RGBï¼ŒCMYKï¼ŒHSBï¼ŒLAB è‰²åŸŸï¼Œæ¥å°†å¯è§å…‰çš„é¢œè‰²æè¿°å‡ºæ¥ã€‚ ## RGB ä¸‰åŸè‰² ä¸‰åŸè‰²çš„åŸç†ä¸æ˜¯ç‰©ç†åŸå› ï¼Œè€Œæ˜¯ç”±äºäººçš„ç”Ÿç†åŸå› é€ æˆçš„ã€‚äººçš„çœ¼ç›å†…æœ‰å‡ ç§è¾¨åˆ«é¢œè‰²çš„é”¥å½¢æ„Ÿå…‰ç»†èƒï¼Œåˆ†åˆ«å¯¹é»„ç»¿è‰²ã€ç»¿è‰²å’Œè“ç´«è‰²(æˆ–ç§°ç´«ç½—å…°è‰²)çš„å…‰æœ€æ•æ„Ÿ(æ³¢é•¿åˆ†åˆ«ä¸º564ã€534å’Œ420çº³ç±³)ã€‚ æ‰€ä»¥ RGB ç»å¸¸ç”¨äºæ˜¾ç¤ºå™¨ä¸Šï¼Œç”¨æ¥æ˜¾ç¤ºå›¾ç‰‡ã€‚ LAB äº®åº¦ å¯¹æ¯”åº¦ Labé¢œè‰²ç©ºé—´ä¸­ï¼ŒLäº®åº¦ï¼›açš„æ­£æ•°ä»£è¡¨çº¢è‰²ï¼Œè´Ÿç«¯ä»£è¡¨ç»¿è‰²ï¼›bçš„æ­£æ•°ä»£è¡¨é»„è‰²ï¼Œè´Ÿç«¯ä»£è¡¨å…°è‰²ã€‚ä¸åƒRGBè‰²å½©ç©ºé—´ï¼ŒLabé¢œè‰²è¢«è®¾è®¡æ¥æ¥è¿‘äººç±»è§†è§‰ã€‚ å› æ­¤Låˆ†é‡å¯ä»¥è°ƒæ•´äº®åº¦å¯¹ï¼Œä¿®æ”¹aå’Œbåˆ†é‡çš„è¾“å‡ºè‰²é˜¶æ¥åšç²¾ç¡®çš„é¢œè‰²å¹³è¡¡ã€‚ æ³¨æ„ï¼šåœ¨MaixPyçš„æŸ¥æ‰¾è‰²å—çš„ç®—æ³•ä¸­ï¼Œè¿ç”¨çš„å°±æ˜¯è¿™ä¸ªLABæ¨¡å¼ï¼ å…‰æºçš„é€‰æ‹© å¦‚æœä½ çš„æœºå™¨æ˜¯åœ¨å·¥ä¸šä¸Šï¼Œæˆ–è€…24å°æ—¶é•¿æ—¶é—´è¿è¡Œçš„è®¾å¤‡ï¼Œä¿æŒä¸€ä¸ªç¨³å®šçš„å…‰æºæ˜¯è‡³å…³é‡è¦çš„ï¼Œå°¤å…¶åœ¨é¢œè‰²ç®—æ³•ä¸­ã€‚äº®åº¦ä¸€å˜ï¼Œæ•´ä¸ªé¢œè‰²çš„å€¼ä¼šå˜åŒ–çš„å¾ˆå¤§ï¼ ## é•œå¤´çš„ç„¦è· å› ä¸ºå›¾åƒæ˜¯é€šè¿‡é•œå¤´çš„å…‰å­¦æŠ˜å°„ï¼Œç…§åˆ°æ„Ÿå…‰å…ƒä»¶ä¸Šçš„ã€‚é‚£ä¹ˆé•œå¤´å°±å†³å®šäº†ï¼Œæ•´ä¸ªç”»é¢çš„å¤§å°å’Œè¿œè¿‘ã€‚ä¸€ä¸ªæœ€é‡è¦çš„å‚æ•°å°±æ˜¯ç„¦è·ã€‚ ![focal_distance](../../assets/other/focal_distance.jpg) **é•œå¤´ç„¦è·**ï¼šæ˜¯æŒ‡é•œå¤´å…‰å­¦åä¸»ç‚¹åˆ°ç„¦ç‚¹çš„è·ç¦»ï¼Œæ˜¯é•œå¤´çš„é‡è¦æ€§èƒ½æŒ‡æ ‡ã€‚é•œå¤´ç„¦è·çš„é•¿çŸ­å†³å®šç€æ‹æ‘„çš„æˆåƒå¤§å°ï¼Œè§†åœºè§’å¤§å°ï¼Œæ™¯æ·±å¤§å°å’Œç”»é¢çš„é€è§†å¼ºå¼±ã€‚å½“å¯¹åŒä¸€è·ç¦»è¿œçš„åŒä¸€ä¸ªè¢«æ‘„ç›®æ ‡æ‹æ‘„æ—¶ï¼Œé•œå¤´ç„¦è·é•¿çš„æ‰€æˆçš„è±¡å¤§ï¼Œé•œå¤´ç„¦è·çŸ­çš„æ‰€æˆçš„è±¡å°ã€‚æ³¨æ„ç„¦è·è¶Šé•¿ï¼Œè§†è§’è¶Šå°ã€‚ è¿˜æœ‰ä¸€ç‚¹æ˜¯é•œå¤´çš„ç•¸å˜ï¼Œå› ä¸ºå…‰å­¦åŸç†ï¼Œåœ¨æ„Ÿå…‰èŠ¯ç‰‡ä¸Šä¸åŒçš„ä½ç½®ï¼Œä¸é•œå¤´çš„è·ç¦»ä¸åŒçš„ï¼Œç®€å•è¯´å°±æ˜¯è¿‘å¤§è¿œå°ï¼Œæ‰€ä»¥åœ¨è¾¹ç¼˜ä¼šå‡ºç°é±¼çœ¼æ•ˆæœ(æ¡¶å‹ç•¸å˜)ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥åœ¨ä»£ç ä¸­ä½¿ç”¨ç®—æ³•æ¥çŸ«æ­£ç•¸å˜ï¼Œæ³¨ï¼šMaixPyä¸­ä½¿ç”¨image.lens_corr(1.8)æ¥çŸ«æ­£2.8mmç„¦è·çš„é•œå¤´ã€‚ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨æ— ç•¸å˜é•œå¤´ã€‚æ— ç•¸å˜é•œå¤´åŠ å…¥äº†é¢å¤–çš„çŸ«æ­£é€é•œéƒ¨åˆ†ï¼Œä»·æ ¼è‡ªç„¶ä¼šé«˜ä¸å°‘ã€‚ ## é•œå¤´çš„æ»¤ç‰‡ åœ¨é•œå¤´ä¸Šï¼Œé€šå¸¸ä¼šæœ‰ä¸€ä¸ªæ»¤ç‰‡ã€‚ ![camera sensor](../../assets/other/sensor_1.png) è¿™ä¸ªæ»¤ç‰‡æ˜¯åšä»€ä¹ˆçš„å‘¢ï¼Ÿ æˆ‘ä»¬çŸ¥é“ï¼Œä¸åŒé¢œè‰²çš„å…‰ï¼Œæ˜¯æ³¢é•¿ä¸ä¸€æ ·ã€‚åœ¨æ­£å¸¸ç¯å¢ƒä¸­ï¼Œé™¤äº†å¯è§å…‰ï¼Œè¿˜æœ‰å¾ˆå¤šçº¢å¤–å…‰ï¼Œåœ¨å¤œè§†ä¸­ï¼Œç”¨çš„å°±æ˜¯çº¢å¤–å…‰ã€‚ ä½†æ˜¯ï¼Œåœ¨æ­£å¸¸é¢œè‰²åº”ç”¨ä¸­ï¼Œæ˜¯ä¸éœ€è¦çº¢å¤–å…‰çš„ï¼Œå› ä¸ºçº¢å¤–å…‰ä¹Ÿä¼šä½¿æ„Ÿå…‰å…ƒä»¶å—åˆ°ååº”ï¼Œå°±ä½¿å¾—æ•´ä¸ªç”»é¢æ³›ç™½ã€‚æ‰€ä»¥æˆ‘ä»¬åœ¨é•œå¤´ä¸Šæ”¾ä¸€ä¸ªåªèƒ½é€šè¿‡æ³¢é•¿ 650nm ä»¥å†…çš„æ»¤å…‰ç‰‡ï¼Œå°†çº¢å¤–å…‰è¿›è¡Œè¿‡æ»¤ã€‚"},"/soft/maixpy/zh/get_started/env_serial_tools.html":{"title":"ä¸²å£è¿æ¥","content":" title: ä¸²å£è¿æ¥ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®—, maixpyå…¥é—¨ desc: maixpy ä½¿ç”¨ä¸²å£å·¥å…· ## è¿æ¥ç¡¬ä»¶ è¿æ¥ Type C çº¿ï¼Œ ä¸€ç«¯ç”µè„‘ä¸€ç«¯å¼€å‘æ¿ æŸ¥çœ‹è®¾å¤‡æ˜¯å¦å·²ç»æ­£ç¡®è¯†åˆ«ï¼š åœ¨ Linux ä¸‹å¯ä»¥é€šè¿‡ `ls /dev/ttyUSB*` æˆ–è€… `ls /dev/ttyACM*` æ¥æŸ¥çœ‹ï¼Œ å¦‚æœæ²¡æœ‰å¯ä»¥ `ls /dev` æ¥æ‰¾æ‰¾ï¼Œå…·ä½“çš„è®¾å¤‡åè·Ÿä¸²å£èŠ¯ç‰‡å’Œé©±åŠ¨æœ‰å…³. ä¹Ÿå¯ä»¥ç”¨`sudo dmesg`æ¥çœ‹æ˜¯å¦æœ‰è®¾å¤‡æŒ‚è½½è®°å½• åœ¨ Windows ä¸‹å¯ä»¥æ‰“å¼€è®¾å¤‡ç®¡ç†å™¨æ¥æŸ¥çœ‹ å¦‚æœæ²¡æœ‰å‘ç°è®¾å¤‡ï¼Œ éœ€è¦ç¡®è®¤æœ‰æ²¡æœ‰è£…é©±åŠ¨ä»¥åŠæ¥è§¦æ˜¯å¦è‰¯å¥½ ## ä½¿ç”¨ä¸²å£å·¥å…· ### Windows Windows å¸¸ç”¨çš„ä¸²å£ç»ˆç«¯è½¯ä»¶æœ‰ [mobaxterm](https://mobaxterm.mobatek.net/)ï¼Œ[xshell](https://xshell.en.softonic.com/)ï¼Œ[mpfshell lite](./mpfshell lite/mpfshell lite.html) ç­‰å·¥å…· #### Mobaxterm [MobaXterm](https://mobaxterm.mobatek.net/) æ˜¯ Windows ä¸‹ä¸€æ¬¾éå¸¸å¥½ç”¨çš„å¤šåŠŸèƒ½ç»ˆç«¯è½¯ä»¶ï¼ˆå½“ç„¶ä¹ŸåŒ…æ‹¬ä¸²å£ç»ˆç«¯ï¼‰ ![Mobaxterm](../../assets/get_started/mobaxterm_serail_port.png) ![Mobaxterm](../../assets/get_started/mobaxterm.png) #### mpfshell lite [mpfshell lite](./mpfshell lite/mpfshell lite.html)æ˜¯ä¸€æ¬¾ä½“ç§¯è¿·ä½ ï¼ŒåŠŸèƒ½é½å…¨çš„ MicroPython ç®¡ç†å·¥å…·ï¼Œå¯ä»¥å¯¹flashã€sdå¡çš„æ–‡ä»¶è¿›è¡Œç®¡ç†ï¼Œä¹Ÿå¯ä»¥è¿›è¡Œmicropythonçš„ç¼–å†™ã€‚ #### MaixPy IDEç»ˆç«¯å·¥å…· æ‰“å¼€ MaixPy IDEï¼Œåœ¨ IDE æ²¡æœ‰è¿æ¥æ¿å­çš„æ—¶å€™é€‰æ‹©é€šè¿‡ä¸²å£ç»ˆç«¯è¿›å…¥å¼€å‘æ¿ ![](./../../assets/get_started/IDE_1.png) ![](./../../assets/get_started/IDE_2.png) ![](./../../assets/get_started/IDE_3.png) ![](./../../assets/get_started/IDE_4.png) ![](./../../assets/get_started/IDE_5.png) ### Linux ä½¿ç”¨ python ä¸­çš„ pyserial è¿›è¡Œå¼€å‘æ¿çš„è¿æ¥ å®‰è£… pyserial sudo python3 m pip install pyserial è¿æ¥å¼€å‘æ¿ sudo python3 m serial.tools.miniterm raw dtr 0 rts 0 /dev/ttyUSB0 115200 ![](../../assets/get_started/linux python.png) å¤ä½å¼€å‘æ¿ é€šè¿‡æŒ‰ä¸¤æ¬¡é”®ç›˜ä¸Šçš„ï¼ŒCTRL+T å’Œ CTRL+Rï¼Œå¯å®ç°å¤ä½ é€€å‡ºä¸²å£ æŒ‰é”®ç›˜ä¸Šçš„ CTRL + ] > å¯ä»¥é€šè¿‡è¿è¡Œ `sudo usermod a G dialout $(whoami)` ï¼Œæ·»åŠ ç”¨æˆ·çš„ä½¿ç”¨æƒé™ï¼Œç„¶åé‡å¯ç³»ç»Ÿï¼Œåé¢ä½¿ç”¨ pyserial æ‰“å¼€ä¸²å£å°±å¯ä»¥ä¸ä½¿ç”¨ sudo æƒé™äº†"},"/soft/maixpy/zh/get_started/board_info.html":{"title":"Board","content":" title: Board keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®—, maixpyå…¥é—¨ desc: maixpy Board > **æœ¬æ–‡æ¡£åœ¨ MaixPy 0.5.1 128 ç‰ˆæœ¬æµ‹è¯•é€šè¿‡ã€‚** è¿™æ˜¯ä¸€ä¸ª MaixPy æ¿çº§é…ç½®æ¨¡å—ï¼Œå®ƒå¯ä»¥åœ¨ç”¨æˆ·å±‚ç»Ÿä¸€ Python ä»£ç ï¼Œä»è€Œå±è”½è®¸å¤šç¡¬ä»¶çš„å¼•è„šå·®å¼‚ã€‚ æ•ˆæœå¦‚ä¸‹ï¼š ```python from Maix import GPIO from fpioa_manager import fm from board import board_info print(board_info.LED_R) fm.register(board_info.LED_R, fm.fpioa.GPIO0, force True) led_r GPIO(GPIO.GPIO0, GPIO.OUT) led_r.value(0) ``` è€Œè¿™ä»½ä»£ç åŒæ—¶æ”¯æŒ MaixPy æ‰€æœ‰ç¡¬ä»¶è¿è¡Œï¼Œå¹¶ä¸”æ‰“å°çš„ board_info.LED_R éƒ½ä¸å°½ç›¸åŒï¼Œé€šè¿‡å®ƒä¿è¯ç¤ºä¾‹ä»£ç çš„ä¸€è‡´æ€§ã€‚ ## board çš„é…ç½®æ–¹æ³• å°†ä»¥ä¸‹é“¾æ¥å¯¹åº”çš„ python ä»£ç å¤åˆ¶å‡ºæ¥ï¼ˆå¦‚ config_maix_bit.pyï¼‰ï¼Œæ”¾åˆ° IDE ç¼–è¾‘æ¡†ä¸­è¿è¡Œï¼Œå³å¯å®Œæˆå¯¹ã€ä½ çš„ç¡¬ä»¶ã€é…ç½®é¡¹ï¼ˆconfig.jsonï¼‰çš„å¯¼å…¥ï¼Œå®ƒä¼šåœ¨ flash ä¸Šå­˜å‚¨è¯¥é…ç½®æ–‡ä»¶ã€‚ é€‰æ‹©è‡ªå·±å¯¹åº”çš„å¼€å‘æ¿ç±»å‹ 1. Maix Bit [config_maix_bit.py](https://github.com/sipeed/MaixPy v1_scripts/tree/master/board/config_maix_bit.py) 2. Maix Dock [config_maix_dock.py](https://github.com/sipeed/MaixPy v1_scripts/tree/master/board/config_maix_dock.py) 3. Maix Go [config_maix_go.py](https://github.com/sipeed/MaixPy v1_scripts/tree/master/board/config_maix_go.py) 4. Maix Duino [config_maix_duino.py](https://github.com/sipeed/MaixPy v1_scripts/tree/master/board/config_maix_duino.py) 5. Maix Cube [config_maix_cube.py](https://github.com/sipeed/MaixPy v1_scripts/tree/master/board/config_maix_cube.py) 6. Maix Amigo [config_maix_amigo.py](https://github.com/sipeed/MaixPy v1_scripts/tree/master/board/config_maix_amigo.py) 7. Maix Nano > è¿™ä¸ªæ²¡æœ‰ç¡¬ä»¶å¤–è®¾.....æ‰€ä»¥ä¸è¦é—®ä¸ºä»€ä¹ˆæ²¡æœ‰å®ƒçš„é…ç½®ä»£ç äº†ã€‚ è¿è¡Œé…ç½®ä»£ç åä¼šè‡ªåŠ¨é‡å¯ï¼Œæ­¤æ—¶ä»£ç ä¸­æ‰å¯ä»¥è°ƒç”¨ board_info.BOOT_KEY , å®é™…ä¸Š board_info.BOOT_KEY å°±æ˜¯æŒ‡ IO 16 ï¼Œå¯¹åº”çš„å®šä¹‰åœ¨ config.json ä¸­å¯ä»¥å¾—çŸ¥ï¼Œå¦‚æœä¸å­˜åœ¨çš„èµ„æºå°†ä¼šæŠ¥é”™ï¼Œå¦‚æ²¡æœ‰ LED å®šä¹‰çš„ç¡¬ä»¶ï¼Œè¿è¡Œ LED ç‚¹äº®çš„æ—¶å€™å°±ä¼šæŠ¥é”™ã€‚ ```python from board import board_info # see board/readme.md to config your sipeed's hardware. print(board_info.BOOT_KEY, board_info.BOOT_KEY 16) ``` ## åˆ›å»ºä½ çš„ä¸“å±ç¡¬ä»¶ ä½ å¯ä»¥å€ŸåŠ©è¯¥æ¥å£ä»£ç é€‚é…ä½ çš„ç¡¬ä»¶ï¼Œé…ç½®æ–¹æ³•å‚è€ƒ [MaixPy_scripts/board](https://github.com/sipeed/MaixPy v1_scripts/tree/master/board) é‡Œé¢æœ‰ä¾›ä½ å‚è€ƒçš„é…ç½®æ–‡ä»¶ã€‚ ## board çš„ä½¿ç”¨æ–¹æ³• å¯¼å…¥é…ç½®ï¼š ```python from board import board_info board_info.load({ 'PIN10': 10, 'BOOT_KEY': 16, 'WIFI_TX': 6, 'WIFI_RX': 7, 'WIFI_EN': 8, }) print('PIN10:', board_info.PIN10) print('BOOT_KEY:', board_info.BOOT_KEY) print('WIFI_TX:', board_info.WIFI_TX) print('WIFI_RX:', board_info.WIFI_RX) print('WIFI_EN:', board_info.WIFI_EN) ``` è°ƒç”¨ç»“æœï¼š ```shell PIN10: 10 BOOT_KEY: 16 WIFI_TX: 6 WIFI_RX: 7 WIFI_EN: 8 ``` > å°±è¿™æ ·ã€‚"},"/soft/maixpy/zh/get_started/upgrade_esp32_firmware.html":{"title":"æ›´æ–°æ¿è½½ ESP32 å›ºä»¶","content":" title: æ›´æ–°æ¿è½½ ESP32 å›ºä»¶ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®—, ESP32, äººå·¥æ™ºèƒ½ desc: maixpy æ›´æ–°æ¿è½½ ESP32 å›ºä»¶ ## ç®€ä»‹ï¼š MaixPy ç³»åˆ—çš„å¼€å‘æ¿ä¸­ MaixDuino æ¿è½½äº†ä¸€å— ESP32 WIFI SOCï¼Œä¸€èˆ¬æƒ…å†µä¸‹ä¸æ¨èæ›´æ–°æ¿è½½çš„ ESP32 æ¨¡å—ã€‚ ä½†æ˜¯ä½†æˆ‘ä»¬å‘ç°ä½¿ç”¨è¿‡ç¨‹ä¸­å­˜åœ¨ bug å¹¶ä¿®å¤äº†ä¹‹åæˆ‘ä»¬å°±éœ€è¦æ›´æ–°ä¿®å¤çš„å›ºä»¶ã€‚ ## æ›´æ–° ESP32 å›ºä»¶æ­¥éª¤ ### å‡†å¤‡ ç¡¬ä»¶: MaixDuino, USB Type C æ•°æ®çº¿ è½¯ä»¶: ESPFLASH ESP32 å›ºä»¶æ›´æ–°å·¥å…·ï¼šESP32 **flash_download_tools** ä¸‹è½½é“¾æ¥ï¼š[**flash_download_tools**](https://www.espressif.com/zh hans/support/download/other tools) ESP32 MaixDuino å›ºä»¶ï¼š ä¸‹è½½é“¾æ¥ï¼š[**flash_download_tools**](https://cn.dl.sipeed.com/MAIX/factory_firmware/) ä¸‹è½½çƒ§å½•å›ºä»¶å‰å…ˆæ“¦é™¤ä¸€éåŸæœ‰å›ºä»¶ï¼ï¼ï¼ï¼ ### æ›´æ–°æµç¨‹ï¼š 1. ä¸‹è½½ **flash_download_tools**ï¼Œ ![flash_download_tools](../../assets/hardware/module_esp32/image 20200504164050916.png) ![flash_download_tools](../../assets/hardware/module_esp32/image 20200504164221705.png) 2. ä¸‹è½½ **MaixDuino ESP32 å›ºä»¶** ![update esp32](../../assets/hardware/module_esp32/image 20200504164245329.png) 3. è¿æ¥ MaixDuino, é€‰æ‹© ESP32 ä¸²å£(ä¸€èˆ¬éƒ½æ˜¯ä¸²å£å·æ¯”è¾ƒå¤§çš„) 4. è®¾ç½®ä¸‹è½½é€‰é¡¹: 1. å¦‚å›¾é…ç½®ç›¸åº”é€‰é¡¹, æ³¨æ„**æ³¢ç‰¹ç‡ä¸€å®šè¦è®¾ç½®ä¸º 115200** ![b6474ddd5340cc9b7cf6006f75974a7b.png](../../assets/hardware/module_esp32/image 20200504164320888.png) ![acf618a24b4cb8c5f8c2e98acc6cf11b.png](../../assets/hardware/module_esp32/image 20200504164450650.png) 5. ç‚¹å‡» **Start** æ›´æ–°å›ºä»¶ï¼Œå¹¶ç­‰å¾…å®Œæˆæ›´æ–° 6. éªŒè¯æ›´æ–°æ˜¯å¦å®Œæˆ 1. ä½¿ç”¨ XCOM, æ‰“å¼€ ESP32 ä¸²å£ï¼Œç‚¹å‡» RST å¤ä½ ESP32ï¼Œå¦‚å›¾å³åˆ·å…¥æˆåŠŸ ![96e955badd7450e7b5ba58230ae12c48.png](../../assets/hardware/module_esp32/image 20200504164747839.png)"},"/soft/maixpy/zh/get_started/upgrade_maixpy_firmware.html":{"title":"æ›´æ–° MaixPy å›ºä»¶","content":" title: æ›´æ–° MaixPy å›ºä»¶ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®—, maixå›ºä»¶ desc: maixpy æ›´æ–° MaixPy å›ºä»¶ ## å‡†å¤‡ ç¡¬ä»¶: USB Type C æ•°æ®çº¿ MaixPy å¼€å‘æ¿ PC(ç”µè„‘) è½¯ä»¶: MaixPy å¼€å‘æ¿ USB é©±åŠ¨ç¨‹åº kflash_gui ## ç¡®è®¤é©±åŠ¨å·²ç»æ­£ç¡®å®‰è£… æŒ‰ç…§å‰é¢çš„è¯´æ˜å®‰è£…å¥½é©±åŠ¨ï¼Œå¹¶ä¸”åœ¨ç”µè„‘ä¸­èƒ½çœ‹åˆ°ä¸²å£è®¾å¤‡, `Linux` å’Œ `Mac OS` æ‰§è¡Œ `ls /dev/` å³å¯çœ‹åˆ°è®¾å¤‡å·ï¼Œæ¯”å¦‚åå­—æ˜¯`ttyUSB0`å’Œ`ttyUSB1`; `Windows`åœ¨è®¾å¤‡ç®¡ç†å™¨ä¸­æŸ¥çœ‹ ## è·å¾—å‡çº§å·¥å…· * ä¸‹è½½ <a href \"https://github.com/sipeed/kflash_gui/releases\" target \"_break\">kflash_gui</a>, ä¼šå¾—åˆ°ä¸€ä¸ªå‹ç¼©åŒ… > kflash_gui æ˜¯è·¨å¹³å°çš„ï¼Œå¯ä»¥åœ¨å¤šä¸ªç³»ç»Ÿä¸‹å·¥ä½œï¼ˆåŒ…æ‹¬ Windowsã€Linuxã€MacOSã€ç”šè‡³æ ‘è“æ´¾ï¼‰ > ä½¿ç”¨å‹˜æ™ºï¼ˆKendryteï¼‰çš„`Windows`ç‰ˆæœ¬å¯èƒ½éƒ¨åˆ†å¼€å‘ç‰ˆæ— æ³•ä¸‹è½½æˆåŠŸï¼Œè¯·ä½¿ç”¨ `kflash_gui` è¿™ä¸ªè½¯ä»¶æ¥ä¸‹è½½ * è§£å‹åˆ°ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼ŒåŒå‡» `kflash_gui.exe`(/`kflsh_gui`) å³å¯è¿è¡Œ, `Windows`ä¸‹å»ºè®®å³é”®`å›ºå®šåˆ°å¼€å§‹é¡µé¢` æˆ–è€…`å›ºå®šåˆ°ä»»åŠ¡æ `, `Linux` ä¸‹å¯ä»¥è‡ªå·±æ–°å»ºä¸€ä¸ª<a href \"https://github.com/sipeed/kflash_gui/blob/master/kflash_gui.desktop\" target \"_break\">kflash_gui.desktop</a>, ä¿®æ”¹æ–‡ä»¶åœ°å€, ä½¿ç”¨ç®¡ç†å‘˜èº«ä»½å¤åˆ¶åˆ°`/usr/share/application`ç›®å½•ï¼Œç„¶ååœ¨ç³»ç»Ÿèœå•ç•Œé¢å°±å¯ä»¥çœ‹åˆ°`kflash_gui`è¿™æ¬¾åº”ç”¨äº† * å¦å¤–ä¹Ÿå¯ä»¥ä½¿ç”¨å‘½ä»¤è¡Œç‰ˆæœ¬ä¸‹è½½ ```shell pip3 install kflash kflash help kflash p /dev/ttyUSB0 b 1500000 B goE maixpy.bin ``` ## è·å¾—å›ºä»¶ * å‘å¸ƒç‰ˆæœ¬çš„å›ºä»¶ä» <a href \"https://github.com/sipeed/MaixPy v1releases\" target \"_break\">github</a> é¡µé¢ä¸‹è½½ * åœ¨Sipeedå®˜æ–¹ä¸‹è½½ç«™è·å–ï¼š<a href \"http://dl.sipeed.com/MAIX/MaixPy/release/master/\" target \"_break\">ä¸‹è½½ç«™</a> å›ºä»¶ä¸º `.bin` ç»“å°¾æˆ–è€… `.kfpkg` çš„æ–‡ä»¶ >`.kfpkg`å…¶å®å°±æ˜¯å¤šä¸ª`.bin`æ–‡ä»¶çš„æ‰“åŒ…ç‰ˆæœ¬, å¯ä»¥ä½¿ç”¨`kflash_gui`æ‰“åŒ…æˆ–è€…<a href \"http://blog.sipeed.com/p/390.html\" target \"_break\" >[æ‰‹åŠ¨æ‰“åŒ…](http://blog.sipeed.com/p/390.html)</a> ![MaixPy Firmware Type](../../assets/maixpy/firmware_type.png) ## å›ºä»¶å‘½åè¯´æ˜ æ–‡ä»¶å è¯´æ˜ å¤‡æ³¨ `maixpy_vx.y.z_x_xxx*.bin` é»˜è®¤ç‰ˆæœ¬çš„ MaixPy å›ºä»¶ï¼ŒåŒ…å«äº†å¤§å¤šæ•°åŠŸèƒ½, æ”¯æŒè¿æ¥ `MaixPy IDE`, `maixpy_vx.y.z_x_xxx*_m5stickv.bin` é’ˆå¯¹ M5Stickv å®šåˆ¶çš„å›ºä»¶, æ”¯æŒè¿æ¥ `MaixPy IDE` â€” `maixpy_vx.y.z_x_xxx*_with_lvgl.bin` MaixPy å›ºä»¶, æ”¯æŒè¿æ¥ `MaixPy IDE`, å¸¦ LVGL ç‰ˆæœ¬.(LVGLæ˜¯åµŒå…¥å¼ GUI æ¡†æ¶, å†™ç•Œé¢çš„æ—¶å€™éœ€è¦ç”¨åˆ°) â€” `maixpy_vx.y.z_x_xxx*_minimum.bin` MaixPy å›ºä»¶æœ€å°é›†åˆï¼Œä¸æ”¯æŒ `MaixPy IDE`, ä¸åŒ…å«`OpenMV`çš„ç›¸å…³ç®—æ³•å’Œå„ç§å¤–è®¾æ¨¡å— â€” `maixpy_vx.y.z_x_xxx*_minimum_with_ide_support.bin` MaixPy å›ºä»¶æœ€å°é›†åˆ, æ”¯æŒè¿æ¥ `MaixPy IDE`, ä¸åŒ…å«`OpenMV`çš„ç›¸å…³ç®—æ³•å’Œå„ç§å¤–è®¾æ¨¡å— è¿è¡Œå„ç§æ¨¡å‹ï¼Œå»ºè®®ä½¿ç”¨è¿™ä¸ª `elf_maixpy_vx.y.z_x_xxx*.7z` elf æ–‡ä»¶ï¼Œæ™®é€šç”¨æˆ·ä¸ç”¨å…³å¿ƒï¼Œç”¨äºæ­»æœºè°ƒè¯• â€” `face_model_at_0x300000.kfpkg` äººè„¸æ¨¡å‹ï¼Œæ”¾ç½®åœ¨åœ°å€ä½ 0x300000, å¯ä»¥å’Œ`.bin`åˆ†å¼€å¤šæ¬¡ä¸‹è½½ï¼Œä¸å†²çª â€” å‡ºå‚çš„å›ºä»¶æ˜¯ä¸ä¸€æ ·çš„ï¼Œä¸åŒçš„å¼€å‘æ¿ï¼Œå›ºä»¶ä¸ä¸€æ ·ï¼Œæ‰€ä»¥å‡ºç°æ— æ³•é“¾æ¥ideå’Œå±å¹•ç™½å±çš„æ—¶å€™ï¼Œéœ€è¦æ›¿æ¢å›ºä»¶ ## ä¸‹è½½å›ºä»¶åˆ°å¼€å‘æ¿ * æ‰“å¼€ `kflash_gui` åº”ç”¨ * ç„¶åé€‰æ‹©å›ºä»¶ã€è®¾ç½®é€‰é¡¹, ç‚¹å‡»ä¸‹è½½å³å¯, æ›´å¤šç‰¹æ€§ä»‹ç»ã€ä½¿ç”¨è¯´æ˜è§ <a herf \"https://github.com/sipeed/kflash_gui\">kflash_gui é¡¹ç›®ä¸»é¡µ</a> ä½¿ç”¨æ—¶æ³¨æ„ä¸²å£ä¸èƒ½è¢«å…¶å®ƒè½¯ä»¶å ç”¨ï¼Œé€‰æ‹©æ­£ç¡®çš„å¼€å‘æ¿å’Œä¸²å£å·ï¼Œå¯ä»¥é€‚å½“é™ä½æ³¢ç‰¹ç‡å’Œä½¿ç”¨ä½é€Ÿæ¨¡å¼æ¥æé«˜ä¸‹è½½æˆåŠŸç‡ ![](../../assets/kflash_gui/kflash_gui_download.png) > å¯¹äºæœ€æ—©æœŸçš„ `Maix Go`, å¦‚æœç¡®è®¤é€‰é¡¹æ˜¯å¯¹çš„ï¼Œä»ç„¶æ— æ³•ä¸‹è½½, å¯ä»¥å°è¯•å°†ä¸‰ç›¸æ‹¨è½®æŒ‰é”®æ‹¨å‘ `Down` çš„ä½ç½®å¹¶ä¿æŒå†ä¸‹è½½ ### Sipeed RV JATG è°ƒè¯•å™¨ <a href \"https://github.com/sipeed/kflash_gui\">Sipeed USB JTAG/TTL RISC Vè°ƒè¯•å™¨ STLINK V2 STM8/STM32æ¨¡æ‹Ÿå™¨</a> **çƒ§å½•å¸¸è§é—®é¢˜FAQ** å¦‚æœåœ¨ä½¿ç”¨ `kflash_gui` çƒ§å½•å‡ºç°ä»¥ä¸‹ç­‰é—®é¢˜ ![Upgrade Error](../../assets/kflash_gui/kflash_gui_upgrade_error.png) å¯ä»¥æŒ‰ç…§ä»¥ä¸‹é¡ºåºè¿›è¡Œæ’æŸ¥ * æ£€æŸ¥`PC`æ˜¯å¦æœ‰æƒé™æ‰“å¼€ç«¯å£ï¼Œå¯¹äº `win10`ï¼Œéœ€è¦ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ `kflash_gui` ã€‚ * æ£€æŸ¥ç«¯å£æ˜¯å¦é€‰æ‹©æ­£ç¡®ï¼ˆå¦‚æœå‡ºç°ä¸¤ä¸ªè®¾å¤‡ç«¯å£ï¼Œé€šå¸¸é€‰æ‹©ç«¯å£å·å°çš„é‚£ä¸€ä¸ªï¼‰ã€‚ * æ£€æŸ¥ç«¯å£æ˜¯å¦è¢«å…¶ä»–åº”ç”¨å ç”¨ï¼ˆå¦‚`Maixpy IDE`ï¼Œ`putty`ç­‰ï¼‰ï¼Œåº”å½“å…³é—­å…¶ä»–ç¨‹åºå ç”¨ã€‚ * æ£€æŸ¥è®¾å¤‡æ˜¯å¦é€‰æ‹©æ­£ç¡®ï¼Œå¯¹äº `Maix Bit2.0`ï¼ˆåŒ…æ‹¬M1næ¨¡å—ï¼‰ï¼Œåº”è¯¥é€‰æ‹© `Maix Bit ( with Mic )`ã€‚ > è¡¥å……è¯´æ˜ï¼šå¯¹äºMaix Bit 2.0ä¸¤ä¸ªä¸²å£ç«¯å£çš„é—®é¢˜ > > * åªæœ‰å…¶ä¸­ä¸€ä¸ªä¸²å£ç«¯å£æœ‰æ•ˆï¼Œç”¨äºä¸²å£é€šä¿¡ä¸ISPä¸‹è½½ç¨‹åºã€‚ > * Maix Bitä¸PCé‡‡ç”¨ä¸²å£é€šä¿¡ï¼Œé€šè¿‡CH552TèŠ¯ç‰‡å®ç°USBè™šæ‹Ÿä¸²å£åŠŸèƒ½ï¼Œè€Œè¯¥èŠ¯ç‰‡å¯ä»¥è™šæ‹Ÿå‡ºä¸¤ä¸ªä¸²å£ï¼Œåœ¨Maix Bitï¼ˆM1næ¨¡å—åº•æ¿ï¼‰ä¸­ï¼Œæˆ‘ä»¬åªç”¨åˆ°äº†ä¸€ä¸ªä¸²å£ï¼Œä¸è¿‡æœ‰äº›k210äº§å“ä¸¤ä¸ªä¸²å£éƒ½ä½¿ç”¨äº†ã€‚ ## æœ€æ–°æ ‡å‡†å›ºä»¶ä¸‹è½½ 2021/6/18æ›´æ–°ï¼š[æ ‡å‡†å›ºä»¶ä¸‹è½½](https://dl.sipeed.com/fileList/MAIX/MaixPy/release/master/maixpy_v0.6.2_54_g897214100/maixpy_v0.6.2_54_g897214100.bin) ## å›ºä»¶æ›´æ–°ä¿¡æ¯ æ—¥æœŸ ç‰ˆæœ¬å· å¤‡æ³¨ 2021/7/27 å›ºä»¶ç‰ˆæœ¬ 0.6.2_57 åŠ å…¥äº†å®‰è£…æ•™ç¨‹è§†é¢‘ä¸­çš„æµ‹è¯•æ¨¡å¼ï¼Œå¯ä»¥å¼€æœºæ£€æµ‹sdå¡æ˜¯å¦æŒ‚è½½ "},"/soft/maixpy/zh/get_started/get_started_power_on.html":{"title":"MaixPy å¼€å‘æ¿ä¸Šç”µ","content":" title: MaixPy å¼€å‘æ¿ä¸Šç”µ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®—, maixpyå…¥é—¨, äººå·¥æ™ºèƒ½ desc: maixpy MaixPy å¼€å‘æ¿ä¸Šç”µ å½“æˆ‘ä»¬æ‹¿åˆ° MaixPy å¼€å‘æ¿ä¹‹å ## æ£€æŸ¥ç¡¬ä»¶ æ£€æŸ¥ç¡¬ä»¶æ˜¯å¦æœ‰æŸåï¼Œ ä»¥åŠæ‘„åƒå¤´å’Œå±å¹•æ˜¯å¦æ¥å¥½ï¼Œæ’çº¿åƒä¸‡ä¸è¦æ¥åäº†ã€‚ ## è¿æ¥ç¡¬ä»¶ è¿æ¥ Type C çº¿ï¼Œ ä¸€ç«¯ç”µè„‘ä¸€ç«¯å¼€å‘æ¿ æŸ¥çœ‹è®¾å¤‡æ˜¯å¦å·²ç»æ­£ç¡®è¯†åˆ«ï¼š åœ¨ Windows ä¸‹å¯ä»¥æ‰“å¼€è®¾å¤‡ç®¡ç†å™¨æ¥æŸ¥çœ‹ åœ¨ Linux ä¸‹å¯ä»¥é€šè¿‡ `ls /dev/ttyUSB*` æˆ–è€… `ls /dev/ttyACM*` æ¥æŸ¥çœ‹ï¼Œ å¦‚æœæ²¡æœ‰å¯ä»¥ `ls /dev` æ¥æ‰¾æ‰¾ï¼Œå…·ä½“çš„è®¾å¤‡åè·Ÿä¸²å£èŠ¯ç‰‡å’Œé©±åŠ¨æœ‰å…³ å¦‚æœæ²¡æœ‰å‘ç°è®¾å¤‡ï¼Œ éœ€è¦ç¡®è®¤æœ‰æ²¡æœ‰è£…é©±åŠ¨ä»¥åŠæ¥è§¦æ˜¯å¦è‰¯å¥½ ä¸Šç”µåï¼Œ å¦‚æœæ˜¯æ–°å‡ºå‚çš„å¼€å‘æ¿ï¼Œ å¯èƒ½ä¼šæ˜¾ç¤ºçº¢è‰²èƒŒæ™¯ï¼Œå‰æ™¯æ˜¯ç®€å•çš„ MaixPy ä»‹ç»ï¼ŒåŒ…æ‹¬å®˜ç½‘åœ°å€ï¼Œç”»é¢æ˜¯é™æ­¢çš„ï¼Œéœ€è¦é€šè¿‡æ¥ä¸‹æ¥çš„ç¼–ç¨‹è®©å®ƒæ”¹å˜ã€‚ ![](./../../assets/maixpy/welcome_maixpy.png) å¯¹äº maixbit æ¿å­ï¼Œæˆ‘ä»¬å‡†å¤‡äº†ç»„è£…è§†é¢‘ <iframe src \"//player.bilibili.com/player.html?aid 860412959&bvid BV1dG4y1R7Ap&cid 900550125&page 1\" scrolling \"no\" border \"0\" frameborder \"no\" framespacing \"0\" allowfullscreen \"true\"> </iframe> ## æ£€æŸ¥å›ºä»¶ç‰ˆæœ¬ ä½¿ç”¨**ä¸²å£ç»ˆç«¯**æ‰“å¼€ä¸²å£ï¼Œç„¶åå¤ä½ï¼Œçœ‹è¾“å‡ºçš„ç‰ˆæœ¬ä¿¡æ¯ï¼Œä¸[github](https://github.com/sipeed/MaixPy v1releases) æˆ–è€… [master åˆ†æ”¯](http://dl.sipeed.com/MAIX/MaixPy/release/master/) çš„å›ºä»¶ç‰ˆæœ¬å¯¹æ¯”ï¼Œæ ¹æ®å½“å‰ç‰ˆæœ¬æƒ…å†µè€ƒè™‘å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬ æ¯”å¦‚ï¼š ```python [MaixPy] init end __ __ _____ __ __ _____ __ __ \\/ /\\ _ _ \\ \\ / / __ \\ \\ \\ / / \\ / / \\ \\ V / __) \\ \\_/ / \\/ / /\\ \\ > < ___/ \\ / / ____ \\ _ _ / . \\ _ _ /_/ \\_\\ _____ /_/ \\_\\ _ _ Official Site : https://www.sipeed.com Wiki : https://maixpy.sipeed.com MicroPython v0.5.0 12 g284ce83 on 2019 12 31; Sipeed_M1 with kendryte k210 Type \"help()\" for more information. ``` **æŸ¥çœ‹ç‰ˆæœ¬å·ï¼š** è¿™é‡Œç‰ˆæœ¬æ˜¯ `v0.5.0 12 g284ce83`ï¼Œ ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„ä»£ç æŸ¥çœ‹ç‰ˆæœ¬ > **æ³¨ï¼š** å›ºä»¶å¯ä»¥ä»ä¸‹è½½ç«™ [dl.sipeed.com](http://dl.sipeed.com/MAIX/MaixPy/release/master/) ä¸­è·å– ```python import sys print(sys.implementation.version) ``` å¦‚æœä½ åœ¨å¼€å‘è¿‡ç¨‹ä¸­é‡åˆ°äº†é—®é¢˜ï¼Œ ä¹Ÿå¯ä»¥å…ˆå°è¯•æ›´æ–°å›ºä»¶åˆ°æœ€æ–°ç‰ˆæœ¬ ## æ‰§è¡Œä»£ç  * æ‰“å¼€ä¸²å£ç»ˆç«¯åï¼ŒæŒ‰å¼€å‘æ¿çš„å¤ä½æŒ‰é’®å°±å¯ä»¥çœ‹åˆ°æ‰“å°çš„å¼€æœºä¿¡æ¯äº†ï¼Œä¼šè¾“å‡º ```shell >>> ``` å³åœ¨ç­‰å¾…æˆ‘ä»¬è¾“å…¥ä»£ç ï¼Œå¦‚æœæ²¡æœ‰è¿™ä¸ªç¬¦å·ï¼Œå¯èƒ½æ˜¯æœ‰å¼€æœºè‡ªåŠ¨è¿è¡Œçš„ç¨‹åºæ­£åœ¨è¿è¡Œï¼Œå¯ä»¥æŒ‰`Ctrl+C`æ¥å–æ¶ˆæ­£åœ¨è¿è¡Œçš„ç¨‹åº * ç„¶åè¾“å…¥ç¨‹åºæ‰§è¡Œ ```python >>> print(\"hello world\") hello world >>> ``` ## ç²˜è´´æ‰§è¡Œå¤šè¡Œä»£ç  å½“æˆ‘ä»¬æœ‰å¤šè¡Œä»£ç æ˜¯ä»å…¶å®ƒåœ°æ–¹å¤åˆ¶è¿‡æ¥çš„ï¼Œæ¯”å¦‚ ```python import os f os.listdir() print(f) ``` * å…ˆå¤åˆ¶å¥½ä»£ç  * ä¸²å£ç»ˆç«¯æŒ‰ `Ctrl+E` * ç²˜è´´ä»£ç  * æŒ‰ `Ctrl+D`ï¼ˆæ³¨æ„å¦‚æœä¹‹å‰æ²¡æœ‰æŒ‰ `Ctrl+E` åˆ™æ˜¯è½¯ä»¶å¤ä½å‘½ä»¤ï¼ŒMaixPy ä¼šè½¯å¤ä½ï¼‰ï¼Œç„¶åå°±å¯ä»¥çœ‹åˆ°æ‰€æœ‰ä»£ç æ‰§è¡Œäº† ```python >>> ['boot.py','main.py', 'freq.conf'] >>> ``` > å¦‚æœæ•°æ®é‡æ¯”è¾ƒå¤§ï¼Œä¸²å£å¯èƒ½ä¸¢å¤±æ•°æ®ï¼Œä¼šå¯¼è‡´æç¤ºè¯­æ³•é”™è¯¯ï¼Œå¯ä»¥å¤šè¯•å‡ æ¬¡"},"/soft/maixpy/zh/get_started/env_install_driver.html":{"title":"å®‰è£… USB é©±åŠ¨","content":" title: å®‰è£… USB é©±åŠ¨ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®—, maixpyå…¥é—¨ desc: maixpy å®‰è£… USB é©±åŠ¨ æ­£å¼ä½¿ç”¨ MaixPy ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆå®‰è£…å¥½ä¸²å£é©±åŠ¨ï¼Œæ‰å¯è¿›è¡Œä¸‹ä¸€æ­¥çš„å¼€å‘ä¸ä½¿ç”¨ï¼›å› ä¸ºæ¿å­æ˜¯é€šè¿‡ USB è½¬ä¸²å£è®¾å¤‡ä¸ç”µè„‘è¿æ¥ï¼ˆK210 æ²¡æœ‰ USB ç¡¬ä»¶æ”¯æŒåŠŸèƒ½ï¼‰ã€‚ æ ¹æ®æ¿å­çš„ USB è½¬ä¸²å£èŠ¯ç‰‡å‹å·è£…é©±åŠ¨ã€‚ > åœ¨ `Linux` æˆ–è€… `Mac` ä¸‹æ“ä½œä¸²å£ï¼Œ å¦‚æœä¸æƒ³æ¯æ¬¡éƒ½ä½¿ç”¨ `sudo` å‘½ä»¤ï¼Œ æ‰§è¡Œ `sudo usermod a G dialout $(whoami)` å°†è‡ªå·±æ·»åŠ åˆ° `dialout` ç”¨æˆ·ç»„å³å¯ï¼Œå¯èƒ½éœ€è¦æ³¨é”€æˆ–è€…é‡å¯æ‰èƒ½ç”Ÿæ•ˆ ç°æœ‰å¼€å‘æ¿æ¿è½½çš„ USB è½¬ä¸²å£ IC è¯´æ˜ å¼€å‘æ¿å‹å· USB è½¬ä¸²å£ IC è¯´æ˜ å®‰è£…æ•™ç¨‹ Maix Go STM32 STM32 USB é©±åŠ¨ [Go](./install_driver/go.html) Maix Dock CH340 [Dock](./install_driver/dock.html) Maix Duino CH552 CH552 USB é©±åŠ¨ [Duino](./install_driver/duino.html) Maix Bit CH552(æ–°ç‰ˆ)/CH340(æ—§ç‰ˆ) CH552 USB é©±åŠ¨ [Bit](./install_driver/bit.html) Maix Cube GD32(æ–°ç‰ˆ)/CH552(æ—§ç‰ˆ) CH552 USB é©±åŠ¨ [Cube](./install_driver/cube.html) Maix Amigo GD32 GD32 USB é©±åŠ¨ [Amigo](./install_driver/amigo.html) Maix Nano CH552 CH552 USB é©±åŠ¨ [Nano](./install_driver/nano.html) Grove AI HAT GD32 GD32 USB é©±åŠ¨ [Grove AI HAT](./install_driver/ai_hat.html) > ä½¿ç”¨ CH340 IC çš„æ¿å­ç›´æ¥è£… CH340 çš„é©±åŠ¨å³å¯ï¼Œå…¶ä»–çš„æ¿å­éœ€è¦å®‰è£…ç‰¹å®šçš„ USB é©±åŠ¨ ## å…³äº USB ä¸²å£çš„ç–‘éš¾æ‚ç—‡æ’æŸ¥ å¦‚æœæ²¡æœ‰çœ‹åˆ°ä¸²å£ï¼Œè¯·æŒ‰å¦‚ä¸‹é¡ºåºæ’æŸ¥ç¡¬ä»¶é—®é¢˜ã€‚ æ’å…¥ç”µè„‘ï¼Œæ˜¯å¦å­˜åœ¨å®å’šä¸€å£°ï¼Œå¦‚æ’å…¥ U ç›˜æ—¶USB é©±åŠ¨åŠ è½½çš„å£°éŸ³ï¼Œæ²¡æœ‰è¡¨ç¤ºç¡¬ä»¶ä¸Šçš„ä¸²å£èŠ¯ç‰‡å‡ºé—®é¢˜äº†ã€‚ æ›´æ¢çº¿æé‡è¯•ï¼Œæ›´æ¢ç”µè„‘ USB å£é‡è¯•ï¼Œä»ç„¶åŠ è½½ä¸å‡ºæ¥ï¼Œæ›´æ¢ç”µè„‘ç¡®è®¤ã€‚ å¦‚æœæ²¡æœ‰åŠæ³•çƒ§å½•å›ºä»¶ï¼Œè¯·æŒ‰å¦‚ä¸‹é¡ºåºæ’æŸ¥ç¡¬ä»¶é—®é¢˜ã€‚ ä½¿ç”¨ä¸²å£å·¥å…·æŸ¥çœ‹ç¡¬ä»¶å½“ä¸­æ˜¯å¦å­˜åœ¨ maixpy å›ºä»¶ è®¾ç½® 115200 æ³¢ç‰¹ç‡è¿æ¥ä¸²å£ï¼ŒæŒ‰å¤ä½é”®ï¼ˆRSTï¼‰æ¥æ”¶åˆ°èŠ¯ç‰‡çš„æ•°æ®ï¼Œä¸ç®¡æ˜¯ä»€ä¹ˆéƒ½è¡¨ç¤ºä¸²å£èŠ¯ç‰‡å·¥ä½œæ­£å¸¸ï¼Œå¦‚æœæ²¡æœ‰åˆ™è¡¨ç¤ºç¡¬ä»¶å¼‚å¸¸ã€‚ åŸºäºä¸Šè¿°å†è¿›è¡Œçƒ§å½•å›ºä»¶ï¼Œçƒ§å½•å‰ï¼ŒæŒ‰ç¡¬ä»¶çš„ BOOT é”®åæŒ‰å¤ä½ï¼Œå†æ¾å¼€ BOOT é”®ï¼Œæ­¤æ—¶çƒ§å½•æ­£å¸¸è¿›è¡Œï¼Œå¦‚æœæ²¡æœ‰åˆ™è¡¨ç¤º Flash å—æŸï¼Œå¯ä»¥å°è¯•çƒ§å½•åˆ° SRAM ï¼Œå¦‚æœçƒ§å½•å¤±è´¥ï¼Œåˆ™è¡¨ç¤ºä¸²å£èŠ¯ç‰‡å¼‚å¸¸ã€‚ å¦‚æœåˆ°è¿™é‡Œäº†ï¼Œè¿˜æ˜¯ä¸èƒ½è§£å†³é—®é¢˜ï¼Œåˆ™ç¡¬ä»¶ç¡®å®å­˜åœ¨ç¼ºé™· ### K210 çš„çƒ§å†™æœºåˆ¶ä»‹ç» æˆ‘ä»¬å¸¸æŠŠè¿™ä¸ªç§°ä¸ºä¸€é”®ä¸‹è½½ç”µè·¯ï¼Œè¡¨ç¤ºèƒ½å¤Ÿè½»æ¾çš„é€šè¿‡æ§åˆ¶ ä¸²å£çš„ RST å’Œ DTR çš„å®Œæˆå¯¹ BOOT å’Œ RST å¼•è„šçš„æ§åˆ¶è¿›å…¥çƒ§å½•æ¨¡å¼ï¼Œå¦‚ä¸Šæè¿°çš„æœŸæœ›ç¡¬ä»¶ç”µè·¯è‡ªåŠ¨å®Œæˆæœ€åˆç”±äººæŒ‰ä¸‹ BOOT åæŒ‰ RST çš„æ“ä½œï¼Œè¿™ä¸ç¡¬ä»¶å®ç°å¼ºç›¸å…³ï¼ŒåŸºäºæ­¤ï¼Œå†è¿›è¡Œ TX å’Œ RX çš„æ•°æ®ä¼ è¾“ï¼Œæ‰€ä»¥å®é™…ä¸Šæˆ‘ä»¬éœ€è¦ç”¨åˆ° UART ä¸²å£çš„åŠŸèƒ½å¼•è„šã€‚ åœ¨ Kflash ä¸­åˆ†å¤šç§ç‰ˆå‹å¤šç§çƒ§å†™æ–¹å¼çš„è§¦å‘ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•åˆ†ä¸ºå‡ ç±»ï¼Œä½é€Ÿçš„ 115200 å’Œ é«˜é€Ÿçš„ 1500000 æ³¢ç‰¹ç‡ï¼Œä»¥è¿™ä¸¤ç±»æ³¢ç‰¹ç‡æ‰€åŒ¹é…çš„çƒ§å½•æ–¹å¼ä¸ºå·®å¼‚ç‚¹ï¼Œå¦‚æœå‘ç°ä¸‹è½½è¿‡ç¨‹ä¸­å¤±è´¥ï¼Œå¯ä»¥é€‚å½“çš„é™ä½æ³¢ç‰¹ç‡ï¼Œè¿™æ˜¯ç”±äºä¸²å£èŠ¯ç‰‡å·¥ä½œä¸ç¨³å®šå¯¼è‡´ï¼Œè€Œå·¥å…·ä¸­å¯¹ç‰ˆå‹é€‰æ‹©åªæ˜¯ä¼šå½±å“ç¬¬ä¸€æ®µçƒ§å½•æ¨¡å¼çš„è§¦å‘ï¼Œè€Œåœ¨è¿™ä¹‹åçš„çƒ§å†™å›ºä»¶ä¸­å°±ä¼šé‡‡å–é…ç½®çš„æ³¢ç‰¹ç‡è¿›è¡Œçƒ§å†™ï¼Œé€šå¸¸ä¸è¶…è¿‡ä¸flashçš„é€šä¿¡çƒ§å½•é€Ÿåº¦ï¼Œå¸¸è§äº 50~60 KB/Sã€‚ å¦‚æœå‘ç°æ— è®ºå¦‚ä½•æ›´æ¢çƒ§å½•æ¨¡å¼éƒ½æ— æ³•è¿›å…¥ï¼Œè¦ä¹ˆæ˜¯çƒ§å½•ç‰ˆå‹ä¸åŒ¹é…ï¼Œè¦ä¹ˆæ˜¯ä¸²å£èŠ¯ç‰‡çš„ DTR RST å¼•è„šå‡ºäº†é—®é¢˜ï¼ˆç‰©ç†ä¸Šçš„ï¼‰ã€‚"},"/soft/maixpy/zh/get_started/mpfshell-lite/mpfshell-lite.html":{"title":"&emsp;&emsp;&emsp;ä¸€æ¬¾ Shell å‹ MicroPython æ–‡ä»¶èµ„æºç®¡ç†å™¨â›º","content":"# &emsp;&emsp;&emsp;ä¸€æ¬¾ Shell å‹ MicroPython æ–‡ä»¶èµ„æºç®¡ç†å™¨â›º [English Docs](English.html) [![MIT](https://img.shields.io/badge/license MIT blue.svg)](./LICENSE) [![PyPI version](https://badge.fury.io/py/mpfshell lite.svg)](https://badge.fury.io/py/mpfshell lite) è¿™ä¸ª mpfshell çš„ lite ç‰ˆæ˜¯å¼€å‘ååˆ†æ¿€è¿›çš„ç‰ˆæœ¬ï¼Œç¨³å®šç‰ˆè¯·å‚è§ [mpfshell](https://github.com/wendlers/mpfshell) ã€‚ ## ç‰¹ç‚¹ï¼š 1. ä½“ç§¯è¿·ä½ ï¼ŒåŠŸèƒ½é½å…¨çš„ MicroPython ç®¡ç†å·¥å…·ï¼Œå¦‚ï¼šput\\get\\cat\\rm\\execfile ç­‰ç­‰ã€‚ 2. ä¿®å¤ Windows å¤§é‡ä½¿ç”¨é—®é¢˜ï¼Œè·¯å¾„ã€ä¹±ç ç­‰ç­‰ï¼Œä½†è¿˜æ˜¯å­˜åœ¨ä¸€äº›é—®é¢˜åœ¨é™†ç»­è§£å†³ã€‚ 3. Windows ä¸‹ç»¿è‰²å•æ–‡ä»¶ï¼Œå¼€ç®±å³ç”¨ï¼Œä¹Ÿå¯ä½¿ç”¨ Python è·¨å¹³å°è¿è¡Œã€‚ ## ç³»ç»Ÿè¦æ±‚ Python 3.5.4 + requirements.txt ## ä½¿ç”¨æ–¹æ³• ### 1. åˆ° [releases](https://github.com/junhuanchen/mpfshell lite/releases) ä¸‹è½½ mpfs.exeã€‚ å¯»æ‰¾ä½ æ‰€ç”¨çš„ç³»ç»Ÿç‰ˆæœ¬å¹¶ä¸‹è½½ï¼Œå¦‚æœä¸‹è½½å¾ˆæ…¢ï¼Œå¯ä»¥ç”¨[å¾®äº‘åœ°å€](https://share.weiyun.com/5qIHqWY)ï¼Œä¸‹è½½ååŒå‡»è¿è¡Œå®ƒã€‚ ![](readme/00.png) ### 2. ä½¿ç”¨ PIP å®‰è£… ä½¿ç”¨ Python çš„ PIP å·¥å…·ä¸‹è½½å¹¶å®‰è£…ï¼Œåœ¨æ§åˆ¶å°ä¸­è¾“å…¥`pip install mpfshell lite`ï¼Œç„¶åè¾“å…¥ `mpfs` å³å¯è¿è¡Œã€‚ ```shell pip install mpfshell lite mpfs ``` ![](readme/01.png) ## è¿æ¥ä½ çš„ç¡¬ä»¶ è¿æ¥ä½ çš„ç¡¬ä»¶ï¼Œæ­¤æ—¶ä¼šå‡ºç°å½“å‰ç¡¬ä»¶çš„ç«¯å£å·ã€‚ ``` unix looking for all port... serial name : USB SERIAL CH340 (COM5) : COM5 input ' open COM5 ' and enter connect your board. ``` è¾“å…¥å¦‚å›¾çš„ 'open COM5' å³å¯è¿æ¥ã€‚ ![](readme/05.png) å¯ä»¥çœ‹åˆ° `Connected to esp32` å·²ç»è¿æ¥äº†ã€‚ ### è¿›å…¥ REPL æ¨¡å¼ ``` unix mpfs [/]> open looking for all port... Connected to esp32 mpfs [/]> repl > *** Exit REPL with Ctrl+Q *** MicroPython v1.10 220 ged36cfd56 dirty on 2019 05 28; ESP32 module with ESP32 Type \"help()\" for more information. >>> ``` ![](readme/06.png) ## è¿è¡Œ micropython ä»£ç ã€‚ ### 1.ç›´æ¥è¿è¡Œä»£ç  ``` unix mpfs [/]> view looking for all port... serial name : USB SERIAL CH340 (COM5) : COM5 current open_args ser:COM5 mpfs [/]> open COM5 Connected to esp32 mpfs [/]> exec print('hello world!') hello world! mpfs [/]> ``` ![](readme/07.png) ### 2.è¿è¡Œä»£ç æ–‡ä»¶ åœ¨ æ¡Œé¢ å‡†å¤‡ä¸€ä¸ª Python ä»£ç æ–‡ä»¶ï¼ˆ.pyï¼‰ ```python print('hello world!') ``` ![](readme/09.png) ä½¿ç”¨ exe ç‰ˆæœ¬ ![](readme/11.png) å°† exe ä¸ .py æ”¾åœ¨ä¸€èµ·ï¼ŒæŒ‰ä»¥ä¸‹å‘½ä»¤æ“ä½œã€‚ ``` unix looking for all port... serial name : USB SERIAL CH340 (COM5) : COM5 input ' open COM5 ' and enter connect your board. ** Micropython File Shell v0.9.1, sw@kaltpost.de & juwan@banana pi.com ** Running on Python 3.5 using PySerial 3.3 mpfs [/]> open com5 Connected to esp32 mpfs [/]> runfile ts.py hello world! Connected to esp32 mpfs [/]> ``` ![](readme/13.png) ä½¿ç”¨ PIP ç‰ˆæœ¬ åœ¨ CMD çš„æ§åˆ¶å°æ¨¡å¼ä¸‹ï¼Œéœ€è¦ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼Œå…ˆå®šä½æ–‡ä»¶å¤¹è·¯å¾„ï¼ˆlcdï¼‰ï¼Œå†è¿è¡Œæ–‡ä»¶ï¼ˆrunfileï¼‰ã€‚ å¯ä»¥ä½¿ç”¨ lcd å®šä½åˆ°è¿è¡Œæ–‡ä»¶çš„è·¯å¾„ä¸‹ï¼Œå¦‚ `lcd C:/Users/Juwan/Desktop` ï¼ˆæ³¨æ„æ˜¯ / ä¸æ˜¯ \\ï¼Œè¿™è®©äººå¾ˆçƒ¦ï¼‰ ``` unix mpfs [/]> open com5 Connected to esp32 mpfs [/]> lcd Desktop mpfs [/]> lls Local files: <dir> blog desktop.ini editor.exe mpfs 0.9.1.exe ts.py mpfs [/]> runfile ts.py hello world! Connected to esp32 mpfs [/]> ``` ![](readme/15.png) ## ä½¿ç”¨å¸®åŠ© åœ¨ç¨‹åºä¸­ï¼Œä½ ä¹Ÿå¯ä»¥é€šè¿‡ help + å‘½ä»¤ çš„æ–¹å¼è·å–å¯¹åº”çš„å‘½ä»¤è¯´æ˜æˆ–å‚æ•°ç­‰ç»†èŠ‚ã€‚ ![](readme/17.png) ä¾‹å¦‚ï¼š`help cd`ï¼Œ è¿”å›çš„æ˜¯ `cd <TARGET DIR> â€‹ Change current remote directory to given target.`ã€‚ å¯ä»¥å¾—çŸ¥ å®ƒæ˜¯ç”¨æ¥æ”¹å˜ ç›®æ ‡æ¿å­é‡Œçš„å½“å‰æ–‡ä»¶ç›®å½•èµ·ç‚¹ï¼Œç›¸å½“äºè®¾ç½®æ¿å­çš„æ–‡ä»¶å¤¹é»˜è®¤è·¯å¾„åœ¨ä»€ä¹ˆä½ç½®ã€‚ ## å¸¸è§é”™è¯¯ è¿æ¥ç¡¬ä»¶çš„æ—¶å€™ï¼Œè¦ç‰¹åˆ«æ³¨æ„æ­»å¾ªç¯ï¼Œå¦‚æœåœ¨è¿æ¥è¿‡ç¨‹ä¸­æ¿å­å­˜åœ¨æ²¡æœ‰ä»»ä½•å»¶æ—¶çš„æ­»å¾ªç¯ï¼Œåˆ™ä¼šå½±å“è½¯ä»¶è¿æ¥æ¿å­çš„æˆåŠŸç‡ï¼Œå°¤å…¶æ˜¯æ²¡æœ‰å»¶æ—¶çš„ main.py æ­»å¾ªç¯ï¼Œè¿™ä¼šå¯¼è‡´ä¸Šç”µåå°†æ— æ³•è¿æ¥ç¡¬ä»¶ï¼Œä½ å¯ä»¥åœ¨å¤ä½è¿æ¥å rm main.pyï¼Œè¿™ç‚¹éœ€è¦æ³¨æ„ï¼Œä¸è¿‡ï¼Œæœ‰çº¿ä¸²å£çš„è¿æ¥ä¸æˆåŠŸåˆ™ä¼šè¿›è¡Œæ¿å­çš„å¤ä½ï¼ˆ Mac ä¾‹å¤–ï¼‰ã€‚ ## è¯¦è§£å·¥å…· ### 0. æ”¯æŒçš„ç³»ç»Ÿç‰ˆæœ¬ ç³»ç»Ÿç±»å‹ ç³»ç»Ÿç‰ˆæœ¬ è¿è¡Œæƒ…å†µ æ³¨æ„äº‹é¡¹ Windows WIN7 WIN10 æ­£å¸¸ åŸç”Ÿ CMD ä¸æ”¯æŒ TAB Linux Lubuntu Ubuntu æ­£å¸¸ åŸç”Ÿ Shell æ”¯æŒ TAB Mac Darwin æ­£å¸¸ ä¸ Unix å‡ä¸€è‡´ ### 1. é‡è¦çš„åŠŸèƒ½æ“ä½œ æ“ä½œæ–¹æ³• ä¸åŒç³»ç»Ÿå·¥å…·æ”¯æŒæƒ…å†µ è¿è¡Œæ•ˆæœ æ³¨æ„äº‹é¡¹ è¾“å…¥ä¸€äº›å†…å®¹åé€šè¿‡ TAB é”®è¡¥å…¨ ä»… shellã€replã€powershell æ”¯æŒã€‚ å¦‚æœæƒ³è¦æ‰“ import åªéœ€è¦ è¾“å…¥ i ååœ¨æŒ‰ä¸‹ TAB é”®å°±å¯ä»¥è‡ªåŠ¨è¡¥å…¨äº†ï¼Œæ¯”å¦‚ linux ä¸‹ï¼Œè¾“å…¥ ttyUSB0ï¼Œåªéœ€è¦ i + TAB é”®å°±å¯ä»¥äº†ã€‚ å‰ææ˜¯ï¼Œè¯¥å‘½ä»¤è¢«ç³»ç»Ÿæå‰è¾“å…¥è¿‡ï¼Œå¦åˆ™å®ƒæ²¡åŠæ³•è¡¥å…¨ï¼Œå®ƒåªèƒ½è¡¥å…¨å†å²è¾“å…¥çš„ä¿¡æ¯ã€‚ å·¦é”®å¤åˆ¶é€‰å–ï¼Œå³é”®ç²˜è´´é€‰å– ä»… Windowsçš„ç³»ç»Ÿæ”¯æŒã€‚ å¼€å¯ **CMDæ§åˆ¶å°** ç¨‹åºçš„å±æ€§é‡Œçš„ **å¿«é€Ÿç¼–è¾‘** åŠŸèƒ½ï¼Œå¯ä»¥è®©ç¨‹åºæ”¯æŒé¼ æ ‡ ç‚¹å‡»æš‚åœç¨‹åºåç‚¹å·¦é”®æ‹–åŠ¨å¤åˆ¶æ–‡æœ¬å†…å®¹ã€‚ å¦‚æœé€‰å–çš„æ˜¯å¤šè¡Œä»£ç æˆ–å‘½ä»¤ï¼Œä¸ä»£è¡¨å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œæ‰€ä»¥ä¸€èˆ¬éƒ½æ˜¯é€‰å–ä¸€è¡Œçš„ã€‚ ä¸Šä¸‹å·¦å³æŒ‰é”®åŠé€€æ ¼ å‡æ”¯æŒ ä¸Šä¸‹æŒ‰é”®å¯ä»¥åˆ‡æ¢è¯»å–å†å²è¾“å…¥è¿‡çš„å‘½ä»¤ï¼Œå·¦å³æ–¹å‘é”®ä»¥åŠç¨‹åºé€€æ ¼æ“ä½œå¯ä»¥å¯¹è‡ªå·±è¾“å…¥è¿‡çš„å†…å®¹è¿›è¡Œä¿®æ”¹ã€‚ ä»…é’ˆå¯¹windowsåšäº†ä¿®å¤ã€‚ ### 2. æ‰€æœ‰å‘½ä»¤çš„ç”¨æ³• å‘½ä»¤ä¸­çš„æ‹¬å·ä¸ºç®€å†™ï¼Œæ–¹ä¾¿ä½¿ç”¨ã€‚ å‘½ä»¤ç±»å‹ ä½¿ç”¨æ–¹æ³• è¿è¡Œç»“æœ æ³¨æ„äº‹é¡¹ open (o) æ‰“å¼€å½“å‰è®¾å¤‡ã€‚æ ¼å¼æœ‰ï¼šæœ‰çº¿ä¸²å£ `open com3`ï¼Œæ— çº¿æœ‰ `ws:192.168.10.114,1234` è¿æ¥æˆåŠŸåè¿”å› `Connected to esp32` æ§åˆ¶æ¿å­å‰ï¼Œéœ€è¦å…ˆæ‰“å¼€è¿æ¥ã€‚æ‹¬å·ä¸ºç®€å†™ã€‚ close å…³é—­å½“å‰è®¾å¤‡ã€‚ quit (q) è¾“å…¥ é€€å‡ºç¨‹åº EOF è¾“å…¥ é€€å‡ºç¨‹åº æ—  cat (c) è¾“å…¥ æ–‡ä»¶åï¼Œä¾‹å¦‚ `cat boot.py` å°†æ¿å­çš„æŒ‡å®šæ–‡ä»¶å†…å®¹æ‰“å°å‡ºæ¥ï¼Œä»¥ä¾¿å¿«é€ŸæŸ¥çœ‹ã€‚ æ—  put æŠŠå½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶æ¨é€åˆ°æ¿å­ï¼Œä¾‹å¦‚`put boot.py` æ—  å¤±è´¥ä¼šè¿”å›é”™è¯¯ä¿¡æ¯ get è·å–æ¿å­å½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œä¾‹å¦‚`get boot.py` åœ¨ç¨‹åºè¿è¡Œçš„ç›®å½•ï¼ˆlpwdï¼‰ä¸‹å¤šäº†ä¸€ä¸ª boot.py æ–‡ä»¶ mput ä¸ put ç›¸å¯¹ï¼Œä»¥æ¿å­ä¸ºä¸»ï¼Œå¯¹ç¨‹åºçš„ç›®å½•æ“ä½œã€‚ mget ä¸ get ç›¸å¯¹ï¼Œä»¥æ¿å­ä¸ºä¸»ï¼Œå¯¹ç¨‹åºçš„ç›®å½•æ“ä½œã€‚ repl (e) è¿›å…¥ python çš„ repl æ§åˆ¶æ¥å£ å¯ä»¥ç›´æ¥æ‰§è¡Œpythonä»£ç ã€‚ exec (e) è¾“å…¥ Python ä»£ç ï¼Œä¾‹å¦‚`exec print('hello')` è¿”å›print('hello')çš„è¿è¡Œç»“æœ hello åªèƒ½æ‰§è¡Œä¸€è¡Œ python ä»£ç ã€‚æ‹¬å·ä¸ºç®€å†™ã€‚ execfile (ef) æ‰§è¡Œæ¿å­ä¸­å­˜åœ¨çš„pythonæ–‡ä»¶ï¼Œä¾‹å¦‚`execfile main.py` æ‰§è¡Œ main.py çš„æ•ˆæœ æ‹¬å·ä¸ºç®€å†™ã€‚ lexecfile (lef) æ‰§è¡Œç¨‹åºä¸‹å­˜åœ¨çš„pythonæ–‡ä»¶ï¼Œä¾‹å¦‚`lexecfile main.py` æ‰§è¡Œ main.py çš„æ•ˆæœ æ‹¬å·ä¸ºç®€å†™ï¼Œä¸ runfile ä¸åŒçš„æ˜¯ä¼šè¿›å…¥replæ¨¡å¼ï¼Œæ‰€ä»¥æ”¯æŒinputæ“ä½œã€‚ runfile (rf) ç»“åˆäº† put å’Œ execfile å‘½ä»¤ æ‹¬å·ä¸ºç®€å†™ã€‚ cd è¾“å…¥ æŒ‡å®šæ¿å­é‡Œçš„ç›®å½•ï¼Œä¾‹å¦‚ `cd /` æˆ– `cd D:/Users` ä¿®æ”¹ç¨‹åºè®¿é—®æ¿å­çš„æ‰€å¤„ç›®å½• ä»¥ `/` åˆ†éš”çš„linuxè·¯å¾„ã€‚ md è¾“å…¥ ç›®å½•åç§° åœ¨æ¿å­ä¸Šæ–°å»ºä¸€ä¸ªç›®å½• æ—  lcd è¾“å…¥ æŒ‡å®šç°åœ¨ç¨‹åºé‡Œçš„ç›®å½•ï¼Œä¾‹å¦‚ `cd /` ä¿®æ”¹ç¨‹åºè®¿é—®æ¿å­çš„æ‰€å¤„ç›®å½• ä»¥ `/` åˆ†éš”çš„linuxè·¯å¾„ã€‚ pwd è¾“å…¥`pwd` è¿”å›å½“å‰æ¿å­æ‰€å¤„çš„ç›®å½• æ—  lpwd è¾“å…¥ `lpwd` è¿”å›å½“å‰ç¨‹åºæ‰€å¤„çš„ç›®å½• æ—  mpyc è¾“å…¥ å½“å‰ç›®å½•ä¸‹çš„ python æ–‡ä»¶ï¼Œä¾‹å¦‚ `mpyc main.py` æŠŠ python ä»£ç  pyc åŒ–é™æ€ç¼–è¯‘ä»£ç å¤„ç†ï¼Œç”Ÿæˆ main.pyc éœ€è¦ç³»ç»Ÿé‡Œæœ‰ mpy cross å‘½ä»¤ mrm è¾“å…¥æŒ‡å®šçš„ç›®å½•æˆ–æ–‡ä»¶å `rm ç›®å½•æˆ–æ–‡ä»¶å` ç§»é™¤ç³»ç»Ÿé‡Œçš„è¯¥ç›®å½•æˆ–æ–‡ä»¶å rm è¾“å…¥æŒ‡å®šçš„ç›®å½•æˆ–æ–‡ä»¶å `rm ç›®å½•æˆ–æ–‡ä»¶å` ç§»é™¤æ¿å­é‡Œçš„è¯¥ç›®å½•æˆ–æ–‡ä»¶å ls è¾“å…¥` ls /` æŸ¥çœ‹ æ¿å­ å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ lls è¾“å…¥ `lls /` æŸ¥çœ‹ ç¨‹åº å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ view è¾“å…¥ `view` æŸ¥çœ‹ æœ¬æœº å¯èƒ½çš„ä¸²å£ï¼Œå’Œå½“å‰çš„ open é…ç½® help æŸ¥çœ‹å‘½ä»¤çš„å¸®åŠ©ï¼Œä¾‹å¦‚ï¼š`help lls` # pyinstaller 1. create mpfs.exe pyinstaller F mpfs i logo.ico # uplaod pypi ```shell python setup.py sdist build ``` ```shell # pip install twine twine upload dist/* verbose ```"},"/soft/maixpy/zh/get_started/mpfshell-lite/English.html":{"title":"&emsp;&emsp;&emsp;&emsp;A Shell Type Micropython File Explorerâ›º","content":"# &emsp;&emsp;&emsp;&emsp;A Shell Type Micropython File Explorerâ›º [ä¸­æ–‡æ–‡æ¡£](index.html) [![MIT](https://img.shields.io/badge/license MIT blue.svg)](./LICENSE) [![PyPI version](https://badge.fury.io/py/mpfshell lite.svg)](https://badge.fury.io/py/mpfshell lite) The lite version of this mpfshell is an aggressive development version. The stable version is available at [mpfshell](https://github.com/wendlers/mpfshell). ## Features: 1. Compact, full featured MicroPython management tools, such as: put\\get\\cat\\rm\\execfile and so on. 2. Fixed the problem of massive use of Windows, such as path, garbled code, etc., but some problems are still being solved in succession. 3. Green single file under Windows, out of the box, or using Python for cross platform operation. ## System requirements Python 3.5.4 + requirements.txt ## Uasge ### 1. into [releases](https://github.com/junhuanchen/mpfshell lite/releases) download mpfs.exe. Find the version of the system you are using and download it. ![](readme/00.png) ### 2. Install using PIP Using the Python PIP tool to download and install, in the console input ` pip insrall mpfshell lite`, then enter `mpfs` can run. ```shell pip install mpfshell lite mpfs ``` ![](readme/01.png) ## Connect your hardware Connect to your hardware and the port number of the current hardware will appear. ``` looking for all port... serial name : USB SERIAL CH340 (COM5) : COM5 input ' open COM5 ' and enter connect your board. ``` Enter 'open COM5' as shown in the figure to connect. ![](readme/05.png) You can see ` Connected to esp32 ` already Connected. ## Run micropython code. ### 1.Run the code directly ``` mpfs [/]> view looking for all port... serial name : USB SERIAL CH340 (COM5) : COM5 current open_args ser:COM5 mpfs [/]> open COM5 Connected to esp32 mpfs [/]> exec print('hello world!') hello world! mpfs [/]> ``` ![](readme/07.png) ### 2.Run the code file Prepare a Python code file (.py) on your desktop ```python print('hello world!') ``` ![](readme/09.png) use the exe version ![](readme/11.png) Put exe with .py and follow these commands. ``` looking for all port... serial name : USB SERIAL CH340 (COM5) : COM5 input ' open COM5 ' and enter connect your board. ** Micropython File Shell v0.9.1, sw@kaltpost.de & juwan@banana pi.com ** Running on Python 3.5 using PySerial 3.3 mpfs [/]> open com5 Connected to esp32 mpfs [/]> runfile ts.py hello world! Connected to esp32 mpfs [/]> ``` ![](readme/13.png) use the PIP version In CMD console mode, you need to use the following command to locate the folder path (LCD) and then run the file (runfile). You can use the LCD location to run a file path, such as `lcd C:/Users/Juwan/Desktop` (note that is `/` is not `\\`, this let a person tired) ``` mpfs [/]> open com5 Connected to esp32 mpfs [/]> lcd Desktop mpfs [/]> lls Local files: <dir> blog desktop.ini editor.exe mpfs 0.9.1.exe ts.py mpfs [/]> runfile ts.py hello world! Connected to esp32 mpfs [/]> ``` ![](readme/15.png) ## Use help In the program, you can also get the details of the corresponding command description or parameters by using the help + command. ![](readme/17.png) For example: `help cd`ï¼Œ returns the `cd <TARGET DIR> â€‹ Change current remote directory to given target.`ã€‚ You can see that it is used to change the current file directory starting point in the target board, equivalent to setting the default path of the folder in the board. ## Common mistakes If there is a dead loop without any delay in the connection process, it will affect the success of the software connection board, especially the dead loop of main.py without delay, which will lead to the failure to connect to the hardware after power on. You can reset the connection rm main.py, which needs to be noted. ## Dissection tool ### 0. Supported version of the system system type system version running condition notes Windows win7 win10 normal native CMD does not support TAB Linux luubuntu normal native Shell supports TAB Mac Darwin normal is consistent with Unix ### 1. Important functional operations operation method different system tools support run effect notes Enter something and complete it with the TAB key Only the shell, repl, powershell support. If you want to type \"import\", you only need to input \"i\" and then press the TAB key to complete it automatically. For example, in Linux, you can input \"ttyUSB0\" and only need \"i + TAB\". It can only input completion history. Left copy selection, right paste selection Windows only system support. Open the CMD console program attributes in the quick edit function, can let the program supports the mouse to click suspended after some drag copying the text content. Are generally choose a line. Up, down, left and right buttons and backspace all supports. You can modify what you've typed. Fixes were made for Windows ### 2. All of the use of the command Command the braces for short, easy to use. command type USES method to run the result note open (o) opens the current device. Format: a serial port cable ` open com3 `, wireless ` ws: 192.168.10.114, 1234 ` connection after a successful return to ` Connected to esp32 ` control board before, need to open the connection first. The parentheses are shorthand. close closes the current device. quit (q) enters exit the program EOF enters exit the program cat (c) Enter the file name, such as `cat boot.py` Prints out the contents of the specified file on the board for quick viewing. put Push files from the current directory to the board, for example `put boot.py` Failure returns an error message get Gets the files in the current directory of the board, for example `get boot.py` Boot.py is added to the directory where the program is running (lpwd) mput Opposite to put mget Opposite to put repl (e) Enter python's repl control interface You can execute python code directly. exec (e) input Python Code, for example `exec print('hello')` Returns the run result of print('hello') Only one line of python code can be executed. execfile (ef) Python files that exist in the execution board, for example `execfile main.py` Execute the effect of main.py lexecfile (lef) A python file that exists under the execution program, for example `lexecfile main.py` Execute the effect of main.py Unlike runfile will enter repl mode, so support input() operations. runfile (rf) It combines the put and execfile commands cd input Specify the directory in the board, for example `cd /` æˆ– `cd D:/Users` Modify the program to access the board of the directory To ` / ` separate Linux path. md input Directory name Create a new directory on the board lcd input Specifies the current directory in the program, for example `cd /` Modify the directory in which the program accesses the board To ` / ` separate Linux path. pwd input`pwd` Returns the directory on the current board lpwd input `lpwd` Returns the directory in which the current program resides mpyc input Python files in the current directory, for example `mpyc main.py` Pyc python code static compilation code processing, generate main.pyc need to have mpy cross command in the system mrm Enter the specified directory or file name `rm Directory or file name` Removes the directory or file name from the system rm Enter the specified directory or file name `rm Directory or file name` Removes the directory or file name from the board ls input` ls /` View all files in the board's current directory lls input `lls /` View all files in the program's current directory view input `view` View the possible serial ports on the machine, and the current open configuration help View the help command, for example : `help lls` # pyinstaller 1. create mpfs.exe pyinstaller F mpfs i logo.ico # uplaod pypi ```shell python setup.py sdist build ``` ```shell # pip install twine twine upload dist/* verbose ```"},"/soft/maixpy/zh/get_started/mpfshell-lite/mpfshell-lite-help.html":{"title":"Document","content":"# Document ### Mpfshell ä½¿ç”¨æ‰‹å†Œ ç”±äºæœ¬ç« æ¶‰åŠçš„å†…å®¹ä¸é€‚åˆå›¾ç¤ºè¯´æ˜ï¼Œæ‰€ä»¥å‡å·²è¡¨æ ¼æˆ–æ–‡å­—è¯´æ˜ã€‚ åœ¨ python3.5 ä»¥ä¸Šä½¿ç”¨å‘½ä»¤ `pip install mpfshell lite` å³å¯å®‰è£…ï¼Œæ¥ç€è¾“å…¥ `mpfshell lite` å³å¯æ‰“å¼€è¿è¡Œã€‚ ##### 0. äº†è§£ä¸åŒçš„æ”¯æŒç‰ˆæœ¬ ç³»ç»Ÿç±»å‹ ç³»ç»Ÿç‰ˆæœ¬ è¿è¡Œæƒ…å†µ æ³¨æ„äº‹é¡¹ Windows WIN7 WIN10 æ­£å¸¸ åŸç”Ÿ CMD ä¸æ”¯æŒ TAB Linux Lubuntu Ubuntu æ­£å¸¸ åŸç”Ÿ Shell æ”¯æŒ TAB Mac Darwin æ­£å¸¸ ä¸ Unix å‡ä¸€è‡´ ##### 1. äº†è§£é‡è¦çš„åŠŸèƒ½æ“ä½œ æ“ä½œæ–¹æ³• ä¸åŒç³»ç»Ÿå·¥å…·æ”¯æŒæƒ…å†µ è¿è¡Œæ•ˆæœ æ³¨æ„äº‹é¡¹ è¾“å…¥ä¸€äº›å†…å®¹åé€šè¿‡ TAB é”®è¡¥å…¨ ä»… shellã€replã€powershell æ”¯æŒã€‚ å¦‚æœæƒ³è¦æ‰“ import åªéœ€è¦ è¾“å…¥ i ååœ¨æŒ‰ä¸‹ TAB é”®å°±å¯ä»¥è‡ªåŠ¨è¡¥å…¨äº†ï¼Œæ¯”å¦‚ linux ä¸‹ï¼Œè¾“å…¥ ttyUSB0ï¼Œåªéœ€è¦ i + TAB é”®å°±å¯ä»¥äº†ã€‚ å‰ææ˜¯ï¼Œè¯¥å‘½ä»¤è¢«ç³»ç»Ÿæå‰è¾“å…¥è¿‡ï¼Œå¦åˆ™å®ƒæ²¡åŠæ³•è¡¥å…¨ï¼Œå®ƒåªèƒ½è¡¥å…¨å†å²è¾“å…¥çš„ä¿¡æ¯ã€‚ å·¦é”®å¤åˆ¶é€‰å–ï¼Œå³é”®ç²˜è´´é€‰å– ä»… Windowsçš„ç³»ç»Ÿæ”¯æŒã€‚ å¼€å¯ **CMDæ§åˆ¶å°** ç¨‹åºçš„å±æ€§é‡Œçš„ **å¿«é€Ÿç¼–è¾‘** åŠŸèƒ½ï¼Œå¯ä»¥è®©ç¨‹åºæ”¯æŒé¼ æ ‡ ç‚¹å‡»æš‚åœç¨‹åºåç‚¹å·¦é”®æ‹–åŠ¨å¤åˆ¶æ–‡æœ¬å†…å®¹ã€‚ å¦‚æœé€‰å–çš„æ˜¯å¤šè¡Œä»£ç æˆ–å‘½ä»¤ï¼Œä¸ä»£è¡¨å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œæ‰€ä»¥ä¸€èˆ¬éƒ½æ˜¯é€‰å–ä¸€è¡Œçš„ã€‚ ä¸Šä¸‹å·¦å³æŒ‰é”®åŠé€€æ ¼ å‡æ”¯æŒ ä¸Šä¸‹æŒ‰é”®å¯ä»¥åˆ‡æ¢è¯»å–å†å²è¾“å…¥è¿‡çš„å‘½ä»¤ï¼Œå·¦å³æ–¹å‘é”®ä»¥åŠç¨‹åºé€€æ ¼æ“ä½œå¯ä»¥å¯¹è‡ªå·±è¾“å…¥è¿‡çš„å†…å®¹è¿›è¡Œä¿®æ”¹ã€‚ ä»…é’ˆå¯¹windowsåšäº†ä¿®å¤ã€‚ ##### 2. äº†è§£æ‰€æœ‰åŠŸèƒ½çš„å‘½ä»¤ å‘½ä»¤ç±»å‹ ä½¿ç”¨æ–¹æ³• è¿è¡Œç»“æœ æ³¨æ„äº‹é¡¹ open(o) æ‰“å¼€å½“å‰è®¾å¤‡ã€‚æ ¼å¼æœ‰ï¼šæœ‰çº¿ä¸²å£ `open com3`ï¼Œæ— çº¿æœ‰ `ws:192.168.10.114,1234` è¿æ¥æˆåŠŸåè¿”å› `Connected to esp32` æ§åˆ¶æ¿å­å‰ï¼Œéœ€è¦å…ˆæ‰“å¼€è¿æ¥ã€‚æ‹¬å·ä¸ºç®€å†™ã€‚ close å…³é—­å½“å‰è®¾å¤‡ã€‚ quit è¾“å…¥ é€€å‡ºç¨‹åº EOF è¾“å…¥ é€€å‡ºç¨‹åº æ—  cat è¾“å…¥ æ–‡ä»¶åï¼Œä¾‹å¦‚ `cat boot.py` å°†æ¿å­çš„æŒ‡å®šæ–‡ä»¶æ‰“å°å‡ºæ¥å¿«é€ŸæŸ¥çœ‹ã€‚ æ—  put æŠŠå½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶æ¨é€åˆ°æ¿å­ï¼Œä¾‹å¦‚`put boot.py` æ—  å¤±è´¥ä¼šè¿”å›é”™è¯¯ä¿¡æ¯ get è·å–æ¿å­å½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œä¾‹å¦‚`get boot.py` åœ¨ç¨‹åºè¿è¡Œçš„ç›®å½•ä¸‹å¤šäº†ä¸€ä¸ª boot.py æ–‡ä»¶ mput ä¸ put ç›¸å¯¹ï¼Œä»¥æ¿å­ä¸ºä¸»ï¼Œå¯¹ç¨‹åºçš„ç›®å½•æ“ä½œã€‚ mget ä¸ get ç›¸å¯¹ï¼Œä»¥æ¿å­ä¸ºä¸»ï¼Œå¯¹ç¨‹åºçš„ç›®å½•æ“ä½œã€‚ repl(e) è¿›å…¥ python çš„ repl æ§åˆ¶æ¥å£ å¯ä»¥ç›´æ¥æ‰§è¡Œpythonä»£ç ã€‚ exec (e) è¾“å…¥ Python ä»£ç ï¼Œä¾‹å¦‚`exec print('hello')` è¿”å›print('hello')çš„è¿è¡Œç»“æœ hello åªèƒ½æ‰§è¡Œä¸€è¡Œ python ä»£ç ã€‚æ‹¬å·ä¸ºç®€å†™ã€‚ execfile(ef) æ‰§è¡Œæ¿å­ä¸­å­˜åœ¨çš„pythonæ–‡ä»¶ï¼Œä¾‹å¦‚`execfile main.py` æ‰§è¡Œ main.py çš„æ•ˆæœ æ‹¬å·ä¸ºç®€å†™ã€‚ lexecfile(ef) æ‰§è¡Œç¨‹åºä¸‹å­˜åœ¨çš„pythonæ–‡ä»¶ï¼Œä¾‹å¦‚`lexecfile main.py` æ‰§è¡Œ main.py çš„æ•ˆæœ æ‹¬å·ä¸ºç®€å†™ï¼Œä¸ runfile ä¸åŒçš„æ˜¯ä¼šè¿›å…¥replæ¨¡å¼ï¼Œæ‰€ä»¥æ”¯æŒinputæ“ä½œã€‚ runfile(rf) ç»“åˆäº† put å’Œ execfile å‘½ä»¤ æ‹¬å·ä¸ºç®€å†™ã€‚ cd è¾“å…¥ æŒ‡å®šæ¿å­é‡Œçš„ç›®å½•ï¼Œä¾‹å¦‚ `cd /` ä¿®æ”¹ç¨‹åºè®¿é—®æ¿å­çš„æ‰€å¤„ç›®å½• ä»¥ `/` å¼€å¤´çš„linuxè·¯å¾„ï¼Œå°½é‡ä¸è¦æ”¹å˜è·¯å¾„ï¼Œé™¤éä½ ååˆ†æ¸…æ¥šè‡ªå·±åœ¨åšä»€ä¹ˆã€‚ md è¾“å…¥ ç›®å½•åç§° åœ¨æ¿å­ä¸Šæ–°å»ºä¸€ä¸ªç›®å½• æ—  lcd è¾“å…¥ æŒ‡å®šç°åœ¨ç¨‹åºé‡Œçš„ç›®å½•ï¼Œä¾‹å¦‚ `cd /` ä¿®æ”¹ç¨‹åºè®¿é—®æ¿å­çš„æ‰€å¤„ç›®å½• ä»¥ `/` å¼€å¤´çš„linuxè·¯å¾„ï¼Œå°½é‡ä¸è¦æ”¹å˜è·¯å¾„ï¼Œé™¤éä½ ååˆ†æ¸…æ¥šè‡ªå·±åœ¨åšä»€ä¹ˆã€‚ pwd è¾“å…¥`pwd` è¿”å›å½“å‰æ¿å­æ‰€å¤„çš„ç›®å½• æ—  lpwd è¾“å…¥ `lpwd` è¿”å›å½“å‰ç¨‹åºæ‰€å¤„çš„ç›®å½• æ—  mpyc è¾“å…¥ å½“å‰ç›®å½•ä¸‹çš„ python æ–‡ä»¶ï¼Œä¾‹å¦‚ `mpyc main.py` æŠŠ python ä»£ç  pyc åŒ–é™æ€ç¼–è¯‘ä»£ç å¤„ç†ï¼Œç”Ÿæˆ main.pyc mrm è¾“å…¥ç¨‹åºå½“å‰çš„ `rm ç›®å½•æˆ–æ–‡ä»¶å` ç§»é™¤è¯¥ç›®å½•æˆ–æ–‡ä»¶å rm è¾“å…¥æ¿å­å½“å‰çš„ `rm ç›®å½•æˆ–æ–‡ä»¶å` ç§»é™¤è¯¥ç›®å½•æˆ–æ–‡ä»¶å ls è¾“å…¥` ls /` æŸ¥çœ‹ æ¿å­ å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ lls è¾“å…¥ `lls /` æŸ¥çœ‹ ç¨‹åº å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ view è¾“å…¥ `view` æŸ¥çœ‹ æœ¬æœº å¯èƒ½çš„ä¸²å£ï¼Œå’Œå½“å‰çš„ open é…ç½® help æŸ¥çœ‹å‘½ä»¤çš„å¸®åŠ©ï¼Œè¯¦ç»†çœ‹æœ¬èŠ‚ç»“å°¾ã€‚ åœ¨ç¨‹åºä¸­ï¼Œä½ ä¹Ÿå¯ä»¥é€šè¿‡ help + å‘½ä»¤ çš„æ–¹å¼è·å–å¯¹åº”çš„å‘½ä»¤è¯´æ˜æˆ–å‚æ•°ç­‰ç»†èŠ‚ã€‚ ä¾‹å¦‚ï¼š`help cd`ï¼Œ è¿”å›çš„æ˜¯ `cd <TARGET DIR> â€‹ Change current remote directory to given target.`ã€‚ å¯ä»¥å¾—çŸ¥ å®ƒæ˜¯ç”¨æ¥æ”¹å˜ ç›®æ ‡æ¿å­é‡Œçš„å½“å‰æ–‡ä»¶ç›®å½•èµ·ç‚¹ï¼Œç›¸å½“äºè®¾ç½®æ¿å­çš„æ–‡ä»¶å¤¹é»˜è®¤è·¯å¾„åœ¨ä»€ä¹ˆä½ç½®ã€‚ æç¤ºï¼šè¿æ¥æ¿å­çš„æ—¶å€™ï¼Œè¦ç‰¹åˆ«æ³¨æ„æ­»å¾ªç¯ï¼Œå¦‚æœåœ¨è¿æ¥è¿‡ç¨‹ä¸­æ¿å­å­˜åœ¨æ²¡æœ‰ä»»ä½•å»¶æ—¶çš„æ­»å¾ªç¯ï¼Œåˆ™ä¼šå½±å“è½¯ä»¶è¿æ¥æ¿å­çš„æˆåŠŸç‡ï¼Œå°¤å…¶æ˜¯æ²¡æœ‰å»¶æ—¶çš„ mian.py æ­»å¾ªç¯ï¼Œè¿™ä¼šå¯¼è‡´ä¸Šç”µåå°†æ— æ³•è¿æ¥æ— çº¿æ¨¡å¼ï¼Œè¿™ç‚¹éœ€è¦æ³¨æ„ï¼Œä¸è¿‡ï¼Œæœ‰çº¿ä¸²å£çš„è¿æ¥ä¸æˆåŠŸåˆ™ä¼šè¿›è¡Œæ¿å­çš„å¤ä½ã€‚"},"/soft/maixpy/zh/get_started/maixpy_get_started_video.html":{"title":"MaixPy è§†é¢‘å…¥é—¨æ•™ç¨‹","content":" title: MaixPy è§†é¢‘å…¥é—¨æ•™ç¨‹ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®—, maixpyå…¥é—¨, äººå·¥æ™ºèƒ½ desc: maixpy MaixPy è§†é¢‘å…¥é—¨æ•™ç¨‹ è§†é¢‘ç®€å•ä»‹ç»äº†åŸºæœ¬çš„ä¸Šæ‰‹è¿‡ç¨‹ï¼Œäº‹å®ä¸Šæ–‡æ¡£ä¸Šä¼šæ›´åŠ è¯¦ç»†ï¼Œ è§†é¢‘åªæ˜¯æä¾›ä¸€ä¸ªæ¯”è¾ƒç›´è§‚çš„å…¥é—¨å‚è€ƒï¼Œå¯¹éƒ¨åˆ†äººç¾¤æ¥è¯´çœ‹è§†é¢‘å…¥é—¨ä¼šæ›´åŠ å®¹æ˜“ï¼Œ å¦å¤–ï¼Œæœ¬è§†é¢‘å†…çš„æ–‡æ¡£ç‰ˆæœ¬æ˜¯æœ€åˆçš„ç‰ˆæœ¬ï¼Œæ–°æ–‡æ¡£ç›®å½•ç»“æ„æœ‰äº†é€‚å½“çš„è°ƒæ•´ï¼Œè¯·å¤§å®¶ä¸¾ä¸€åä¸‰ï¼š <iframe width \"800\" height \"600\" src \"//player.bilibili.com/player.html?aid 52613549&cid 92076022&page 1\" scrolling \"no\" border \"0\" frameborder \"no\" framespacing \"0\" allowfullscreen \"true\"> </iframe> å»ºè®®è¿›å…¥[Bilibili](https://www.bilibili.com/video/av52613549?zw)ç™»å½•çœ‹é«˜æ¸…ç‰ˆæœ¬å“¦ï¼Œ å¦‚æœè§‰å¾—èŠ‚å¥å¤ªæ…¢å¯ä»¥å³é”®è°ƒé€Ÿï½"},"/soft/maixpy/zh/get_started/get_started_cam_lcd.html":{"title":"ç¬¬ä¸€ä¸ªç¨‹åº: ä½¿ç”¨å±å¹•å’Œæ‘„åƒå¤´","content":" title: \"ç¬¬ä¸€ä¸ªç¨‹åº: ä½¿ç”¨å±å¹•å’Œæ‘„åƒå¤´\" keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®—, maixpyå…¥é—¨ desc: \"maixpy ç¬¬ä¸€ä¸ªç¨‹åº: ä½¿ç”¨å±å¹•å’Œæ‘„åƒå¤´\" å¼€å‘æ¿æœ‰é…å¥—çš„æ‘„åƒå¤´å’Œå±å¹•ï¼Œè¯·åœ¨ä¸Šç”µå‰æ£€æŸ¥ç¡¬ä»¶è¿æ¥æ˜¯å¦æ­£ç¡®ï¼ˆ**æŒ‰ç…§æ’çº¿æ ‡æœ‰çš„ä¸€å·å¼•è„šå¯¹é½**ï¼‰ ç„¶åä¸Šç”µï¼Œæ‰“å¼€ä¸²å£ç»ˆç«¯ï¼Œ æŒ‰é”®ç›˜`Ctrl+E`,ç„¶åç²˜è´´ä»¥ä¸‹ä»£ç ï¼š ```python import sensor, lcd sensor.reset() sensor.set_pixformat(sensor.RGB565) sensor.set_framesize(sensor.QVGA) sensor.run(1) sensor.skip_frames() lcd.init(freq 15000000) while(True): lcd.display(sensor.snapshot()) ``` æŒ‰é”®ç›˜`Ctrl+D`æ¥å¼€å§‹è¿è¡Œä»£ç  ä¼šå‘ç°å±å¹•è¢«ç‚¹äº®äº†ï¼Œè€Œä¸”æ˜¾ç¤ºå‡ºäº†æ‘„åƒå¤´æ‹åˆ°çš„ç”»é¢ å¦‚æœæ˜¾ç¤º`reset fail`ï¼Œ åˆ™æ˜¯æ‘„åƒå¤´æ²¡æœ‰è¿æ¥å¥½ï¼Œæˆ–è€…æ‘„åƒå¤´å·²ç»æŸåï¼Œæˆ–è€…æ£€æŸ¥æ˜¯ä¸æ˜¯ä½¿ç”¨äº†ä¸æ”¯æŒçš„æ‘„åƒå¤´ ä¸Šé¢çš„ç¨‹åºéƒ½å¯ä»¥åœ¨ API æ‰‹å†Œä¸­æŸ¥åˆ°å«ä¹‰ï¼Œ åœ¨å·¦è¾¹ç›®å½•ä¸­å¯ä»¥æ‰¾åˆ°ï¼Œ ä¹Ÿå¯ä»¥ä½¿ç”¨å·¦ä¸Šè§’çš„æœç´¢æ¡†è¿›è¡Œæœç´¢ã€‚ ç°åœ¨è§£é‡Šä¸Šé¢çš„ç¨‹åºï¼š * `import sensor, lcd`: é¦–å…ˆå¯¼å…¥å†…ç½®çš„`sensor`ï¼ˆæ‘„åƒå¤´ï¼‰åº“å’Œ`lcd`ï¼ˆå±å¹•ï¼‰åº“ * `sensor.reset()`: åˆå§‹åŒ–æ‘„åƒå¤´ï¼Œè¿™é‡Œå¤±è´¥éœ€è¦æ£€æŸ¥ç¡¬ä»¶ * `sensor.set_pixformat(sensor.RGB565)`: è®¾ç½®æ‘„åƒå¤´ä¸º`RGB565`æ ¼å¼ï¼Œé»˜è®¤éƒ½æ˜¯ç”¨`RGB565`å³å¯ * `sensor.set_framesize(sensor.QVGA)`: åˆ†è¾¨ç‡ä¸º`QVGA`ï¼Œå³`320x240` * `sensor.run(1)`: å¼€å§‹è¿è¡Œï¼Œåœ¨ç°åœ¨çš„ç‰ˆæœ¬ä¸­ä¹Ÿå¯ä»¥ä¸è°ƒç”¨ï¼Œåœ¨ä¸Šé¢è®¾ç½®å®Œæˆåï¼Œæ‘„åƒå¤´ä¼šè‡ªåŠ¨å¼€å§‹è¿è¡Œ * `sensor.skip_frames()`: æ‘„åƒå¤´åˆšå¯åŠ¨æ—¶ï¼Œå›¾åƒè´¨é‡è¿˜æ²¡ç¨³å®šï¼Œæ‰€ä»¥è·³è¿‡ä¸€äº›å›¾åƒ * `lcd.init(freq 15000000)`: åˆå§‹åŒ– LCDï¼Œ è¿™é‡Œä¼ äº†ä¸€ä¸ªå‚æ•°å«`freq`å³é¢‘ç‡ï¼Œ æ˜¯æŒ‡å®šé©±åŠ¨ LCD çš„æ—¶é’Ÿé¢‘ç‡ï¼Œè¿™é‡Œæ˜¯`15MHz`ï¼Œå¯ä»¥æ ¹æ®ç¡¬ä»¶æ€§èƒ½è°ƒæ•´ * `while(True)`: è¿™æ˜¯ä¸€ä¸ªå¾ªç¯ï¼Œå¾ªç¯é‡Œé¢çš„ä»£ç ä¼šè¢«ä¸åœåœ°è¿è¡Œ * `sensor.snapshot()`:ä»æ‘„åƒå¤´å–ä¸€å¸§å›¾åƒæ•°æ®ï¼Œè¿”å›å€¼æ˜¯ä¸€å¼ å›¾åƒçš„å¯¹è±¡ * `lcd.display()`ï¼š æ˜¾ç¤ºå›¾åƒåˆ° LCD * `lcd.display(sensor.snapshot())`: è¿™é‡Œå°±æ˜¯å…ˆæ‰§è¡Œæ‹¬å·é‡Œçš„è·å–å›¾åƒï¼Œè¿”å›å€¼ç›´æ¥ä½œä¸ºå‚æ•°ç»™ LCD è¿›è¡Œæ˜¾ç¤º"},"/soft/maixpy/zh/get_started/get_started_boot.html":{"title":"å¼€æœºè‡ªå¯åŠ¨è„šæœ¬","content":" title: å¼€æœºè‡ªå¯åŠ¨è„šæœ¬ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®—, maixpyå…¥é—¨ desc: maixpy å¼€æœºè‡ªå¯åŠ¨è„šæœ¬ ç³»ç»Ÿä¼šåœ¨ `/flash` æˆ–è€… `/sd`(ä¼˜å…ˆ) ç›®å½•åˆ›å»º `boot.py` æ–‡ä»¶å’Œ`main.py`ï¼Œ å¼€æœºä¼šè‡ªåŠ¨å…ˆæ‰§è¡Œ`boot.py`ï¼Œç„¶åæ‰§è¡Œ`main.py`ï¼ˆå¦‚æœæ£€æµ‹åˆ°SDå¡åˆ™æ‰§è¡ŒSDå¡é‡Œçš„ï¼‰ï¼Œ ç¼–è¾‘è¿™ä¸¤ä¸ªè„šæœ¬çš„å†…å®¹å³å¯å®ç°å¼€æœºè‡ªå¯ï¼Œå¦‚æœåœ¨ `boot.py` é‡Œé¢å†™æ­»å¾ªç¯ï¼ˆWhile Trueï¼‰ç¨‹åºï¼Œå°†ä¼šå¯¼è‡´ `main.py` ä¸èƒ½è¿è¡Œï¼ˆå…ˆè°ƒç”¨ `boot.py` åè°ƒç”¨ `main.py`ï¼‰ï¼Œé‡æ–°å‘é€ä¸å¸¦æ­»å¾ªç¯çš„ `boot.py` å³å¯è§£å†³ã€‚ boot.py ä¸»è¦ç”¨äºé…ç½®ç¡¬ä»¶ï¼Œåªé…ç½®ä¸€æ¬¡å³å¯ã€‚ main.py å¯ä»¥ç”¨äºä¸»è¦çš„è¿è¡Œçš„ç¨‹åºã€‚ å¯¹åº”çš„å…·ä½“æ‰§è¡Œçš„[ä»£ç åœ¨æ­¤](https://github.com/sipeed/MaixPy v1/blob/972059491227ece63fbfc2cd0e78fe13ee78427d/components/micropython/port/src/maixpy_main.c#L586 L595)ï¼Œæœ‰ç–‘é—®å°±ç›´æ¥çœ‹æºç ã€‚ æ³¨æ„: * Micro SD å¡åº”è¯¥è¢«æ ¼å¼åŒ–ä¸º FAT(FAT32) æ–‡ä»¶ç³»ç»Ÿ * FAT æ ¼å¼çš„å‚¨å­˜å¡ä¼šè¢«æŒ‚è½½åˆ° `/sd`, å†…éƒ¨ Flash ä¸­çš„ SPIFFS ä¼šè¢«æŒ‚è½½åˆ°`/flash`"},"/soft/maixpy/zh/get_started/install_driver/go.html":{"title":"Maix Go USB é©±åŠ¨å®‰è£…","content":" title: Maix Go USB é©±åŠ¨å®‰è£… keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy Maix Go USB é©±åŠ¨å®‰è£… è¿™æ¬¾ `STM32` èŠ¯ç‰‡çš„å›ºä»¶å‡ºå‚é»˜è®¤é‡‡ç”¨ [open ec](https://github.com/sipeed/open ec) çš„å›ºä»¶ï¼Œ å¦‚æœæ²¡é—®é¢˜ï¼Œåˆ™ä¼šå‡ºç°ä¸€ä¸ªæˆ–è€…ä¸¤ä¸ªä¸²å£ï¼Œ æ¯”å¦‚ `Linux` ä¸‹å‡ºç°ä¸¤ä¸ªä¸²å£ `/dev/ttyUSB0` å’Œ `/dev/ttyUSB1`ï¼Œ ä¸‹è½½å’Œè®¿é—®ä¸²å£æ—¶è¯·ä½¿ç”¨ `/dev/ttyUSB1`ã€‚ Windows ä¹Ÿç±»ä¼¼ã€‚ å¦‚æœéœ€è¦é‡æ–°çƒ§å½•è¿™ä¸ªå›ºä»¶ï¼Œå¯ä»¥ä» [github](https://github.com/sipeed/open ec/releases) æˆ–è€… [å®˜ç½‘ä¸‹è½½ open ec å›ºä»¶](https://dl.sipeed.com/shareURL/MAIX/tools/open ec/flash zero.bin)ï¼Œ ç„¶åä½¿ç”¨ `ST LINK` è¿æ¥æ¿å­ä¸Šå¼•å‡ºçš„ `STM32` çš„ `SW` å¼•è„šï¼ˆ`GND`, `SWDIO`, `SWCLK`ï¼‰è¿›è¡Œçƒ§å½•ã€‚ï¼ˆç›®å‰ç‰ˆæœ¬çš„ `Go` æ¿å­ä¸Šçš„ `STM32` ä¸æ”¯æŒä¸²å£çƒ§å½•ï¼Œåªèƒ½ä½¿ç”¨ `ST LINK` è¿›è¡Œçƒ§å½•ï¼Œ æœ‰éœ€è¦è¯·è‡ªè¡Œè´­ä¹°ï¼Œæˆ–è€…ä½¿ç”¨ä¸€æ¬¾æ¿å­ç”¨ `IO` æ¨¡æ‹Ÿä¹Ÿå¯ä»¥ï¼ˆæ¯”å¦‚æ ‘è“æ´¾ï¼‰ ï¼‰ é™¤äº† `open ec` è¿˜æœ‰ `CMSIS DAP` å›ºä»¶ï¼Œ ç›¸æ¯” `open ec` å¯ä»¥æ¨¡æ‹Ÿ `JTAG` æ¥å¯¹æ¿å­è¿›è¡Œè°ƒè¯•ï¼Œ `open ec` ç›®å‰è¿˜æœªæ”¯æŒæ¨¡æ‹Ÿ `JTAG`ï¼Œ å¯ä»¥ [ä»å®˜ç½‘ä¸‹è½½å›ºä»¶](http://dl.sipeed.com/shareURL/MAIX/tools/cmsis dap/)ï¼Œ ä½¿ç”¨ `ST LINK` å¯¹å…¶è¿›è¡Œçƒ§å½•ï¼Œ åœ¨ `Linux` ä¸‹ä¼šå‡ºç° `/dev/ttyACM0` è®¾å¤‡ > ST LINK å¯¹ `STM32` çš„çƒ§å½•æ–¹æ³•èµ„æ–™å¾ˆå…¨ï¼Œè¯·è‡ªè¡Œæœç´¢ **è¯·æ³¨æ„å¯¹ STM32 æ›´æ–°å›ºä»¶å’Œæ›´æ–° MaixPy å›ºä»¶æ˜¯ä¸ä¸€æ ·çš„ï¼Œ ä¸€èˆ¬æƒ…å†µä¸éœ€è¦æ›´æ–° STM32çš„å›ºä»¶ï¼Œ é»˜è®¤çš„å³å¤Ÿç”¨äº†ï¼Œ STM32 åªæ˜¯ä¸€ä¸ª USBè½¬ä¸²å£çš„å·¥å…·è€Œå·²ï¼ï¼ï¼å‹¿æ··æ·†ã€‚ã€‚ã€‚** ## Linux Linux ä¸éœ€è¦è£…é©±åŠ¨ï¼Œç³»ç»Ÿè‡ªå¸¦äº†ï¼Œä½¿ç”¨ `ls /dev/ttyUSB*` å³å¯çœ‹åˆ°è®¾å¤‡å· ## Windows å¼€å‘æ¿ä½¿ç”¨äº†ä¸€é¢— `STM32` æ¥å®ç°æ¨¡æ‹Ÿä¸²å£ä»¥åŠ `JTAG` åŠŸèƒ½ï¼Œ `Windows` éœ€è¦å®‰è£… ç‰¹å®šçš„é©±åŠ¨ã€‚ USB é©±åŠ¨: [ç‚¹æˆ‘](https://dl.sipeed.com/shareURL/MAIX/tools/driver) æˆ‘ä»¬åœ¨æ‹¿åˆ° MaixPy å¼€å‘æ¿å¹¶è¿æ¥åˆ°ç”µè„‘çš„æ—¶å€™, å¯ä»¥æ‰“å¼€è®¾å¤‡ç®¡ç†å™¨æŸ¥çœ‹ä¸²å£é©±åŠ¨æ˜¯å¦å·²ç»å®‰è£…,æ‰“å¼€è®¾å¤‡ç®¡ç†å™¨çš„æ–¹æ³•æœ‰: æ­¤ç”µè„‘(å³é”®) > å±æ€§ > è®¾å¤‡ç®¡ç†å™¨ å¼€å§‹èœå•(å³é”®) > è®¾å¤‡ç®¡ç†å™¨ æ§åˆ¶é¢æ¿ > (æœç´¢)è®¾å¤‡ç®¡ç†å™¨ <img src \"../../../assets/get_started/win_device_1.png\" height \"400\"> 1. å½“æˆ‘ä»¬çš„ç³»ç»Ÿæ˜¯ Windows 10 ç³»ç»Ÿ,ç³»ç»Ÿåˆ™ä¼šå¸®æˆ‘ä»¬è‡ªåŠ¨å®‰è£…é©±åŠ¨ï¼Œè€Œå¦‚æœæ˜¯æ—§ç‰ˆ Win7ï¼Œwin8 ç³»ç»Ÿï¼Œæˆ‘ä»¬å°±éœ€è¦è‡ªå·±æ‰‹åŠ¨å®‰è£… USB é©±åŠ¨: ![](../../../assets/get_started/win_device_2.png) 2. æ‰“å¼€ä¸Šä¸€èŠ‚çš„çš„é“¾æ¥ä¸‹è½½é©±åŠ¨ ![](../../../assets/get_started/win_device_3.png) 3. ç‚¹å‡»å®‰è£… ![](../../../assets/get_started/drives.gif) 4. å®‰è£…å®Œæˆä¹‹å,å¯ä»¥åœ¨è®¾å¤‡ç®¡ç†å™¨çœ‹åˆ°å·²ç»è¯†åˆ«åˆ°ä¸¤ä¸ªä¸²å£è®¾å¤‡äº†(å…¶ä¸­åªæœ‰ä¸€ä¸ªä¸²å£å¯ç”¨) ![](../../../assets/get_started/win_device_4.png)"},"/soft/maixpy/zh/get_started/install_driver/bit.html":{"title":"Maix Bit USB é©±åŠ¨å®‰è£…","content":" title: Maix Bit USB é©±åŠ¨å®‰è£… keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy Maix Bit USB é©±åŠ¨å®‰è£… ## Linux Linux ä¸éœ€è¦è£…é©±åŠ¨ï¼Œç³»ç»Ÿè‡ªå¸¦äº†ï¼Œä½¿ç”¨ `ls /dev/ttyUSB*` å³å¯çœ‹åˆ°è®¾å¤‡å· ## Windows å¼€å‘æ¿åˆ†ä¸ºæ–°æ—§ä¸¤ç‰ˆï¼Œéœ€è¦åˆ†åˆ«å®‰è£…ä¸åŒçš„é©±åŠ¨ ### `Maix Bit`ï¼ˆæ—§ç‰ˆï¼‰ Windows ä¸‹è½½ [ch340 ch341 driver](https://api.dl.sipeed.com/fileList/MAIX/tools/ch340_ch341_driver/CH341SER.EXE) å®‰è£…å³å¯ï¼Œç„¶åå¯ä»¥åœ¨ `è®¾å¤‡ç®¡ç†å™¨` ä¸­çœ‹åˆ°ä¸²å£è®¾å¤‡ ### `Maix Bit` æ–°ç‰ˆå¸¦éº¦å…‹é£ç‰ˆæœ¬ï¼ˆä½¿ç”¨`CH552`ï¼‰ å¼€å‘æ¿ å¼€å‘æ¿ä½¿ç”¨äº† `CH552` èŠ¯ç‰‡æ¥å®ç° `USB` è½¬ä¸²å£åŠŸèƒ½ï¼Œæ²¡æœ‰ `JTAG` æ¨¡æ‹ŸåŠŸèƒ½ï¼Œ`Windows` éœ€è¦å®‰è£… ç‰¹å®šçš„é©±åŠ¨ï¼Œ USB é©±åŠ¨: [ç‚¹æˆ‘](https://dl.sipeed.com/shareURL/MAIX/tools/driver) æˆ‘ä»¬åœ¨æ‹¿åˆ° MaixPy å¼€å‘æ¿å¹¶è¿æ¥åˆ°ç”µè„‘çš„æ—¶å€™, å¯ä»¥æ‰“å¼€è®¾å¤‡ç®¡ç†å™¨æŸ¥çœ‹ä¸²å£é©±åŠ¨æ˜¯å¦å·²ç»å®‰è£…,æ‰“å¼€è®¾å¤‡ç®¡ç†å™¨çš„æ–¹æ³•æœ‰: æ­¤ç”µè„‘(å³é”®) > å±æ€§ > è®¾å¤‡ç®¡ç†å™¨ å¼€å§‹èœå•(å³é”®) > è®¾å¤‡ç®¡ç†å™¨ æ§åˆ¶é¢æ¿ > (æœç´¢)è®¾å¤‡ç®¡ç†å™¨ <img src \"../../../assets/get_started/win_device_1.png\" height \"400\"> 1. å½“æˆ‘ä»¬çš„ç³»ç»Ÿæ˜¯ Windows 10 ç³»ç»Ÿ,ç³»ç»Ÿåˆ™ä¼šå¸®æˆ‘ä»¬è‡ªåŠ¨å®‰è£…é©±åŠ¨ï¼Œè€Œå¦‚æœæ˜¯æ—§ç‰ˆ Win7ï¼Œwin8 ç³»ç»Ÿï¼Œæˆ‘ä»¬å°±éœ€è¦è‡ªå·±æ‰‹åŠ¨å®‰è£… USB é©±åŠ¨: ![](../../../assets/get_started/win_device_2.png) 2. æ‰“å¼€ä¸Šä¸€èŠ‚çš„çš„é“¾æ¥ä¸‹è½½é©±åŠ¨ ![](../../../assets/get_started/win_device_3.png) 3. ç‚¹å‡»å®‰è£… ![](../../../assets/get_started/drives.gif) 4. å®‰è£…å®Œæˆä¹‹å,å¯ä»¥åœ¨è®¾å¤‡ç®¡ç†å™¨çœ‹åˆ°å·²ç»è¯†åˆ«åˆ°ä¸¤ä¸ªä¸²å£è®¾å¤‡äº†(å…¶ä¸­åªæœ‰ä¸€ä¸ªä¸²å£å¯ç”¨) ![](../../../assets/get_started/win_device_4.png)"},"/soft/maixpy/zh/get_started/install_driver/cube.html":{"title":"Maixpy Cube USB é©±åŠ¨å®‰è£…","content":" title: Maixpy Cube USB é©±åŠ¨å®‰è£… keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy USB é©±åŠ¨å®‰è£… ## Linux Linux ä¸éœ€è¦è£…é©±åŠ¨ï¼Œç³»ç»Ÿè‡ªå¸¦äº†ï¼Œä½¿ç”¨ `ls /dev/ttyUSB*` å³å¯çœ‹åˆ°è®¾å¤‡å· ## Windows `Windows` ç”¨æˆ·éœ€è¦å®‰è£… ç‰¹å®šçš„é©±åŠ¨ã€‚ USB é©±åŠ¨: [ç‚¹æˆ‘](https://dl.sipeed.com/shareURL/MAIX/tools/driver) æˆ‘ä»¬åœ¨æ‹¿åˆ° MaixPy å¼€å‘æ¿å¹¶è¿æ¥åˆ°ç”µè„‘çš„æ—¶å€™, å¯ä»¥æ‰“å¼€è®¾å¤‡ç®¡ç†å™¨æŸ¥çœ‹ä¸²å£é©±åŠ¨æ˜¯å¦å·²ç»å®‰è£…,æ‰“å¼€è®¾å¤‡ç®¡ç†å™¨çš„æ–¹æ³•æœ‰: æ­¤ç”µè„‘(å³é”®) > å±æ€§ > è®¾å¤‡ç®¡ç†å™¨ å¼€å§‹èœå•(å³é”®) > è®¾å¤‡ç®¡ç†å™¨ æ§åˆ¶é¢æ¿ > (æœç´¢)è®¾å¤‡ç®¡ç†å™¨ <img src \"../../../assets/get_started/win_device_1.png\" height \"400\"> 1. å½“æˆ‘ä»¬çš„ç³»ç»Ÿæ˜¯ Windows 10 ç³»ç»Ÿ,ç³»ç»Ÿåˆ™ä¼šå¸®æˆ‘ä»¬è‡ªåŠ¨å®‰è£…é©±åŠ¨ï¼Œè€Œå¦‚æœæ˜¯æ—§ç‰ˆ Win7ï¼Œwin8 ç³»ç»Ÿï¼Œæˆ‘ä»¬å°±éœ€è¦è‡ªå·±æ‰‹åŠ¨å®‰è£… USB é©±åŠ¨: ![](../../../assets/get_started/win_device_2.png) 2. æ‰“å¼€ä¸Šä¸€èŠ‚çš„çš„é“¾æ¥ä¸‹è½½é©±åŠ¨ ![](../../../assets/get_started/win_device_3.png) 3. ç‚¹å‡»å®‰è£… ![](../../../assets/get_started/drives.gif) 4. å®‰è£…å®Œæˆä¹‹å,å¯ä»¥åœ¨è®¾å¤‡ç®¡ç†å™¨çœ‹åˆ°å·²ç»è¯†åˆ«åˆ°ä¸¤ä¸ªä¸²å£è®¾å¤‡äº†(å…¶ä¸­åªæœ‰ä¸€ä¸ªä¸²å£å¯ç”¨) ![](../../../assets/get_started/win_device_4.png)"},"/soft/maixpy/zh/get_started/install_driver/duino.html":{"title":"Maix Duino USB é©±åŠ¨å®‰è£…","content":" title: Maix Duino USB é©±åŠ¨å®‰è£… keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy Maix Duino USB é©±åŠ¨å®‰è£… ## Linux Linux ä¸éœ€è¦è£…é©±åŠ¨ï¼Œç³»ç»Ÿè‡ªå¸¦äº†ï¼Œä½¿ç”¨ `ls /dev/ttyUSB*` å³å¯çœ‹åˆ°è®¾å¤‡å· ## Windows å¼€å‘æ¿ä½¿ç”¨äº† `CH552` èŠ¯ç‰‡æ¥å®ç° `USB` è½¬ä¸²å£åŠŸèƒ½ï¼Œæ²¡æœ‰ `JTAG` æ¨¡æ‹ŸåŠŸèƒ½ï¼Œ`Windows` éœ€è¦å®‰è£… ç‰¹å®šçš„é©±åŠ¨ã€‚ USB é©±åŠ¨: [ç‚¹æˆ‘](https://dl.sipeed.com/shareURL/MAIX/tools/driver) æˆ‘ä»¬åœ¨æ‹¿åˆ° MaixPy å¼€å‘æ¿å¹¶è¿æ¥åˆ°ç”µè„‘çš„æ—¶å€™, å¯ä»¥æ‰“å¼€è®¾å¤‡ç®¡ç†å™¨æŸ¥çœ‹ä¸²å£é©±åŠ¨æ˜¯å¦å·²ç»å®‰è£…,æ‰“å¼€è®¾å¤‡ç®¡ç†å™¨çš„æ–¹æ³•æœ‰: æ­¤ç”µè„‘(å³é”®) > å±æ€§ > è®¾å¤‡ç®¡ç†å™¨ å¼€å§‹èœå•(å³é”®) > è®¾å¤‡ç®¡ç†å™¨ æ§åˆ¶é¢æ¿ > (æœç´¢)è®¾å¤‡ç®¡ç†å™¨ <img src \"../../../assets/get_started/win_device_1.png\" height \"400\"> 1. å½“æˆ‘ä»¬çš„ç³»ç»Ÿæ˜¯ Windows 10 ç³»ç»Ÿ,ç³»ç»Ÿåˆ™ä¼šå¸®æˆ‘ä»¬è‡ªåŠ¨å®‰è£…é©±åŠ¨ï¼Œè€Œå¦‚æœæ˜¯æ—§ç‰ˆ Win7ï¼Œwin8 ç³»ç»Ÿï¼Œæˆ‘ä»¬å°±éœ€è¦è‡ªå·±æ‰‹åŠ¨å®‰è£… USB é©±åŠ¨: ![](../../../assets/get_started/win_device_2.png) 2. æ‰“å¼€ä¸Šä¸€èŠ‚çš„çš„é“¾æ¥ä¸‹è½½é©±åŠ¨ ![](../../../assets/get_started/win_device_3.png) 3. ç‚¹å‡»å®‰è£… ![](../../../assets/get_started/drives.gif) 4. å®‰è£…å®Œæˆä¹‹å,å¯ä»¥åœ¨è®¾å¤‡ç®¡ç†å™¨çœ‹åˆ°å·²ç»è¯†åˆ«åˆ°ä¸¤ä¸ªä¸²å£è®¾å¤‡äº†(å…¶ä¸­åªæœ‰ä¸€ä¸ªä¸²å£å¯ç”¨) ![](../../../assets/get_started/win_device_4.png)"},"/soft/maixpy/zh/get_started/install_driver/ai_hat.html":{"title":"Grove AI HAT USB é©±åŠ¨å®‰è£…","content":" title: Grove AI HAT USB é©±åŠ¨å®‰è£… keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy é©±åŠ¨å®‰è£… ## Linux Linux ä¸éœ€è¦è£…é©±åŠ¨ï¼Œç³»ç»Ÿè‡ªå¸¦äº†ï¼Œä½¿ç”¨ `ls /dev/ttyUSB*` å³å¯çœ‹åˆ°è®¾å¤‡å· ## Windows `Windows` ç”¨æˆ·éœ€è¦å®‰è£… ç‰¹å®šçš„é©±åŠ¨ã€‚ USB é©±åŠ¨: [ç‚¹æˆ‘](https://dl.sipeed.com/shareURL/MAIX/tools/driver) æˆ‘ä»¬åœ¨æ‹¿åˆ° MaixPy å¼€å‘æ¿å¹¶è¿æ¥åˆ°ç”µè„‘çš„æ—¶å€™, å¯ä»¥æ‰“å¼€è®¾å¤‡ç®¡ç†å™¨æŸ¥çœ‹ä¸²å£é©±åŠ¨æ˜¯å¦å·²ç»å®‰è£…,æ‰“å¼€è®¾å¤‡ç®¡ç†å™¨çš„æ–¹æ³•æœ‰: æ­¤ç”µè„‘(å³é”®) > å±æ€§ > è®¾å¤‡ç®¡ç†å™¨ å¼€å§‹èœå•(å³é”®) > è®¾å¤‡ç®¡ç†å™¨ æ§åˆ¶é¢æ¿ > (æœç´¢)è®¾å¤‡ç®¡ç†å™¨ <img src \"../../../assets/get_started/win_device_1.png\" height \"400\"> 1. å½“æˆ‘ä»¬çš„ç³»ç»Ÿæ˜¯ Windows 10 ç³»ç»Ÿ,ç³»ç»Ÿåˆ™ä¼šå¸®æˆ‘ä»¬è‡ªåŠ¨å®‰è£…é©±åŠ¨ï¼Œè€Œå¦‚æœæ˜¯æ—§ç‰ˆ Win7ï¼Œwin8 ç³»ç»Ÿï¼Œæˆ‘ä»¬å°±éœ€è¦è‡ªå·±æ‰‹åŠ¨å®‰è£… USB é©±åŠ¨: ![](../../../assets/get_started/win_device_2.png) 2. æ‰“å¼€ä¸Šä¸€èŠ‚çš„çš„é“¾æ¥ä¸‹è½½é©±åŠ¨ ![](../../../assets/get_started/win_device_3.png) 3. ç‚¹å‡»å®‰è£… ![](../../../assets/get_started/drives.gif) 4. å®‰è£…å®Œæˆä¹‹å,å¯ä»¥åœ¨è®¾å¤‡ç®¡ç†å™¨çœ‹åˆ°å·²ç»è¯†åˆ«åˆ°ä¸¤ä¸ªä¸²å£è®¾å¤‡äº†(å…¶ä¸­åªæœ‰ä¸€ä¸ªä¸²å£å¯ç”¨) ![](../../../assets/get_started/win_device_4.png)"},"/soft/maixpy/zh/get_started/install_driver/nano.html":{"title":"Maix Nano USB é©±åŠ¨å®‰è£…","content":" title: Maix Nano USB é©±åŠ¨å®‰è£… keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy Maix Nano USB é©±åŠ¨å®‰è£… ## Linux Linux ä¸éœ€è¦è£…é©±åŠ¨ï¼Œç³»ç»Ÿè‡ªå¸¦äº†ï¼Œä½¿ç”¨ `ls /dev/ttyUSB*` å³å¯çœ‹åˆ°è®¾å¤‡å· ## Windows å¼€å‘æ¿ä½¿ç”¨äº† `CH552` èŠ¯ç‰‡æ¥å®ç° `USB` è½¬ä¸²å£åŠŸèƒ½ï¼Œ`Windows` ç”¨æˆ·éœ€è¦å®‰è£… ç‰¹å®šçš„é©±åŠ¨ã€‚ USB é©±åŠ¨: [ç‚¹æˆ‘](https://dl.sipeed.com/shareURL/MAIX/tools/driver) æˆ‘ä»¬åœ¨æ‹¿åˆ° MaixPy å¼€å‘æ¿å¹¶è¿æ¥åˆ°ç”µè„‘çš„æ—¶å€™, å¯ä»¥æ‰“å¼€è®¾å¤‡ç®¡ç†å™¨æŸ¥çœ‹ä¸²å£é©±åŠ¨æ˜¯å¦å·²ç»å®‰è£…,æ‰“å¼€è®¾å¤‡ç®¡ç†å™¨çš„æ–¹æ³•æœ‰: æ­¤ç”µè„‘(å³é”®) > å±æ€§ > è®¾å¤‡ç®¡ç†å™¨ å¼€å§‹èœå•(å³é”®) > è®¾å¤‡ç®¡ç†å™¨ æ§åˆ¶é¢æ¿ > (æœç´¢)è®¾å¤‡ç®¡ç†å™¨ <img src \"../../../assets/get_started/win_device_1.png\" height \"400\"> 1. å½“æˆ‘ä»¬çš„ç³»ç»Ÿæ˜¯ Windows 10 ç³»ç»Ÿ,ç³»ç»Ÿåˆ™ä¼šå¸®æˆ‘ä»¬è‡ªåŠ¨å®‰è£…é©±åŠ¨ï¼Œè€Œå¦‚æœæ˜¯æ—§ç‰ˆ Win7ï¼Œwin8 ç³»ç»Ÿï¼Œæˆ‘ä»¬å°±éœ€è¦è‡ªå·±æ‰‹åŠ¨å®‰è£… USB é©±åŠ¨: ![](../../../assets/get_started/win_device_2.png) 2. æ‰“å¼€ä¸Šä¸€èŠ‚çš„çš„é“¾æ¥ä¸‹è½½é©±åŠ¨ ![](../../../assets/get_started/win_device_3.png) 3. ç‚¹å‡»å®‰è£… ![](../../../assets/get_started/drives.gif) 4. å®‰è£…å®Œæˆä¹‹å,å¯ä»¥åœ¨è®¾å¤‡ç®¡ç†å™¨çœ‹åˆ°å·²ç»è¯†åˆ«åˆ°ä¸¤ä¸ªä¸²å£è®¾å¤‡äº†(å…¶ä¸­åªæœ‰ä¸€ä¸ªä¸²å£å¯ç”¨) ![](../../../assets/get_started/win_device_4.png)"},"/soft/maixpy/zh/get_started/install_driver/dock.html":{"title":"Maix Dock USB é©±åŠ¨å®‰è£…","content":" title: Maix Dock USB é©±åŠ¨å®‰è£… keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy Maix Dock USB é©±åŠ¨å®‰è£… ## Linux Linux ä¸éœ€è¦è£…é©±åŠ¨ï¼Œç³»ç»Ÿè‡ªå¸¦äº†ï¼Œä½¿ç”¨ `ls /dev/ttyUSB*` å³å¯çœ‹åˆ°è®¾å¤‡å· ## Windows `Maix Dock` ä½¿ç”¨äº† `CH340` ä½œä¸ºé©±åŠ¨èŠ¯ç‰‡ã€‚`Windows` ç”¨æˆ·éœ€è¦å®‰è£… `CH340` çš„é©±åŠ¨ã€‚ Windows ä¸‹è½½ [ch340 ch341 driver](https://api.dl.sipeed.com/fileList/MAIX/tools/ch340_ch341_driver/CH341SER.EXE) å®‰è£…å³å¯ï¼Œç„¶åå¯ä»¥åœ¨ `è®¾å¤‡ç®¡ç†å™¨` ä¸­çœ‹åˆ°ä¸²å£è®¾å¤‡"},"/soft/maixpy/zh/get_started/install_driver/amigo.html":{"title":"Maixpy Amigo USB é©±åŠ¨å®‰è£…","content":" title: Maixpy Amigo USB é©±åŠ¨å®‰è£… keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy USB é©±åŠ¨å®‰è£… ## Linux Linux ä¸éœ€è¦è£…é©±åŠ¨ï¼Œç³»ç»Ÿè‡ªå¸¦äº†ï¼Œä½¿ç”¨ `ls /dev/ttyUSB*` å³å¯çœ‹åˆ°è®¾å¤‡å· ## Windows `Windows` ç”¨æˆ·éœ€è¦å®‰è£… ç‰¹å®šçš„é©±åŠ¨ã€‚ USB é©±åŠ¨: [ç‚¹æˆ‘](https://dl.sipeed.com/shareURL/MAIX/tools/driver) æˆ‘ä»¬åœ¨æ‹¿åˆ° MaixPy å¼€å‘æ¿å¹¶è¿æ¥åˆ°ç”µè„‘çš„æ—¶å€™, å¯ä»¥æ‰“å¼€è®¾å¤‡ç®¡ç†å™¨æŸ¥çœ‹ä¸²å£é©±åŠ¨æ˜¯å¦å·²ç»å®‰è£…,æ‰“å¼€è®¾å¤‡ç®¡ç†å™¨çš„æ–¹æ³•æœ‰: æ­¤ç”µè„‘(å³é”®) > å±æ€§ > è®¾å¤‡ç®¡ç†å™¨ å¼€å§‹èœå•(å³é”®) > è®¾å¤‡ç®¡ç†å™¨ æ§åˆ¶é¢æ¿ > (æœç´¢)è®¾å¤‡ç®¡ç†å™¨ <img src \"../../../assets/get_started/win_device_1.png\" height \"400\"> 1. å½“æˆ‘ä»¬çš„ç³»ç»Ÿæ˜¯ Windows 10 ç³»ç»Ÿ,ç³»ç»Ÿåˆ™ä¼šå¸®æˆ‘ä»¬è‡ªåŠ¨å®‰è£…é©±åŠ¨ï¼Œè€Œå¦‚æœæ˜¯æ—§ç‰ˆ Win7ï¼Œwin8 ç³»ç»Ÿï¼Œæˆ‘ä»¬å°±éœ€è¦è‡ªå·±æ‰‹åŠ¨å®‰è£… USB é©±åŠ¨: ![](../../../assets/get_started/win_device_2.png) 2. æ‰“å¼€ä¸Šä¸€èŠ‚çš„çš„é“¾æ¥ä¸‹è½½é©±åŠ¨ ![](../../../assets/get_started/win_device_3.png) 3. ç‚¹å‡»å®‰è£… ![](../../../assets/get_started/drives.gif) 4. å®‰è£…å®Œæˆä¹‹å,å¯ä»¥åœ¨è®¾å¤‡ç®¡ç†å™¨çœ‹åˆ°å·²ç»è¯†åˆ«åˆ°ä¸¤ä¸ªä¸²å£è®¾å¤‡äº†(å…¶ä¸­åªæœ‰ä¸€ä¸ªä¸²å£å¯ç”¨) ![](../../../assets/get_started/win_device_4.png)"},"/soft/maixpy/zh/get_started/get_started_led_blink.html":{"title":"ç‚¹äº® LED","content":" title: ç‚¹äº® LED keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®—, maixpyå…¥é—¨ desc: maixpy ç‚¹äº® LED ç‚¹ç¯ç¨‹åºä½œä¸ºå­¦ä¹ æ‰€æœ‰å¼€å‘æ¿çš„ç¬¬ä¸€ä¸ªç¨‹åºï¼Œå°±åƒå­¦æ‰€æœ‰ç¼–ç¨‹è¯­è¨€éƒ½æ˜¯å…ˆå­¦ hello world ä¸€æ ·ï¼Œå…·æœ‰ç€ç¥åœ£çš„æ„ä¹‰ ## ç”µè·¯ ä¼—æ‰€å‘¨çŸ¥ï¼Œ ç‚¹äº®ä¸€ä¸ª LED éœ€è¦ä¸€ä¸ªç”µæºï¼Œ ä¸€ä¸ªç”µé˜»ï¼Œ ä¸€ä¸ª LED ç¯æ³¡ï¼Œ åœ¨ Maix Dock å¼€å‘æ¿ä¸Šï¼Œ æœ‰ä¸‰ä¸ª LEDï¼Œ çº¿è·¯å¦‚ä¸‹ï¼š ![](../../assets/hardware/maix_dock/LED_sch.png) æ¯”å¦‚æˆ‘ä»¬å¸Œæœ›çº¢ç¯ç‚¹äº®ï¼Œ å³ `LED_R` è¿æ¥çš„è¿™ä¸ª LEDï¼Œ å›¾ä¸­å¯ä»¥çœ‹åˆ° LED çš„æ­£æå·²ç»è¿æ¥äº† 3.3V ç”µæºï¼Œ æ‰€ä»¥æˆ‘ä»¬åªè¦è®© LED_R ä¸ºä½ç”µå¹³ LED å³å¯ç‚¹äº®ã€‚ > æ³¨æ„ï¼Œ è¿™é‡Œ `LED_R` æ˜¯ç»™è¿™ä¸ªå¼•è„šå–çš„ä¸€ä¸ªåˆ«åï¼Œ å®é™…ä¸Šæ˜¯è¿æ¥åˆ°èŠ¯ç‰‡çš„ä¸€ä¸ªå¼•è„šï¼Œæ¯”å¦‚ `Pin13`æˆ–è€…è¯´`IO13` ## å¤–è®¾åˆ°å¼•è„šçš„æ˜ å°„ï¼š FPIOA(ç°åœºå¯ç¼–ç¨‹ IO é˜µåˆ—ï¼Œ Field Programmable Input and Output Array) å¯èƒ½ä½ æ›¾ç»ç”¨è¿‡ä¸€äº›å•ç‰‡æœºï¼Œåœ¨æ‰‹å†Œä¸Šéƒ½è§„å®šäº†å¼•è„šå’Œç‰‡ä¸Šå¤–è®¾åŠŸèƒ½ï¼ˆå°±æ˜¯èŠ¯ç‰‡å†…éƒ¨é›†æˆçš„å¤–è®¾ï¼Œæ¯”å¦‚ `GPIO`ã€`I2C`ã€`SPI` ç­‰ï¼‰çš„ç»‘å®šï¼Œæˆ–è€…é‡æ˜ å°„ã€‚æ¯”å¦‚è§„å®šäº† `I2C` åªèƒ½ç”¨ `Pin9` å’Œ `Pin10`ï¼Œå¯åŠ¨äº†é‡æ˜ å°„åŠŸèƒ½åï¼Œåªèƒ½ç”¨`Pin11`å’Œ`Pin12` ä½†æ˜¯ MaixPy æ‰€ä½¿ç”¨çš„ç¡¬ä»¶ K210 çš„ç‰‡ä¸Šå¤–è®¾å¯¹åº”çš„å¼•è„šï¼ˆç¡¬ä»¶å¼•è„šï¼‰æ˜¯å¯ä»¥**ä»»æ„æ˜ å°„**çš„ï¼Œç›¸æ¯”ä¹‹ä¸‹ K210 ç¡¬ä»¶è®¾è®¡å’Œè½¯ä»¶è®¾è®¡çš„è‡ªç”±åº¦æ›´å¤§ã€‚ æ¯”å¦‚ `I2C` å¯ä»¥ä½¿ç”¨ `Pin11` å’Œ `Pin12`ï¼Œä¹Ÿå¯ä»¥æ”¹æˆå…¶å®ƒä»»æ„å¼•è„š > æ³¨æ„è¦åŒºåˆ† `GPIO` å’Œ `IO`çš„åŒºåˆ«ï¼Œ `IO`ä¹Ÿå¯ä»¥å«`Pin` ä¹Ÿå°±æ˜¯å¼•è„šï¼Œæ˜¯èŠ¯ç‰‡å¼•å‡ºæ¥çš„ç¡¬ä»¶å¼•è„šï¼Œ è€Œ`GPIO`æ˜¯ä¸€ç§å¤–è®¾ï¼Œå¯ä»¥æ§åˆ¶è¿™äº›`Pin/IO` çš„å¤–è®¾ å› ä¸ºæœ‰äº†è¿™ä¸ªå¼ºå¤§çš„æ˜ å°„åŠŸèƒ½ï¼Œ æ‰€ä»¥åœ¨ä½¿ç”¨å¼•è„šæ—¶ï¼Œéœ€è¦å¢åŠ ä¸€æ­¥æ˜ å°„çš„æ­¥éª¤ï¼š ```python from fpioa_manager import fm # å¯¼å…¥åº“ fm.register(28, fm.fpioa.GPIO0) ``` è¿™é‡Œæˆ‘ä»¬å°†å¼•è„š `28` æ˜ å°„ä¸ºäº† `GPIO0` çš„åŠŸèƒ½, æ‰§è¡Œäº†è¿™å¥å‘½ä»¤åï¼Œå¼•è„š`28`å’Œ`GPIO0`å°±æ˜ å°„ï¼ˆç»‘å®šï¼‰å¥½äº†ï¼Œè¦å–æ¶ˆæ˜ å°„ï¼ˆè§£ç»‘ï¼‰ï¼Œåˆ™éœ€è¦è°ƒç”¨`fm.unregister`å‡½æ•°ï¼Œå…·ä½“çœ‹`API`æ–‡æ¡£ï¼Œè¿™é‡Œä¸ä»‹ç» å¦å¤–ï¼Œ`Pin` å’Œ å¤–è®¾åªèƒ½**å”¯ä¸€**å¯¹åº”ï¼Œ ä¸èƒ½ä¸€å¯¹å¤šï¼Œéœ€è¦å¯¹åŒä¸€ä¸ªå¤–è®¾æˆ–è€…å¼•è„šé‡å¤æ˜ å°„ï¼Œå¦åˆ™ç¨‹åºå¯èƒ½äº§ç”Ÿéš¾ä»¥å‘ç°çš„é”™è¯¯ï¼ˆ`BUG`ï¼‰ ## ä»£ç  æˆ‘ä»¬æ§åˆ¶ LED éœ€è¦ä½¿ç”¨åˆ° GPIO > `board_info` ä¸æ¿å¡ç›¸å…³ï¼Œä¸åŒæ¿å¡é…ç½®ä¸åŒï¼Œä½¿ç”¨å‰éœ€è¦[æ‰‹åŠ¨é…ç½®](./../api_reference/builtin_py/board_info.html)ã€‚ ç¨‹åºå¦‚ä¸‹ï¼š ```python from fpioa_manager import fm from Maix import GPIO io_led_red 13 fm.register(io_led_red, fm.fpioa.GPIO0) led_r GPIO(GPIO.GPIO0, GPIO.OUT) led_r.value(0) ``` æŒ‰ç…§å‰é¢è¿è¡Œä»£ç çš„æ–¹æ³•åœ¨ç»ˆç«¯é‡Œé¢è¿è¡Œä»£ç ï¼Œ ä¼šå‘ç° LED ç¯è¢«ç‚¹äº®äº†ï¼ æ¥ä¸‹æ¥æˆ‘ä»¬åˆ†æä»£ç ï¼š * ä» `fpioa_manager` åŒ…å¯¼å…¥`fm` å¯¹è±¡ï¼Œä¸»è¦ç”¨äºå¼•è„šå’Œå¤–è®¾çš„æ˜ å°„ * ä»åŒ… `Maix` å¯¼å…¥äº† `GPIO` è¿™ä¸ªç±»ï¼Œ GPIO å¤–è®¾ç›¸å…³æ“ä½œ * å®šä¹‰ä¸€ä¸ªå˜é‡`io_led_red`ï¼Œå€¼ä¸º`13`ï¼Œå³`Pin13/IO13`, å…·ä½“ LED çš„å¼•è„šè¿æ¥åˆ°äº†èŠ¯ç‰‡çš„å“ªä¸ªå¼•è„šï¼Œè¯·åœ¨å‰é¢çš„å¼€å‘æ¿ä»‹ç»ä¸­çœ‹åŸç†å›¾ * ä½¿ç”¨`fm`(fpioa manager çš„ç¼©å†™)è¿™ä¸ªå†…ç½®çš„å¯¹è±¡æ¥æ³¨å†ŒèŠ¯ç‰‡çš„å¤–è®¾å’Œå¼•è„šçš„å¯¹åº”å…³ç³»ï¼Œã€€è¿™é‡Œã€€`fm.fpioa.GPIO0` æ˜¯ã€€K210 çš„ä¸€ä¸ª GPIO å¤–è®¾ï¼ˆ`æ³¨æ„åŒºåˆ† GPIOï¼ˆå¤–è®¾ï¼‰ å’Œå¼•è„šï¼ˆå®å®åœ¨åœ¨çš„ç¡¬ä»¶å¼•è„šï¼‰çš„åŒºåˆ«` ï¼‰ï¼Œ æ‰€ä»¥æŠŠ `fm.fpioa.GPIO0` æ³¨å†Œåˆ°äº† å¼•è„š `IO13`ï¼› * ç„¶åå®šä¹‰ä¸€ä¸ª `GPIO` å¯¹è±¡`led_r`ï¼Œ å…·ä½“å‚æ•°çœ‹ `GPIO` API æ–‡æ¡£ï¼Œ åœ¨å·¦è¾¹ä¾§è¾¹æ æŸ¥æ‰¾ã€‚ * ä½¿ç”¨ `led_r.value(1)` æˆ–è€… `led_r.value(0)` æ¥è®¾ç½®é«˜ä½ç”µå¹³å³å¯, å› ä¸ºè¿™é‡Œè®¾ç½®äº†ä½ç”µå¹³ï¼Œ æ ¹æ®ä¸Šé¢çš„åŸç†å›¾å¯çŸ¥ä½ç”µå¹³å¯¼é€šï¼ŒLED ç¯äº® åˆ°è¿™é‡Œå·²ç»å¯ä»¥ç‚¹ç¯äº†ï¼Œ ç°åœ¨å¯ä»¥è‡ªå·±å°è¯•ç”¨ `for` å¾ªç¯æ¥å®ç° `LED` é—ªçƒæˆ–è€…æµæ°´ç¯ï½åšå‡ºä¸åŒçš„å˜æ¢æ•ˆæœ"},"/soft/maixpy/zh/get_started/upgrade_stm32_firmwave.html":{"title":"MaixGo æ›´æ–°æ¿è½½ STM32 è°ƒè¯•å™¨å›ºä»¶","content":" title: MaixGo æ›´æ–°æ¿è½½ STM32 è°ƒè¯•å™¨å›ºä»¶ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy MaixGo æ›´æ–°æ¿è½½ STM32 è°ƒè¯•å™¨å›ºä»¶ MaixGo å¼€å‘æ¿æ¿è½½äº†ä¸€å—åŸºäº STM32 çš„è°ƒè¯•å™¨"},"/soft/maixpy/zh/get_started/get_started_upload_script.html":{"title":"ä¸Šä¼ è„šæœ¬&æ¨¡å—åˆ°å¼€å‘æ¿","content":" title: ä¸Šä¼ è„šæœ¬&æ¨¡å—åˆ°å¼€å‘æ¿ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®—, maixpyå…¥é—¨, äººå·¥æ™ºèƒ½ desc: maixpy ä¸Šä¼ è„šæœ¬&æ¨¡å—åˆ°å¼€å‘æ¿ å‰é¢æˆ‘ä»¬æ¥è§¦åˆ°äº†ç›´æ¥æ‰§è¡Œ `pye(\"filename.py\")` å‘½ä»¤å¯ä»¥æ‰“å¼€ä¸€ä¸ªç¼–è¾‘å™¨ï¼Œå¯ä»¥ç›´æ¥ç¼–è¾‘æ–‡ä»¶ç³»ç»Ÿä¸­çš„æ–‡ä»¶ ä½†æ˜¯æ…¢æ…¢æˆ‘ä»¬ä¼šå‘ç°ï¼Œè¿™æ ·çš„æ–¹æ³•åªé€‚åˆç”¨æ¥æ”¹å°‘é‡çš„ä»£ç ï¼Œå½“ä»£ç é‡åºå¤§æˆ–è€…æˆ‘ä»¬éœ€è¦é«˜äº®æ”¯æŒæ—¶ï¼Œå®ƒå°±ä¸é€‚ç”¨äº†ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ç”µè„‘ä¸Šå†™å®Œä»£ç ï¼Œç„¶åä¸Šä¼ åˆ°æ¿å­çš„æ–‡ä»¶ç³»ç»Ÿé‡Œé¢ ç›®å‰æœ‰ä»¥ä¸‹å‡ ç§æ–¹æ³•ï¼š ### ä½¿ç”¨ MaixPy IDE ä¸Šä¼ è„šæœ¬åˆ°å¼€å‘æ¿ æ‰“å¼€ `MaixPy IDE`ï¼Œ è¿æ¥å¼€å‘æ¿ ç¼–è¾‘æ–‡ä»¶ï¼Œç„¶ååœ¨é¡¶ç«¯`Tool`ï¼ˆå·¥å…·ï¼‰èœå•ä¸­ï¼Œç‚¹å‡»`å°†æ‰“å¼€çš„æ–‡ä»¶ä¿å­˜ä¸º boot.py` æ¥å°†ä»£ç ä¿å­˜åˆ°å¼€å‘æ¿çš„`boot.py`æ–‡ä»¶ï¼Œä¸­ï¼Œä¸‹æ¬¡å¼€å‘æ¿å¼€æœºä¸Šç”µä¼šè‡ªåŠ¨æ‰§è¡Œè¿™ä¸ªæ–‡ä»¶ å½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨é¡¶ç«¯`Tool`(å·¥å…·)èœå•ä¸­çš„`å‘é€æ–‡ä»¶`åŠŸèƒ½æ¥å‘é€æ–‡ä»¶ï¼Œä¼šä¿å­˜åˆ°å¼€å‘æ¿å¹¶ä¸”æ–‡ä»¶åå’Œç”µè„‘ä¸Šçš„æ–‡ä»¶åç›¸åŒï¼Œï¼ˆé™¤äº†è„šæœ¬ä¹Ÿå¯ä»¥ä¸Šä¼ å…¶å®ƒæ–‡ä»¶ï¼Œä¸è¦å¤ªå¤§ï¼‰ ![](../../assets/maixpy/maixpy_ide_tools.png) ## ä½¿ç”¨å›¾å½¢å·¥å…· uPyLoader ä¸Šä¼ ã€è¿è¡Œè„šæœ¬ [uPyLoader](https://github.com/BetaRavener/uPyLoader) æ˜¯ä¸€æ¬¾å¼€æºè½¯ä»¶ï¼Œä½¿ç”¨å®ƒå¯ä»¥æ–¹ä¾¿åœ°è¿æ¥ MaixPy å¹¶ä¸”ä¸Šä¼ ã€ä¸‹è½½ã€æ‰§è¡Œæ–‡ä»¶ï¼ŒåŒæ—¶ç›‘æ§è¾“å‡ºç­‰ç­‰åŠŸèƒ½ï¼ŒåŠŸèƒ½æ¯”è¾ƒå®Œå–„ ä¸‹è½½å¯æ‰§è¡Œæ–‡ä»¶:[release](https://github.com/BetaRavener/uPyLoader/releases) ![uPyLoader](../../assets/other/uPyLoader.png) é€‰æ‹©ä¸²å£å¹¶ç‚¹å‡» `Connect` æŒ‰é’®æ¥è¿æ¥æ¿å­ ç¬¬ä¸€æ¬¡è¿è¡Œè¯¥è½¯ä»¶éœ€è¦åˆå§‹åŒ–ï¼Œ ç‚¹å‡» `File >Init transfer files` æ¥å®Œæˆåˆå§‹åŒ–ï¼Œè¿™ä¼šåœ¨æ¿å­é‡Œåˆ›å»ºä¸¤ä¸ªæ–‡ä»¶ï¼Œåˆ†åˆ«æ˜¯ `__upload.py` å’Œ `__download.py`ã€‚ å·¦è¾¹é€‰ä¸­éœ€è¦ä¸Šä¼ çš„æ–‡ä»¶ï¼Œç‚¹å‡» `Transfer` å³å¯ä¸Šä¼ åˆ°æ¿å­çš„æ–‡ä»¶ç³»ç»Ÿã€‚ å³è¾¹æ˜¯æ¿å­é‡Œé¢çš„æ–‡ä»¶ï¼Œ ç‚¹å‡» `List files` å¯ä»¥åˆ·æ–°æ–‡ä»¶åˆ—è¡¨ï¼Œ é€‰ä¸­ æ–‡ä»¶åï¼Œ ç‚¹å‡» `Execute` å³å¯æ‰§è¡Œè¯¥è„šæœ¬æ–‡ä»¶ ç‚¹å‡»ä¸Šé¢çš„ `View > terminal ` å¯ä»¥æ‰“å¼€ç»ˆç«¯ ç”¨æ¥æŸ¥çœ‹è¿è¡Œæ—¶çš„è¾“å‡ºæˆ–è€…å‘é€å‘½ä»¤ ## ä½¿ç”¨å‘½ä»¤è¡Œå·¥å…· [mpfshell lite](https://github.com/junhuanchen/mpfshell lite) æ˜¯ä¸€ä¸ªç®€å•æ˜“ç”¨çš„å‘½ä»¤è¡Œä¸Šä¼ ã€ä¸‹è½½ã€æ‰§è¡Œæ–‡ä»¶ çš„å·¥å…·ï¼Œ è€Œä¸”å¼€æº æ³¨æ„è¿™ä¸ªå·¥å…·æ˜¯è¿è¡Œåœ¨ç”µè„‘ç«¯çš„ï¼Œè€Œä¸æ˜¯è¿è¡Œåœ¨æ¿å­ä¸Šçš„ ä½¿ç”¨ `mpfs help` æ¥æŸ¥çœ‹å¸®åŠ©ä¿¡æ¯ ä½¿ç”¨ `mpfs put file_in_PC.py` å‘½ä»¤è¿˜å¯ä»¥ä¸ä¸Šä¼ è„šæœ¬åˆ°æ¿å­è€Œæ˜¯ç›´æ¥åœ¨æ¿å­ä¸Šè¿è¡Œè¯¥è„šæœ¬ é™¤æ­¤ä¹‹å¤–è¿˜æœ‰ ampy rshell è¿™äº›ã€‚ ## SDï¼ˆTFï¼‰ ç›´æ¥è¿è¡Œ æ‹·è´åˆ° SD å¡åï¼Œ åœ¨ç»ˆç«¯ä¸­æ‰§è¡Œ `import æ–‡ä»¶å` æˆ–è€…`exec()`æ¥è¿è¡Œè„šæœ¬ ## SD å¡è‡ªåŠ¨æ‹·è´åˆ° Flash æ–‡ä»¶ç³»ç»Ÿ ä¸ºäº†æ–¹ä¾¿å°† SD å¡çš„å†…å®¹æ‹·è´åˆ° Flash æ–‡ä»¶ç³»ç»Ÿï¼Œ åªéœ€è¦å°†è¦æ‹·è´åˆ° Flash æ–‡ä»¶ç³»ç»Ÿçš„æ–‡ä»¶é‡å‘½åä¸º`cover.boot.py` æˆ–è€…`cover.main.py`, ç„¶åæ”¾åˆ°`SD`å¡æ ¹ç›®å½•ï¼Œ å¼€å‘æ¿æ–­ç”µæ’å…¥`SD`å¡ï¼Œç„¶åå¼€å‘æ¿ä¸Šç”µï¼Œ ç¨‹åºå°±ä¼šè‡ªåŠ¨å°†è¿™ä¸¤ä¸ªæ–‡ä»¶æ‹·è´åˆ°`/flash/boot.py`æˆ–è€…`/flash/main.py`ï¼Œè¿™æ ·å°±ç®—åé¢å–å‡ºäº†`SD`å¡ï¼Œç¨‹åºå·²ç»åœ¨ `/flash/boot.py`æˆ–è€…`/flash/main.py`äº†"},"/soft/maixpy/zh/get_started/env_maixpyide.html":{"title":"MaixPy IDE å®‰è£…ä¸ä½¿ç”¨","content":" title: MaixPy IDE å®‰è£…ä¸ä½¿ç”¨ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®—, maixpyå…¥é—¨ desc: maixpy MaixPy IDE å®‰è£…ä¸ä½¿ç”¨ ![maixpy_ide_start](../../assets/maixpy/maixpy_ide_start.png) ## å…³äº MaixPy IDE ![MaixPy IDE](../../assets/maixpy/maixpy_ide.png) é¦–å…ˆéœ€è¦å¼„æ¸…ï¼š **MaixPy** ä½¿ç”¨ `Micropython` è„šæœ¬è¯­æ³•ï¼Œæ‰€ä»¥ä¸åƒ `C` è¯­è¨€ ä¸€æ ·éœ€è¦ç¼–è¯‘ï¼Œå…¶å®ä¸ç”¨ `IDE` ä¹Ÿèƒ½æ„‰å¿«ä½¿ç”¨ï¼š ä½¿ç”¨ä¸²å£ç»ˆç«¯å·¥å…·ï¼Œå‰é¢å·²ç»å®‰è£…äº† ä½¿ç”¨ `IDE` åˆ™ä¼šæ–¹ä¾¿åœ¨ç”µè„‘ä¸Šå®æ—¶ç¼–è¾‘è„šæœ¬å¹¶ä¸Šä¼ åˆ°å¼€å‘æ¿ä»¥åŠç›´æ¥åœ¨å¼€å‘æ¿ä¸Šæ‰§è¡Œè„šæœ¬ï¼Œä»¥åŠåœ¨ç”µè„‘ä¸Šå®æ—¶æŸ¥çœ‹æ‘„åƒå¤´å›¾åƒã€ä¿å­˜æ–‡ä»¶åˆ°å¼€å‘æ¿ç­‰ å½“ç„¶ï¼Œ ä½¿ç”¨ `IDE` å› ä¸ºå‹ç¼©ã€ä¼ è¾“éœ€è¦è€—è´¹ä¸€éƒ¨åˆ†èµ„æºï¼Œæ‰€ä»¥æ€§èƒ½ä¼šæœ‰æ‰€é™ä½ï¼Œè€Œä¸”å¦‚æœMaixPyå®•æœºä¹Ÿæ²¡æœ‰ä¸²å£ç»ˆç«¯å¥½å‘ç°é—®é¢˜ ## MaixPy å›ºä»¶ è¦ä½¿ç”¨ `MaixPy IDE` , å›ºä»¶å¿…é¡»æ˜¯ `v0.3.1` ç‰ˆæœ¬ä»¥ä¸Š, å¦åˆ™MaixPyIDE ä¸Šä¼šè¿æ¥ä¸ä¸Šï¼Œ ä½¿ç”¨å‰å°½é‡æ£€æŸ¥å›ºä»¶ç‰ˆæœ¬å’Œ IDE ç‰ˆæœ¬ï¼Œéƒ½æ›´æ–°åˆ°æœ€æ–°ç‰ˆä»¥ä¿éšœèƒ½æ­£å¸¸ä½¿ç”¨ ## ä¸‹è½½å®‰è£…åŒ… [dl.sipeed.com](http://dl.sipeed.com/MAIX/MaixPy/ide/) æ–‡ä»¶åˆ—è¡¨ç­‰è¯´æ˜ è¯·çœ‹ æœ€æ–°ç‰ˆæœ¬æ–‡ä»¶å¤¹ä¸‹çš„ `readme.txt` æ–‡ä»¶ï¼Œ å¦‚æœä¸‹è½½é€Ÿåº¦æ…¢è¯·ä½¿ç”¨ cdn é“¾æ¥ä¸‹è½½ ## å®‰è£… #### å¦‚æœæ˜¯å®‰è£…ç¨‹åº(**æ¨è**ï¼Œç®€å•æ–¹ä¾¿) `Windows`ç›´æ¥åŒå‡»`exe`æ–‡ä»¶è¿è¡Œå®‰è£…ç¨‹åº; `Linux`å‘½ä»¤è¡Œç»™è¿è¡Œæƒé™ç„¶åæ‰§è¡Œ ``` chmod +x maixpy ide linux x86_64 0.2.2.run ./maixpy ide linux x86_64 0.2.2.run ``` #### å¦‚æœæ˜¯å‹ç¼©åŒ…(`7z`) åˆ™è§£å‹åˆ°æ–‡ä»¶å¤¹ > å¦‚æœç³»ç»Ÿä¸æ”¯æŒ `7z`ï¼Œ åˆ™éœ€è¦ [ä¸‹è½½ `7z`è§£å‹ç¼©å·¥å…·](https://www.7 zip.org/)ï¼Œç„¶åç”¨ `7z` åœ¨`Linux`ä¸‹ä¹Ÿå¯ä»¥åŒå‡»å‹ç¼©åŒ…è¿›è¡Œè§£å‹ï¼ å¦‚æœéœ€è¦ä½¿ç”¨ç»ˆç«¯è§£å‹ï¼Œ å¯ä»¥å‚è€ƒä»¥ä¸‹å‘½ä»¤ï¼š ```bash sudo apt install p7zip full 7z x maixpy ide linux x86_64 0.2.2 installer archive.7z r omaixpy ide # ` o` åé¢ç›´æ¥è·Ÿè§£å‹ç¼©çš„è·¯å¾„, ä¸­é—´æ²¡æœ‰ç©ºæ ¼. ``` * è§£å‹å, æ‰§è¡Œ * å¦‚æœæ˜¯ `Windows`ï¼š ç›´æ¥åŒå‡»`maixpyide`æ¥æ‰§è¡Œï¼Œå¯ä»¥å³é”®å›ºå®šåˆ°å¼€å§‹é¡µé¢æˆ–è€…å›ºå®šåˆ°ä»»åŠ¡æ æ–¹ä¾¿åé¢ä½¿ç”¨ * `Linux`ï¼š æ‰§è¡Œ ``` chmod +x setup.sh ./setup.sh ./bin/maipyide.sh ``` ## æµ‹è¯•è¿è¡Œ æ‰“å¼€ MaixPy IDE, ä¸Šæ–¹å·¥å…·æ é‡Œé¢é€‰æ‹©å¼€å‘æ¿çš„å‹å·ã€‚**amigoï¼Œcube å¼€å‘æ¿è¯·é€‰æ‹© Maixduino è¿›è¡Œè¿æ¥**ã€‚ `Tool > Select Board` (å·¥å…· >é€‰æ‹©å¼€å‘æ¿) ç‚¹å‡» `connect` è¿æ¥ `MaixPy IDE` ![connect icon.png](../../assets/maixpy/maixpy_connect_icon.png) è¿æ¥æˆåŠŸä¹‹åï¼Œé“¾æ¥æŒ‰é’®ä¼šç”±ç»¿å˜çº¢ï¼ ![connect success.png](../../assets/maixpy/maixpy_connect success.png) è¿æ¥æŒ‰é’®ä¸‹æ–¹æ˜¯è¿è¡ŒæŒ‰é’®ï¼Œä¼šæ‰§è¡Œå½“å‰ç¼–è¾‘åŒºçš„`py`æ–‡ä»¶ï¼ ![helloworld run.png](../../assets/maixpy/maixpy_helloworld.png) å†æ¬¡ç‚¹å‡»è¿è¡ŒæŒ‰é’®(çº¢è‰²), åœæ­¢è¿è¡Œå½“å‰ä»£ç ï¼ ## ä¸Šä¼ æ–‡ä»¶ åœ¨ **Tool/å·¥å…·** èœå•ä¸­å¯ä»¥é€‰æ‹©å‘é€æ–‡ä»¶ ## æ³¨æ„ * ç‚¹å‡»è¿æ¥åï¼Œä¸ç”¨å’Œç»ˆç«¯å·¥å…·åŒæ—¶ä½¿ç”¨ï¼Œå¦åˆ™ä¼šå‡ºç°ä¸²å£å ç”¨æ— æ³•æ‰“å¼€ * å¦‚æœä¸€ç›´æ— æ³•æˆåŠŸè¿æ¥æˆåŠŸï¼Œ æ£€æŸ¥ï¼š * è¯·æ£€æŸ¥æ˜¯å¦å¼€å‘æ¿å‹å·é€‰æ‹©é”™è¯¯ï¼› * è§‚å¯Ÿå¼€å‘æ¿å±å¹•æ˜¯å¦æœ‰å˜åŒ–ï¼Œå¦‚æœæ²¡æœ‰ååº”å¯èƒ½æ˜¯ä¸²å£é€‰æ‹©é”™è¯¯ï¼› * å°è¯•å‡çº§åˆ°æœ€æ–°çš„ [master åˆ†æ”¯å›ºä»¶](http://cn.dl.sipeed.com/MAIX/MaixPy/release/master)ï¼Œ ä»¥åŠæœ€æ–°çš„ MaixPy IDE è½¯ä»¶ * è¿è¡Œä»£ç åè·å–ä¸åˆ°å›¾åƒ * è¯·æ¢ä¸ªUSBå£ï¼Œæ¯”è¾ƒè€æ—§çš„ç”µè„‘ä¼šå‡ºç°è¿™ä¸ªé—®é¢˜ ## æ ¹æ®é”™è¯¯æç¤ºå¯»æ‰¾åŸå›  ç¨‹åºè¿è¡Œå‡ºé”™æ—¶ä¼šå¼¹æ¡†æç¤ºé”™è¯¯ï¼Œä½†æ˜¯é”™è¯¯ä¿¡æ¯ä¸ä¸€å®šå®Œæ•´ï¼Œè¯·**åœ¨ç»ˆç«¯è¾“å‡ºé‡Œé¢æŸ¥æ‰¾æ›´è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯** å¦‚æœ‰å¿…è¦ï¼Œè¯·æ–­å¼€ IDEï¼Œ ä»…ä½¿ç”¨ä¸²å£ç»ˆç«¯è¿è¡Œç¨‹åºï¼ˆä¹Ÿè®¸ä½ éœ€è¦å…ˆæŠŠç¨‹åºä¿å­˜åˆ°æ–‡ä»¶ï¼Œç„¶åè¿è¡Œæ–‡ä»¶ï¼‰æŸ¥çœ‹æ‰“å°ä»¥æ’é”™ å¦‚æœæäº¤é—®é¢˜ï¼ˆbbsã€ç¾¤ã€github issueç­‰ï¼‰ï¼Œä¸ºäº†ä½¿é—®é¢˜å¿«é€Ÿå¾—åˆ°è§£å†³ï¼Œè¯·åŠ¡å¿…å¸¦ä¸Šä¸Šé¢æ‰€è¿°å®Œæ•´ä¿¡æ¯"},"/soft/maixpy/zh/get_started/knowledge_git_github.html":{"title":"git å’Œ github ä»‹ç»","content":" title: git å’Œ github ä»‹ç» keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®—, maixpyå…¥é—¨, äººå·¥æ™ºèƒ½ desc: maixpy git å’Œ github ä»‹ç» å› ä¸ºåœ¨å­¦ä¹  MaixPy çš„è¿‡ç¨‹ä¸­ï¼Œ æœ‰å¾ˆå¤šåœ°æ–¹ç”¨åˆ° git å’Œ githubï¼Œ æ‰€ä»¥è¿™é‡Œç®€å•è§£é‡Šä¸€ä¸‹å®ƒä»¬æ˜¯ä»€ä¹ˆï¼Œä»¥åŠåŒºåˆ«æ˜¯ä»€ä¹ˆã€‚ ## ä»€ä¹ˆæ˜¯ git git æ˜¯ä¸€æ¬¾ ä»£ç æ‰˜ç®¡ **è½¯ä»¶**ï¼Œ ç”¨æ¥ç®¡ç†ä»£ç çš„ç‰ˆæœ¬ã€‚ æ¯”å¦‚ï¼š æˆ‘ä»Šå¤©æ”¹äº†ä»£ç ï¼Œ ç„¶åæ˜å¤©ä¹Ÿæ”¹äº†ä»£ç ï¼Œ ä»¥åæˆ‘éƒ½èƒ½çœ‹åˆ°è¿™ä¸¤æ¬¡æ”¹åŠ¨å†å²ï¼Œ ä»¥åŠæ”¹äº†ä»€ä¹ˆå†…å®¹ï¼Œå¯ä»¥ç²¾ç¡®åˆ°å“ªä¸€è¡Œï¼Œæ–¹ä¾¿åé¢æ‰¾é—®é¢˜; æˆ–è€…æˆ‘å‘ç°ç¬¬äºŒæ¬¡æäº¤çš„ä»£ç å‡ºç°äº†é—®é¢˜ï¼Œ æˆ‘éœ€è¦å›åˆ°ç¬¬ä¸€æ¬¡æäº¤åçš„ç‰ˆæœ¬ï¼Œ éƒ½å¯ä»¥ç”¨è¿™ä¸ªå·¥å…·å®ç°; å¦å¤–æ–¹ä¾¿å¤šä¸ªäººä¿®æ”¹åŒä¸€ä»½ä»£ç ï¼Œèƒ½ç®¡ç†å¤§å®¶æäº¤çš„ä»£ç ï¼Œä¸å®¹æ˜“å‡ºç°æ··ä¹±ã€‚ å†ä¹Ÿä¸ç”¨æ‹·è´æ— æ•°ä¸ªæ–‡ä»¶å¤¹æ¥å¤‡ä»½ä¿®æ”¹äº†ï¼ git ä¼šåœ¨ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª`.git`éšè—æ–‡ä»¶å¤¹ï¼Œ æ‰€æœ‰æ›´æ”¹è®°å½•ä¿å­˜åœ¨è¿™é‡Œé¢ï¼Œä¸èƒ½åˆ é™¤è¿™ä¸ªæ–‡ä»¶å¤¹ã€‚ ä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ ç°åœ¨çš„ git ä¸»è¦ç”¨æ¥ç®¡ç†æ–‡æœ¬æ–‡ä»¶ï¼Œ ä¸é€‚ç”¨æ‹¿æ¥ç®¡ç†äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œæ¯”å¦‚å›¾ç‰‡ PDFç­‰ç­‰ï¼Œ ä¼šè®©æ–‡ä»¶å¤¹å ç”¨çš„ç©ºé—´å˜å¾—å¾ˆå¤§ã€‚ å…·ä½“çš„æ•™ç¨‹ï¼Œå¯ä»¥çœ‹ [è¿™é‡Œ](https://git scm.com/), ä¸­æ–‡æ•™ç¨‹å¯ä»¥çœ‹ [è¿™é‡Œ](https://www.liaoxuefeng.com/wiki/896043488029600/896067008724000) ## ä»€ä¹ˆæ˜¯ github [github](http://github.com/) æ˜¯ä¸€ä¸ª åˆ†äº«ä»£ç  çš„ **ç½‘ç«™**ã€‚ å¯ä»¥åœ¨è¿™ä¸ªç½‘ç«™ä¸Šæ³¨å†Œï¼Œ ç„¶åå»ºç«‹ä»“åº“ï¼ˆrepositoryï¼‰ï¼Œå¾€è¿™ä¸ªä»“åº“é‡Œé¢æ”¾ä»£ç å…¬å¼€åˆ†äº«ï¼Œè®©æ›´å¤šåœ°äººæ¥ä½¿ç”¨ï¼Œ ç”šè‡³ä¸€èµ·ä¿®æ”¹ï¼Œä¸€èµ·ä¼˜åŒ–ä»£ç ï¼Œ è¿™å°±æ˜¯**å¼€æº**ã€‚ æ¯ä¸ªä»“åº“éƒ½æ˜¯å¯ä»¥å•ç‹¬åœ°ä½¿ç”¨ `git` è¿™ä¸ªè½¯ä»¶æ¥ç®¡ç†çš„ï¼Œ å¤§å®¶åœ¨è‡ªå·±çš„ç”µè„‘ä¸Šä¿®æ”¹ä»£ç ï¼Œ ç„¶åä½¿ç”¨`git`æäº¤ï¼Œ ç„¶åä½¿ç”¨`git`æ¨é€åˆ°`github`è¿™ä¸ªç½‘ç«™ï¼Œ å¤§å®¶å°±å¯ä»¥çœ‹åˆ°æ–°çš„å†…å®¹äº†ã€‚ MaixPy çš„æºç çš„åœ°å€æ˜¯ï¼š [https://github.com/sipeed/maixpy](https://github.com/sipeed/maixpy) , ä¹Ÿå°±æ˜¯ä¸€ä¸ª `git ä»“åº“`ã€‚ github çš„[å¸®åŠ©](https://docs.github.com/en/free pro team@latest/github), ä¸­æ–‡ [å¸®åŠ©](https://docs.github.com/cn/free pro team@latest/github) å¦å¤–ï¼Œå›½å†…ä¹Ÿæœ‰å‡ å®¶ä¸è¿‡çš„ç±»ä¼¼`github`çš„ç½‘ç«™ï¼Œ æ¯”å¦‚[gitee](https://gitee.com/) ## git å’Œ github çš„åŒºåˆ« ä¸€ä¸ªæ˜¯ä¸€ä¸ªè½¯ä»¶ï¼Œ ä¸€ä¸ªæ˜¯ä¸€ä¸ªç½‘ç«™ã€‚ åªä¸è¿‡è¿™ä¸ªç½‘ç«™ç”¨åˆ°äº† git è¿™ä¸ªæŠ€æœ¯æ¥ç®¡ç†ä»“åº“ã€‚ ## ä¸ºä»€ä¹ˆæˆ‘æ— æ³•è®¿é—® githubï¼Œ æˆ–è€…è®¿é—®é€Ÿåº¦å¾ˆæ…¢ github æ˜¯å›½å¤–çš„ç½‘ç«™ï¼Œ å› ä¸ºè·ç¦»è¿œï¼Œçº¿è·¯é—®é¢˜å¯¼è‡´æŸäº›è¿è¥å•†çš„æŸäº›çº¿è·¯å¯èƒ½è®¿é—®æ…¢ç”šè‡³æ— æ³•è®¿é—®ï¼Œ æ¯”å¦‚ github ç”¨æ¥å­˜æ”¾æºæ–‡ä»¶çš„åŸŸå `https://raw.githubusercontent.com/` å¯èƒ½æ— æ³•è®¿é—® è§£å†³æ–¹æ³•ï¼š * æ¢ä¸ªçº¿è·¯ï¼Œ ä¹Ÿå°±æ˜¯æ¢ä¸ªç½‘ç»œï¼Œ æ¯”å¦‚ä½ ç”¨ç”µä¿¡ç½‘ï¼Œ å¯ä»¥æ¢ç§»åŠ¨æˆ–è€…è”é€šè¯•è¯•ï¼Œ æ¢æ‰‹æœºæµé‡ï¼Œæˆ–è€…æ¢ä¸ªåœ°æ–¹ç­‰æ–¹æ³• * ä½¿ç”¨ VPN ç±»è½¯ä»¶ï¼Œè¿™é‡Œä¸æ•™ï¼Œè¯·æ³¨æ„åˆæ³•ä½¿ç”¨ ## ä»€ä¹ˆæ˜¯ star åœ¨ github ä¸Šï¼Œ æ¯ä¸ªå…¬å¼€çš„ä»“åº“å¤§å®¶éƒ½å¯ä»¥å»ç‚¹èµæ”¶è—ï¼Œä¹Ÿå°±æ˜¯ starï¼Œåœ¨ github å³ä¸Šè§’ â­ å½¢çŠ¶çš„æŒ‰é’® ![star ](../../assets/other/github_star.jpg) å¦‚æœä½ è§‰å¾—é¡¹ç›®ä¸é”™ï¼Œè¯·ç»™ä¸ª starï¼Œè¿™æ ·ä¼šé¼“åŠ±å¼€å‘è€…èŠ±æ›´å¤šæ—¶é—´ç»´æŠ¤ä»“åº“ï¼ŒåŒæ—¶ä¹Ÿå‘Šè¯‰ç¬¬ä¸€æ¬¡æ¥çš„è®¿é—®è€…è¿™æ˜¯ä¸ªä¸é”™çš„é¡¹ç›®ï¼Œå€¼å¾—å…³æ³¨ã€‚ star åï¼Œ å¯ä»¥åœ¨ä¸ªäººèµ„æ–™é‡Œé¢æ‰¾åˆ°è‡ªå·±çš„ star ä»“åº“ï¼Œæ–¹ä¾¿ä¸‹ä¸€æ¬¡æ‰¾åˆ° è¯´åˆ°è¿™é‡Œï¼Œå¤§å®¶è§‰å¾— [MaixPy](https://github.com/sipeed/maixpy) ä¸é”™çš„è¯ï¼Œå¯ä»¥ star ä¸€ä¸ªå“¦ï½ ## ä»€ä¹ˆæ˜¯ Master åˆ†æ”¯ åœ¨æ¯ä¸ªä»“åº“ä¸­ï¼Œ å¯ä»¥å­˜åœ¨å¾ˆå¤šä¸ªåˆ†æ”¯ï¼Œä¸åŒåˆ†æ”¯å¯ä»¥æœ‰ä¸åŒçš„ä»£ç ï¼Œè€Œä¸”ä¸åŒçš„åˆ†æ”¯ä¹‹é—´è¿˜å¯ä»¥äº’ç›¸åˆå¹¶ï¼Œæ–¹ä¾¿ä¿å­˜ä»£ç çš„ä¸åŒç‰ˆæœ¬ï¼Œä»¥åŠæ–¹ä¾¿å›¢é˜Ÿåˆä½œï¼Œ master åˆ†æ”¯å°±æ˜¯æŒ‡ä¸»åˆ†æ”¯ï¼Œä¹Ÿå°±æ˜¯æœ€é‡è¦çš„åˆ†æ”¯ï¼Œé€šå¸¸ä»“åº“é»˜è®¤å±•ç¤ºçš„å°±æ˜¯ master åˆ†æ”¯ã€‚ ## ä»€ä¹ˆæ˜¯æäº¤ æäº¤ï¼Œè‹±æ–‡å«`commit`ï¼Œ å°±æ˜¯æ¯æ¬¡æ›´æ”¹ä»“åº“çš„ä»£ç ï¼Œ éƒ½æäº¤ä¸€æ¬¡ï¼Œå°±ä¼šè¢«è®°å½•åˆ°æäº¤å†å²è®°å½•é‡Œé¢ï¼Œåé¢éšæ—¶éƒ½å¯ä»¥çœ‹è¿™æ¬¡æäº¤äº†ä»€ä¹ˆå†…å®¹ï¼Œä¹Ÿå¯ä»¥å°†ä»£ç å›æ»šåˆ°è¿™æ¬¡æäº¤ æ¯ä¸ªæäº¤éƒ½æœ‰ä¸€ä¸ªç‹¬ç«‹çš„`commit ID`ï¼Œ æ¯”å¦‚`d28cb7ac7db5ad61c0738df95d733717deefda1d`ï¼Œ ç®€å†™æˆ`d28cb7a` ## ä»€ä¹ˆæ˜¯å­æ¨¡å— å­æ¨¡å—ï¼Œ è‹±æ–‡å«`submodule`ï¼Œ å°±æ˜¯åœ¨ä»“åº“ä¸­å¯ä»¥å¼•ç”¨å…¶å®ƒä»“åº“ï¼Œç›¸å½“äºæ˜¯ä¸€ä¸ªè½¯é“¾æ¥ï¼Œ ä¸éœ€è¦åœ¨ä»“åº“æ”¾å®é™…çš„ä»£ç ï¼Œ åªéœ€è¦æ”¾ä¸€ä¸ªé“¾æ¥å³å¯ã€‚ è¿™æ ·çš„å¥½å¤„æ˜¯å¤šä¸ªä»“åº“å¯ä»¥åˆ†å¼€ç®¡ç†ï¼Œ æ¯”å¦‚`ä»“åº“1`å¼•ç”¨äº†`ä»“åº“2`ä½œä¸ºå­æ¨¡å—ï¼Œ å¦‚æœ`ä»“åº“2`ä»£ç æ›´æ–°äº†ï¼Œ `ä»“åº“1`å¯ä»¥é€‰æ‹©ç»§ç»­ä½¿ç”¨æ—§ç‰ˆçš„`ä»“åº“2`çš„ä»£ç ï¼Œ ä¹Ÿå¯ä»¥é€‰æ‹©ä½¿ç”¨`ä»“åº“2`æœ€æ–°çš„ä»£ç ï¼Œåªæ˜¯æ›´æ–°ä¸€ä¸‹å­æ¨¡å—é“¾æ¥ æ¯”å¦‚`MaixPy`ç”¨äº†`kendryte standalone sdk`ä½œä¸ºå­æ¨¡å—,çœ‹[è¿™é‡Œ](https://github.com/sipeed/MaixPy v1tree/master/components/kendryte_sdk) ![submodule](../../assets/get_started/github_submodule.jpg) å¯ä»¥çœ‹åˆ°è¿™é‡Œæ–‡ä»¶å¤¹çš„å›¾æ ‡ä¸å¤ªä¸€æ ·ï¼Œå®ƒåªæ˜¯ä¸€ä¸ªé“¾æ¥ï¼Œç‚¹å‡»å°±ä¼šè·³åˆ°ç›¸åº”çš„ä»“åº“è€Œä¸æ˜¯ç›´æ¥æ‰“å¼€æ–‡ä»¶å¤¹ æ‰€ä»¥ **MaixPy ä½¿ç”¨äº†å­æ¨¡å—** ## ä»€ä¹ˆæ˜¯å…‹éš† åœ¨`github`ä¸Šé¢çš„ä»“åº“ï¼Œå¦‚æœéœ€è¦ä¸‹è½½åˆ°æœ¬åœ°æ¥ï¼Œ å°±éœ€è¦ä½¿ç”¨å…‹éš†ï¼Œ ä½¿ç”¨ ``` git clone åœ°å€ ``` å°±å¯ä»¥å§ä»“åº“å…‹éš†åˆ°æœ¬åœ°äº†ï¼Œ å…‹éš†çš„æœ¬åœ°çš„ä»“åº“åå‰¯å…¶å®å°±æ˜¯ github ä¸Šé¢çš„ä¸€ä»½å…‹éš†ï¼Œ å®Œå…¨ä¸€æ ·ï¼Œä¹Ÿä¿ç•™äº†å†å²è®°å½•ç­‰ å½“ç„¶ä¹Ÿå¯ä»¥ä¸ç”¨å…‹éš†ï¼Œç½‘é¡µæœ‰ç‚¹å‡»ä¸‹è½½çš„æŒ‰é’®ï¼Œä½†æ˜¯ä¸‹è½½çš„ç¼ºé™·å°±æ˜¯ä¸ä¼šåŒ…å«æäº¤ä»£ç çš„å†å²è®°å½•ï¼Œæ ¹æ®è‡ªå·±çš„æƒ…å†µé€‰æ‹© éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ åœ¨å…‹éš†åŒ…å«æœ‰å­æ¨¡å—çš„ä»“åº“æ—¶ï¼Œ å› ä¸ºå…‹éš†é»˜è®¤åªä¼šå°†å­æ¨¡å—çš„é“¾æ¥å…‹éš†ä¸‹æ¥ï¼Œ å­æ¨¡å—çš„ä»£ç æ²¡æœ‰å…‹éš†åˆ°æœ¬åœ°ï¼Œ ä½ éœ€è¦è¿™æ ·å…‹éš† ``` git clone åœ°å€ recursive ``` æˆ–è€… ``` git clone åœ°å€ project_name cd project_name git submodule update init recursive ``` æ¯”å¦‚: ``` git clone https://github.com/sipeed/MaixPy recursive ``` ## ä»€ä¹ˆæ˜¯ issue ä¹Ÿå°±æ˜¯é—®é¢˜çš„æ„æ€ï¼Œ åœ¨github ä¸Šï¼Œ æ¯ä¸ªä»“åº“æœ‰ä¸€ä¸ªä¸“é—¨ç”¨æ¥æé—®çš„åœ°æ–¹ï¼Œ æ¯”å¦‚ [MaixPyçš„issue](https://github.com/sipeed/MaixPy v1issues) å¤§å®¶åœ¨è¿™é‡Œæé—®ï¼Œ ç±»ä¼¼è®ºå›ä¸€æ ·ï¼Œ éƒ½ä¼šè¢«è®°å½•ä¸‹æ¥ï¼Œæ–¹ä¾¿åé¢çš„äººæŸ¥é˜… ## ä»€ä¹ˆæ˜¯ fork åœ¨ github ä¸Šï¼Œ ä»“åº“é¡µé¢å³ä¸Šè§’æœ‰ä¸€ä¸ª fork æŒ‰é’® ![](../../assets/other/github_star.jpg) ç‚¹å‡»å¯ä»¥å°†ä»“åº“ fork åˆ°è‡ªå·±çš„ä»“åº“ï¼Œå°±ç›¸å½“äºæ˜¯ä¸€ä»½æ‹·è´ï¼Œå« fork çš„åŸå› æ˜¯ä½ åœ¨ fork æˆè‡ªå·±çš„ä»“åº“åï¼Œå¯ä»¥å¯¹è‡ªå·±è¿™ä¸ªä»“åº“è¿›è¡Œéšæ„ä¿®æ”¹ï¼Œç®—æ˜¯åŸæ¥è¢« fork ä»“åº“çš„ä¸€ä¸ªå‘å±•åˆ†æ”¯ï¼Œæºè‡ªå®ƒä½†æ˜¯å¯ä»¥ä¸ä¸å®ƒç›¸åŒ ## ä»€ä¹ˆæ˜¯ PR å³ github ä¸Šçš„ pull request åŠŸèƒ½ï¼Œ å°±æ˜¯å‚ä¸ä¸€ä¸ªä»“åº“çš„ä»£ç æ›´æ–°ï¼Œ å°±æ˜¯å…ˆ fork æˆè‡ªå·±çš„ä»“åº“ï¼Œç„¶åä¿®æ”¹ï¼Œä¿®æ”¹åæäº¤åˆå¹¶åˆ°è¢« fork çš„æºä»“åº“ï¼Œ å…·ä½“æ–¹æ³•å¯è‡ªè¡Œå­¦ä¹ "},"/soft/maixpy/zh/get_started/uart.html":{"title":"ä»€ä¹ˆæ˜¯ä¸²å£","content":"# ä»€ä¹ˆæ˜¯ä¸²å£ ## ä¸²å£ COMå£( cluster communication port )å³ä¸²è¡Œé€šè®¯ç«¯å£ï¼Œç®€ç§°ä¸²å£ã€‚å¾®æœºä¸Šçš„ä¸²å£é€šå¸¸æ˜¯9é’ˆï¼Œä¹Ÿæœ‰25é’ˆçš„æ¥å£ï¼Œæœ€å¤§é€Ÿç‡115200bpsã€‚ ![uart](./../../assets/get_started/uart.jpg) 1. é€šå¸¸ç”¨äºè¿æ¥é¼ æ ‡ï¼ˆä¸²å£ï¼‰åŠé€šè®¯è®¾å¤‡ï¼ˆå¦‚è¿æ¥å¤–ç½®å¼è°ƒåˆ¶è§£è°ƒå™¨è¿›è¡Œæ•°æ®é€šè®¯æˆ–ä¸€äº›å·¥å‚çš„æ•°æ§æœºæ¥å£ï¼‰ç­‰ã€‚ 1. ä¸€èˆ¬ä¸»æ¿å¤–éƒ¨åªæœ‰ä¸€ä¸ªä¸²å£ï¼Œæœºç®±åé¢å’Œå¹¶å£ä¸€èµ·çš„é‚£ä¸ªä¹å­”è¾“å‡ºç«¯ï¼ˆæ¢¯å½¢ï¼‰ï¼Œå°±æ˜¯COM1å£ï¼ŒCOM2å£ä¸€èˆ¬è¦ä»ä¸»æ¿ä¸Šæ’é’ˆå¼•å‡ºã€‚å¹¶å£æ˜¯æœ€é•¿çš„é‚£ä¸ªæ¢¯å½¢å£ï¼› 1. ç›®å‰ä¸»æµçš„ä¸»æ¿ä¸€èˆ¬éƒ½åªå¸¦1ä¸ªä¸²å£ï¼Œç”šè‡³ä¸å¸¦ï¼Œæ…¢æ…¢ä¼šè¢«USB å–ä»£ã€‚ ## USB ä¸²å£ USBï¼Œæ˜¯è‹±æ–‡Universal Serial Busï¼ˆé€šç”¨ä¸²è¡Œæ€»çº¿ï¼‰çš„ç¼©å†™ï¼Œæ˜¯ä¸€ä¸ªå¤–éƒ¨æ€»çº¿æ ‡å‡†ï¼Œç”¨äºè§„èŒƒç”µè„‘ä¸å¤–éƒ¨è®¾å¤‡çš„è¿æ¥å’Œé€šè®¯ã€‚æ˜¯åº”ç”¨åœ¨PCé¢†åŸŸçš„æ¥å£æŠ€æœ¯ã€‚ ![](./../../assets/get_started/usb_uart.png) USB ä¸²å£çš„ç‰¹ç‚¹ 1. å¯ä»¥çƒ­æ’æ‹”ã€‚å°±æ˜¯ç”¨æˆ·åœ¨ä½¿ç”¨å¤–æ¥è®¾å¤‡æ—¶ï¼Œä¸éœ€è¦å…³æœºå†å¼€æœºç­‰åŠ¨ä½œï¼Œè€Œæ˜¯åœ¨ç”µè„‘å·¥ä½œæ—¶ï¼Œç›´æ¥å°† USB æ’ä¸Šä½¿ç”¨ã€‚ 1. æºå¸¦æ–¹ä¾¿ã€‚USB è®¾å¤‡å¤§å¤šä»¥â€œå°ã€è½»ã€è–„â€è§é•¿ï¼Œå¯¹ç”¨æˆ·æ¥è¯´ï¼Œéšèº«æºå¸¦å¤§é‡æ•°æ®æ—¶ï¼Œå¾ˆæ–¹ä¾¿ã€‚å½“ç„¶USBç¡¬ç›˜æ˜¯é¦–è¦ä¹‹é€‰äº†ã€‚ 1. æ ‡å‡†ç»Ÿä¸€ã€‚å¤§å®¶å¸¸è§çš„æ˜¯ IDE æ¥å£çš„ç¡¬ç›˜ï¼Œä¸²å£çš„é¼ æ ‡é”®ç›˜ï¼Œå¹¶å£çš„æ‰“å°æœºæ‰«æä»ªï¼Œå¯æ˜¯æœ‰äº†USBä¹‹åï¼Œè¿™äº›åº”ç”¨å¤–è®¾ç»Ÿç»Ÿå¯ä»¥ç”¨åŒæ ·çš„æ ‡å‡†ä¸ä¸ªäººç”µè„‘è¿æ¥ï¼Œè¿™æ—¶å°±æœ‰äº† USB ç¡¬ç›˜ã€USB é¼ æ ‡ã€USB æ‰“å°æœºç­‰ç­‰ã€‚ 1. å¯ä»¥è¿æ¥å¤šä¸ªè®¾å¤‡ã€‚USB åœ¨ä¸ªäººç”µè„‘ä¸Šå¾€å¾€å…·æœ‰å¤šä¸ªæ¥å£ï¼Œå¯ä»¥åŒæ—¶è¿æ¥å‡ ä¸ªè®¾å¤‡ï¼Œå¦‚æœæ¥ä¸Šä¸€ä¸ªæœ‰å››ä¸ªç«¯å£çš„USB HUBæ—¶ï¼Œå°±å¯ä»¥å†è¿ä¸Šï¼›å››ä¸ªUSBè®¾å¤‡ï¼Œä»¥æ­¤ç±»æ¨ï¼Œå°½å¯ä»¥è¿ä¸‹å»ï¼Œå°†ä½ å®¶çš„è®¾å¤‡éƒ½åŒæ—¶è¿åœ¨ä¸€å°ä¸ªäººç”µè„‘ä¸Šè€Œä¸ä¼šæœ‰ä»»ä½•é—®é¢˜(æ³¨ï¼šæœ€é«˜å¯è¿æ¥è‡³127ä¸ªè®¾å¤‡)ã€‚ ä¼ é€é€Ÿåº¦ 1. USB 1.0æ˜¯åœ¨1996å¹´å‡ºç°çš„ï¼Œé€Ÿåº¦åªæœ‰1.5Mb/s(ä½æ¯ç§’)ï¼› 1998å¹´å‡çº§ä¸ºUSB 1.1ï¼Œé€Ÿåº¦ä¹Ÿå¤§å¤§æå‡åˆ°12Mb/sÂ ï¼› 1. USB2.0è§„èŒƒæ˜¯ç”±USB1.1è§„èŒƒæ¼”å˜è€Œæ¥çš„ã€‚å®ƒçš„ä¼ è¾“é€Ÿç‡è¾¾åˆ°äº†480Mbpsï¼ŒæŠ˜ç®—ä¸ºMBä¸º60MB/sï¼Œè¶³ä»¥æ»¡è¶³å¤§å¤šæ•°å¤–è®¾çš„é€Ÿç‡è¦æ±‚ã€‚ 1. USB 3.0çš„ç†è®ºé€Ÿåº¦ä¸º5.0Gb/sï¼Œå…¶å®åªèƒ½è¾¾åˆ°ç†è®ºå€¼çš„5æˆï¼Œé‚£ä¹Ÿæ˜¯æ¥è¿‘äºUSB 2.0çš„10å€äº†ã€‚ 1. USB 3.1ï¼Œä¼ è¾“é€Ÿåº¦ä¸º10Gbit/sï¼Œä¸‰æ®µå¼ç”µå‹5V/12V/20Vï¼Œæœ€å¤§ä¾›ç”µ100W ï¼Œæ–°å‹Type Cæ’å‹ä¸å†åˆ†æ­£åã€‚ ## ä¸²å£å’Œ USB ä¸²å£çš„åŒºåˆ« ![](./../../assets/get_started/usb_vs_uart.png)"},"/soft/maixpy/zh/get_started/knowledge_audio.html":{"title":"éŸ³é¢‘å¤„ç†èƒŒæ™¯çŸ¥è¯†","content":" title: éŸ³é¢‘å¤„ç†èƒŒæ™¯çŸ¥è¯† keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®—, maixpyå…¥é—¨, äººå·¥æ™ºèƒ½ desc: maixpy éŸ³é¢‘å¤„ç†èƒŒæ™¯çŸ¥è¯† ## ä»€ä¹ˆæ˜¯å£°éŸ³ï¼ˆéŸ³é¢‘ï¼‰ > äººæ˜¯ç†æ€§çš„ï¼Œè€Œä¸–ç•Œæ˜¯æ„Ÿæ€§çš„ã€‚ ä»€ä¹ˆæ˜¯éŸ³é¢‘ï¼ŒéŸ³é¢‘å³æŒ¯åŠ¨ã€‚ å…‰ç²’å­çš„æŒ¯åŠ¨å½¢æˆå…‰æ³¢ï¼Œå³å…‰; è€Œæ™®éç‰©ä½“çš„æŒ¯åŠ¨å½¢æˆå£°æ³¢ï¼Œå³å£°éŸ³ ## éŸ³é¢‘ç¼–ç åŸºç¡€çŸ¥è¯† å£°é“æ•°ï¼ˆé€šé“æ•°ï¼‰ å³å£°éŸ³é€šé“çš„æ•°ç›®ï¼Œåœ¨å¯¹å£°éŸ³çš„è®°å½•æ—¶ï¼ŒåŒæ—¶è®°å½•ä¸åŒç©ºé—´ä½ç½®çš„éŸ³é¢‘ï¼Œå³å½•åˆ¶å¤šé€šé“éŸ³é¢‘ï¼› è€Œå¸¸è§çš„éŸ³é¢‘æ–‡ä»¶æœ‰å•å£°é“ä¸ç«‹ä½“å£°ä¹‹åˆ†ï¼Œå³å•å£°é“è®°å½•å•ä¸€ä½ç½®çš„éŸ³é¢‘ï¼Œè€Œç«‹ä½“å£°æœ‰å·¦å³å£°é“ç­‰è®°å½•ä¸åŒç©ºé—´ä½ç½®çš„éŸ³é¢‘ï¼Œå¹¶å¯ä»¥é€šè¿‡ä¸åŒçš„æ‰¬å£°å™¨æ’­æ”¾ä¸åŒé€šé“çš„éŸ³é¢‘ï¼Œä»è€Œè¿˜åŸä¸åŒç©ºé—´ä½ç½®çš„éŸ³é¢‘ï¼Œä½¿äººè€³é€šè¿‡éŸ³é¢‘æ„Ÿå—ä¸åŒç©ºé—´ä½ç½®ï¼ˆæ›´å…·æœ‰ç©ºé—´æ„Ÿï¼‰ã€‚ é‡‡æ ·ä½æ•° å³é‡‡æ ·å€¼æˆ–å–æ ·å€¼ï¼ˆå°±æ˜¯å°†é‡‡æ ·æ ·æœ¬å¹…åº¦é‡åŒ–ï¼‰ã€‚å®ƒæ˜¯ç”¨æ¥è¡¡é‡å£°éŸ³æ³¢åŠ¨å˜åŒ–çš„ä¸€ä¸ªå‚æ•°ï¼Œä¹Ÿå¯ä»¥è¯´æ˜¯å£°å¡çš„åˆ†è¾¨ç‡ã€‚å®ƒçš„æ•°å€¼è¶Šå¤§ï¼Œåˆ†è¾¨ç‡ä¹Ÿå°±è¶Šé«˜ï¼Œæ‰€å‘å‡ºå£°éŸ³çš„èƒ½åŠ›è¶Šå¼ºã€‚ åœ¨è®¡ç®—æœºä¸­é‡‡æ ·ä½æ•°ä¸€èˆ¬æœ‰ 8 ä½å’Œ 16 ä½ä¹‹åˆ†ï¼Œä½†æœ‰ä¸€ç‚¹è¯·å¤§å®¶æ³¨æ„ï¼Œ8 ä½ä¸æ˜¯è¯´æŠŠçºµåæ ‡åˆ†æˆ8ä»½ï¼Œè€Œæ˜¯åˆ†æˆ 2 çš„ 8 æ¬¡æ–¹å³ 256 ä»½ï¼› åŒç† 16 ä½æ˜¯æŠŠçºµåæ ‡åˆ†æˆ2 çš„ 16 æ¬¡æ–¹ 65536 ä»½ã€‚ é‡‡æ ·é¢‘ç‡ å³å–æ ·é¢‘ç‡ï¼ŒæŒ‡æ¯ç§’é’Ÿå–å¾—å£°éŸ³æ ·æœ¬çš„æ¬¡æ•°ã€‚é‡‡æ ·é¢‘ç‡è¶Šé«˜ï¼Œå£°éŸ³çš„è´¨é‡ä¹Ÿå°±è¶Šå¥½ï¼Œå£°éŸ³çš„è¿˜åŸä¹Ÿå°±è¶ŠçœŸå®ï¼Œä½†åŒæ—¶å®ƒå çš„èµ„æºæ¯”è¾ƒå¤šã€‚ç”±äºäººè€³çš„åˆ†è¾¨ç‡å¾ˆæœ‰é™ï¼Œå¤ªé«˜çš„é¢‘ç‡å¹¶ä¸èƒ½åˆ†è¾¨å‡ºæ¥ã€‚åœ¨ 16 ä½å£°å¡ä¸­æœ‰ 22KHzã€44KHz ç­‰å‡ çº§ï¼Œå…¶ä¸­ 22KHz ç›¸å½“äºæ™®é€š FM å¹¿æ’­çš„éŸ³è´¨ï¼Œ44KHz å·²ç›¸å½“äº CD éŸ³è´¨äº†ï¼Œç›®å‰çš„å¸¸ç”¨é‡‡æ ·é¢‘ç‡éƒ½ä¸è¶…è¿‡ 48KHzã€‚ ## éŸ³é¢‘ç¼–ç å¤„ç†ä¹‹ PCM PCM ä»‹ç» ç›®å‰æˆ‘ä»¬åœ¨è®¡ç®—æœºä¸Šè¿›è¡ŒéŸ³é¢‘æ’­æ”¾éƒ½éœ€è¦ä¾èµ–äºéŸ³é¢‘æ–‡ä»¶ï¼ŒéŸ³é¢‘æ–‡ä»¶çš„ç”Ÿæˆè¿‡ç¨‹æ˜¯å°†å£°éŸ³ä¿¡æ¯é‡‡æ ·ã€é‡åŒ–å’Œç¼–ç äº§ç”Ÿçš„æ•°å­—ä¿¡å·çš„è¿‡ç¨‹ï¼Œäººè€³æ‰€èƒ½å¬åˆ°çš„å£°éŸ³ï¼Œæœ€ä½çš„é¢‘ç‡æ˜¯ä» 20Hz èµ·ä¸€ç›´åˆ°æœ€é«˜é¢‘ç‡ 20Khzï¼Œå› æ­¤éŸ³é¢‘æ–‡ä»¶æ ¼å¼çš„æœ€å¤§å¸¦å®½æ˜¯ 20Kzhã€‚æ ¹æ®å¥ˆå¥æ–¯ç‰¹çš„ç†è®ºï¼Œåªæœ‰é‡‡æ ·é¢‘ç‡é«˜äºå£°éŸ³ä¿¡å·æœ€é«˜é¢‘ç‡çš„ä¸¤å€æ—¶ï¼Œæ‰èƒ½æŠŠæ•°å­—ä¿¡å·è¡¨ç¤ºçš„å£°éŸ³è¿˜åŸæˆä¸ºåŸæ¥çš„å£°éŸ³ï¼Œæ‰€ä»¥éŸ³é¢‘æ–‡ä»¶çš„é‡‡æ ·ç‡ä¸€èˆ¬åœ¨ 40~50KHZï¼Œæ¯”å¦‚æœ€å¸¸è§çš„ CD éŸ³è´¨é‡‡æ ·ç‡ 44.1KHZã€‚ å¯¹å£°éŸ³è¿›è¡Œé‡‡æ ·ã€é‡åŒ–è¿‡ç¨‹è¢«ç§°ä¸ºè„‰å†²ç¼–ç è°ƒåˆ¶ï¼ˆPulse Code Modulationï¼‰ï¼Œç®€ç§°PCMï¼Œè€Œç”±ä¸Šæ–‡é‡‡æ ·é¢‘ç‡ï¼Œé‡‡æ ·ä½æ•°ï¼Œå£°é“æ•°ä¸‰ä¸ªæ¦‚å¿µå¯ä»¥ç”±ä¸‹é¢å…¬å¼å¾—å‡ºåœ¨è®¡ç®—æœºä¸­ PCM æ–‡ä»¶æ‰€å ç”¨çš„å­˜å‚¨ç©ºé—´å¤§å°ï¼š PCM éŸ³é¢‘æ•°æ®å¤§å° (é‡‡æ ·é¢‘ç‡ * é‡‡æ ·ä½æ•° * å£°é“ * æ—¶é—´)//8 (å•ä½ï¼šBytes)ã€‚ ç”±äº PCM æ•°æ®æ˜¯æœ€åŸå§‹çš„éŸ³é¢‘æ•°æ®ï¼Œå¯¹äºé‡‡æ ·çš„æ•°æ®å®Œå…¨æ— æŸï¼Œæ‰€ä»¥ PCM æ•°æ®è™½ç„¶éŸ³è´¨ä¼˜ç§€ä½†ä½“ç§¯å¯¹äºè®¡ç®—æœºçš„å­˜å‚¨è¿˜æ˜¯è¿‡äºåºå¤§ï¼›ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜å…ˆåè¯ç”Ÿäº†ä¸€ç³»åˆ—çš„éŸ³é¢‘æ ¼å¼ï¼Œè¿™äº›éŸ³é¢‘æ ¼å¼è¿ç”¨ä¸åŒçš„æ–¹æ³•å¯¹éŸ³é¢‘æ•°æ®è¿›è¡Œå‹ç¼©ï¼Œå…¶ä¸­æœ‰æ— æŸå‹ç¼©ï¼ˆALACã€APEã€FLACï¼‰å’Œæœ‰æŸå‹ç¼©ï¼ˆMP3ã€AACã€OGGã€WMAï¼‰ä¸¤ç§ã€‚ ## WAV Waveform Audio File Formatï¼ˆWAVEï¼Œåˆæˆ–è€…æ˜¯å› ä¸ºæ‰©å±•åè€Œè¢«å¤§ä¼—æ‰€çŸ¥çš„WAVï¼‰ï¼Œæ˜¯å¾®è½¯ä¸ IBM å…¬å¸æ‰€å¼€å‘åœ¨ä¸ªäººç”µè„‘å­˜å‚¨éŸ³é¢‘æµçš„ç¼–ç æ ¼å¼ï¼Œåœ¨ Windows å¹³å°çš„åº”ç”¨è½¯ä»¶å—åˆ°å¹¿æ³›çš„æ”¯æŒï¼Œåœ°ä½ä¸Šç±»ä¼¼äºéº¦é‡‘å¡”ç”µè„‘é‡Œçš„ AIFFã€‚ æ­¤æ ¼å¼å±äºèµ„æºäº¤æ¢æ¡£æ¡ˆæ ¼å¼(RIFF)çš„åº”ç”¨ä¹‹ä¸€ï¼Œé€šå¸¸ä¼šå°†é‡‡ç”¨è„‰å†²ç¼–ç è°ƒåˆ¶çš„éŸ³é¢‘èµ„å­˜å‚¨åœ¨åŒºå—ä¸­ã€‚ä¹Ÿæ˜¯å…¶éŸ³ä¹å‘çƒ§å‹ä¸­å¸¸ç”¨çš„æŒ‡å®šè§„æ ¼ä¹‹ä¸€ã€‚ç”±äºæ­¤éŸ³é¢‘æ ¼å¼æœªç»è¿‡å‹ç¼©ï¼Œæ‰€ä»¥åœ¨éŸ³è´¨æ–¹é¢ä¸ä¼šå‡ºç°å¤±çœŸçš„æƒ…å†µï¼Œä½†æ¡£æ¡ˆçš„ä½“ç§¯å› è€Œåœ¨ä¼—å¤šéŸ³é¢‘æ ¼å¼ä¸­è¾ƒä¸ºå¤§ã€‚ æ‰€æœ‰çš„ WAV éƒ½æœ‰ä¸€ä¸ªæ–‡ä»¶å¤´ï¼Œè¿™ä¸ªæ–‡ä»¶å¤´éŸ³é¢‘æµçš„ç¼–ç å‚æ•°ã€‚WAV å¯¹éŸ³é¢‘æµçš„ç¼–ç æ²¡æœ‰ç¡¬æ€§è§„å®šï¼Œé™¤äº† PCM ä¹‹å¤–ï¼Œè¿˜æœ‰å‡ ä¹æ‰€æœ‰æ”¯æŒ ACM è§„èŒƒçš„ç¼–ç éƒ½å¯ä»¥ä¸º WAV çš„éŸ³é¢‘æµè¿›è¡Œç¼–ç ã€‚WAV ä¹Ÿå¯ä»¥ä½¿ç”¨å¤šç§éŸ³é¢‘ç¼–ç æ¥å‹ç¼©å…¶éŸ³é¢‘æµï¼Œä¸è¿‡æˆ‘ä»¬å¸¸è§çš„éƒ½æ˜¯éŸ³é¢‘æµè¢« PCM ç¼–ç å¤„ç†çš„WAVï¼Œä½†è¿™ä¸è¡¨ç¤ºWAV åªèƒ½ä½¿ç”¨ PCM ç¼–ç ï¼ŒMP3 ç¼–ç åŒæ ·ä¹Ÿå¯ä»¥è¿ç”¨åœ¨ WAV ä¸­ï¼Œå’Œ AVI ä¸€æ ·ï¼Œåªè¦å®‰è£…å¥½äº†ç›¸åº”çš„ Decodeï¼Œå°±å¯ä»¥æ¬£èµè¿™äº› WAVäº†ã€‚ åœ¨ Windows å¹³å°ä¸‹ï¼ŒåŸºäº PCM ç¼–ç çš„ WAV æ˜¯è¢«æ”¯æŒå¾—æœ€å¥½çš„éŸ³é¢‘æ ¼å¼ï¼Œæ‰€æœ‰éŸ³é¢‘è½¯ä»¶éƒ½èƒ½å®Œç¾æ”¯æŒï¼Œç”±äºæœ¬èº«å¯ä»¥è¾¾åˆ°è¾ƒé«˜çš„éŸ³è´¨çš„è¦æ±‚ï¼Œå› æ­¤ï¼ŒWAV ä¹Ÿæ˜¯éŸ³ä¹ç¼–è¾‘åˆ›ä½œçš„é¦–é€‰æ ¼å¼ï¼Œé€‚åˆä¿å­˜éŸ³ä¹ç´ æã€‚å› æ­¤ï¼ŒåŸºäº PCM ç¼–ç çš„ WAV è¢«ä½œä¸ºäº†ä¸€ç§ä¸­ä»‹çš„æ ¼å¼ï¼Œå¸¸å¸¸ä½¿ç”¨åœ¨å…¶ä»–ç¼–ç çš„ç›¸äº’è½¬æ¢ä¹‹ä¸­ï¼Œä¾‹å¦‚ MP3 è½¬æ¢æˆ WMAã€‚ **è€Œåœ¨ MaixPy ä¸­ï¼Œaduio æ¨¡å—æ”¯æŒæ’­æ”¾çš„ WAV æ–‡ä»¶æ ¼å¼ä¸º PCM_s16le (signed 16 bits little endian, æœ‰ç¬¦å· 16 ä½å°ç«¯)**"},"/soft/maixpy/zh/get_started/knowledge_micropython.html":{"title":"MicroPython èƒŒæ™¯çŸ¥è¯†","content":" title: MicroPython èƒŒæ™¯çŸ¥è¯† keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®—, maixpyå…¥é—¨, äººå·¥æ™ºèƒ½ desc: maixpy MicroPython èƒŒæ™¯çŸ¥è¯† ç”±äº **MaixPy** æ˜¯åŸºäº **MicroPython** ä¹‹ä¸Šè¿›è¡Œå¼€å‘æ„å»ºçš„, æä¾›ç»™ç”¨æˆ·æœ€ç»ˆçš„æ¥å£æ˜¯ **Micropython** ï¼Œæ‰€ä»¥åœ¨ä½¿ç”¨ MaixPy å¼€å‘ä¹‹åˆæˆ‘ä»¬éœ€è¦ç†Ÿæ‚‰ä¸‹ `MicroPython` çš„åŸºç¡€çŸ¥è¯†ä¸è¯­æ³• ## å…³äº MicroPython: MicroPython æ˜¯ç¼–ç¨‹è¯­è¨€ Python3 çš„ç²¾ç®€é«˜æ•ˆå®ç°ï¼Œè¯­æ³•å’Œ Python3 ä¿æŒä¸€è‡´ï¼Œä½†åªå®ç°äº† Python æ ‡å‡†åº“çš„ä¸€å°éƒ¨åˆ†ï¼Œå¹¶ä¸”ç»è¿‡ä¼˜åŒ–ï¼Œå¯ä»¥åœ¨ MCU ï¼Œ WIFI SOC ä¸Šç­‰èµ„æºå—é™çš„ç¯å¢ƒä¸­ä½¿ç”¨ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨ä½¿ç”¨ MicroPython éœ€è¦äº†è§£å…¶è¯­æ³•ã€‚ å¦‚æœä¹‹å‰æœ‰ **C/C++/Java** (æˆ–ä»»ä½•å…¶ä»–è¯­è¨€)çš„ç¼–ç¨‹ç»éªŒï¼Œæ¨è [ã€Šå»–é›ªå³°çš„ Python æ•™ç¨‹ã€‹](https://www.liaoxuefeng.com/wiki/1016959663602400) å¦‚æœä¹‹å‰æ²¡æœ‰ä»»ä½•ç¼–ç¨‹ç»éªŒï¼Œæ¨è [ã€Šç¬¨æ–¹æ³•å­¦ Pythonã€‹](https://wizardforcel.gitbooks.io/lpthw/content/) ## REPL å’Œ ä¸²å£ é¦–å…ˆï¼Œæ–­å¼€å¼€å‘æ¿ä¸ MaixPy IDE çš„è¿æ¥ï¼Œå¦åˆ™ä¸²å£ä¼šå†²çªï¼ æ‰“å¼€ MaixPy IDE ä¸­çš„ç»ˆç«¯çª—å£ print('The quick brown fox', 'jumps over', 'the lazy dog') è¾“å‡º: ``` The quick brown fox jumps over the lazy dog ``` print() ä¼šä¾æ¬¡æ‰“å°æ¯ä¸ªå­—ç¬¦ä¸²ï¼Œé‡åˆ°é€—å·â€œ,â€ä¼šè¾“å‡ºä¸€ä¸ªç©ºæ ¼ï¼Œå› æ­¤ï¼Œè¾“å‡ºçš„å­—ç¬¦ä¸²æ˜¯è¿™æ ·æ‹¼èµ·æ¥çš„ï¼š > The quick brown fox jumps over the lazy dog print() ä¹Ÿå¯ä»¥æ‰“å°æ•´æ•°ï¼Œæˆ–è€…è®¡ç®—ç»“æœï¼š ```python print(300) 300 print(100 + 200) 300 ``` å› æ­¤, æˆ‘ä»¬å¯ä»¥æŠŠè®¡ç®—100 + 200çš„ç»“æœæ‰“å°å¾—æ›´æ¼‚äº®ä¸€ç‚¹: ```python print('100 + 200 ', 100 + 200) 100 + 200 300 ``` æ³¨æ„, å¯¹äº 100 + 200, Python è§£é‡Šå™¨è‡ªåŠ¨è®¡ç®—å‡ºç»“æœ 300ï¼Œä½†æ˜¯ '100 + 200 ' æ˜¯å­—ç¬¦ä¸²è€Œéæ•°å­¦å…¬å¼ï¼ŒPython æŠŠå®ƒè§†ä¸ºå­—ç¬¦ä¸²ã€‚ ## MicroPython åŸºæœ¬è¯­æ³• ### å˜é‡ åœ¨ Python ä¸­ï¼Œç­‰å· ` ` æ˜¯èµ‹å€¼è¯­å¥ï¼Œå¯ä»¥æŠŠä»»æ„æ•°æ®ç±»å‹èµ‹å€¼ç»™å˜é‡ï¼ŒåŒä¸€ä¸ªå˜é‡å¯ä»¥åå¤èµ‹å€¼ï¼Œè€Œä¸”å¯ä»¥æ˜¯ä¸åŒç±»å‹çš„å˜é‡ï¼Œä¾‹å¦‚ï¼š ```python a 123 # aæ˜¯æ•´æ•° print(a) a 'ABC' # aå˜ä¸ºå­—ç¬¦ä¸² print(a) ``` è¿™ç§å˜é‡æœ¬èº«ç±»å‹ä¸å›ºå®šçš„è¯­è¨€ç§°ä¹‹ä¸º**åŠ¨æ€è¯­è¨€**ï¼Œä¸ä¹‹å¯¹åº”çš„æ˜¯ **é™æ€è¯­è¨€**ã€‚ é™æ€è¯­è¨€åœ¨å®šä¹‰å˜é‡æ—¶å¿…é¡»æŒ‡å®šå˜é‡ç±»å‹ï¼Œå¦‚æœèµ‹å€¼çš„æ—¶å€™ç±»å‹ä¸åŒ¹é…ï¼Œå°±ä¼šæŠ¥é”™ã€‚ä¾‹å¦‚ Java æ˜¯é™æ€è¯­è¨€ï¼Œèµ‹å€¼è¯­å¥å¦‚ä¸‹(// è¡¨ç¤ºæ³¨é‡Š)ï¼š ```java int a 123; // aæ˜¯æ•´æ•°ç±»å‹å˜é‡ a \"ABC\";// é”™è¯¯:ä¸èƒ½æŠŠå­—ç¬¦ä¸²èµ‹ç»™æ•´å‹å˜é‡ ``` å’Œé™æ€è¯­è¨€ç›¸æ¯”ï¼ŒåŠ¨æ€è¯­è¨€æ›´çµæ´»ï¼Œå°±æ˜¯è¿™ä¸ªåŸå› ã€‚ ### list åˆ—è¡¨ Python å†…ç½®çš„ä¸€ç§æ•°æ®ç±»å‹æ˜¯**åˆ—è¡¨**ï¼š**list**.<br/> **list** æ˜¯ä¸€ç§æœ‰åºçš„é›†åˆ, å¯ä»¥éšæ—¶æ·»åŠ å’Œåˆ é™¤å…¶ä¸­çš„å…ƒç´ . æ¯”å¦‚, åˆ—å‡ºç­é‡Œæ‰€æœ‰åŒå­¦çš„åå­—, å°±å¯ä»¥ç”¨ä¸€ä¸ª **list** è¡¨ç¤º: ```python classmates ['Michael', 'Bob', 'Tracy'] classmates ['Michael', 'Bob', 'Tracy'] ``` å˜é‡ classmates å°±æ˜¯ä¸€ä¸ª `list`.<br/> ç”¨ `len()` å‡½æ•°å¯ä»¥è·å¾— list å…ƒç´ çš„ä¸ªæ•°: ```python len(classmates) 3 ``` ç”¨ç´¢å¼•æ¥è®¿é—® list ä¸­æ¯ä¸€ä¸ªä½ç½®çš„å…ƒç´ , ç´¢å¼•æ˜¯ä» 0 å¼€å§‹çš„: ```python classmates[0] 'Michael' classmates[1] 'Bob' classmates[2] 'Tracy' classmates[3] Traceback (most recent call last): File \"<stdin>\", line 1, in <module> IndexError: list index out of range ``` å½“ç´¢å¼•è¶…å‡ºäº†èŒƒå›´æ—¶ï¼ŒPython ä¼šæŠ¥ä¸€ä¸ª IndexError é”™è¯¯ï¼Œæ‰€ä»¥ï¼Œè¦ç¡®ä¿ç´¢å¼•ä¸è¦è¶Šç•Œï¼Œè®°å¾—æœ€åä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•æ˜¯ len(classmates) 1ã€‚ å¦‚æœè¦å–æœ€åä¸€ä¸ªå…ƒç´ ï¼Œé™¤äº†è®¡ç®—ç´¢å¼•ä½ç½®å¤–ï¼Œè¿˜å¯ä»¥ç”¨ 1 åšç´¢å¼•ï¼Œç›´æ¥è·å–æœ€åä¸€ä¸ªå…ƒç´ ï¼š ```python classmates[ 1] 'Tracy' ``` ä»¥æ­¤ç±»æ¨ï¼Œå¯ä»¥è·å–å€’æ•°ç¬¬2ä¸ªã€å€’æ•°ç¬¬3ä¸ªï¼š ```python classmates[ 2] 'Bob' classmates[ 3] 'Michael' classmates[ 4] Traceback (most recent call last): File \"<stdin>\", line 1, in <module> IndexError: list index out of range ``` å½“ç„¶ï¼Œå€’æ•°ç¬¬ 4 ä¸ªå°±è¶Šç•Œäº†ã€‚ list æ˜¯ä¸€ä¸ª**å¯å˜**çš„**æœ‰åºè¡¨**ï¼Œæ‰€ä»¥å¯ä»¥å¾€ list ä¸­è¿½åŠ å…ƒç´ åˆ°æœ«å°¾ï¼š ```python classmates.append('Adam') classmates ['Michael', 'Bob', 'Tracy', 'Adam'] ``` ä¹Ÿå¯ä»¥æŠŠå…ƒç´ æ’å…¥åˆ°æŒ‡å®šçš„ä½ç½®ï¼Œæ¯”å¦‚ç´¢å¼•å·ä¸º1çš„ä½ç½®ï¼š ```python classmates.insert(1, 'Jack') classmates ['Michael', 'Jack', 'Bob', 'Tracy', 'Adam'] ``` è¦åˆ é™¤ list æœ«å°¾çš„å…ƒç´ , ç”¨ pop() æ–¹æ³•ï¼š ```python classmates.pop() 'Adam' classmates ['Michael', 'Jack', 'Bob', 'Tracy'] ``` è¦æŠŠæŸä¸ªå…ƒç´ æ›¿æ¢æˆåˆ«çš„å…ƒç´ , å¯ä»¥ç›´æ¥èµ‹å€¼ç»™å¯¹åº”çš„ç´¢å¼•ä½ç½®: ```python classmates[1] 'Sarah' classmates ['Michael', 'Sarah', 'Tracy'] ``` list é‡Œé¢çš„å…ƒç´ çš„æ•°æ®ç±»å‹ä¹Ÿå¯ä»¥ä¸åŒ, æ¯”å¦‚: ```python L ['Apple', 123, True] ``` å¦‚æœä¸€ä¸ª list ä¸­ä¸€ä¸ªå…ƒç´ ä¹Ÿæ²¡æœ‰ï¼Œå°±æ˜¯ä¸€ä¸ªç©ºçš„ listï¼Œå®ƒçš„é•¿åº¦ä¸º 0ï¼š ```python L [] len(L) 0 ``` ### tuple å…ƒç»„ å¦ä¸€ç§æœ‰åºåˆ—è¡¨å«å…ƒç»„: **tuple**.<br/> tuple å’Œ list éå¸¸ç±»ä¼¼ï¼Œä½†æ˜¯ `tuple` ä¸€æ—¦åˆå§‹åŒ–å°±ä¸èƒ½ä¿®æ”¹ï¼Œæ¯”å¦‚åŒæ ·æ˜¯åˆ—å‡ºåŒå­¦çš„åå­—ï¼š ```python classmates ('Michael', 'Bob', 'Tracy') ``` ç°åœ¨ï¼Œclassmates è¿™ä¸ª **tuple** ä¸èƒ½å˜äº†ï¼Œå®ƒä¹Ÿæ²¡æœ‰ append(), insert() è¿™æ ·çš„æ–¹æ³•.å…¶ä»–è·å–å…ƒç´ çš„æ–¹æ³•å’Œ list æ˜¯ä¸€æ ·çš„, ä½ å¯ä»¥æ­£å¸¸åœ°ä½¿ç”¨ classmates[0], classmates[ 1], ä½†ä¸èƒ½èµ‹å€¼æˆå¦å¤–çš„å…ƒç´ . ä¸å¯å˜çš„ tuple æœ‰ä»€ä¹ˆæ„ä¹‰ï¼Ÿå› ä¸º tuple ä¸å¯å˜, æ‰€ä»¥ä»£ç æ›´å®‰å…¨ã€‚ å¦‚æœå¯èƒ½ï¼Œèƒ½ç”¨ tuple ä»£æ›¿ list å°±å°½é‡ç”¨ tupleã€‚ tuple çš„é™·é˜±:å½“ä½ å®šä¹‰ä¸€ä¸ª tuple æ—¶, åœ¨å®šä¹‰çš„æ—¶å€™, tuple çš„å…ƒç´ å°±å¿…é¡»è¢«ç¡®å®šä¸‹æ¥, æ¯”å¦‚: ```python t (1, 2) t (1, 2) ``` ä½†æ˜¯, è¦å®šä¹‰ä¸€ä¸ª åªæœ‰1ä¸ªå…ƒç´ çš„ tuple, å¦‚æœä½ è¿™ä¹ˆå®šä¹‰: ```python t (1) t 1 ``` ä½†æ­¤æ—¶,å®šä¹‰çš„ä¸æ˜¯ tuple, t æ˜¯æ•´å‹å˜é‡, å˜é‡ t çš„å€¼ä¸º1! <br/> è¿™æ˜¯å› ä¸ºæ‹¬å·()æ—¢å¯ä»¥è¡¨ç¤ºtuple, åˆå¯ä»¥è¡¨ç¤ºæ•°å­¦å…¬å¼ä¸­çš„å°æ‹¬å·, è¿™å°±äº§ç”Ÿäº†æ­§ä¹‰, å› æ­¤, Pythonè§„å®š, è¿™ç§æƒ…å†µä¸‹, æŒ‰å°æ‹¬å·è¿›è¡Œè®¡ç®—, è®¡ç®—ç»“æœè‡ªç„¶æ˜¯1. æ‰€ä»¥, åªæœ‰ 1 ä¸ªå…ƒç´ çš„ **tuple** å®šä¹‰æ—¶å¿…é¡»åŠ ä¸€ä¸ªé€—å·`,`, æ¥æ¶ˆé™¤æ­§ä¹‰: ```python t (1,) t (1,) ``` Pythonåœ¨æ˜¾ç¤ºåªæœ‰ 1 ä¸ªå…ƒç´ çš„ tuple æ—¶, ä¹Ÿä¼šåŠ ä¸€ä¸ªé€—å·`,`, ä»¥å…ä½ è¯¯è§£æˆæ•°å­¦è®¡ç®—æ„ä¹‰ä¸Šçš„æ‹¬å·. ### æ¡ä»¶åˆ¤æ–­ if è¯­å¥çš„å®Œæ•´å½¢å¼æ˜¯: ``` if <æ¡ä»¶åˆ¤æ–­1>: <æ‰§è¡Œ1> elif <æ¡ä»¶åˆ¤æ–­2>: <æ‰§è¡Œ2> elif <æ¡ä»¶åˆ¤æ–­3>: <æ‰§è¡Œ3> else: <æ‰§è¡Œ4> ``` æ¯”å¦‚: ```python age 20 if age > 6: print('teenager') elif age > 18: print('adult') else: print('kid') ``` ### å¾ªç¯ Python çš„å¾ªç¯æœ‰ä¸¤ç§, ä¸€ç§æ˜¯ `for...in` å¾ªç¯, ä¾æ¬¡æŠŠ list æˆ– tuple ä¸­çš„æ¯ä¸ªå…ƒç´ è¿­ä»£å‡ºæ¥, çœ‹ä¾‹å­: ```python names ['Michael', 'Bob', 'Tracy'] for name in names: print(name) ``` æ‰§è¡Œè¿™æ®µä»£ç , ä¼šä¾æ¬¡æ‰“å° names çš„æ¯ä¸€ä¸ªå…ƒç´ : ```python Michael Bob Tracy ``` æ‰€ä»¥ `for x in ...` å¾ªç¯å°±æ˜¯æŠŠæ¯ä¸ªå…ƒç´ ä»£å…¥å˜é‡x, ç„¶åæ‰§è¡Œç¼©è¿›å—çš„è¯­å¥. å¦‚æœè¦è®¡ç®— 1 100 çš„æ•´æ•°ä¹‹å’Œ, ä» 1 å†™åˆ° 100 æœ‰ç‚¹å›°éš¾, å¹¸å¥½ Pythonæä¾›ä¸€ä¸ª range() å‡½æ•°, å¯ä»¥ç”Ÿæˆä¸€ä¸ªæ•´æ•°åºåˆ—, å†é€šè¿‡ list() å‡½æ•°å¯ä»¥è½¬æ¢ä¸º list.<br/> æ¯”å¦‚ range(5) ç”Ÿæˆçš„åºåˆ—æ˜¯ä» 0 å¼€å§‹å°äº 5 çš„æ•´æ•°: ```python list(range(5)) [0, 1, 2, 3, 4] ``` range(101) å°±å¯ä»¥ç”Ÿæˆ 0 100 çš„æ•´æ•°åºåˆ—, è®¡ç®—å¦‚ä¸‹: ```python sum 0 for x in range(101): sum sum + x print(sum) ``` ç¬¬äºŒç§å¾ªç¯æ˜¯ `while å¾ªç¯`, æ¯”å¦‚æˆ‘ä»¬è¦è®¡ç®— 100 ä»¥å†…æ‰€æœ‰å¥‡æ•°ä¹‹å’Œ, å¯ä»¥ç”¨ while å¾ªç¯å®ç°: ```python sum 0 n 99 while n > 0: sum sum + n n n 2 print(sum) ``` ### æ•°æ®ç±»å‹è½¬æ¢ Python å†…ç½®çš„å¸¸ç”¨å‡½æ•°è¿˜åŒ…æ‹¬æ•°æ®ç±»å‹è½¬æ¢å‡½æ•°, æ¯”å¦‚ int() å‡½æ•°å¯ä»¥æŠŠå…¶ä»–æ•°æ®ç±»å‹è½¬æ¢ä¸ºæ•´æ•°: ```python >>> int('123') 123 >>> int(12.34) 12 >>> float('12.34') 12.34 >>> str(1.23) '1.23' >>> str(100) '100' >>> bool(1) True from machine import GPIO ``` ### å‡½æ•° åœ¨ Python ä¸­, å®šä¹‰ä¸€ä¸ªå‡½æ•°è¦ä½¿ç”¨ `def` è¯­å¥, ä¾æ¬¡å†™å‡ºå‡½æ•°åã€æ‹¬å·ã€æ‹¬å·ä¸­çš„å‚æ•°å’Œå†’å·`:`, ç„¶ååœ¨ç¼©è¿›å—ä¸­ç¼–å†™å‡½æ•°ä½“, å‡½æ•°çš„è¿”å›å€¼ç”¨ `return` è¯­å¥è¿”å›. æˆ‘ä»¬å…ˆå†™ä¸€ä¸ªè®¡ç®— x2 çš„å‡½æ•°: ```python def power(x): return x * x ``` å¯¹äº power(x) å‡½æ•°, å‚æ•° x å°±æ˜¯ä¸€ä¸ªä½ç½®å‚æ•°. å½“æˆ‘ä»¬è°ƒç”¨ power å‡½æ•°æ—¶, å¿…é¡»ä¼ å…¥æœ‰ä¸”ä»…æœ‰çš„ä¸€ä¸ªå‚æ•°x: ```python power(5) 25 power(15) 225 ``` ç°åœ¨, å¦‚æœæˆ‘ä»¬è¦è®¡ç®— x3 æ€ä¹ˆåŠ?å¯ä»¥å†å®šä¹‰ä¸€ä¸ª power3 å‡½æ•°, ä½†æ˜¯å¦‚æœè¦è®¡ç®—x4ã€x5â€¦â€¦æ€ä¹ˆåŠ?æˆ‘ä»¬ä¸å¯èƒ½å®šä¹‰æ— é™å¤šä¸ªå‡½æ•°. ä½ ä¹Ÿè®¸æƒ³åˆ°äº†, å¯ä»¥æŠŠ power(x) ä¿®æ”¹ä¸º power(x, n), ç”¨æ¥è®¡ç®— xn , è¯´å¹²å°±å¹²: ```python def power(x, n): s 1 while n > 0: n n 1 s s * x return s ``` å¯¹äºè¿™ä¸ªä¿®æ”¹åçš„power(x, n)å‡½æ•°, å¯ä»¥è®¡ç®—ä»»æ„næ¬¡æ–¹: ```python power(5, 2) 25 power(5, 3) 125 ``` ä¿®æ”¹åçš„ power(x, n) å‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°: x å’Œ n, è¿™ä¸¤ä¸ªå‚æ•°éƒ½æ˜¯ä½ç½®å‚æ•°, è°ƒç”¨å‡½æ•°æ—¶, ä¼ å…¥çš„ä¸¤ä¸ªå€¼æŒ‰ç…§ä½ç½®é¡ºåºä¾æ¬¡èµ‹ç»™å‚æ•°xå’Œn. ### åˆ‡ç‰‡ å–ä¸€ä¸ª `list` æˆ– `tuple` çš„éƒ¨åˆ†å…ƒç´ æ˜¯éå¸¸å¸¸è§çš„æ“ä½œ.æ¯”å¦‚, ä¸€ä¸ªlist å¦‚ä¸‹: ```python L ['Michael', 'Sarah', 'Tracy', 'Bob', 'Jack'] ``` å–å‰3ä¸ªå…ƒç´ , ç”¨ä¸€è¡Œä»£ç å°±å¯ä»¥å®Œæˆåˆ‡ç‰‡: ```python L[0:3] ['Michael', 'Sarah', 'Tracy'] ``` L[0:3] è¡¨ç¤º, ä»ç´¢å¼• 0 å¼€å§‹å–, ç›´åˆ°ç´¢å¼• 3 ä¸ºæ­¢, ä½†ä¸åŒ…æ‹¬ç´¢å¼•3.å³ç´¢å¼•0, 1, 2, æ­£å¥½æ˜¯3ä¸ªå…ƒç´ . å¦‚æœç¬¬ä¸€ä¸ªç´¢å¼•æ˜¯0, è¿˜å¯ä»¥çœç•¥: ```python L[:3] ['Michael', 'Sarah', 'Tracy'] ``` ä¹Ÿå¯ä»¥ä»ç´¢å¼•1å¼€å§‹, å–å‡º2ä¸ªå…ƒç´ å‡ºæ¥: ```python L[1:3] ['Sarah', 'Tracy'] ``` `tuple` ä¹Ÿæ˜¯ä¸€ç§ list, å”¯ä¸€åŒºåˆ«æ˜¯ `tuple` ä¸å¯å˜.å› æ­¤, `tuple` ä¹Ÿå¯ä»¥ç”¨åˆ‡ç‰‡æ“ä½œ, åªæ˜¯æ“ä½œçš„ç»“æœä»æ˜¯ `tuple`: ```python (0, 1, 2, 3, 4, 5)[:3] (0, 1, 2) ``` `å­—ç¬¦ä¸²` 'xxx' ä¹Ÿå¯ä»¥çœ‹æˆæ˜¯ä¸€ç§ `list`, æ¯ä¸ªå…ƒç´ å°±æ˜¯ä¸€ä¸ªå­—ç¬¦.å› æ­¤, å­—ç¬¦ä¸²ä¹Ÿå¯ä»¥ç”¨åˆ‡ç‰‡æ“ä½œ, åªæ˜¯æ“ä½œç»“æœä»æ˜¯å­—ç¬¦ä¸²: ```python 'ABCDEFG'[:3] 'ABC' ``` ### å¯¹è±¡ Python æ˜¯**é¢å‘å¯¹è±¡**ç¼–ç¨‹çš„, æ¯”å¦‚ä¸€ä¸ª LED ç¯ ```python from pyb import LED red_led LED(1) red_led.on() ``` LED æ˜¯ä¸€ä¸ª**ç±»**, red_led å°±æ˜¯ä¸€ä¸ª**å¯¹è±¡**, å¯ä»¥å¯¹è¿™ä¸ªå¯¹è±¡è¿›è¡Œæ“ä½œ, æ¯”å¦‚ç‚¹äº® on, å…³æ‰ off, æŸ¥çœ‹ value. ### æ¨¡å— ### ä»€ä¹ˆæ˜¯æ¨¡å—? éšç€ä»£ç çš„å¢å¤šï¼Œåœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œçš„ä»£ç ä¼šè¶Šæ¥è¶Šé•¿ï¼Œè¶Šæ¥è¶Šéš¾çœ‹æ‡‚ã€‚ ä¸ºäº†ç¼–å†™å¯ç»´æŠ¤çš„ä»£ç ï¼Œæˆ‘ä»¬æŠŠå¾ˆå¤šå‡½æ•°åˆ†ç»„ï¼Œæ”¾åˆ°ä¸åŒçš„æ–‡ä»¶é‡Œã€‚åœ¨Python ä¸­ï¼Œä¸€ä¸ª `.py` æ–‡ä»¶å°±ç§°ä¹‹ä¸ºä¸€ä¸ª**æ¨¡å—(Module)**. æ¨¡å—æœ‰ä»€ä¹ˆå¥½å¤„? å¤ç”¨ä»£ç æ–¹ä¾¿ï¼å¦‚æœæˆ‘å†™äº†ä¸€ä¸ªæ¨¡å—ï¼Œä½ ä¹Ÿå†™äº†ä¸€ä¸ªæ¨¡å—ï¼Œæˆ‘ä»¬å°±æœ‰äº†ä¸¤ä¸ªæ¨¡å—ã€‚æˆ‘ä»¬æŠŠè¿™äº›æ¨¡å—éƒ½ç»„ç»‡èµ·æ¥ï¼Œå¤§å®¶å°±å¯ä»¥å°‘å†™å¾ˆå¤šä»£ç äº†ï¼ #### å¦‚ä½•ä½¿ç”¨æ¨¡å—? ```python import time time.sleep_ms(500) ``` `import time` å°±æ˜¯å¼•å…¥ `time` è¿™ä¸ªæ¨¡å—ã€‚é€šè¿‡ `import` è¯­å¥ï¼Œå°±å¯ä»¥å¼•å…¥æ¨¡å—ã€‚ ### æ›´å¤š æ›´å¤š MicroPython åŸºç¡€è¯­æ³•æ•™ç¨‹è¯·è‡ªè¡Œæœç´¢ã€‚"},"/soft/maixpy/zh/get_started/upgrade_esp8285_firmware.html":{"title":"æ›´æ–°æ¿è½½ ESP8285 å›ºä»¶","content":" title: æ›´æ–°æ¿è½½ ESP8285 å›ºä»¶ keywords: maixpy, k210, AIOT, ESP8285, è¾¹ç¼˜è®¡ç®— desc: maixpy æ›´æ–°æ¿è½½ ESP8285 å›ºä»¶ ## ç®€ä»‹ï¼š ç›®å‰ MaixPy ç³»åˆ—é‡‡ç”¨ M1W æ¨¡å—çš„ä½œä¸ºæ ¸å¿ƒæ¨¡å—çš„å¼€å‘æ¿æœ‰: MaixDock(M1W)ï¼Œ MaixGo é€šå¸¸æƒ…å†µä¸‹æˆ‘ä»¬ä¸éœ€è¦æ›´æ–°æ¨¡å—å†…éƒ¨ WIFI SOC ESP8285 çš„å›ºä»¶ï¼Œä½†æ˜¯å¦‚æœä½¿ç”¨è¿‡ç¨‹ä¸­å­˜åœ¨ bugï¼Œä»¥åŠæœ‰æ–°ç‰ˆæœ¬çš„å›ºä»¶å‘å¸ƒæ—¶æˆ‘ä»¬å°±å¯ä»¥æ›´æ–°å›ºä»¶ > MaixDockã€MaixGo ä½¿ç”¨çš„ M1W æ¨¡å—ä¸­çš„ ESP8285 é»˜è®¤çƒ§å½•çš„æ˜¯ AT å›ºä»¶ ## éªŒè¯ ESP8285 æ˜¯å¦èƒ½å¤Ÿæ­£å¸¸å·¥ä½œ MaixPy éªŒè¯ ESP8285 æ˜¯å¦æ­£å¸¸å·¥ä½œä¾‹ç¨‹ > [æŸ¥çœ‹æ–‡æœ¬æœ«å°¾ä¾‹ç¨‹](#maixpy ä¾‹ç¨‹æµ‹è¯•) å¤–æ¥ USB è½¬ä¸²å£æ¨¡å—æµ‹è¯• ä½¿ç”¨ USB è½¬ä¸²å£æ¨¡å—ï¼ŒæŒ‰ç…§ä¸‹è¡¨è¿æ¥ä¹‹åä¸Šç”µ M1W USB æ¨¡å— è¯´æ˜ M1W GND GND å…±åœ° K210 (IO6)/ESP8285 TX RX K210 (IO7)/ESP8285 RX TX k210 RST(ä¸Šç”µä¹‹å‰æ¥åœ°ï¼Œå…¨è¿‡ç¨‹æ‹‰ä½ RST) GND ä¸Šç”µä¹‹åæ¿å­ä¼šåœ¨ä¸²å£è¾“å‡º(è¿™é‡Œä½¿ç”¨ XCOM, æ³¢ç‰¹ç‡ 115200) æ¥éªŒè¯ ESP8285 æ˜¯å¦æ­£å¸¸å¯åŠ¨ ![image 20200805175207487](../../assets/hardware/module_esp8285/image 20200805175207487.png) ## AT æŒ‡ä»¤é›† ESP8285 å’Œ ESP8266 ä¸ºåŒä¸€ç³»åˆ—äº§å“ï¼Œä½¿ç”¨åŒä¸€å¥— AT æŒ‡ä»¤é›† ESP8285/ESP8266/ESP32 æœ€æ–° ATæŒ‡ä»¤é›† https://github.com/espressif/esp at/blob/v2.0.0.0_esp8266/docs/ESP_AT_Commands_Set.md ## æ›´æ–° ESP8285 å›ºä»¶æ­¥éª¤ åœ¨çƒ§å½• ESP8285 å›ºä»¶ä¹‹å‰ï¼Œå…ˆäº†è§£ä¸‹ ESP8285 çƒ§å½•åŸç†: ### ESP8285 å›ºä»¶çƒ§å½•åŸç† ESP8285 åœ¨ä¸Šç”µæ—¶ï¼Œä¼šåˆ¤æ–­ boot stapping ç®¡è„šçš„çŠ¶æ€ï¼Œå¹¶å†³å®šå¯åŠ¨(boot)æ¨¡å¼, å¦‚: > ets\tJan\t\t8\t2013,rst\tcause:1,\tboot\tmode:(3,2) å…¶ä¸­æ‰“å°çš„ boot mode çš„ç¬¬ä¸€ä½æ•°å­—ï¼ˆ3ï¼‰ä»£è¡¨å½“å‰çš„ boot æ¨¡å¼ã€‚ Boot æ¨¡å¼ç”± strapping ç®¡è„šçš„ 3 ä½å€¼ [GPIO15ï¼Œ GPIO0ï¼Œ GPIO2] å…±åŒå†³å®šã€‚å¦‚ä¸‹è¡¨æ‰€ ç¤ºï¼š Strapping ç®¡è„šçš„ 3 ä½å€¼/[GPIO15ï¼Œ GPIO0ï¼Œ GPIO2] Boot æ¨¡å¼ 7 / [1ï¼Œ 1ï¼Œ 1] SDIO HighSpeed V2 IO 6 / [1ï¼Œ 1ï¼Œ 0] SDIO LowSpeed V1 IO 5 / [1ï¼Œ 0ï¼Œ 1] SDIO HighSpeed V1 IO 4 / [1ï¼Œ 0ï¼Œ 0] SDIO LowSpeed V2 IO 3 / [0ï¼Œ 1ï¼Œ 1] Flash Boot 2 / [0ï¼Œ 1ï¼Œ 0] Jump Boot 1 / [0ï¼Œ 0ï¼Œ 1] UART Boot 0 / [0ï¼Œ 0ï¼Œ 0] Remapping ESP8285 è¿›å…¥ä¸åŒæ¨¡å¼çš„ IO ç”µå¹³è¯·çœ‹å¦‚ä¸‹è¡¨ï¼š æ¨¡å¼ CH_PD(EN) RST GPIO15 GPIO0 GPIO2 TXD0 : : : : : : UART ä¸‹è½½æ¨¡å¼ é«˜ é«˜ ä½ ä½ é«˜ é«˜ Flash è¿è¡Œæ¨¡å¼ é«˜ é«˜ ä½ é«˜ é«˜ é«˜ Chip æµ‹è¯•æ¨¡å¼ ä½ å³ ESP8285 è¿›å…¥ UART ä¸‹è½½æ¨¡å¼ï¼Œå¯åŠ¨ä¿¡æ¯ mode ç¬¬ä¸€ä½åº”è¯¥ä¸º mode:(1, X)ï¼Œå¦‚ä¸‹ï¼š > ets\tJan\t\t8\t2013,rst\tcause:1,\tboot\tmode:(1,1) è€Œä»¥ MaixDock ä¸ºä¾‹ï¼Œå¯ä»¥çœ‹åˆ° MaixDock åŸç†å›¾å¦‚ä¸‹ï¼š ![](../../assets/hardware/maix_dock/sipeed_maix_dock_sch.png) ![](../../assets/hardware/maix_dock/sipeed_maix_dock_sch_wifi.png) ### å‡†å¤‡ > è¿™é‡Œä»¥ MaixDock(M1W), Windows 10 ç³»ç»Ÿä¸ºä¾‹ ç¡¬ä»¶: MaixDock, USB Type C æ•°æ®çº¿ è½¯ä»¶: ESP å›ºä»¶æ›´æ–°å·¥å…·ï¼šESP8285 **flash_download_tools** ä¹é‘«å®˜ç½‘ä¸‹è½½é“¾æ¥ï¼š[**flash_download_tools**](https://www.espressif.com/zh hans/support/download/other tools) ESP8285 AT å›ºä»¶ï¼š ä¹é‘«å®˜æ–¹ä¸‹è½½é“¾æ¥: [espressif_esp8266 at](https://www.espressif.com/zh hans/support/download/at?keys &field_type_tid%5B%5D 14) ![](../../assets/hardware/module_esp8285/image 20210105192007.png) ### Windows ä½¿ç”¨ flash_download_tools æ›´æ–° ES8285ï¼ˆè¿™é‡Œä»¥ MaixDock ä¸ºä¾‹ï¼‰ï¼š 1. æŒ‰ç…§ä¸‹é¢é…ç½®ï¼Œè¿æ¥ MaixDock, å°† USB è½¬ä¸²å£æ¨¡å—å’ŒESP8285è¿æ¥ï¼Œè¿æ¥æ–¹å¼å‰é¢å·²ç»ä»‹ç» ä¸Šç”µå‰ éœ€è¦å°† GPIO0 æ‹‰ä½ï¼Œå³å°†å¤©çº¿æ—å·¦ä¸Šè§’çš„è§¦ç‚¹æ¥åœ°ï¼Œè¿›å…¥ UART ä¸‹è½½æ¨¡å¼ã€‚ ![](../../assets/hardware/maix_dock/maix_dock_2.jpg) 1. æ‰“å¼€ **flash_download_tools** 2. ä¸‹è½½ **MaixDock ESP8285 å›ºä»¶** ![](../../assets/hardware/module_esp8285/flash_download_tool.png) 3. é€‰æ‹© ESP8285 ä¸²å£(ä¸€èˆ¬éƒ½æ˜¯ä¸²å£å·æ¯”è¾ƒå¤§çš„) 4. è®¾ç½®ä¸‹è½½é€‰é¡¹: å¦‚å›¾é…ç½®ç›¸åº”é€‰é¡¹, æ³¨æ„**æ³¢ç‰¹ç‡ä¸€å®šè¦è®¾ç½®ä¸º 115200** ![](../../assets/hardware/module_esp8285/flash_download_tool_ESP8285.png) 5. ç‚¹å‡» **Start** æ›´æ–°å›ºä»¶ï¼Œå¹¶ç­‰å¾…å®Œæˆæ›´æ–° 6. éªŒè¯æ›´æ–°æ˜¯å¦å®Œæˆ ä½¿ç”¨ XCOM æ³¢ç‰¹ç‡ 115200, æ‰“å¼€ ESP8285 ä¸²å£ï¼Œè¾“å‡º `AT\\r\\n`,å¦‚å›¾æç¤º `OK` å³åˆ·å…¥æˆåŠŸ ![esp8285_at.png](../../assets/hardware/maix_dock/esp8285_at.png) ### LINUX ä½¿ç”¨ esp_tool æ›´æ–° ES8285ï¼ˆè¿™é‡Œä»¥ MaixDock ä¸ºä¾‹ï¼‰ï¼š 1. æŒ‰ç…§ä¸‹é¢é…ç½®ï¼Œè¿æ¥ MaixDock, ![](../../assets/hardware/maix_dock/maixdock_pin_maps.svg) 2. å®‰è£… esptool ```shell pip3 install esptool ``` 3. ä¸‹è½½ **MaixDock ESP8285 å›ºä»¶** ```shell ls /dev/ttyUSB* # æŸ¥çœ‹ USB ä¸²å£ esptool port /dev/ttyUSB0 write_flash 0x0 ESP8285 AT V1.7.4_8Mbit_40Mhz.bin # çƒ§å½•å›ºä»¶ ``` 4. éªŒè¯æ›´æ–°æ˜¯å¦å®Œæˆ ä½¿ç”¨ä¸²å£å·¥å…·ï¼Œ æ³¢ç‰¹ç‡ 115200, æ‰“å¼€ ESP8285 ä¸²å£ï¼Œè¾“å‡º `AT\\r\\n`,å¦‚å›¾æç¤º `OK` å³åˆ·å…¥æˆåŠŸ ![esp8285_at.png](../../assets/hardware/maix_dock/esp8285_at.png) ### MaixPy ä¾‹ç¨‹æµ‹è¯•ï¼š ```python import network, time from machine import UART from Maix import GPIO from fpioa_manager import fm # En SEP8285 rst #fm.register(8, fm.fpioa.GPIOHS0, force True) #wifi_en GPIO(GPIO.GPIOHS0, GPIO.OUT) #wifi_en.value(1) # En SEP8285 rst fm.register(0, fm.fpioa.GPIOHS0, force True) wifi_io15 GPIO(GPIO.GPIOHS0, GPIO.OUT) wifi_io15.value(0) fm.register(8, fm.fpioa.GPIOHS1, force True) wifi_en GPIO(GPIO.GPIOHS1, GPIO.OUT) wifi_en.value(1) # for new MaixGO board, if not, remove it #fm.register(0, fm.fpioa.GPIOHS1, force True) #wifi_io15_en GPIO(GPIO.GPIOHS1, GPIO.OUT) #wifi_io15_en.value(0) fm.register(6, fm.fpioa.UART2_RX, force True) fm.register(7, fm.fpioa.UART2_TX, force True) uart UART(UART.UART2,115200,timeout 1000, read_buf_len 4096) def wifi_enable(en): global wifi_en wifi_en.value(en) def wifi_deal_ap_info(info): res [] for ap_str in info: ap_str ap_str.split(\",\") info_one [] for node in ap_str: if node.startswith('\"'): info_one.append(node[1: 1]) else: info_one.append(int(node)) res.append(info_one) return res #wifi_enable(0) time.sleep(2) nic network.ESP8285(uart) ap_info nic.scan() ap_info wifi_deal_ap_info(ap_info) ap_info.sort(key lambda x:x[2], reverse True) # sort by rssi for ap in ap_info: print(\"SSID:{:^20}, RSSI:{:>5} , MAC:{:^20}\".format(ap[1], ap[2], ap[3]) ) ```"},"/soft/maixpy/zh/get_started/get_started_fs.html":{"title":"å­˜å‚¨ç³»ç»Ÿä»‹ç»","content":" title: å­˜å‚¨ç³»ç»Ÿä»‹ç» keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®—, maixpyå…¥é—¨ desc: maixpy å­˜å‚¨ç³»ç»Ÿä»‹ç» MaixPy å­˜å‚¨ç³»ç»Ÿå¤§è‡´å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ![](../../assets/get_started/memory.png) ç”±ä¸Šå›¾å¯çŸ¥ï¼ŒMaixPy ä¸­çš„å­˜å‚¨ä»‹è´¨ä¸»è¦ç”± `Flash`ï¼Œ`SD` å¡ç»„æˆï¼Œåˆ†ä¸ºä¸‰å—åŒºåŸŸï¼Œåˆ†åˆ«æ˜¯ MaixPy.bin å›ºä»¶åŒºï¼Œxxx.kmodel æ¨¡å‹åŒºï¼Œæ–‡ä»¶ç³»ç»ŸåŒºï¼šFlash ä¸Šä¸º [`spiffs`](https://github.com/pellepl/spiffs)ï¼ˆSPI Flash File Systemï¼‰ï¼ŒSD å¡ä¸º Fatfsï¼ˆFAT file systemï¼‰ã€‚ ## MaixPy.bin å›ºä»¶åŒº ç”¨æ¥å­˜å‚¨ MaixPy.bin å›ºä»¶ï¼Œèµ·å§‹äº 0x000000ï¼Œå› ä¸º K210 ä¼šä» 0x000000 åœ°å€å¼€å§‹è¿è¡Œç¨‹åºã€‚ ## xxx.kmodel æ¨¡å‹åŒº é€šå¸¸èµ·å§‹äº 0x300000ï¼Œæ¨¡å‹æ–‡ä»¶ä¹‹æ‰€ä»¥ä¸çƒ§å½•åœ¨ `Flash` çš„æ–‡ä»¶ç³»ç»Ÿï¼ˆæ–‡ä»¶ç³»ç»Ÿä¼šåç»­è§£é‡Šï¼‰ä¸­ï¼ŒåŸå› æœ‰ä¸‹ï¼š 1. `Flash` ä¸­æ–‡ä»¶ç³»ç»Ÿæ‹¥æœ‰çš„å†…å­˜å¹¶ä¸å¤Ÿå¤§ï¼Œä¸è¶³ä»¥æ”¾å…¥å¤§æ¨¡å‹ï¼Œæ›´å¤§çš„æ¨¡å‹å¯ä»¥æ”¾å…¥ `SD` å¡ä¸­ã€‚ 2. ç›´æ¥è¯»å–æ¨¡å‹æ–‡ä»¶æ¯”ç»è¿‡æ–‡ä»¶ç³»ç»Ÿè¯»å–é€Ÿç‡æ›´å¿«ã€‚ è¯¥åŒºåŸŸæ²¡æœ‰æ–‡ä»¶ç³»ç»Ÿç®¡ç†ï¼Œéœ€è¦æ ¹æ®çƒ§å½•æ—¶çš„èµ·å§‹åœ°å€æ“ä½œæ–‡ä»¶ï¼Œä¾‹å¦‚å½“æ¨¡å‹çƒ§å½•åœ¨ 0x500000 æ—¶çš„è¯»å–æ–¹æ³•ï¼š ```python KpuTask kpu.load(0x500000) ``` ## æ–‡ä»¶ç³»ç»ŸåŒº é€šå¸¸ä» 0xD00000 å¼€å§‹ï¼Œè¯¥åŒºåŸŸäº¤ç”±æ–‡ä»¶ç³»ç»Ÿç®¡ç†ï¼Œæˆ‘ä»¬é¢„ç•™äº† `Flash` æœ«å°¾çš„ `3MiB` ç©ºé—´ï¼Œäº¤ç”± [`spiffs`](https://github.com/pellepl/spiffs) ç®¡ç†ï¼Œ å¦å¤–ä¹Ÿæ”¯æŒ `FAT32`ï¼ˆFatfsï¼‰ çš„ `SD` å¡ã€‚è¿™äº›æ–‡ä»¶ç³»ç»Ÿæä¾›æ¥å£ä½¿æˆ‘ä»¬é€šè¿‡ **æ–‡ä»¶å** ä¾¿å¯å¯¹æ–‡ä»¶è¿›è¡Œè¯»å†™æ“ä½œï¼Œè€Œä¸å¿…åƒæ¨¡å‹åŒºé‚£æ ·ä½¿ç”¨ **æ–‡ä»¶èµ·å§‹åœ°å€** æ“ä½œã€‚åŒæ—¶è¿˜èƒ½å¸®åŠ©æˆ‘ä»¬æœ‰æ•ˆç®¡ç†å­˜å‚¨ä»‹è´¨ï¼Œä¾‹å¦‚ç£¨æŸå‡è¡¡ï¼ˆFlash æ˜¯æœ‰ç£¨æŸå¯¿å‘½çš„ï¼Œç›¸å…³çŸ¥è¯†è¯·è‡ªè¡Œæœç´¢ï¼‰å¯ä»¥å……åˆ†å‘æŒ¥ Flash çš„å¯¿å‘½ã€‚ ### MaixPy æ–‡ä»¶ç³»ç»Ÿçš„ä½¿ç”¨ ç”±äº `Flash` å’Œ `SD` å¡çš„æ–‡ä»¶ç³»ç»Ÿå„ä¸ç›¸åŒï¼Œæ¥å£ä¸ä¸€è‡´ï¼Œä½¿å¾—æ“ä½œä¸åŒæ–‡ä»¶ç³»ç»Ÿéœ€è¦è°ƒç”¨ä¸åŒæ¥å£ï¼Œæ­¤æ—¶ MaixPy ä¸­çš„è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼ˆVFSï¼‰æ­£æ˜¯ç”¨äºè§£å†³è¯¥é—®é¢˜ï¼Œ`VFS` å¯ä»¥æŒ‚è½½å¤šä¸ªä¸åŒç±»å‹æ–‡ä»¶ç³»ç»Ÿï¼Œå¹¶ä¸ºç”¨æˆ·æ“ä½œè¿™äº›æ–‡ä»¶ç³»ç»Ÿæä¾›ç»Ÿä¸€æ¥å£ï¼Œç”¨æˆ·ä½¿ç”¨è¿™äº›æ¥å£æ—¶å¯ä»¥å¿½ç•¥ä¸åŒæ–‡ä»¶ç³»ç»Ÿä¹‹é—´çš„å·®å¼‚ã€‚è¿™äº›æ¥å£åœ¨ `os` æ¨¡å—ä¸­å®ç°ï¼Œä½¿ç”¨ç¤ºä¾‹å¦‚ä¸‹ï¼š ```python import uos print(\"files:\", uos.listdir(\"/flash\")) with open(\"/flash/test.txt\", \"w\") as f: f.write(\"hello text\") print(\"files:\", uos.listdir(\"/flash\")) with open(\"/flash/test.txt\", \"r\") as f: content f.read() print(\"read:\", content) ``` ä»¥ä¸Šç¤ºä¾‹ä¸­ï¼Œ`spiffs` æ–‡ä»¶ç³»ç»Ÿå¼€æœºè¢«è‡ªåŠ¨æŒ‚è½½åˆ° `/flash` ç›®å½•ï¼Œç”¨æˆ·åªéœ€è¦åœ¨ä½¿ç”¨ `os` çš„æ¥å£æ—¶ä¼ å…¥ `\"/flash\"` ç›®å½•åä½œä¸ºå‚æ•°ä¾¿å¯è®¿é—®è¯¥æ–‡ä»¶ç³»ç»Ÿã€‚ è§£è¯»ï¼š * å¯¼å…¥ `uos` æ¨¡å— * åˆ—å‡º `/flash` ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶ * å‘ `/flash` ç›®å½•å†™å…¥ä¸€ä¸ªåä¸º `test.txt` çš„æ–‡ä»¶ï¼Œå†…å®¹ä¸º `hello text`, * åˆ—å‡º `/flash` ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶ï¼Œä¼šå‘ç° `test.txt` çš„å­˜åœ¨ * è¯»å–æ–‡ä»¶å†…å®¹åˆ° `content` å˜é‡ * æ‰“å° `content` å˜é‡ï¼Œ è¾“å‡º `hello text`ï¼Œä¹Ÿå°±æ˜¯åˆšåˆšå†™å…¥æ–‡ä»¶çš„å†…å®¹ * è¿™ä¸ªå†…å®¹åœ¨å¼€å‘æ¿æ–­ç”µä¹‹åå†ä¸Šç”µï¼Œä»ç„¶èƒ½è¯»åˆ°æ­£ç¡®çš„å†…å®¹ï¼ˆFlash æ–­ç”µåä¸ä¼šä¸¢å¤±å†…å®¹ï¼‰ å½“ç„¶ä¹Ÿæ”¯æŒ SD å¡ï¼Œ å¦‚æœä½ éœ€è¦ä½¿ç”¨ï¼Œ SD å¡éœ€è¦æ»¡è¶³ä»¥ä¸‹å‡ ç‚¹ï¼š * æ”¯æŒ `SPI` æ¨¡å¼, å¸‚é¢ä¸Šå¤§å¤šæ•°æ­£ç‰ˆå¡éƒ½æ”¯æŒ * åˆ†åŒºä¸º `MBR ï¼ˆmsdosï¼‰` * æ ¼å¼åŒ–ä¸º `FAT32` * å¤§å°æµ‹è¯•è¿‡æœ€å¤§ **`1TB`** å¯ç”¨ æ–­ç”µæ’å…¥ `SD` åï¼Œ ä¸Šç”µï¼Œ`SD` å¡ä¼šè¢«æŒ‚è½½åœ¨ `/sd`ï¼Œå¦‚æœæœ‰å¤šä¸ªåˆ†åŒºï¼Œç¬¬äºŒä¸ªåˆ†åŒºåæ˜¯`/sd2` æ³¨æ„`/`ï¼ˆæ ¹ç›®å½•ï¼‰ä¸èƒ½å†™å…¥æ•°æ®ï¼Œåªèƒ½å¾€`/flash`æˆ–è€…`/sd`å†™å…¥æ•°æ® å¼€æœºå¦‚æœæœ‰`SD`å¡ï¼Œ ä¼šè‡ªåŠ¨å°†å½“å‰ç›®å½•åˆ‡æ¢åˆ°`/sd`ï¼Œ å¦‚æœæ²¡æœ‰ï¼Œåˆ™ä¼šè‡ªåŠ¨åˆ‡æ¢åˆ°`/flash`"},"/soft/maixpy/zh/course/network/socket_usage.html":{"title":"å¦‚ä½•ä½¿ç”¨ Socket ç½‘ç»œç¼–ç¨‹","content":" title: å¦‚ä½•ä½¿ç”¨ Socket ç½‘ç»œç¼–ç¨‹ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy å¦‚ä½•ä½¿ç”¨ Socket ç½‘ç»œç¼–ç¨‹ > å¤§ä½¬é¼  2020 11 26 ç¼–è¾‘ï¼Œæˆªæ­¢ç›®å‰ MaixPy çš„ socket æ¨¡å—è¿˜æœªèƒ½å®ç° listen / bind / accept ç­‰æ¥å£ã€‚ ## å¦‚ä½•ä½¿ç”¨ TCP å’Œ UDP å®¢æˆ·ç«¯è¿æ¥æœåŠ¡å™¨ å‡è®¾å·²çŸ¥ [å¦‚ä½•ç»™ MaixPy è¿æ¥ç½‘ç»œ](./network_config.html) çš„åŸºç¡€å†…å®¹ï¼Œç›´æ¥è¿è¡Œç¤ºä¾‹ä»£ç ã€‚ * è­¦å‘Šï¼šä¸å‡†é—®ï¼šâ€œæ²¡è”ç½‘ä¸ºä»€ä¹ˆä¸èƒ½è®¿é—®ç½‘ç»œçš„é—®é¢˜ï¼â€ è¯·ç¡®è®¤ åœ°å€ å’Œ ç«¯å£åå†ä½¿ç”¨ä»¥ä¸‹å®¢æˆ·ç«¯ä»£ç ã€‚ ### å‡†å¤‡å®¢æˆ·ç«¯ä»£ç  æœ‰å¦‚ä¸‹å‡ ç±»å…¸å‹å®¢æˆ·ç«¯ä»£ç ï¼š TCP å®¢æˆ·ç«¯ [demo_socket_tcp_client.py](https://github.com/sipeed/MaixPy v1_scripts/blob/master/network/demo_socket_tcp_client.py) UDP å®¢æˆ·ç«¯ [demo_socket_udp_client.py](https://github.com/sipeed/MaixPy v1_scripts/blob/master/network/demo_socket_udp_client.py) TCP å›¾ä¼  å®¢æˆ·ç«¯ [demo_socket_pic_client.py](https://github.com/sipeed/MaixPy v1_scripts/blob/master/network/demo_socket_pic_client.py) ### å‡†å¤‡è°ƒè¯•å·¥å…·ï¼ˆæœåŠ¡ç«¯ä»£ç ï¼‰ å¸¸è§äºç½‘ç»œè°ƒè¯•åŠ©æ‰‹ï¼Œæˆ–è€…è‡ªå·±åœ¨ç”µè„‘ä¸Šè¿è¡Œæä¾›çš„ Python3 æœåŠ¡ç«¯è„šæœ¬ã€‚ TCP æœåŠ¡ç«¯ [demo_socket_tcp_server.py](https://github.com/sipeed/MaixPy v1_scripts/blob/master/network/demo_socket_tcp_server.py) UDP æœåŠ¡ç«¯ [demo_socket_udp_server.py](https://github.com/sipeed/MaixPy v1_scripts/blob/master/network/demo_socket_udp_server.py) TCP å›¾ä¼  æœåŠ¡ç«¯ [demo_socket_pic_server.py](https://github.com/sipeed/MaixPy v1_scripts/blob/master/network/demo_socket_pic_server.py) å…ˆèµ·ä¸€ä¸ªå·²çŸ¥ IP åœ°å€å’Œç«¯å£çš„ç½‘ç»œæœåŠ¡ï¼Œç­‰å¾… MaixPy ä½œä¸ºå®¢æˆ·ç«¯å‘é€æ•°æ®è¿‡æ¥æœåŠ¡å™¨ã€‚ ### å…¸å‹å®¢æˆ·ç«¯ä»£ç ä¸¾ä¾‹ TCP ```python import socket ADDR (\"192.168.0.107\", 60000) sock socket.socket() sock.connect(ADDR) sock.settimeout(1) while 1: sock.send(\"hello\\n\") #data sock.recv(10) # old maxipy have bug (recv timeout no return last data) #print(data) # fix try: data b\"\" while True: tmp sock.recv(1) print(tmp) if len(tmp) 0: raise Exception('timeout or disconnected') data + tmp except Exception as e: print(\"rcv:\", len(data), data) #time.sleep(2) sock.close() ``` UDP ```python import socket ADDR (\"192.168.0.107\", 60000) sock socket.socket(socket.AF_INET, socket.SOCK_DGRAM) sock.settimeout(1) while 1: try: sock.sendto(\"hello\\n\", ADDR) data, addr sock.recvfrom(1024) except Exception as e: print(\"receive error:\", e) continue print(\"addr:\", addr, \"data:\", data) time.sleep(2) sock.close() ''' >>> raw REPL; CTRL B to exit >OK network state: True ('192.168.0.186', '255.255.255.0', '192.168.0.1') addr: ('192.168.0.107', 60000) data: b'HELLO\\n' addr: ('192.168.0.107', 60000) data: b'HELLO\\n' addr: ('192.168.0.107', 60000) data: b'HELLO\\n' ''' ``` ### å…¶ä»–ç½‘ç»œåŠŸèƒ½ ä»¥ä¸‹ä¸ºç‰¹æ®ŠåŠŸèƒ½ä»£ç ã€‚ #### esp32 çš„ ping [demo_esp32_ping.py](https://github.com/sipeed/MaixPy v1_scripts/blob/master/network/demo_esp32_ping.py) ```shell ESP32_SPI firmware version: 1.4.0 try AT connect wifi... network state: True ('192.168.0.180', '255.255.255.0', '192.168.0.1') ping baidu.com: 40 ms > MicroPython v0.5.1 136 g039f72b6c dirty on 2020 11 18; Sipeed_M1 with kendryte k210 Type \"help()\" for more information. >>> ``` #### esp32 çš„ ADC [demo_esp32_read_adc.py](https://github.com/sipeed/MaixPy v1_scripts/blob/master/network/demo_esp32_read_adc.py) ```shell MicroPython v0.5.1 136 g039f72b6c dirty on 2020 11 18; Sipeed_M1 with kendryte k210 Type \"help()\" for more information. >>> raw REPL; CTRL B to exit >OK (2370, 3102, 3071) 2017 2753 0977 2709 0963 0855 : adc 0617 0757 0150 0095 0133 0153 : adc 1319 1478 0955 0939 0698 0619 : adc 2403 3231 3299 3298 1483 0779 : adc 1119 1815 1274 1315 0230 0255 : adc 0951 0951 0295 0283 0319 0399 : adc 2175 2769 2576 2579 1487 1104 : adc 1995 2846 2647 2699 0839 0441 : adc ``` > å…¶å® espAT ä¹Ÿæ˜¯è¿™æ ·è·å– ADC çš„ï¼Œä½†åªèƒ½åœ¨æŒ‡å®šçš„å¼•è„šä¸Šã€‚ #### HTTP çš„æ”¯æŒ [demo_http_get_jpg.py](https://github.com/sipeed/MaixPy v1_scripts/blob/master/network/demo_http_get_jpg.py) #### https çš„æ”¯æŒ è¯¥åŠŸèƒ½é»˜è®¤æ˜¯ä¸è¢«ç¼–è¯‘çš„ï¼Œä½†æ‰€ä»¥æä¾›çš„æ˜¯ HTTP çš„ä½¿ç”¨æ–¹æ³•ï¼Œè€Œ HTTP å’Œ HTTPS åªæ˜¯è·¯å¾„ url çš„åŒºåˆ«ï¼Œæ³¨æ„è¿™ä¸ª https çš„ IP è§£æä¾èµ–äºç½‘å¡å›ºä»¶ï¼Œå¹¶ä¸åœ¨ K210 ä¸Šå®Œæˆã€‚ [demo_socket_https.py](https://github.com/sipeed/MaixPy v1_scripts/blob/master/network/demo_socket_https.py) #### esp32ã€82XX çš„ scan WIFI AP çƒ­ç‚¹ [demo_esp32_ap_scan.py](https://github.com/sipeed/MaixPy v1_scripts/blob/master/network/demo_esp32_ap_scan.py) [demo_espat_ap_scan.py](https://github.com/sipeed/MaixPy v1_scripts/blob/master/network/demo_espat_ap_scan.py) ```python ''' >>> raw REPL; CTRL B to exit >OK SSID: Sipeed_2.4G , ENC:WPA/WPA2 PSK , RSSI: 57 SSID: ChinaNet Ffdj , ENC:WPA/WPA2 PSK , RSSI: 58 SSID: wea_615 , ENC:WPA/WPA2 PSK , RSSI: 67 SSID: ChinaNet PnAN , ENC:WPA/WPA2 PSK , RSSI: 70 SSID: wea_613 , ENC:WPA/WPA2 PSK , RSSI: 73 SSID: ChinaNet TnSG , ENC:WPA/WPA2 PSK , RSSI: 82 SSID: chipshine_GUEST , ENC:WPA/WPA2 PSK , RSSI: 83 SSID: ASUS , ENC:WPA/WPA2 PSK , RSSI: 86 SSID: gta888 , ENC:WPA/WPA2 PSK , RSSI: 87 SSID: huahua , ENC:WPA/WPA2 PSK , RSSI: 88 > MicroPython v0.5.1 136 g039f72b6c dirty on 2020 11 18; Sipeed_M1 with kendryte k210 Type \"help()\" for more information. >>> ''' ``` #### mqtt æ”¯æŒ è¿™ä¸ªæ˜¯æ¥è‡ªäº micropython çš„å®˜æ–¹ä»“åº“æä¾›çš„ä»£ç ï¼Œå¦‚æœæ˜¯å•†ä¸šç”¨é€”ï¼Œè¯·å°† socket é…ç½®ä¸ºéé˜»å¡ä¸”æ·»åŠ  MQTT ä¿æ´»çš„åè®®ã€‚ [demo_socket_mqtt.py](https://github.com/sipeed/MaixPy v1_scripts/blob/master/network/demo_socket_mqtt.py) #### æ›´æ–° ESP82XX çš„ AT å›ºä»¶ > è¿™æ˜¯ç»™ AT å›ºä»¶æä¾›çš„åŠŸèƒ½ï¼Œæ‡‚çš„è‡ªç„¶æ‡‚ã€‚ [demo_espat_ap_test.py](https://github.com/sipeed/MaixPy v1_scripts/blob/master/network/demo_espat_ap_test.py) [espat_upgrade.py](https://github.com/sipeed/MaixPy v1_scripts/blob/master/network/espat_upgrade.py)"},"/soft/maixpy/zh/api_reference/media/audio.html":{"title":"audioï¼ˆéŸ³é¢‘ï¼‰","content":" title: audioï¼ˆéŸ³é¢‘ï¼‰ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy audioï¼ˆéŸ³é¢‘ï¼‰ æŠ½è±¡çš„éŸ³é¢‘å¯¹è±¡ï¼Œè¯¥å¯¹è±¡å¯ä»¥è¢«å½“åšå‚æ•°ä¼ å…¥ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨å…¶æ–¹æ³•æ¥æ’­æ”¾éŸ³é¢‘ ## æ¨¡å—å‡½æ•° ### æ„é€ å‡½æ•° æ„é€  `Audio` å¯¹è±¡ ```python audio.Audio(array None, path None, points 1024) ``` #### å‚æ•° è¯¥æ¥å£èƒ½ä¼ å…¥ä¸€ä¸ªå‚æ•°ï¼Œæ¯ä¸ªå‚æ•°ä¼šå†³å®šä¸åŒçš„éŸ³é¢‘ç±»å‹ * `array`: `bytearray`ç±»å‹çš„æ•°æ®ï¼Œå¯ä»¥å°†è¯¥æ•°æ®è½¬æ¢ä¸ºéŸ³é¢‘å¯¹è±¡ï¼Œ é»˜è®¤ `None` * `path`: æ‰“å¼€çš„éŸ³é¢‘æ–‡ä»¶è·¯å¾„ï¼Œç›®å‰ä»…æ”¯æŒ `wav` æ ¼å¼ï¼Œ é»˜è®¤ `None`, **æ³¨æ„**éœ€è¦æ ‡æ˜å…³é”®å­—`path`ï¼Œ`audio.Audio(\"/sd/1.wav\")`è¿™æ ·æ˜¯é”™çš„ï¼ï¼ `audio.Audio(path \"/sd/1.wav\")` æ‰æ˜¯æ­£ç¡®çš„ * `points`: å¼€è¾Ÿæœ‰ points ä¸ªé‡‡æ ·ç‚¹æ•°çš„éŸ³é¢‘ç¼“å†²ï¼Œä¸€ä¸ªé‡‡æ ·ç‚¹å¤§å°ä¸º 32bitã€‚ä¸º0çš„æƒ…å†µä¸‹å°†ä¸å¼€è¾Ÿç¼“å†², é»˜è®¤ `1024` #### è¿”å›å€¼ è¿”å›ä¸€ä¸ª `Audio` å¯¹è±¡ ### to_bytes: bytesè½¬æ¢å‡½æ•° å°†éŸ³é¢‘å¯¹è±¡ä¸­çš„éŸ³é¢‘æ•°æ®è½¬æ¢ä¸º `bytearray` ç±»å‹çš„å¯¹è±¡ ``` audio_data test_audio.to_bytes() ``` #### å‚æ•° æ—  #### è¿”å›å€¼ è¿”å›çš„éŸ³é¢‘æ•°æ® `bytearray` å¯¹è±¡ ### play_process: æ’­æ”¾é¢„å¤„ç†å‡½æ•° ç”¨äºé¢„å¤„ç†éŸ³é¢‘å¯¹è±¡ï¼Œåœ¨æ’­æ”¾ä¹‹å‰éœ€è¦å¯¹éŸ³é¢‘æ–‡ä»¶è¿›è¡Œè§£æï¼Œæ‰€ä»¥éœ€è¦é¢„å¤„ç†ã€‚è¿™é‡Œéœ€è¦ä¼ å…¥ä¸€ä¸ªæ’­æ”¾ç”¨çš„ I2S è®¾å¤‡ ``` wav_info test_audio.play_process(i2s_dev) ``` #### å‚æ•° * `i2s_dev`: ç”¨äºæ’­æ”¾çš„i2sè®¾å¤‡ #### è¿”å›å€¼ è¯¥ wav æ–‡ä»¶çš„å¤´éƒ¨ä¿¡æ¯ ,`list`ç±»å‹ï¼Œåˆ†åˆ«æ˜¯`numchannels`ï¼ˆå£°é“æ•°ï¼‰, `samplerate`ï¼ˆé‡‡æ ·ç‡ï¼‰, `byterate`ï¼ˆæ¯ç§’æ•°æ®å­—èŠ‚æ•° samplerate * numchannels * bitspersample / 8ï¼‰, `blockalign`ï¼ˆæ¯ä¸ªé‡‡æ ·æ‰€éœ€çš„å­—èŠ‚æ•° numchannels * bitspersample / 8ï¼‰, `bitspersample`ï¼ˆæ¯ä¸ªé‡‡æ ·å­˜å‚¨çš„bitæ•°ï¼Œ8ï¼š8bitï¼Œ16ï¼š16bitï¼Œ32ï¼š32bitï¼‰, `datasize`ï¼ˆéŸ³é¢‘æ•°æ®é•¿åº¦ï¼‰ ### play: æ’­æ”¾å‡½æ•° è¯»å–éŸ³é¢‘æ–‡ä»¶å¹¶ä¸”è§£ææ’­æ”¾ï¼Œä¸€èˆ¬é…åˆå¾ªç¯æ¥ä½¿ç”¨ #### å‚æ•° æ—  #### è¿”å›å€¼ * `None`ï¼š æ ¼å¼ä¸æ”¯æŒæ’­æ”¾ * `0`ï¼š æ’­æ”¾ç»“æŸ * `1`ï¼š æ­£åœ¨æ’­æ”¾ ### finishï¼š éŸ³é¢‘åå¤„ç†å‡½æ•° å®ŒæˆéŸ³é¢‘æ’­æ”¾ï¼Œè¯¥å‡½æ•°å¿…é¡»åœ¨æ’­æ”¾å®Œæ¯•åè°ƒç”¨ï¼Œå›æ”¶åº•å±‚åˆ†é…çš„èµ„æº #### å‚æ•° æ—  #### è¿”å›å€¼ æ—  ## ä¾‹ç¨‹ æ’­æ”¾ `wav` éŸ³é¢‘ ```python from fpioa_manager import * from Maix import I2S, GPIO import audio # disable wifi fm.register(8, fm.fpioa.GPIO0) wifi_en GPIO(GPIO.GPIO0,GPIO.OUT) wifi_en.value(0) # register i2s(i2s0) pin fm.register(34,fm.fpioa.I2S0_OUT_D1) fm.register(35,fm.fpioa.I2S0_SCLK) fm.register(33,fm.fpioa.I2S0_WS) # init i2s(i2s0) wav_dev I2S(I2S.DEVICE_0) # init audio player audio.Audio(path \"/sd/6.wav\") player.volume(40) # read audio info wav_info player.play_process(wav_dev) print(\"wav file head information: \", wav_info) # config i2s according to audio info wav_dev.channel_config(wav_dev.CHANNEL_1, I2S.TRANSMITTER,resolution I2S.RESOLUTION_16_BIT ,cycles I2S.SCLK_CYCLES_32, align_mode I2S.RIGHT_JUSTIFYING_MODE) wav_dev.set_sample_rate(wav_info[1]) # loop to play audio while True: ret player.play() if ret None: print(\"format error\") break elif ret 0: print(\"end\") break player.finish() ```"},"/soft/maixpy/zh/api_reference/media/nes.html":{"title":"NES æ¸¸æˆæ¨¡æ‹Ÿå™¨","content":" title: NES æ¸¸æˆæ¨¡æ‹Ÿå™¨ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy NES æ¸¸æˆæ¨¡æ‹Ÿå™¨ ç»å…¸çš„ FC çº¢ç™½æœº æ¸¸æˆæ¨¡æ‹Ÿå™¨ï¼Œ å¸¦æˆ‘ä»¬å›åˆ°å°æ—¶å€™å§ï½ï½ **è­¦å‘Šï¼Œè¯¥æ¨¡å—åªåœ¨æ ‡å‡†å›ºä»¶ï¼ˆ> 2mï¼‰ä¸­è¢«ç¼–è¯‘åŒ…å«ï¼Œå…¶ä»–å›ºä»¶ä¸å¸¦æœ‰ï¼Œå¦‚æœ‰éœ€æ±‚ï¼Œè¯·é‡æ–°ç¼–è¯‘å›ºä»¶ã€‚** ## å‡½æ•° ### init(rc_type nes.KEYBOARD, cs, mosi, miso, clk, repeat 16, vol 5) åˆå§‹åŒ– `NES` æ¨¡æ‹Ÿå™¨ #### å‚æ•° * `tc_type`ï¼š é¥æ§å™¨ç±»å‹ï¼Œ é”®ç›˜ï¼ˆ`nes.KEYBOARD`ï¼‰ï¼ˆæ³¨æ„æ˜¯ä¸²å£ä¸ç”µè„‘é€šä¿¡ï¼Œè€Œä¸æ˜¯ç›´æ¥æ¥USBé”®ç›˜åˆ°å¼€å‘æ¿ï¼‰æˆ–è€…æ‰‹æŸ„ï¼ˆ`nes.JOYSTICK`ï¼‰ã€‚ > å»ºè®®ä½¿ç”¨`PS2`æ‰‹æŸ„ï¼Œä½“éªŒä¼šæ›´å¥½ï¼Œ é”®ç›˜é€šè¿‡ä¸²å£å·¥å…·è¾“å…¥å¯èƒ½ä¸èƒ½åŒæ—¶æŒ‰å¤šä¸ªæŒ‰é”®ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥é€šè¿‡è‡ªå·±åœ¨PCå†™ä¸€ä¸ªè„šæœ¬æ¥è½¬å‘é”®å€¼å°±èƒ½è§£å†³ï¼ˆå»[è¿™é‡Œ](https://github.com/sipeed/MaixPy v1_scripts/tree/master/multimedia/nes)æ‰¾æ‰¾ï¼Ÿï¼‰ * `cs`ï¼š å¦‚æœä½¿ç”¨ `SPI` æ¥å£çš„ `PS2` æ‰‹æŸ„ï¼Œ ä¼ å…¥ `cs` å¤–è®¾ç¼–å·ï¼ˆæ³¨æ„ä¸æ˜¯å¼•è„šå·ï¼Œéœ€è¦å…ˆæ˜ å°„å¼•è„šï¼‰ * `mosi`ï¼š å¦‚æœä½¿ç”¨ `SPI` æ¥å£çš„ `PS2` æ‰‹æŸ„ï¼Œ ä¼ å…¥ `mosi` å¤–è®¾ç¼–å·ï¼ˆæ³¨æ„ä¸æ˜¯å¼•è„šå·ï¼Œéœ€è¦å…ˆæ˜ å°„å¼•è„šï¼‰ * `miso`ï¼š å¦‚æœä½¿ç”¨ `SPI` æ¥å£çš„ `PS2` æ‰‹æŸ„ï¼Œ ä¼ å…¥ `miso` å¤–è®¾ç¼–å·ï¼ˆæ³¨æ„ä¸æ˜¯å¼•è„šå·ï¼Œéœ€è¦å…ˆæ˜ å°„å¼•è„šï¼‰ * `clk`ï¼š å¦‚æœä½¿ç”¨ `SPI` æ¥å£çš„ `PS2` æ‰‹æŸ„ï¼Œ ä¼ å…¥ `clk` å¤–è®¾ç¼–å·ï¼ˆæ³¨æ„ä¸æ˜¯å¼•è„šå·ï¼Œéœ€è¦å…ˆæ˜ å°„å¼•è„šï¼‰ * `repeat`ï¼š è¿™ä¸ªå‚æ•°åªå¯¹ä½¿ç”¨é”®ç›˜ï¼ˆ/ä¸²å£ï¼‰æ—¶ï¼Œ æŒ‡æŒ‰é”®çš„é‡å¤ç‡ * `vol`ï¼š åˆå§‹åŒ–æ—¶çš„éŸ³é‡ï¼Œ åé¢å¯ä»¥é€šè¿‡æŒ‰é”®è°ƒæ•´ ### åŸºç¡€ç¤ºä¾‹ è¿è¡Œ `NES` æ¸¸æˆ `ROM` #### å‚æ•° * `nes`ï¼š æ¸¸æˆ `ROM` è·¯å¾„ï¼Œ æ¯”å¦‚ `/sd/mario.nes` ```python try: nes.init(nes.INPUT) nes.load(\"/sd/mario.nes\") while True: nes.loop() finally: nes.free() ``` ## å¿«æ·é”® ### ä»£ç è¾“å…¥ * `nes.input` ï¼š `(â‘ å·æœºæ‰‹æŸ„, â‘¡å·æœºæ‰‹æŸ„, èœå•åŠŸèƒ½)` ### é”®ç›˜ï¼ˆ/ä¸²å£ï¼‰ * `ç§»åŠ¨` ï¼š `W A S D` * `A` ï¼š `J` * `B` ï¼š `K` * `start` ï¼š `M` æˆ–è€… `Enter` * `option`ï¼š `N` æˆ–è€… `\\` * `é€€å‡º` ï¼š `ESC` * `éŸ³é‡ ` ï¼š ` ` * `éŸ³é‡ +` ï¼š ` ` * `è¿è¡Œé€Ÿåº¦ ` ï¼š `R` * `è¿è¡Œé€Ÿåº¦ +` ï¼š `F` ### æ‰‹æŸ„ * `ç§»åŠ¨` ï¼š æ–¹å‘é”® `< ` `^` `V` ` >` * `A` ï¼š `â–¡` * `B` ï¼š `Ã—` * `start` ï¼š `START` * `select`ï¼š `SELECT` * `é€€å‡º` ï¼š æš‚æ—  * `éŸ³é‡ ` ï¼š `R2` * `éŸ³é‡ +` ï¼š `R1` * `è¿è¡Œé€Ÿåº¦ ` ï¼š `L1` * `è¿è¡Œé€Ÿåº¦ +` ï¼š `L2` ## ä¾‹ç¨‹ > \"mario.nes\" æ¸¸æˆæ–‡ä»¶è¯·è‡ªè¡Œæœç´¢ä¸‹è½½ ### Gamepadæµ‹è¯• ä»¥ä¸‹ä¸ºåŒæ‰‹æŸ„è¾“å…¥æµ‹è¯•ä»£ç ï¼Œå…·ä½“çš„æ¥çº¿å’Œæµ‹è¯•æ–¹å¼è¯·çœ‹[Gamgpadæµ‹è¯•](/hardware/zh/modules/amigo_handle.html#æ‰‹æŸ„æµ‹è¯•) ```python from machine import I2C import nes, lcd from sound import CubeAudio import sys, time from fpioa_manager import fm from Maix import FPIOA, GPIO # B A SEL START UP DOWN LEFT RIGHT X Y # 1 2 4 8 16 32 64 128 254 253 i2c I2C(I2C.I2C2, freq 400*1000, sda 27, scl 24) lcd.init(freq 15000000) lcd.register(0x36, 0x20 state 0 import time i 0 while True: dev i2c1.scan() print(dev) dev i2c2.scan() print(dev) time.sleep(0.5) try: #i2c.writeto(0x4A, b'0') tmp (i2c1.readfrom(0x4A, 2)) print('{} {}'.format(int(tmp[0]), int(tmp[1]))) except Exception as e: print(e) try: #i2c.writeto(0x42, b'0') tmp (i2c2.readfrom(0x42, 2)) print('{} {}'.format(int(tmp[0]), int(tmp[1]))) except Exception as e: print(e) ``` ### é”®ç›˜ï¼ˆä¸²å£ï¼‰ ```python import nes, lcd lcd.init(freq 15000000) nes.init(nes.KEYBOARD) nes.load(\"/sd/mario.nes\") while True: nes.loop() ``` ### PS2 æ‰‹æŸ„ ```python import nes, lcd from fpioa_manager import fm fm.register(19, fm.fpioa.GPIOHS19) fm.register(18, fm.fpioa.GPIOHS18) fm.register(23, fm.fpioa.GPIOHS23) fm.register(21, fm.fpioa.GPIOHS21) lcd.init(freq 15000000) nes.init(nes.JOYSTICK, cs fm.fpioa.GPIOHS19, clk fm.fpioa.GPIOHS18, mosi fm.fpioa.GPIOHS23, miso fm.fpioa.GPIOHS21) nes.load(\"/sd/mario.nes\") while True: nes.loop() ``` ### åŒæ‰‹æŸ„ç©æ¸¸æˆ(Amigo) ```python from machine import I2C import nes, lcd from sound import CubeAudio import sys, time from fpioa_manager import fm from Maix import FPIOA, GPIO import time i2c I2C(I2C.I2C3, freq 400*1000, sda 27, scl 24) CubeAudio.init(i2c) tmp CubeAudio.check() print(tmp) CubeAudio.ready(volume 100) fm.fpioa.set_function(13,fm.fpioa.I2S0_MCLK) fm.fpioa.set_function(21,fm.fpioa.I2S0_SCLK) fm.fpioa.set_function(18,fm.fpioa.I2S0_WS) fm.fpioa.set_function(35,fm.fpioa.I2S0_IN_D0) fm.fpioa.set_function(34,fm.fpioa.I2S0_OUT_D2) i2c1 I2C(I2C.I2C1, freq 400*1000, sda 9, scl 7) #P1æ‰‹æŸ„I2Cè®¾ç½® i2c I2C(I2C.I2C2, freq 400*1000, sda 27, scl 24) #P2æ‰‹æŸ„I2Cè®¾ç½® lcd.init(freq 15000000) lcd.register(0x36, 0x20) # amigo state 0 try: nes.init(nes.INPUT) nes.load(\"mario.nes\") #æ¸¸æˆæ–‡ä»¶å nes.load(\"/sd/mario.nes\") #è¯»å–sdå¡æ¸¸æˆæ–‡ä»¶ for i in range(20000): nes.loop() for i in range(500): nes.loop() nes.input(8, 0, 0) nes.loop() nes.input(0, 0, 0) nes.loop() while True: #è¿™æ˜¯P1æ‰‹æŸ„è¾“å…¥ try: left (i2c1.readfrom(0x4A, 1)) except Exception as e: print(e) nes.loop() #è¿™æ˜¯P2æ‰‹æŸ„è¾“å…¥ try: right (i2c.readfrom(0x42, 1)) except Exception as e: print(e) #nes.input(right[0], 0, 0) #å•ä¸ªæ‰‹æŸ„è¾“å…¥ nes.input(right[0], left[0], 0) #åŒæ‰‹æŸ„è¾“å…¥ for i in range(100): nes.loop() nes.loop() finally: nes.free() ```"},"/soft/maixpy/zh/api_reference/media/video.html":{"title":"videoï¼ˆè§†é¢‘ï¼‰","content":" title: videoï¼ˆè§†é¢‘ï¼‰ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy videoï¼ˆè§†é¢‘ï¼‰ æ”¯æŒæ’­æ”¾å’Œå½•åˆ¶ `avi` è§†é¢‘ï¼Œéœ€è¦çƒ§å½• [æ ‡å‡†å›ºä»¶](https://dl.sipeed.com/shareURL/MAIX/MaixPy/release/master/maixpy_v0.6.2_41_g02d12688e) ï¼Œæ‰èƒ½ä½¿ç”¨ ## å…¨å±€å‡½æ•° ### open(path, record False, interval 100000, quality 50, width 320, height 240, audio False, sample_rate 44100, channels 1) æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶æ¥æ’­æ”¾æˆ–è€…å½•åˆ¶ #### å‚æ•° * `path`ï¼š æ–‡ä»¶è·¯å¾„ï¼Œ æ¯”å¦‚ `/sd/badapple.avi` * `record`ï¼š æ˜¯å¦è¿›è¡Œå½•åˆ¶ï¼Œ å¦‚æœé€‰æ‹© `Ture`ï¼Œ åˆ™ä¼šè¿›è¡Œå½•åˆ¶è§†é¢‘ï¼Œå¦åˆ™æ˜¯æ’­æ”¾è§†é¢‘ã€‚ é»˜è®¤ `False` * `interval`ï¼š å½•åˆ¶çš„å¸§é—´éš”ï¼Œ å•ä½æ˜¯å¾®ç§’ï¼Œ fps 1000000/intervalï¼Œ é»˜è®¤ `100000`ï¼Œ å³æ¯ç§’`10`å¸§ * `quality`ï¼š `jpeg` å‹ç¼©è´¨é‡ï¼ˆ`%`ï¼‰ï¼Œ é»˜è®¤`50` * `width`ï¼š å½•åˆ¶å±å¹•å®½åº¦ï¼Œ é»˜è®¤ `320` * `height`ï¼š å½•åˆ¶å±å¹•é«˜åº¦ï¼Œ é»˜è®¤ `240` * `audio`ï¼š æ˜¯å¦å½•åˆ¶éŸ³é¢‘ï¼Œ é»˜è®¤ `False` * `sample_rate`ï¼š å½•åˆ¶éŸ³é¢‘é‡‡æ ·ç‡ï¼Œ é»˜è®¤ `44100` (`44.1k`) * `channels`ï¼š å½•åˆ¶éŸ³é¢‘å£°é“æ•°ï¼Œ é»˜è®¤ `1`ï¼Œ å³å•å£°é“ #### è¿”å›å€¼ è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œ æ ¹æ®ä¸åŒæ ¼å¼è¿”å›çš„å¯¹è±¡ä¸åŒã€‚ ç›®å‰åªæ”¯æŒ `avi` æ ¼å¼ï¼Œ è¿”å› ç”± `avi` ç±»åˆ›å»ºçš„å¯¹è±¡ ## ç±» `avi` ç”± `video.open()` å‡½æ•°è¿”å› ### play() æ’­æ”¾è§†é¢‘ï¼Œ æ¯è°ƒç”¨ä¸€æ¬¡è§£æä¸€æ¬¡æ•°æ®ï¼ˆéŸ³é¢‘æˆ–è€…è§†é¢‘ï¼‰ #### è¿”å›å€¼ * `0`ï¼š æ’­æ”¾ç»“æŸ * `1`ï¼š æ­£åœ¨æ’­æ”¾ * `2`ï¼š æš‚åœï¼ˆä¿ç•™ï¼‰ * `3`ï¼š å½“å‰è§£ç çš„å¸§æ˜¯è§†é¢‘å¸§ * `4`ï¼š å½“å‰è§£ç çš„å¸§æ˜¯éŸ³é¢‘å¸§ ### capture(img) æ•è·è§†é¢‘ç”»é¢å¸§ï¼ˆé¡ºåºæ•è·ï¼‰ #### å‚æ•° * `img`: image å¯¹è±¡, ç”¨æ¥å­˜æ”¾æ•è·åˆ°çš„ç”»é¢ #### è¿”å›å€¼ * `0`ï¼š å·²ç»è¾¾åˆ°è§†é¢‘æœ«å°¾ * `3`ï¼š æˆåŠŸæ•è·åˆ°è§†é¢‘ç”»é¢å¸§ ### volume(volume) è®¾ç½®éŸ³é‡ #### å‚æ•° * `volume`ï¼š éŸ³é‡å€¼ï¼Œ å–å€¼èŒƒå›´ï¼š[0,100] #### è¿”å›å€¼ è®¾ç½®çš„éŸ³é‡å€¼ï¼Œ å–å€¼èŒƒå›´ [0,100] ### record() å½•åˆ¶è§†é¢‘å’ŒéŸ³é¢‘ï¼Œ æ¯è°ƒç”¨ä¸€æ¬¡å½•åˆ¶ä¸€å¸§ï¼Œå‡½æ•°å†…éƒ¨ä¼šé™åˆ¶é€Ÿåº¦ï¼Œå¦‚æœæ²¡æœ‰åˆ°å½•åˆ¶è®¾ç½®çš„é—´éš”ï¼Œåœ¨åˆ°è¾¾è®¾å®šçš„é—´éš”ä¹‹å‰ä¼šé˜»å¡ #### è¿”å›å€¼ å½•åˆ¶çš„è§†é¢‘çš„å½“å‰å¸§çš„é•¿åº¦ ## ä¾‹ç¨‹ ### ä¾‹ç¨‹ 1ï¼š æ’­æ”¾ `avi` è§†é¢‘ é¦–å…ˆä¿è¯è§†é¢‘æ˜¯ `320x240` å¤§å°ï¼Œ è§†é¢‘å‹ç¼©æ ¼å¼ä¸º `mjpeg`ï¼Œ éŸ³é¢‘å‹ç¼©æ ¼å¼ä½ `PCM`ï¼Œ è¿˜éœ€è¦æ¥å…¥æ‰¬å£°å™¨å’ŒLCDã€‚ å¯ä»¥åœ¨è¿™é‡Œä¸‹è½½æµ‹è¯•å¯ä»¥ç”¨çš„è§†é¢‘ï¼š [badapple.avi](http://api.dl.sipeed.com/shareURL/MAIX/MaixPy/assets) ```python from Maix import GPIO, I2S from fpioa_manager import fm import lcd import video import time lcd.init() # AUDIO_PA_EN_PIN None # Bit Dock and old MaixGo AUDIO_PA_EN_PIN 32 # Maix Go(version 2.20) # AUDIO_PA_EN_PIN 2 # Maixduino # init i2s(i2s0) i2s I2S(I2S.DEVICE_0) # config i2s according to audio info i2s.channel_config(i2s.CHANNEL_1, I2S.TRANSMITTER, resolution I2S.RESOLUTION_16_BIT, cycles I2S.SCLK_CYCLES_32, align_mode I2S.RIGHT_JUSTIFYING_MODE) # open audio PA if AUDIO_PA_EN_PIN: fm.register(AUDIO_PA_EN_PIN, fm.fpioa.GPIO1, force True) wifi_en GPIO(GPIO.GPIO1, GPIO.OUT) wifi_en.value(1) fm.register(34, fm.fpioa.I2S0_OUT_D1, force True) fm.register(35, fm.fpioa.I2S0_SCLK, force True) fm.register(33, fm.fpioa.I2S0_WS, force True) v video.open(\"/sd/badapple_320_240_15fps.avi\") print(v) v.volume(50) while True: if v.play() 0: print(\"play end\") break v.__del__() ``` é»˜è®¤ä½¿ç”¨äº† `I2S0` æ¥æ’­æ”¾éŸ³é¢‘ï¼Œ æ‰€ä»¥éœ€è¦è®¾ç½® `I2S0` å¯¹åº”çš„å¼•è„šï¼Œ å…³é—­WiFiæ˜¯å› ä¸º`Dock`æ¿WiFiå¯¹éŸ³è´¨çš„å¹²æ‰° ### ä¾‹ç¨‹2ï¼š å½•åˆ¶ `avi` è§†é¢‘ ```python import sensor, image, lcd, time lcd.init(freq 15000000) sensor.reset() sensor.set_pixformat(sensor.RGB565) sensor.set_framesize(sensor.QVGA) sensor.set_hmirror(1) sensor.set_vflip(1) sensor.run(1) sensor.skip_frames(30) import video v video.open(\"/sd/capture.avi\", audio False, record 1, interval 200000, quality 50) tim time.ticks_ms() for i in range(50): tim time.ticks_ms() img sensor.snapshot() lcd.display(img) img_len v.record(img) # print(\"record\",time.ticks_ms() tim) print(\"record_finish\") v.record_finish() v.__del__() # play your record v video.open(\"/sd/capture.avi\") print(v) v.volume(50) while True: if v.play() 0: print(\"play end\") break print(\"play finish\") v.__del__() lcd.clear() ``` å¯ä»¥å–æ¶ˆæ‰“å°å±è”½æ¥çœ‹å®é™…çš„å½•åˆ¶é—´éš”æœ‰æ²¡æœ‰è¾¾åˆ°è®¾ç½®çš„å¸§é—´éš”ï¼ˆæ¯”å¦‚è¿™é‡Œè®¾ç½®çš„`200000us`ï¼‰ å®é™…æ‰“å°åº”è¯¥æ˜¯ `200ms`ï¼Œ å¦‚æœå®é™…å¸§é—´éš”å¤§äºè®¾ç½®çš„å€¼ï¼Œåˆ™è¯´æ˜å®é™…æ€§èƒ½æ²¡æœ‰è¾¾åˆ°è®¾ç½®çš„è¦æ±‚ï¼Œéœ€è¦è°ƒå¤§è®¾ç½®çš„å¸§é—´éš”å³å‡å°å¸§ç‡ã€‚ å¦å¤–å»æ‰æ˜¾ç¤ºå’Œæ‰“å°ä¹Ÿå¯ä»¥ä¸€å®šç¨‹åº¦ä¸Šå¢åŠ å¸§ç‡ã€‚ ### ä¾‹ç¨‹3: é¡ºåº `avi` æ•è·è§†é¢‘å¸§å¹¶æ˜¾ç¤º ```python import lcd import video import image lcd.init() v video.open(\"/sd/badapple_320_240_15fps.avi\") print(v) img image.Image() while True: status v.capture(img) if status ! 0: lcd.display(img) else: print(\"end\") break; v.__del__() ```"},"/soft/maixpy/zh/api_reference/machine_vision/maix_asr.html":{"title":"maix_asrï¼ˆè¯­éŸ³è¯†åˆ«æ¨¡å—ï¼‰","content":" title: maix_asrï¼ˆè¯­éŸ³è¯†åˆ«æ¨¡å—ï¼‰ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy maix_asrï¼ˆè¯­éŸ³è¯†åˆ«æ¨¡å—ï¼‰ ## classï¼ˆç±»ï¼‰ ### maix_asr maix_asr æ„é€ å‚æ•°å¦‚ä¸‹ï¼š `address` çƒ§å†™å£°å­¦æ¨¡å‹çš„ Flash åœ°å€ã€‚ `i2s` å½•éŸ³è®¾å¤‡ï¼Œé»˜è®¤ä½¿ç”¨ I2S.DEVICE_0 ã€‚ `dmac` å½•éŸ³æ‰€ä½¿ç”¨çš„ DMA é€šé“ï¼Œé»˜è®¤ä½¿ç”¨ `é€šé“ 3`ã€‚ `shift` å£°é“é€‰æ‹©ï¼ŒMaix ç³»åˆ—çš„ç¡¬ä»¶å½•éŸ³è®¾å¤‡é€šå¸¸ä¸ºå•å£°é“è¾“å…¥ï¼Œè®¾ç½® 0 ä¸ºå·¦å£°é“ï¼Œæ‰€ä»¥ 1 ä¸ºå³å£°é“ã€‚ ```python from speech_recognizer import asr class maix_asr(asr): def config(self, sets): pass t maix_asr(0x500000, I2S.DEVICE_0, 3, shift 0) ``` è¯¥ maix_asr æ¨¡å—ç”±ç»§æ‰¿å†…éƒ¨ asr æ¨¡å—è€Œæ¥çš„æ‹“å±•é…ç½®æ¥å£è¾…åŠ©ç±»ï¼Œå®ç°å¦‚ä¸‹ï¼š ```python from speech_recognizer import asr class maix_asr(asr): asr_vocab [\"lv\", \"shi\", \"yang\", \"chun\", \"yan\", \"jing\", \"da\", \"kuai\", \"wen\", \"zhang\", \"de\", \"di\", \"se\", \"si\", \"yue\", \"lin\", \"luan\", \"geng\", \"xian\", \"huo\", \"xiu\", \"mei\", \"yi\", \"ang\", \"ran\", \"ta\", \"jin\", \"ping\", \"yao\", \"bu\", \"li\", \"liang\", \"zai\", \"yong\", \"dao\", \"shang\", \"xia\", \"fan\", \"teng\", \"dong\", \"she\", \"xing\", \"zhuang\", \"ru\", \"hai\", \"tun\", \"zhi\", \"tou\", \"you\", \"ling\", \"pao\", \"hao\", \"le\", \"zha\", \"zen\", \"me\", \"zheng\", \"cai\", \"ya\", \"shu\", \"tuo\", \"qu\", \"fu\", \"guang\", \"bang\", \"zi\", \"chong\", \"shui\", \"cuan\", \"ke\", \"shei\", \"wan\", \"hou\", \"zhao\", \"jian\", \"zuo\", \"cu\", \"hei\", \"yu\", \"ce\", \"ming\", \"dui\", \"cheng\", \"men\", \"wo\", \"bei\", \"dai\", \"zhe\", \"hu\", \"jiao\", \"pang\", \"ji\", \"lao\", \"nong\", \"kang\", \"yuan\", \"chao\", \"hui\", \"xiang\", \"bing\", \"qi\", \"chang\", \"nian\", \"jia\", \"tu\", \"bi\", \"pin\", \"xi\", \"zou\", \"chu\", \"cun\", \"wang\", \"na\", \"ge\", \"an\", \"ning\", \"tian\", \"xiao\", \"zhong\", \"shen\", \"nan\", \"er\", \"ri\", \"zhu\", \"xin\", \"wai\", \"luo\", \"gang\", \"qing\", \"xun\", \"te\", \"cong\", \"gan\", \"lai\", \"he\", \"dan\", \"wei\", \"die\", \"kai\", \"ci\", \"gu\", \"neng\", \"ba\", \"bao\", \"xue\", \"shuai\", \"dou\", \"cao\", \"mao\", \"bo\", \"zhou\", \"lie\", \"qie\", \"ju\", \"chuan\", \"guo\", \"lan\", \"ni\", \"tang\", \"ban\", \"su\", \"quan\", \"huan\", \"ying\", \"a\", \"min\", \"meng\", \"wu\", \"tai\", \"hua\", \"xie\", \"pai\", \"huang\", \"gua\", \"jiang\", \"pian\", \"ma\", \"jie\", \"wa\", \"san\", \"ka\", \"zong\", \"nv\", \"gao\", \"ye\", \"biao\", \"bie\", \"zui\", \"ren\", \"jun\", \"duo\", \"ze\", \"tan\", \"mu\", \"gui\", \"qiu\", \"bai\", \"sang\", \"jiu\", \"yin\", \"huai\", \"rang\", \"zan\", \"shuo\", \"sha\", \"ben\", \"yun\", \"la\", \"cuo\", \"hang\", \"ha\", \"tuan\", \"gong\", \"shan\", \"ai\", \"kou\", \"zhen\", \"qiong\", \"ding\", \"dang\", \"que\", \"weng\", \"qian\", \"feng\", \"jue\", \"zhuan\", \"ceng\", \"zu\", \"bian\", \"nei\", \"sheng\", \"chan\", \"zao\", \"fang\", \"qin\", \"e\", \"lian\", \"fa\", \"lu\", \"sun\", \"xu\", \"deng\", \"guan\", \"shou\", \"mo\", \"zhan\", \"po\", \"pi\", \"gun\", \"shuang\", \"qiang\", \"kao\", \"hong\", \"kan\", \"dian\", \"kong\", \"pei\", \"tong\", \"ting\", \"zang\", \"kuang\", \"reng\", \"ti\", \"pan\", \"heng\", \"chi\", \"lun\", \"kun\", \"han\", \"lei\", \"zuan\", \"man\", \"sen\", \"duan\", \"leng\", \"sui\", \"gai\", \"ga\", \"fou\", \"kuo\", \"ou\", \"suo\", \"sou\", \"nu\", \"du\", \"mian\", \"chou\", \"hen\", \"kua\", \"shao\", \"rou\", \"xuan\", \"can\", \"sai\", \"dun\", \"niao\", \"chui\", \"chen\", \"hun\", \"peng\", \"fen\", \"cang\", \"gen\", \"shua\", \"chuo\", \"shun\", \"cha\", \"gou\", \"mai\", \"liu\", \"diao\", \"tao\", \"niu\", \"mi\", \"chai\", \"long\", \"guai\", \"xiong\", \"mou\", \"rong\", \"ku\", \"song\", \"che\", \"sao\", \"piao\", \"pu\", \"tui\", \"lang\", \"chuang\", \"keng\", \"liao\", \"miao\", \"zhui\", \"nai\", \"lou\", \"bin\", \"juan\", \"zhua\", \"run\", \"zeng\", \"ao\", \"re\", \"pa\", \"qun\", \"lia\", \"cou\", \"tie\", \"zhai\", \"kuan\", \"kui\", \"cui\", \"mie\", \"fei\", \"tiao\", \"nuo\", \"gei\", \"ca\", \"zhun\", \"nie\", \"mang\", \"zhuo\", \"pen\", \"zun\", \"niang\", \"suan\", \"nao\", \"ruan\", \"qiao\", \"fo\", \"rui\", \"rao\", \"ruo\", \"zei\", \"en\", \"za\", \"diu\", \"nve\", \"sa\", \"nin\", \"shai\", \"nen\", \"ken\", \"chuai\", \"shuan\", \"beng\", \"ne\", \"lve\", \"qia\", \"jiong\", \"pie\", \"seng\", \"nuan\", \"nang\", \"miu\", \"pou\", \"cen\", \"dia\", \"o\", \"zhuai\", \"yo\", \"dei\", \"n\", \"ei\", \"nou\", \"bia\", \"eng\", \"den\", \"_\"] def get_asr_list(string 'xiao ai fas tong xue'): return [__class__.asr_vocab.index(t) for t in string.split(' ') if t in __class__.asr_vocab] def get_asr_string(listobj [117, 214, 257, 144]): return ' '.join([__class__.asr_vocab[t] for t in listobj if t < len(__class__.asr_vocab)]) def unit_test(): print(__class__.get_asr_list('xiao ai')) print(__class__.get_asr_string(__class__.get_asr_list('xiao ai fas tong xue'))) def config(self, sets): self.set([(sets[key], __class__.get_asr_list(key)) for key in sets]) def recognize(self): res self.result() # print(tmp) if res ! None: sets {} for tmp in res: sets[__class__.get_asr_string(tmp[1])] tmp[0] #print(tmp[0], get_asr_string(tmp[1])) return sets return None ``` ### functionï¼ˆæ–¹æ³•ï¼‰ #### config å¯ä»¥é…ç½®è¯­éŸ³è¯†åˆ«çš„æ‰€éœ€è¦çš„è¯æ±‡åˆ—è¡¨ï¼Œæœ€å¤§ä¸è¶…è¿‡ 6 ä¸ªéŸ³ç¬¦ï¼Œè¶…äº†ä¼šå¿½ç•¥ï¼Œå‚æ•°ä¸º `'xiao ai ya' : 0.3` å¯¹åº”çš„ ä¸­æ–‡æ‹¼éŸ³å­—ç¬¦ä¸² å’Œ åŒ¹é…çš„æœ€ä½æ¦‚ç‡ï¼ˆé—¨é™ï¼‰ï¼Œä¸”æ³¨æ„å®ƒä¸åŒºåˆ†éŸ³è°ƒï¼Œæ‰€ä»¥ `ä½  å¥½ é¸­` å’Œ `å°¼ æµ© é›…` æ²¡æœ‰åŒºåˆ«ï¼Œæ‰€ä»¥è®¾è®¡çš„æ—¶å€™è¦æ³¨æ„è¯æ±‡çš„è¯­è°ƒæ˜¯å¦ä¼šå½¢æˆæ–°è¯ã€‚ ç”¨ä¾‹å¦‚ä¸‹ï¼š ```python t.config({ 'xiao ai ya' : 0.3, 'hao de ya' : 0.2, 'ni hao ya' : 0.3, }) ``` #### recognize å°†ä¼šè¯†åˆ« config å‡½æ•°ä¸­æ‰€é…ç½®çš„è¯æ±‡ã€‚ ç”¨ä¾‹å¦‚ä¸‹ï¼š ```python tmp t.recognize() # print(tmp) if tmp ! None: print(tmp) ``` è¿”å›ç»“æœï¼š ```python { 'xiao ai ya' : 0.9, 'xiao ai' : 0.2, } ``` è·Ÿ config æ—¶çš„å‚æ•°ä¸€æ ·ï¼Œåªæ˜¯ä½œä¸ºè¿”å›å€¼ç»™å‡ºï¼Œå¯ä»¥è§åˆ°æ­¤å¤„å‡ºç° `å° çˆ± é¸­` å’Œ `å° çˆ±` ä¸¤ä¸ªåŒ¹é…ç»“æœã€‚ #### state æœŸæœ›ä¿æŒåœ¨ 100ms å†…èƒ½å¤Ÿæ‰§è¡Œ asr æ¨¡å—ï¼Œå®ƒä¼šè¿”å›å½“å‰æ¨¡å—çŠ¶æ€ï¼Œå¯ä»¥å¿½ç•¥è¿”å›ç»“æœï¼Œç”¨æ³•å¦‚ä¸‹ï¼š ```python from machine import Timer def on_timer(timer): #print(\"time up:\",timer) #print(\"param:\",timer.callback_arg()) timer.callback_arg().state() # default: maix dock / maix duino set shift 0 t maix_asr(0x500000, I2S.DEVICE_0, 3, shift 0) # maix bit set shift 1 tim Timer(Timer.TIMER0, Timer.CHANNEL0, mode Timer.MODE_PERIODIC, period 64, callback on_timer, arg t) tim.start() ``` å¯è§ on_timer ä¼šåœ¨ 64 ms çš„å‘¨æœŸå†…æ‰§è¡Œ timer.callback_arg().state() å‡½æ•°ï¼Œå…¶ä¸­ timer.callback_arg() ä¸º maix_asr ç±»çš„å®ä¾‹ã€‚ #### run æ§åˆ¶æ¨¡å—è¿è¡Œï¼ˆå½•éŸ³ï¼‰ã€‚ #### stop æ§åˆ¶æ¨¡å—åœæ­¢ï¼ˆå½•éŸ³ï¼‰ã€‚ #### __del__ ä¸»åŠ¨è°ƒç”¨å¯é‡Šæ”¾æ¨¡å—ï¼Œå¯è¢« gc.collect() ä¸»åŠ¨å›æ”¶ã€‚"},"/soft/maixpy/zh/api_reference/machine_vision/sensor.html":{"title":"sensorï¼ˆæ‘„åƒå¤´ï¼‰","content":" title: sensorï¼ˆæ‘„åƒå¤´ï¼‰ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy sensorï¼ˆæ‘„åƒå¤´ï¼‰ sensor ä¼ æ„Ÿå™¨æ¨¡å—(è¿™é‡Œç‰¹æŒ‡æ‘„åƒå¤´æ¨¡å—)ï¼Œè¿›è¡Œæ‘„åƒå¤´é…ç½®åŠå›¾åƒæŠ“å–ç­‰ï¼Œç”¨äºæ§åˆ¶å¼€å‘æ¿æ‘„åƒå¤´å®Œæˆæ‘„åƒä»»åŠ¡ã€‚ ## æ–¹æ³• ### åˆå§‹åŒ–å•ç›®æ‘„åƒå¤´ é‡ç½®å¹¶åˆå§‹åŒ–å•ç›®æ‘„åƒå¤´ ```python sensor.reset([, freq 24000000[, set_regs True[, dual_buff False]]]) ``` #### å‚æ•° * `freq`: è®¾ç½®æ‘„åƒå¤´æ—¶é’Ÿé¢‘ç‡ï¼Œé¢‘ç‡è¶Šé«˜å¸§ç‡è¶Šé«˜ï¼Œä½†æ˜¯ç”»è´¨å¯èƒ½æ›´å·®ã€‚é»˜è®¤ `24MHz`ï¼Œ å¦‚æœæ‘„åƒå¤´æœ‰å½©è‰²æ–‘ç‚¹(ov7740)ï¼Œå¯ä»¥é€‚å½“è°ƒä½æ¯”å¦‚ `20MHz` * `set_regs`: å…è®¸ç¨‹åºå†™æ‘„åƒå¤´å¯„å­˜å™¨ï¼Œé»˜è®¤ä¸º `True`ã€‚ å¦‚æœéœ€è¦è‡ªå®šä¹‰å¤ä½åºåˆ—ï¼Œå¯ä»¥è®¾ç½®ä¸º`False`ï¼Œç„¶åä½¿ç”¨`sensor.__write_reg(addr, value)` å‡½æ•°è‡ªå®šä¹‰å†™å¯„å­˜å™¨åºåˆ— * `dual_buff`: é»˜è®¤ä¸º`False`ã€‚å…è®¸ä½¿ç”¨åŒç¼“å†²ï¼Œä¼šå¢é«˜å¸§ç‡ï¼Œä½†æ˜¯å†…å­˜å ç”¨ä¹Ÿä¼šå¢åŠ (å¤§çº¦ä¸º384KiB) * `choice`: æŒ‡å®šéœ€è¦æœç´¢çš„æ‘„åƒå¤´ç±»å‹ï¼Œovç±»å‹(1)ï¼Œgcç±»å‹(2)ï¼Œmtç±»å‹(3)ï¼Œä¸ä¼ å…¥è¯¥å‚æ•°åˆ™æœç´¢å…¨éƒ¨ç±»å‹æ‘„åƒå¤´ #### è¿”å›å€¼ æ—  ### é‡ç½®åŒç›®æ‘„åƒå¤´ é‡ç½®å¹¶åˆå§‹åŒ–åŒç›®æ‘„åƒå¤´ > K210 åªæœ‰ä¸€ä¸ª DVP æ¥å£ï¼ŒåŒä¸€æ—¶é—´åªèƒ½æ§åˆ¶ä¸€ä¸ª Sensorã€‚ä½†æ˜¯æˆ‘ä»¬å¯ä»¥å€ŸåŠ© `shudown` æ–¹æ³•æ§åˆ¶ PWDN å¼•è„šä»¥é€‰æ‹©ç‰¹å®šçš„ Sensorã€‚ æŒ‡å®š Sensor åå…¶ä½™æ“ä½œä¸å˜ã€‚è¯¦è§ ä¾‹ç¨‹ 2 ```python sensor.binocular_reset() ``` #### å‚æ•° æ—  #### è¿”å›å€¼ æ—  ### è®¾ç½®å¸§å¤§å° ç”¨äºè®¾ç½®æ‘„åƒå¤´è¾“å‡ºå¸§å¤§å°ï¼Œk210æœ€å¤§æ”¯æŒVGAæ ¼å¼ï¼Œå¤§äºVGAå°†æ— æ³•è·å–å›¾åƒ > MaixPyå¼€å‘æ¿é…ç½®çš„å±å¹•æ˜¯320*240åˆ†è¾¨ç‡ï¼Œæ¨èè®¾ç½®ä¸ºQVGAæ ¼å¼ ``` sensor.set_framesize(framesize[, set_regs True]) ``` #### å‚æ•° * `framesize`: å¸§å¤§å° * `set_regs`: å…è®¸ç¨‹åºå†™æ‘„åƒå¤´å¯„å­˜å™¨ï¼Œé»˜è®¤ä¸º `True`ã€‚ å¦‚æœéœ€è¦è‡ªå®šä¹‰è®¾ç½®å¸§å¤§å°çš„åºåˆ—ï¼Œå¯ä»¥è®¾ç½®ä¸º`False`ï¼Œç„¶åä½¿ç”¨`sensor.__write_reg(addr, value)` å‡½æ•°è‡ªå®šä¹‰å†™å¯„å­˜å™¨åºåˆ— #### è¿”å›å€¼ * `True` : è®¾ç½®æˆåŠŸ * `False`: è®¾ç½®é”™è¯¯ ### è®¾ç½®å¸§æ ¼å¼ ç”¨äºè®¾ç½®æ‘„åƒå¤´è¾“å‡ºæ ¼å¼ > MaixPyå¼€å‘æ¿é…ç½®çš„å±å¹•ä½¿ç”¨çš„æ˜¯RGB565ï¼Œæ¨èè®¾ç½®ä¸ºRGB565æ ¼å¼ ``` sensor.set_pixformat(format[, set_regs True]) ``` #### å‚æ•° * `format`: å¸§æ ¼å¼ * `set_regs`: å…è®¸ç¨‹åºå†™æ‘„åƒå¤´å¯„å­˜å™¨ï¼Œé»˜è®¤ä¸º `True`ã€‚ å¦‚æœéœ€è¦è‡ªå®šä¹‰è®¾ç½®åƒç´ æ ¼å¼çš„åºåˆ—ï¼Œå¯ä»¥è®¾ç½®ä¸º`False`ï¼Œç„¶åä½¿ç”¨`sensor.__write_reg(addr, value)` å‡½æ•°è‡ªå®šä¹‰å†™å¯„å­˜å™¨åºåˆ— > å¯é€‰çš„å¸§æ ¼å¼æœ‰`GRAYSCALE`, `RGB565`, `YUV422` #### è¿”å›å€¼ * `True` : è®¾ç½®æˆåŠŸ * `False`: è®¾ç½®é”™è¯¯ ### å›¾åƒæ•æ‰æ§åˆ¶ å›¾åƒæ•æ‰åŠŸèƒ½æ§åˆ¶ ``` sensor.run(enable) ``` #### å‚æ•° * `enable`: 1 è¡¨ç¤ºå¼€å§‹æŠ“å–å›¾åƒ 0 è¡¨ç¤ºåœæ­¢æŠ“å–å›¾åƒ #### è¿”å›å€¼ * `True` : è®¾ç½®æˆåŠŸ * `False`: è®¾ç½®é”™è¯¯ ### æ‹æ‘„å›¾åƒ ä½¿ç”¨æ‘„åƒå¤´æ‹æ‘„ä¸€å¼ ç…§ç‰‡ ``` sensor.snapshot() ``` #### å‚æ•° æ—  #### è¿”å›å€¼ * `img`: è¿”å›çš„å›¾åƒå¯¹è±¡ ### æ‘„åƒå¤´æ§åˆ¶ å…³é—­æ‘„åƒå¤´/åˆ‡æ¢æ‘„åƒå¤´ ``` sensor.shutdown(enable/select) ``` #### å‚æ•° å•ç›®æ‘„åƒå¤´ * `enable`: True è¡¨ç¤ºå¼€å¯æ‘„åƒå¤´ False è¡¨ç¤ºå…³é—­æ‘„åƒå¤´ åŒç›®æ‘„åƒå¤´ * `select`: é€šè¿‡å†™å…¥ 0 æˆ– 1 æ¥åˆ‡æ¢æ‘„åƒå¤´ #### è¿”å›å€¼ æ—  ### è·³å¸§ è·³è¿‡æŒ‡å®šå¸§æ•°æˆ–è€…è·³è¿‡æŒ‡å®šæ—¶é—´å†…çš„å›¾åƒï¼Œè®©ç›¸æœºå›¾åƒåœ¨æ”¹å˜ç›¸æœºè®¾ç½®åç¨³å®šä¸‹æ¥ ``` sensor.skip_frames(n, [, time]) ``` #### å‚æ•° * `n`: è·³è¿‡ n å¸§å›¾åƒ * `time`: è·³è¿‡æŒ‡å®šæ—¶é—´ï¼Œå•ä½ä¸ºms > è‹¥ n å’Œ time çš†æœªæŒ‡å®šï¼Œè¯¥æ–¹æ³•è·³è¿‡300æ¯«ç§’çš„å¸§ï¼›è‹¥äºŒè€…çš†æŒ‡å®šï¼Œè¯¥æ–¹æ³•ä¼šè·³è¿‡ n æ•°é‡çš„å¸§ï¼Œä½†å°†åœ¨ time æ¯«ç§’åè¿”å› #### è¿”å›å€¼ æ—  ### åˆ†è¾¨ç‡å®½åº¦ è·å–æ‘„åƒå¤´åˆ†è¾¨ç‡å®½åº¦ ``` sensor.width() ``` #### å‚æ•° æ—  #### è¿”å›å€¼ * `int`ç±»å‹çš„æ‘„åƒå¤´åˆ†è¾¨ç‡å®½åº¦ ### åˆ†è¾¨ç‡é«˜åº¦ è·å–æ‘„åƒå¤´åˆ†è¾¨ç‡é«˜åº¦ ``` sensor.height() ``` #### å‚æ•° æ—  #### è¿”å›å€¼ * `int`ç±»å‹çš„æ‘„åƒå¤´åˆ†è¾¨ç‡é«˜åº¦ ### è·å–å¸§ç¼“å†² è·å–å½“å‰å¸§ç¼“å†²åŒº ``` sensor.get_fb() ``` #### å‚æ•° æ—  #### è¿”å›å€¼ * `image`ç±»å‹çš„å¯¹è±¡ ### è·å–ID è·å–å½“å‰æ‘„åƒå¤´ID,éœ€è¦åœ¨æ‘„åƒå¤´resetä¹‹åæ‰èƒ½è¯»å–åˆ°idå· ``` sensor.get_id() ``` #### å‚æ•° æ‘„åƒå¤´çš„idå· #### è¿”å›å€¼ * `int`ç±»å‹çš„ID ### è®¾ç½®å½©æ¡æµ‹è¯•æ¨¡å¼ å°†æ‘„åƒå¤´è®¾ç½®ä¸ºå½©æ¡æµ‹è¯•æ¨¡å¼ > å¼€å¯å½©æ¡æµ‹è¯•æ¨¡å¼åï¼Œæ‘„åƒå¤´ä¼šè¾“å‡ºä¸€å½©æ¡å›¾åƒï¼Œå¸¸ç”¨æ¥æ£€æµ‹æ‘„åƒæœºæ€»çº¿æ˜¯å¦è¿æ¥æ­£ç¡®ã€‚ ``` sensor.set_colorbar(enable) ``` #### å‚æ•° * `enable`: 1 è¡¨ç¤ºå¼€å¯å½©æ¡æµ‹è¯•æ¨¡å¼ 0 è¡¨ç¤ºå…³é—­å½©æ¡æµ‹è¯•æ¨¡å¼ #### è¿”å›å€¼ æ—  ### è®¾ç½®å¯¹æ¯”åº¦ è®¾ç½®æ‘„åƒå¤´å¯¹æ¯”åº¦ ``` sensor.set_contrast(contrast) ``` #### å‚æ•° * `constrast`: æ‘„åƒå¤´å¯¹æ¯”åº¦ï¼ŒèŒƒå›´ä¸º[ 2,+2] #### è¿”å›å€¼ * `True` : è®¾ç½®æˆåŠŸ * `False`: è®¾ç½®é”™è¯¯ ### è®¾ç½®äº®åº¦ è®¾ç½®æ‘„åƒå¤´äº®åº¦ ``` sensor.set_brightness(brightness) ``` #### å‚æ•° * `brightness`: æ‘„åƒå¤´äº®åº¦ï¼ŒèŒƒå›´ä¸º[ 2,+2] #### è¿”å›å€¼ * `True` : è®¾ç½®æˆåŠŸ * `False`: è®¾ç½®é”™è¯¯ ### è®¾ç½®é¥±å’Œåº¦ è®¾ç½®æ‘„åƒå¤´é¥±å’Œåº¦ ``` sensor.set_saturation(saturation) ``` #### å‚æ•° * `constrast`: æ‘„åƒå¤´é¥±å’Œåº¦ï¼ŒèŒƒå›´ä¸º[ 2,+2] #### è¿”å›å€¼ * `True` : è®¾ç½®æˆåŠŸ * `False`: è®¾ç½®é”™è¯¯ ### è®¾ç½®è‡ªåŠ¨å¢ç›Š è®¾ç½®æ‘„åƒè‡ªåŠ¨å¢ç›Šæ¨¡å¼ ``` sensor.set_auto_gain(enable,gain_db) ``` #### å‚æ•° * `enable`: 1 è¡¨ç¤ºå¼€å¯è‡ªåŠ¨å¢ç›Š 0 è¡¨ç¤ºå…³é—­è‡ªåŠ¨å¢ç›Š * `gain_db`: å…³é—­è‡ªåŠ¨å¢ç›Šæ—¶ï¼Œè®¾ç½®çš„æ‘„åƒå¤´å›ºå®šå¢ç›Šå€¼ï¼Œå•ä½ä¸ºdB > å¦‚æœéœ€è¦è¿½è¸ªé¢œè‰²ï¼Œéœ€è¦å…³é—­è‡ªåŠ¨å¢ç›Š #### è¿”å›å€¼ æ—  ### è·å–å¢ç›Šå€¼ è·å–æ‘„åƒå¤´å¢ç›Šå€¼ ``` sensor.get_gain_db() ``` #### å‚æ•° æ—  #### è¿”å›å€¼ * `float`ç±»å‹çš„å¢ç›Šå€¼ ### è®¾ç½®æ°´å¹³é•œåƒ è®¾ç½®æ‘„åƒå¤´æ°´å¹³é•œåƒ ``` sensor.set_hmirror(enable) ``` #### å‚æ•° * `enable`: 1 è¡¨ç¤ºå¼€å¯æ°´å¹³é•œåƒ 0 è¡¨ç¤ºå…³é—­æ°´å¹³é•œåƒ #### è¿”å›å€¼ æ—  ### è®¾ç½®æ‘„åƒå¤´å‚ç›´ç¿»è½¬ è®¾ç½®æ‘„åƒå¤´å‚ç›´ç¿»è½¬ ``` sensor.set_vflip(enable) ``` #### å‚æ•° * `enable`: 1 è¡¨ç¤ºå¼€å¯å‚ç›´ç¿»è½¬ 0 è¡¨ç¤ºå…³é—­å‚ç›´ç¿»è½¬ #### è¿”å›å€¼ æ—  ### å†™å…¥å¯„å­˜å™¨ å¾€æ‘„åƒå¤´å¯„å­˜å™¨å†™å…¥æŒ‡å®šå€¼ ``` sensor.__write_reg(address, value) ``` #### å‚æ•° * `address`: å¯„å­˜å™¨åœ°å€ * `value` ï¼š å†™å…¥å€¼ #### è¿”å›å€¼ æ—  > è¯·å‚é˜…æ‘„åƒå¤´æ•°æ®æ‰‹å†Œä»¥è·å–è¯¦ç»†ä¿¡æ¯ ### è¯»å–å¯„å­˜å™¨ è¯»å–æ‘„åƒå¤´å¯„å­˜å™¨å€¼ ``` sensor.__read_reg(address) ``` #### å‚æ•° * `address`: å¯„å­˜å™¨åœ°å€ #### è¿”å›å€¼ * `int`ç±»å‹çš„å¯„å­˜å™¨å€¼ > è¯·å‚é˜…æ‘„åƒå¤´æ•°æ®æ‰‹å†Œä»¥è·å–è¯¦ç»†ä¿¡æ¯ ### set_jb_quality è®¾ç½®ä¼ é€ç»™ IDE å›¾åƒçš„è´¨é‡ ``` sensor.set_jb_quality(quality) ``` #### å‚æ•° `quality`ï¼š`int` ç±»å‹ï¼Œå›¾åƒè´¨é‡ç™¾åˆ†æ¯”ï¼ˆ0~100ï¼‰ï¼Œæ•°å­—è¶Šå¤§è´¨é‡è¶Šå¥½ ## ä¾‹ç¨‹ ### ä¾‹ç¨‹ 1 ```python # å•ç›®æ‘„åƒå¤´ import sensor import lcd lcd.init() sensor.reset() sensor.set_pixformat(sensor.RGB565) sensor.set_framesize(sensor.QVGA) sensor.run(1) while True: img sensor.snapshot() lcd.display(img) ``` ### ä¾‹ç¨‹ 2 ```python # åŒç›®æ‘„åƒå¤´ import sensor import image import lcd import time lcd.init() sensor.binocular_reset() sensor.shutdown(0) # é€‰ä¸­sensor 0 sensor.set_pixformat(sensor.RGB565) sensor.set_framesize(sensor.QVGA) sensor.shutdown(1) # é€‰ä¸­sensor 1 sensor.set_pixformat(sensor.RGB565) sensor.set_framesize(sensor.QVGA) sensor.run(1) while True: sensor.shutdown(0) # é€‰ä¸­sensor 0 img sensor.snapshot() lcd.display(img) time.sleep_ms(100) sensor.shutdown(1) # é€‰ä¸­sensor 1 img sensor.snapshot() lcd.display(img) time.sleep_ms(100) ```"},"/soft/maixpy/zh/api_reference/machine_vision/image/image.html":{"title":"imageï¼ˆæœºå™¨è§†è§‰ï¼‰","content":" title: imageï¼ˆæœºå™¨è§†è§‰ï¼‰ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy imageï¼ˆæœºå™¨è§†è§‰ï¼‰ ç§»æ¤äº `openmv`ï¼Œ ä¸ `openmv` åŠŸèƒ½ç›¸åŒ ## ä¾‹ç¨‹ ### ä¾‹ç¨‹ 1ï¼š æ‰¾ç»¿è‰² ```python import sensor import image import lcd import time lcd.init() sensor.reset() sensor.set_pixformat(sensor.RGB565) sensor.set_framesize(sensor.QVGA) sensor.run(1) green_threshold (0, 80, 70, 10, 0, 30) while True: \timg sensor.snapshot() \tblobs img.find_blobs([green_threshold]) \tif blobs: \t\tfor b in blobs: \t\t\ttmp img.draw_rectangle(b[0:4]) \t\t\ttmp img.draw_cross(b[5], b[6]) \t\t\tc img.get_pixel(b[5], b[6]) \tlcd.display(img) ``` ### ä¾‹ç¨‹ 2ï¼š æ˜¾ç¤º fps ```python import sensor import image import lcd import time clock time.clock() lcd.init() sensor.reset() sensor.set_pixformat(sensor.RGB565) sensor.set_framesize(sensor.QVGA) sensor.run(1) sensor.skip_frames(30) while True: clock.tick() img sensor.snapshot() fps clock.fps() img.draw_string(2,2, (\"%2.1ffps\" %(fps)), color (0,128,0), scale 2) lcd.display(img) ``` ### ä¾‹ç¨‹ 3ï¼š æ‰«æäºŒç»´ç  ```python import sensor import image import lcd import time clock time.clock() lcd.init() sensor.reset() sensor.set_pixformat(sensor.RGB565) sensor.set_framesize(sensor.QVGA) sensor.set_vflip(1) sensor.run(1) sensor.skip_frames(30) while True: clock.tick() img sensor.snapshot() res img.find_qrcodes() fps clock.fps() if len(res) > 0: img.draw_string(2,2, res[0].payload(), color (0,128,0), scale 2) print(res[0].payload()) lcd.display(img) ``` > å¦‚æœä½¿ç”¨äº†é•œå¤´ï¼Œç”»é¢ä¼šæœ‰æ‰­æ›²ï¼Œéœ€è¦çŸ«æ­£ç”»é¢ > ä½¿ç”¨ `lens_corr` å‡½æ•°æ¥çŸ«æ­£ï¼Œ æ¯”å¦‚ `2.8`mmï¼Œ `img.lens_corr(1.8)` > æ— æ³•è¯†åˆ«äºŒç»´ç çš„æ—¶å€™éœ€è¦ç”¨sensor.set_hmirror(1)æ¥è°ƒæ•´æ‘„åƒå¤´çš„é•œåƒç”»é¢ ### ä¾‹ç¨‹4 å¯»æ‰¾çŸ©é˜µ ```python # Find Rects Example # # è¿™ä¸ªä¾‹å­å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨aprilæ ‡ç­¾ä»£ç ä¸­çš„å››å…ƒæ£€æµ‹ä»£ç åœ¨å›¾åƒä¸­æ‰¾åˆ°çŸ©å½¢ã€‚ å››å…ƒæ£€æµ‹ç®—æ³•ä»¥éå¸¸ç¨³å¥çš„æ–¹å¼æ£€æµ‹çŸ©å½¢ï¼Œå¹¶ä¸”æ¯”åŸºäºHoughå˜æ¢çš„æ–¹æ³•å¥½å¾—å¤šã€‚ ä¾‹å¦‚ï¼Œå³ä½¿é•œå¤´å¤±çœŸå¯¼è‡´è¿™äº›çŸ©å½¢çœ‹èµ·æ¥å¼¯æ›²ï¼Œå®ƒä»ç„¶å¯ä»¥æ£€æµ‹åˆ°çŸ©å½¢ã€‚ åœ†è§’çŸ©å½¢æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼ # (ä½†æ˜¯ï¼Œè¿™ä¸ªä»£ç ä¹Ÿä¼šæ£€æµ‹å°åŠå¾„çš„åœ†)... import sensor, image, time sensor.reset() sensor.set_pixformat(sensor.RGB565) sensor.set_framesize(sensor.QQVGA) sensor.skip_frames(time 2000) sensor.set_vflip(1) clock time.clock() while(True): clock.tick() img sensor.snapshot() # ä¸‹é¢çš„`threshold`åº”è®¾ç½®ä¸ºè¶³å¤Ÿé«˜çš„å€¼ï¼Œä»¥æ»¤é™¤åœ¨å›¾åƒä¸­æ£€æµ‹åˆ°çš„å…·æœ‰ # ä½è¾¹ç¼˜å¹…åº¦çš„å™ªå£°çŸ©å½¢ã€‚æœ€é€‚ç”¨ä¸èƒŒæ™¯å½¢æˆé²œæ˜å¯¹æ¯”çš„çŸ©å½¢ã€‚ for r in img.find_rects(threshold 10000): img.draw_rectangle(r.rect(), color (255, 0, 0)) for p in r.corners(): img.draw_circle(p[0], p[1], 5, color (0, 255, 0)) print(r) print(\"FPS %f\" % clock.fps()) ``` ### ä¾‹ç¨‹5 å¯»æ‰¾Apriltag ```python # AprilTags ç¤ºä¾‹ # # æ­¤ç¤ºä¾‹æ˜¾ç¤ºäº†OpenMV Camåœ¨OpenMV Cam M7ä¸Šæ£€æµ‹Aprilæ ‡ç­¾çš„å¼ºå¤§åŠŸèƒ½ã€‚ # OpenMV2 M4ç‰ˆæœ¬æ— æ³•æ£€æµ‹Aprilæ ‡ç­¾ã€‚ import sensor, image, time, math sensor.reset() sensor.set_pixformat(sensor.RGB565) sensor.set_framesize(sensor.QQVGA) # å¦‚æœåˆ†è¾¨ç‡æ›´å¤§ï¼Œæˆ‘ä»¬çš„å†…å­˜ä¼šè€—å°½... sensor.skip_frames(time 2000) sensor.set_auto_gain(False) # å¿…é¡»å…³é—­æ­¤åŠŸèƒ½ï¼Œä»¥é˜²æ­¢å›¾åƒå†²æ´—â€¦ sensor.set_auto_whitebal(False) # å¿…é¡»å…³é—­æ­¤åŠŸèƒ½ï¼Œä»¥é˜²æ­¢å›¾åƒå†²æ´—â€¦ clock time.clock() # æ³¨æ„ï¼ä¸find_qrcodesä¸åŒï¼Œfind_apriltagsæ–¹æ³•ä¸éœ€è¦å¯¹å›¾åƒè¿›è¡Œé•œå¤´æ ¡æ­£ # apriltagä»£ç æœ€å¤šæ”¯æŒå¯ä»¥åŒæ—¶å¤„ç†6ç§tagå®¶æ—ã€‚ # è¿”å›çš„tagæ ‡è®°å¯¹è±¡ï¼Œå°†æœ‰å…¶tagæ ‡è®°å®¶æ—åŠå…¶åœ¨tagæ ‡è®°å®¶æ—å†…çš„idã€‚ tag_families 0 tag_families image.TAG16H5 # æ³¨é‡Šæ‰ï¼Œç¦ç”¨è¿™ä¸ªå®¶æ— tag_families image.TAG25H7 # æ³¨é‡Šæ‰ï¼Œç¦ç”¨è¿™ä¸ªå®¶æ— tag_families image.TAG25H9 # æ³¨é‡Šæ‰ï¼Œç¦ç”¨è¿™ä¸ªå®¶æ— tag_families image.TAG36H10 # æ³¨é‡Šæ‰ï¼Œç¦ç”¨è¿™ä¸ªå®¶æ— tag_families image.TAG36H11 # æ³¨é‡Šæ‰ä»¥ç¦ç”¨è¿™ä¸ªå®¶æ—(é»˜è®¤å®¶æ—) tag_families image.ARTOOLKIT # æ³¨é‡Šæ‰ï¼Œç¦ç”¨è¿™ä¸ªå®¶æ— #æ ‡ç­¾ç³»åˆ—æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ é‚£ä¹ˆï¼Œä¾‹å¦‚ï¼ŒTAG16H5å®¶æ—å®é™…ä¸Šæ˜¯ä¸€ä¸ª4x4çš„æ–¹å½¢æ ‡ç­¾ã€‚ #æ‰€ä»¥ï¼Œè¿™æ„å‘³ç€å¯ä»¥çœ‹åˆ°æ¯”6x6çš„TAG36H11æ ‡ç­¾æ›´é•¿çš„è·ç¦»ã€‚ #ç„¶è€Œï¼Œè¾ƒä½çš„Hå€¼ï¼ˆH5å¯¹H11ï¼‰ï¼Œæ„å‘³ç€4x4æ ‡ç­¾çš„å‡é˜³æ€§ç‡è¿œé«˜äº6x6æ ‡ç­¾ã€‚ #æ‰€ä»¥ï¼Œé™¤éä½ æœ‰ç†ç”±ä½¿ç”¨å…¶ä»–æ ‡ç­¾ç³»åˆ—ï¼Œå¦åˆ™ä½¿ç”¨é»˜è®¤æ—TAG36H11ã€‚ def family_name(tag): if(tag.family() image.TAG16H5): return \"TAG16H5\" if(tag.family() image.TAG25H7): return \"TAG25H7\" if(tag.family() image.TAG25H9): return \"TAG25H9\" if(tag.family() image.TAG36H10): return \"TAG36H10\" if(tag.family() image.TAG36H11): return \"TAG36H11\" if(tag.family() image.ARTOOLKIT): return \"ARTOOLKIT\" while(True): clock.tick() img sensor.snapshot() for tag in img.find_apriltags(families tag_families): # å¦‚æœæ²¡æœ‰ç»™å‡ºå®¶æ—ï¼Œé»˜è®¤TAG36H11ã€‚ img.draw_rectangle(tag.rect(), color (255, 0, 0)) img.draw_cross(tag.cx(), tag.cy(), color (0, 255, 0)) print_args (family_name(tag), tag.id(), (180 * tag.rotation()) / math.pi) print(\"Tag Family %s, Tag ID %d, rotation %f (degrees)\" % print_args) print(clock.fps()) ``` ## å‡½æ•° å‡½æ•°è¿˜å¯ä»¥åœ¨æœ¬é¡µæŒ‰ `Ctrl+F` ä½¿ç”¨æµè§ˆå™¨çš„æœç´¢åŠŸèƒ½æœ `image.` æ¥æ ‡è®°å‡½æ•° ### image.rgb_to_lab(rgb_tuple) è¿”å›RGB888æ ¼å¼çš„å…ƒç»„ rgb_tuple (r, g, b)å¯¹åº”çš„LABæ ¼å¼çš„å…ƒç»„(l, a, b)ã€‚ > RGB888æ˜¯æŒ‡çº¢ã€ç»¿ã€è“å„8ä½ï¼ˆ0 255ï¼‰ã€‚åœ¨LABä¸­ï¼ŒLçš„å–å€¼èŒƒå›´ä¸º0 100ï¼Œa/b çš„å–å€¼èŒƒå›´ä¸º 128åˆ°127ã€‚ ### image.lab_to_rgb(lab_tuple) è¿”å›LABæ ¼å¼çš„å…ƒç»„ lab_tuple (l, a, b)å¯¹åº”çš„RGB888æ ¼å¼çš„å…ƒç»„(r, g, b)ã€‚ > RGB888æ˜¯æŒ‡çº¢ã€ç»¿ã€è“å„8ä½ï¼ˆ0 255ï¼‰ã€‚åœ¨LABä¸­ï¼ŒLçš„å–å€¼èŒƒå›´ä¸º0 100ï¼Œa/b çš„å–å€¼èŒƒå›´ä¸º 128åˆ°127ã€‚ ### image.rgb_to_grayscale(rgb_tuple) è¿”å›RGB888æ ¼å¼çš„å…ƒç»„ rgb_tuple (r, g, b)å¯¹åº”çš„ç°åº¦å€¼ã€‚ > RGB888æ˜¯æŒ‡çº¢ã€ç»¿ã€è“å„8ä½ï¼ˆ0 255ï¼‰ã€‚ç°åº¦å€¼å–å€¼äº0 255ã€‚ ### image.grayscale_to_rgb(g_value) è¿”å›ç°åº¦å€¼ g_value å¯¹åº”çš„RGB888æ ¼å¼çš„å…ƒç»„(r, g, b)ã€‚ > RGB888æ˜¯æŒ‡çº¢ã€ç»¿ã€è“å„8ä½ï¼ˆ0 255ï¼‰ã€‚ç°åº¦å€¼å–å€¼äº0 255ã€‚ ### image.load_decriptor(path) ä»ç£ç›˜ä¸ŠåŠ è½½ä¸€ä¸ªæè¿°ç¬¦å¯¹è±¡(descriptor object). path æ˜¯æè¿°ç¬¦æ–‡ä»¶ä¿å­˜çš„è·¯å¾„ã€‚ ### image.save_descriptor(path, descriptor) ä¿å­˜æè¿°ç¬¦å¯¹è±¡ descriptor åˆ°ç£ç›˜ã€‚ path æ˜¯æè¿°ç¬¦æ–‡ä»¶ä¿å­˜çš„è·¯å¾„ã€‚ ### image.match_descriptor(descritor0, descriptor1[, threshold 70[, filter_outliers False]]) å¯¹äºLBPæè¿°ç¬¦æ¥è¯´ï¼Œè¿™ä¸ªå‡½æ•°è¿”å›çš„æ˜¯ä¸€ä¸ªä½“ç°ä¸¤ä¸ªæè¿°ç¬¦ä¹‹é—´åŒºåˆ«çš„æ•´æ•°ã€‚è¿™ä¸€è·ç¦»æµ‹åº¦å°¤ä¸ºå¿…è¦ã€‚è¿™ä¸ªè·ç¦»æ˜¯å¯¹ç›¸ä¼¼åº¦çš„ä¸€ä¸ªåº¦é‡ã€‚è¿™ä¸ªæµ‹åº¦å€¼è¶Šæ¥è¿‘0ï¼ŒLBPFç‰¹å¾ç‚¹åŒ¹é…å¾—å°±è¶Šå¥½ã€‚ å¯¹äºORBæè¿°ç¬¦æ¥è¯´ï¼Œè¿™ä¸ªå‡½æ•°è¿”å›çš„æ˜¯kptmatchå¯¹è±¡ã€‚è§ä¸Šã€‚ threshold æ˜¯ç”¨æ¥ä¸ºORBé”®ç‚¹è¿‡æ»¤ä¸æ˜ç¡®åŒ¹é…æœåŠ¡çš„ã€‚ ä¸€ä¸ªè¾ƒä½çš„ threshold å€¼å°†ç´§æ‰£å…³é”®ç‚¹åŒ¹é…ç®—æ³•ã€‚ threshold å€¼ä½äº0 100 (int)ã€‚é»˜è®¤å€¼ä¸º70ã€‚ filter_outliers æ˜¯ç”¨æ¥ä¸ºORBé”®ç‚¹è¿‡æ»¤å¼‚å¸¸å€¼æœåŠ¡çš„ã€‚ ç‰¹å¾ç‚¹å…è®¸ç”¨æˆ·æé«˜ threshold å€¼ã€‚é»˜è®¤è®¾ç½®ä¸ºFalseã€‚ ## HaarCascade ç±» â€“ ç‰¹å¾æè¿°ç¬¦ Haar Cascadeç‰¹å¾æè¿°ç¬¦ç”¨äº `image.find_features()` æ–¹æ³•ã€‚å®ƒæ²¡æœ‰ä¾›ç”¨æˆ·è°ƒç”¨çš„æ–¹æ³•ã€‚ ### æ„é€ å‡½æ•° class image.HaarCascade(path[, stages Auto]) ä»ä¸€ä¸ªHaar CascadeäºŒè¿›åˆ¶æ–‡ä»¶\bï¼ˆé€‚åˆOpenMV Cam\bçš„æ ¼å¼ï¼‰åŠ è½½ä¸€ä¸ªHaar Cascadeã€‚ å¦‚æœæ‚¨ä¼ é€’â€œfrontalfaceâ€å­—ç¬¦ä¸² è€Œéä¸€æ¡è·¯å¾„ï¼Œè¿™ä¸ªæ„é€ å‡½æ•°å°†ä¼šæŠŠä¸€ä¸ªå†…ç½®çš„æ­£è„¸Haar Cascadeè½½å…¥å†…å­˜ã€‚ æ­¤å¤–ï¼Œæ‚¨ä¹Ÿå¯ä»¥é€šè¿‡â€œeyeâ€æ¥æŠŠHaar Cascadeè½½å…¥å†…å­˜ã€‚ æœ€åï¼Œè¿™ä¸ªæ–¹æ³•ä¼šè¿”å›è½½å…¥çš„Haar Cascadeå¯¹è±¡ï¼Œç”¨æ¥ä½¿ç”¨ image.find_features() ã€‚ stages é»˜è®¤å€¼ä¸ºHaar Cascadeä¸­çš„é˜¶æ®µæ•°ã€‚ç„¶è€Œï¼Œæ‚¨å¯ä»¥æŒ‡å®šä¸€ä¸ªè¾ƒä½çš„æ•°å€¼æ¥åŠ é€Ÿè¿è¡Œç‰¹å¾æ£€æµ‹å™¨ï¼Œå½“ç„¶è¿™ä¼šå¸¦æ¥è¾ƒé«˜çš„è¯¯æŠ¥ç‡ã€‚ > æ‚¨å¯ä»¥åˆ¶ä½œè‡ªå·±çš„Haar Cascades æ¥é…åˆæ‚¨çš„OpenMV Cam ä½¿ç”¨ã€‚ é¦–å…ˆï¼Œä½¿ç”¨è°·æ­Œæœç´¢â€œ<thing> Haar Cascadeâ€ï¼Œæ£€æµ‹æ˜¯å¦æœ‰äººå·²ç»ä¸ºæ‚¨æƒ³è¦æ£€æµ‹çš„å¯¹è±¡åˆ¶ä½œäº†OpenCV Haar Cascadeã€‚ å¦‚æœæ²¡æœ‰ï¼Œé‚£æ‚¨éœ€è¦è‡ªå·±åŠ¨æ‰‹åˆ¶ä½œï¼ˆå·¥ä½œé‡å·¨å¤§ï¼‰ã€‚ å…³äºå¦‚ä½•åˆ¶ä½œè‡ªå·±çš„Haar Cascadeï¼Œè§æ­¤ å…³äºå¦‚ä½•æŠŠOpenCV Haar Cascadesè½¬åŒ–æˆæ‚¨çš„OpenMV Camå¯ä»¥è¯»å–çš„æ¨¡å¼ï¼Œ è§æ­¤script é—®ï¼šHaar Cascade æ˜¯ä»€ä¹ˆï¼Ÿ ç­”ï¼šHaar Cascadeæ˜¯ä¸€ç³»åˆ—ç”¨æ¥ç¡®å®šä¸€ä¸ªå¯¹è±¡æ˜¯å¦å­˜åœ¨äºå›¾åƒä¸­çš„å¯¹æ¯”æ£€æŸ¥ã€‚ è¿™ä¸€ç³»åˆ—çš„å¯¹æ¯”æ£€æŸ¥åˆ†æˆäº†å¤šä¸ªé˜¶æ®µï¼Œåä¸€é˜¶æ®µçš„è¿è¡Œä»¥å…ˆå‰é˜¶æ®µçš„å®Œæˆä¸ºå‰æã€‚ å¯¹æ¯”æ£€æŸ¥å¹¶ä¸å¤æ‚ï¼Œä¸è¿‡æ˜¯åƒæ£€æŸ¥å›¾åƒçš„ä¸­å¿ƒå‚ç›´æ˜¯å¦æ¯”è¾¹ç¼˜æ›´è½»å¾®ä¹‹ç±»çš„è¿‡ç¨‹ã€‚ å¤§èŒƒå›´çš„æ£€æŸ¥åœ¨å‰æœŸé˜¶æ®µé¦–å…ˆè¿›è¡Œï¼Œåœ¨åæœŸè¿›è¡Œæ›´å¤šæ›´å°çš„åŒºåŸŸæ£€æŸ¥ã€‚ é—®ï¼šHaar Cascades æ˜¯å¦‚ä½•åˆ¶ä½œè€Œæˆçš„ï¼Ÿ ç­”ï¼šHaar Cascadesé€šè¿‡æ ‡æœ‰æ­£è´Ÿçš„å›¾åƒå¯¹å‘ç”Ÿå™¨ç®—æ³•è¿›è¡Œè®­ç»ƒã€‚ æ¯”å¦‚ï¼Œç”¨æ•°ç™¾å¼ å«æœ‰çŒ«ï¼ˆå·²è¢«æ ‡è®°ä¸ºå†…å«çŒ«ï¼‰çš„å›¾ç‰‡å’Œæ•°ç™¾å¼ ä¸å«æœ‰çŒ«å½¢ç‰©çš„å›¾ç‰‡ï¼ˆå·²ä½œå‡ºä¸åŒæ ‡è®°ï¼‰æ¥è®­ç»ƒè¿™ä¸ªç”Ÿæˆç®—æ³•ã€‚ \b\bè¿™ä¸ªç”Ÿæˆç®—æ³•\bæœ€åä¼šäº§ç”Ÿä¸€ä¸ªç”¨æ¥æ£€æµ‹çŒ«çš„Haar Cascadesã€‚ ## Similarity ç±» â€“ ç›¸ä¼¼åº¦å¯¹è±¡ ç›¸ä¼¼åº¦å¯¹è±¡ç”± `image.get_similarity` è¿”å›. ### æ„é€ å‡½æ•° class image.similarity è¯·è°ƒç”¨ image.get_similarity() å‡½æ•°æ¥åˆ›å»ºæ­¤å¯¹è±¡ã€‚ #### æ–¹æ³• ##### similarity.mean() è¿”å›8x8åƒç´ å—ç»“æ„ç›¸ä¼¼æ€§å·®å¼‚çš„å‡å€¼ã€‚èŒƒå›´[ 1/+1]ï¼Œå…¶ä¸­ 1å®Œå…¨ä¸åŒï¼Œ+1å®Œå…¨ç›¸åŒã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [0] å–å¾—è¿™ä¸ªå€¼ã€‚ ##### similarity.stdev() è¿”å›8x8åƒç´ å—ç»“æ„ç›¸ä¼¼æ€§å·®å¼‚çš„æ ‡å‡†åå·®ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [1] å–å¾—è¿™ä¸ªå€¼ã€‚ ##### similarity.min() è¿”å›8x8åƒç´ å—ç»“æ„ç›¸ä¼¼æ€§å·®å¼‚çš„æœ€å°å€¼ã€‚å…¶ä¸­ 1å®Œå…¨ä¸åŒï¼Œ+1å®Œå…¨ç›¸åŒã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [2] å–å¾—è¿™ä¸ªå€¼ã€‚ > é€šè¿‡æŸ¥çœ‹æ­¤å€¼ï¼Œæ‚¨å¯ä»¥å¿«é€Ÿç¡®å®šä¸¤ä¸ªå›¾åƒä¹‹é—´çš„ä»»ä½•8x8åƒç´ å—æ˜¯å¦å·®åˆ«å¾ˆå¤§ï¼Œå³è¿œè¿œä½äº+1ã€‚ ##### similarity.max() è¿”å›8x8åƒç´ å—ç»“æ„ç›¸ä¼¼æ€§å·®å¼‚çš„æœ€å°å€¼ã€‚å…¶ä¸­ 1å®Œå…¨ä¸åŒï¼Œ+1å®Œå…¨ç›¸åŒã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [3] å–å¾—è¿™ä¸ªå€¼ã€‚ > é€šè¿‡æŸ¥çœ‹æ­¤å€¼ï¼Œæ‚¨å¯ä»¥å¿«é€Ÿç¡®å®šä¸¤ä¸ªå›¾åƒä¹‹é—´çš„ä»»ä½•8x8åƒç´ å—æ˜¯å¦éƒ½ç›¸åŒã€‚å³æ¯” 1å¤§å¾ˆå¤šã€‚ ## Histogram ç±» â€“ ç›´æ–¹å›¾å¯¹è±¡ ç›´æ–¹å›¾å¯¹è±¡æ˜¯ç”± `image.get_histogram` è¿”å›ã€‚ ç°åº¦ç›´æ–¹å›¾æœ‰ä¸€ä¸ªåŒ…å«å¤šä¸ªäºŒè¿›åˆ¶çš„é€šé“ã€‚ æ‰€æœ‰äºŒè¿›åˆ¶éƒ½è¿›è¡Œæ ‡å‡†åŒ–ï¼Œä½¿å…¶æ€»å’Œä¸º1ã€‚ RGB565æœ‰ä¸‰ä¸ªåŒ…å«å¤šä¸ªäºŒè¿›åˆ¶çš„é€šé“ã€‚æ‰€æœ‰äºŒè¿›åˆ¶éƒ½è¿›è¡Œæ ‡å‡†åŒ–ï¼Œä½¿å…¶æ€»å’Œä¸º1ã€‚ ### æ„é€ å‡½æ•° class image.histogram è¯·è°ƒç”¨ `image.get_histogram()` å‡½æ•°æ¥åˆ›å»ºæ­¤å¯¹è±¡ã€‚ ### æ–¹æ³• #### histogram.bins() è¿”å›ç°åº¦ç›´æ–¹å›¾çš„æµ®ç‚¹æ•°åˆ—è¡¨ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [0] å–å¾—è¿™ä¸ªå€¼ã€‚ #### histogram.l_bins() è¿”å›RGB565ç›´æ–¹å›¾LABçš„Lé€šé“çš„æµ®ç‚¹æ•°åˆ—è¡¨ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [0] å–å¾—è¿™ä¸ªå€¼ã€‚ #### histogram.a_bins() è¿”å›RGB565ç›´æ–¹å›¾LABçš„Aé€šé“çš„æµ®ç‚¹æ•°åˆ—è¡¨ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [1] å–å¾—è¿™ä¸ªå€¼ã€‚ #### histogram.b_bins() è¿”å›RGB565ç›´æ–¹å›¾LABçš„Bé€šé“çš„æµ®ç‚¹æ•°åˆ—è¡¨ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [2] å–å¾—è¿™ä¸ªå€¼ã€‚ #### histogram.get_percentile(percentile) è®¡ç®—ç›´æ–¹å›¾é¢‘é“çš„CDFï¼Œè¿”å›ä¸€ä¸ªä¼ é€’ percentile (0.0 1.0) (æµ®ç‚¹æ•°)ä¸­çš„ç›´æ–¹å›¾çš„å€¼ã€‚ å› æ­¤ï¼Œè‹¥æ‚¨ä¼ å…¥0.1ï¼Œè¯¥æ–¹æ³•ä¼šå‘ŠçŸ¥æ‚¨ï¼Œå½“ç´¯åŠ å…¥ç´¯åŠ å™¨æ—¶ï¼Œå“ªä¸€ä¸ªäºŒè¿›åˆ¶ä¼šä½¿ç´¯åŠ å™¨è·¨è¿‡0.1ã€‚ åœ¨æ²¡æœ‰å¼‚å¸¸æ•ˆç”¨ç ´åæ‚¨çš„è‡ªé€‚åº”è‰²è·Ÿè¸ªç»“æœæ—¶ï¼Œè¿™å¯¹äºç¡®å®šé¢œè‰²åˆ†å¸ƒçš„æœ€å°å€¼(0.1)å’Œmax(0.9)ç”šæ˜¯æœ‰æ•ˆã€‚ #### histogram.get_threhsold() ä½¿ç”¨Otsuâ€™s æ–¹æ³•è®¡ç®—æœ€ä½³é˜ˆå€¼ï¼Œå°†ç›´æ–¹å›¾åˆ†çš„æ¯ä¸ªé€šé“ä¸ºä¸¤åŠã€‚ è¯¥æ–¹æ³•è¿”å›ä¸€ä¸ª image.threshold å¯¹è±¡ã€‚ è¿™ä¸ªæ–¹æ³•å¯¹ç¡®å®šæœ€ä½³çš„ image.binary() é˜ˆå€¼ç‰¹åˆ«æœ‰ç”¨ã€‚ #### histogram.get_statistics() è®¡ç®—ç›´æ–¹å›¾ä¸­æ¯ä¸ªé¢œè‰²é€šé“çš„å¹³å‡å€¼ã€ä¸­å€¼ã€ä¼—å€¼ã€æ ‡å‡†å·®ã€æœ€å°å€¼ã€æœ€å¤§å€¼ã€ä¸‹å››åˆ†å€¼å’Œä¸Šå››åˆ†å€¼ï¼Œ å¹¶è¿”å›ä¸€ä¸ªstatisticså¯¹è±¡ã€‚ æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨ histogram.statistics() å’Œ histogram.get_stats() ä½œä¸ºè¿™ä¸ªæ–¹æ³•çš„åˆ«åã€‚ ## Percentile ç±» â€“ ç™¾åˆ†æ¯”\bå€¼å¯¹è±¡ ç™¾åˆ†æ¯”å€¼å¯¹è±¡ç”± `histogram.get_percentile` è¿”å›ã€‚ ç°åº¦ç™¾åˆ†æ¯”å€¼æœ‰ä¸€ä¸ªé€šé“ã€‚ä¸ä½¿ç”¨ l_* ã€ a_* æˆ– b_* æ–¹æ³•ã€‚ RGB565ç™¾åˆ†æ¯”å€¼æœ‰ä¸‰ä¸ªé€šé“ã€‚ä½¿ç”¨ l_* ã€ a_* å’Œ b_* æ–¹æ³•ã€‚ ### æ„é€ å‡½æ•° class image.percentile è¯·è°ƒç”¨ histogram.get_percentile() å‡½æ•°æ¥åˆ›å»ºæ­¤å¯¹è±¡ã€‚ ### æ–¹æ³• #### percentile.value() è¿”å›ç°åº¦ç™¾åˆ†æ¯”å€¼ï¼ˆå–å€¼åŒºé—´ä¸º0 255ï¼‰ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [0] å–å¾—è¿™ä¸ªå€¼ã€‚ #### percentile.l_value() è¿”å›RGB565 LAB çš„Lé€šé“çš„ç™¾åˆ†æ¯”å€¼ï¼ˆå–å€¼åŒºé—´ä¸º0 100ï¼‰ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [0] å–å¾—è¿™ä¸ªå€¼ã€‚ #### percentile.a_value() è¿”å›RGB565 LAB çš„Aé€šé“çš„ç™¾åˆ†æ¯”å€¼ï¼ˆå–å€¼åŒºé—´ä¸º 128 127ï¼‰ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [1] å–å¾—è¿™ä¸ªå€¼ã€‚ #### percentile.b_value() è¿”å›RGB565 LAB çš„Bé€šé“çš„ç™¾åˆ†æ¯”å€¼ï¼ˆå–å€¼åŒºé—´ä¸º 128 127ï¼‰ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [2] å–å¾—è¿™ä¸ªå€¼ã€‚ ## Threhsold ç±» â€“ é˜ˆå€¼å¯¹è±¡ é˜ˆå€¼å¯¹è±¡ç”± histogram.get_threshold è¿”å›ã€‚ ç°åº¦å›¾åƒæœ‰ä¸€ä¸ªé€šé“ã€‚æ²¡æœ‰ l_*, a_*, å’Œ b_* æ–¹æ³•. RGB565 é˜ˆå€¼æœ‰ä¸‰ä¸ªé€šé“ã€‚ä½¿ç”¨ l_*, a_*, å’Œ b_* æ–¹æ³•ã€‚ ### æ„é€ å‡½æ•° class image.threshold è¯·è°ƒç”¨ histogram.get_threshold() å‡½æ•°æ¥åˆ›å»ºæ­¤å¯¹è±¡ã€‚ #### æ–¹æ³• #### threhsold.value() è¿”å›ç°åº¦å›¾çš„é˜ˆå€¼ (between 0 and 255)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [0] å–å¾—è¿™ä¸ªå€¼ã€‚ #### threhsold.l_value() è¿”å›RGB565å›¾LABä¸­çš„Lé˜ˆå€¼ (between 0 and 100). æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [0] å–å¾—è¿™ä¸ªå€¼ã€‚ #### threhsold.a_value() è¿”å›RGB565å›¾LABä¸­çš„Aé˜ˆå€¼ (between 128 and 127). æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [1] å–å¾—è¿™ä¸ªå€¼ã€‚ #### threhsold.b_value() è¿”å›RGB565å›¾LABä¸­çš„Bé˜ˆå€¼ (between 128 and 127). æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [2] å–å¾—è¿™ä¸ªå€¼ã€‚ ## class Statistics â€“ ç»Ÿè®¡æ•°æ®å¯¹è±¡ ç»Ÿè®¡æ•°æ®å¯¹è±¡æ˜¯ç”± histogram.get_statistics æˆ– image.get_statistics è¿”å›çš„ã€‚ ç°åº¦ç»Ÿè®¡æ•°æ®æœ‰ä¸€ä¸ªé€šé“ï¼Œä½¿ç”¨é l_* ã€ a_* æˆ– b_* æ–¹æ³•ã€‚ RGB565ç™¾åˆ†æ¯”å€¼æœ‰ä¸‰ä¸ªé€šé“ã€‚ä½¿ç”¨ l_* ã€ a_* å’Œ b_* æ–¹æ³•ã€‚ ### æ„é€ å‡½æ•° class image.statistics è¯·è°ƒç”¨ histogram.get_statistics() æˆ– image.get_statistics() å‡½æ•°æ¥åˆ›å»ºæ­¤å¯¹è±¡ã€‚ ### æ–¹æ³• #### statistics.mean() è¿”å›ç°åº¦å‡å€¼(0 255) (int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [0] å–å¾—è¿™ä¸ªå€¼ã€‚ #### statistics.median() è¿”å›ç°åº¦ä¸­å€¼(0 255) (int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [1] å–å¾—è¿™ä¸ªå€¼ã€‚ #### statistics.mode() è¿”å›ç°åº¦ä¼—å€¼(0 255) (int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [2] å–å¾—è¿™ä¸ªå€¼ã€‚ #### statistics.stdev() è¿”å›ç°åº¦æ ‡å‡†å·®(0 255) (int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [3] å–å¾—è¿™ä¸ªå€¼ã€‚ #### statistics.min() è¿”å›ç°åº¦æœ€å°å€¼(0 255) (int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [4] å–å¾—è¿™ä¸ªå€¼ã€‚ #### statistics.max() è¿”å›ç°åº¦æœ€å¤§å€¼(0 255) (int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [5] å–å¾—è¿™ä¸ªå€¼ã€‚ #### statistics.lq() è¿”å›ç°åº¦ä¸‹å››åˆ†å€¼(0 255) (int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [6] å–å¾—è¿™ä¸ªå€¼ã€‚ #### statistics.uq() è¿”å›ç°åº¦ä¸Šå››åˆ†å€¼(0 255) (int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [7] å–å¾—è¿™ä¸ªå€¼ã€‚ #### statistics.l_mean() è¿”å›RGB5656 LAB ä¸­Lçš„å‡å€¼(0 255) (int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [0] å–å¾—è¿™ä¸ªå€¼ã€‚ #### statistics.l_median() è¿”å›RGB5656 LAB ä¸­Lçš„ä¸­å€¼(0 255) (int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [1] å–å¾—è¿™ä¸ªå€¼ã€‚ #### statistics.l_mode() è¿”å›RGB5656 LAB ä¸­Lçš„ä¼—å€¼(0 255) (int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [2] å–å¾—è¿™ä¸ªå€¼ã€‚ #### statistics.l_stdev() è¿”å›RGB5656 LAB ä¸­Lçš„æ ‡å‡†åå·®å€¼(0 255) (int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [3] å–å¾—è¿™ä¸ªå€¼ã€‚ #### statistics.l_min() è¿”å›RGB5656 LAB ä¸­Lçš„æœ€å°å€¼(0 255) (int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [4] å–å¾—è¿™ä¸ªå€¼ã€‚ #### statistics.l_max() è¿”å›RGB5656 LAB ä¸­Lçš„æœ€å¤§å€¼(0 255) (int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [5] å–å¾—è¿™ä¸ªå€¼ã€‚ #### statistics.l_lq() è¿”å›RGB5656 LAB ä¸­Lçš„ä¸‹å››åˆ†å€¼(0 255) (int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [6] å–å¾—è¿™ä¸ªå€¼ã€‚ #### statistics.l_uq() è¿”å›RGB5656 LAB ä¸­Lçš„ä¸Šå››åˆ†å€¼(0 255) (int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [7] å–å¾—è¿™ä¸ªå€¼ã€‚ #### statistics.a_mean() è¿”å›RGB5656 LAB ä¸­Açš„å‡å€¼(0 255) (int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [8] å–å¾—è¿™ä¸ªå€¼ã€‚ #### statistics.a_median() è¿”å›RGB5656 LAB ä¸­Açš„ä¸­å€¼(0 255) (int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [9] å–å¾—è¿™ä¸ªå€¼ã€‚ #### statistics.a_mode() è¿”å›RGB5656 LAB ä¸­Açš„ä¼—å€¼(0 255) (int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [10] å–å¾—è¿™ä¸ªå€¼ã€‚ #### statistics.a_stdev() è¿”å›RGB5656 LAB ä¸­Açš„æ ‡å‡†åå·®å€¼(0 255) (int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [11] å–å¾—è¿™ä¸ªå€¼ã€‚ #### statistics.a_min() è¿”å›RGB5656 LAB ä¸­Açš„æœ€å°å€¼(0 255) (int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [12] å–å¾—è¿™ä¸ªå€¼ã€‚ #### statistics.a_max() è¿”å›RGB5656 LAB ä¸­Açš„æœ€å¤§å€¼(0 255) (int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [13] å–å¾—è¿™ä¸ªå€¼ã€‚ #### statistics.a_lq() è¿”å›RGB5656 LAB ä¸­Açš„ä¸‹å››åˆ†å€¼(0 255) (int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [14] å–å¾—è¿™ä¸ªå€¼ã€‚ #### statistics.a_uq() è¿”å›RGB5656 LAB ä¸­Açš„ä¸Šå››åˆ†å€¼(0 255) (int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [15] å–å¾—è¿™ä¸ªå€¼ã€‚ #### statistics.b_mean() è¿”å›RGB5656 LAB ä¸­Bçš„å‡å€¼(0 255) (int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [16] å–å¾—è¿™ä¸ªå€¼ã€‚ #### statistics.b_median() è¿”å›RGB5656 LAB ä¸­Bçš„ä¸­å€¼(0 255) (int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [17] å–å¾—è¿™ä¸ªå€¼ã€‚ #### statistics.b_mode() è¿”å›RGB5656 LAB ä¸­Bçš„ä¼—å€¼(0 255) (int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [18] å–å¾—è¿™ä¸ªå€¼ã€‚ #### statistics.b_stdev() è¿”å›RGB5656 LAB ä¸­Bçš„æ ‡å‡†å·®å€¼(0 255) (int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [19] å–å¾—è¿™ä¸ªå€¼ã€‚ #### statistics.b_min() è¿”å›RGB5656 LAB ä¸­Bçš„æœ€å°å€¼(0 255) (int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [20] å–å¾—è¿™ä¸ªå€¼ã€‚ #### statistics.b_max() è¿”å›RGB5656 LAB ä¸­Bçš„æœ€å¤§å€¼(0 255) (int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [21] å–å¾—è¿™ä¸ªå€¼ã€‚ #### statistics.b_lq() è¿”å›RGB5656 LAB ä¸­Bçš„ä¸‹å››åˆ†å€¼(0 255) (int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [22] å–å¾—è¿™ä¸ªå€¼ã€‚ #### statistics.b_uq() è¿”å›RGB5656 LAB ä¸­Bçš„ä¸Šå››åˆ†å€¼(0 255) (int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [23] å–å¾—è¿™ä¸ªå€¼ã€‚ ## Blob ç±» â€“ è‰²å—å¯¹è±¡ è‰²å—å¯¹è±¡æ˜¯ç”± `image.find_blobs` è¿”å›çš„ã€‚ ### æ„é€ å‡½æ•° class image.blob è¯·è°ƒç”¨ image.find_blobs() å‡½æ•°æ¥åˆ›å»ºæ­¤å¯¹è±¡ã€‚ ### æ–¹æ³• #### blob.rect() è¿”å›ä¸€ä¸ªçŸ©å½¢å…ƒç»„(x, y, w, h) ï¼Œç”¨äºå¦‚è‰²å—è¾¹ç•Œæ¡†çš„ image.draw_rectangle ç­‰ å…¶ä»–çš„ image æ–¹æ³•ã€‚ #### blob.x() è¿”å›è‰²å—çš„è¾¹ç•Œæ¡†çš„xåæ ‡(int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [0] å–å¾—è¿™ä¸ªå€¼ã€‚ #### blob.y() è¿”å›è‰²å—çš„è¾¹ç•Œæ¡†çš„yåæ ‡(int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [1] å–å¾—è¿™ä¸ªå€¼ã€‚ #### blob.w() è¿”å›è‰²å—çš„è¾¹ç•Œæ¡†çš„wåæ ‡(int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [2] å–å¾—è¿™ä¸ªå€¼ã€‚ #### blob.h() è¿”å›è‰²å—çš„è¾¹ç•Œæ¡†çš„håæ ‡(int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [3] å–å¾—è¿™ä¸ªå€¼ã€‚ #### blob.pixels() è¿”å›ä»å±äºè‰²å—(int)ä¸€éƒ¨åˆ†çš„åƒç´ æ•°é‡ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [4] å–å¾—è¿™ä¸ªå€¼ã€‚ #### blob.cx() è¿”å›è‰²å—(int)çš„ä¸­å¿ƒxä½ç½®ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [5] å–å¾—è¿™ä¸ªå€¼ã€‚ #### blob.cy() è¿”å›è‰²å—(int)çš„ä¸­å¿ƒxä½ç½®ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [6] å–å¾—è¿™ä¸ªå€¼ã€‚ #### blob.rotation() è¿”å›è‰²å—çš„æ—‹è½¬ï¼ˆå•ä½ï¼šå¼§åº¦ï¼‰ã€‚å¦‚æœè‰²å—ç±»ä¼¼é“…ç¬”æˆ–é’¢ç¬”ï¼Œé‚£ä¹ˆè¿™ä¸ªå€¼å°±æ˜¯ä»‹äº0 180ä¹‹é—´çš„å”¯ä¸€å€¼ã€‚ å¦‚æœè¿™ä¸ªè‰²å—åœ†çš„ï¼Œé‚£ä¹ˆè¿™ä¸ªå€¼å°±æ²¡æœ‰æ•ˆç”¨ã€‚å¦‚æœè¿™ä¸ªè‰²å—å®Œå…¨ä¸å…·æœ‰å¯¹ç§°æ€§ï¼Œæ‚¨åªèƒ½ç”±æ­¤å¾—åˆ°0 360åº¦çš„æ—‹è½¬ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [7] å–å¾—è¿™ä¸ªå€¼ã€‚ #### blob.code() è¿”å›ä¸€ä¸ª16ä½çš„äºŒè¿›åˆ¶æ•°å­—ï¼Œå…¶ä¸­ä¸ºæ¯ä¸ªé¢œè‰²é˜ˆå€¼è®¾ç½®ä¸€ä¸ªä½ï¼Œè¿™æ˜¯è‰²å—çš„ä¸€éƒ¨åˆ†ã€‚ ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨é€šè¿‡ image.find_blobs æ¥å¯»æ‰¾ä¸‰ä¸ªé¢œè‰²é˜ˆå€¼ï¼Œè¿™ä¸ªè‰²å—å¯ä»¥è®¾ç½®ä¸º0/1/2ä½ã€‚ æ³¨æ„ï¼šé™¤éä»¥ merge True è°ƒç”¨ image.find_blobs ï¼Œå¦åˆ™æ¯ä¸ªè‰²å—åªèƒ½è®¾ç½®ä¸€ä½ã€‚ é‚£ä¹ˆé¢œè‰²é˜ˆå€¼ä¸åŒçš„å¤šä¸ªè‰²å—å°±å¯ä»¥åˆå¹¶åœ¨ä¸€èµ·äº†ã€‚ æ‚¨ä¹Ÿå¯ä»¥ç”¨è¿™ä¸ªæ–¹æ³•ä»¥åŠå¤šä¸ªé˜ˆå€¼æ¥å®ç°é¢œè‰²ä»£ç è·Ÿè¸ªã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [8] å–å¾—è¿™ä¸ªå€¼ã€‚ #### blob.count() è¿”å›åˆå¹¶ä¸ºè¿™ä¸€è‰²å—çš„å¤šä¸ªè‰²å—çš„æ•°é‡ã€‚åªæœ‰æ‚¨ä»¥ merge True è°ƒç”¨ image.find_blobs æ—¶ï¼Œè¿™ä¸ªæ•°å­—æ‰ä¸æ˜¯1ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [9] å–å¾—è¿™ä¸ªå€¼ã€‚ #### blob.area() è¿”å›è‰²å—å‘¨å›´çš„è¾¹æ¡†é¢ç§¯(w * h) #### blob.density() è¿”å›è¿™ä¸ªè‰²å—çš„å¯†åº¦æ¯”ã€‚è¿™æ˜¯åœ¨è‰²å—è¾¹ç•Œæ¡†åŒºåŸŸå†…çš„åƒç´ ç‚¹çš„æ•°é‡ã€‚ æ€»çš„æ¥è¯´ï¼Œè¾ƒä½çš„å¯†åº¦æ¯”æ„å‘³ç€è¿™ä¸ªå¯¹è±¡çš„é”å®šå¾—ä¸æ˜¯å¾ˆå¥½ã€‚ ## Lineç±» â€“ ç›´çº¿å¯¹è±¡ ç›´çº¿å¯¹è±¡æ˜¯ç”± `image.find_lines` , `image.find_line_segments` æˆ– `image.get_regression` è¿”å›çš„ã€‚ ### æ„é€ å‡½æ•° class image.line è¯·è°ƒç”¨ image.find_lines(), image.find_line_segments(), æˆ– image.get_regression() å‡½æ•°æ¥åˆ›å»ºæ­¤å¯¹è±¡ã€‚ ### æ–¹æ³• #### line.line() è¿”å›ä¸€ä¸ªç›´çº¿å…ƒç»„(x1, y1, x2, y2) ï¼Œç”¨äºå¦‚ image.draw_line ç­‰å…¶ä»–çš„ image æ–¹æ³•ã€‚ #### line.x1() è¿”å›ç›´çº¿çš„p1é¡¶ç‚¹ xåæ ‡åˆ†é‡ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [0] å–å¾—è¿™ä¸ªå€¼ã€‚ #### line.y1() è¿”å›ç›´çº¿çš„p1 yåˆ†é‡ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [1] å–å¾—è¿™ä¸ªå€¼ã€‚ #### line.x2() è¿”å›ç›´çº¿çš„p2 xåˆ†é‡ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [2] å–å¾—è¿™ä¸ªå€¼ã€‚ #### line.y2() è¿”å›ç›´çº¿çš„p2 yåˆ†é‡ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [3] å–å¾—è¿™ä¸ªå€¼ã€‚ #### line.length() è¿”å›ç›´çº¿é•¿åº¦å³ sqrt(((x2 x1)^2) + ((y2 y1)^2). æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [4] å–å¾—è¿™ä¸ªå€¼ã€‚ #### line.magnitude() è¿”å›éœå¤«å˜æ¢åçš„ç›´çº¿çš„é•¿åº¦ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [5] å–å¾—è¿™ä¸ªå€¼ã€‚ #### line.theta() è¿”å›éœå¤«å˜æ¢åçš„ç›´çº¿çš„è§’åº¦ï¼ˆ0 179åº¦ï¼‰ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [7] å–å¾—è¿™ä¸ªå€¼ã€‚ #### line.rho() è¿”å›éœå¤«å˜æ¢åçš„ç›´çº¿på€¼ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [8] å–å¾—è¿™ä¸ªå€¼ã€‚ ## Circleç±» â€“åœ†å½¢å¯¹è±¡ åœ†å½¢å¯¹è±¡æ˜¯ç”± `image.find_circles` è¿”å›çš„ã€‚ ### æ„é€ å‡½æ•° class image.circle è¯·è°ƒç”¨ image.find_circles() å‡½æ•°æ¥åˆ›å»ºæ­¤å¯¹è±¡ã€‚ ### æ–¹æ³• #### circle.x() è¿”å›åœ†çš„xä½ç½®ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [0] å–å¾—è¿™ä¸ªå€¼ã€‚ #### circle.y() è¿”å›åœ†çš„yä½ç½®ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [1] å–å¾—è¿™ä¸ªå€¼ã€‚ #### circle.r() è¿”å›åœ†çš„åŠå¾„ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [2] å–å¾—è¿™ä¸ªå€¼ã€‚ #### circle.magnitude() è¿”å›åœ†çš„å¤§å°ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [3] å–å¾—è¿™ä¸ªå€¼ã€‚ ## Rectç±» â€“ çŸ©å½¢å¯¹è±¡ çŸ©å½¢å¯¹è±¡æ˜¯ç”± `image.find_rects` è¿”å›çš„ã€‚ ### æ„é€ å‡½æ•° class image.rect è¯·è°ƒç”¨ image.find_rects() å‡½æ•°æ¥åˆ›å»ºæ­¤å¯¹è±¡ã€‚ ### æ–¹æ³• #### rect.corners() è¿”å›ä¸€ä¸ªç”±çŸ©å½¢å¯¹è±¡çš„å››ä¸ªè§’ç»„æˆçš„å››ä¸ªå…ƒç»„(x,y)çš„åˆ—è¡¨ã€‚å››ä¸ªè§’é€šå¸¸æ˜¯æŒ‰ç…§ä»å·¦ä¸Šè§’å¼€å§‹æ²¿é¡ºæ—¶é’ˆé¡ºåºè¿”å›çš„ã€‚ #### rect.rect() è¿”å›ä¸€ä¸ªçŸ©å½¢å…ƒç»„(x, y, w, h)ï¼Œç”¨äºå¦‚ çŸ©å½¢çš„è¾¹ç•Œæ¡†çš„ image.draw_rectangle ç­‰å…¶ä»–çš„ image æ–¹æ³•ã€‚ #### rect.x() è¿”å›çŸ©å½¢çš„å·¦ä¸Šè§’çš„xä½ç½®ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [0] å–å¾—è¿™ä¸ªå€¼ã€‚ #### rect.y() è¿”å›çŸ©å½¢çš„å·¦ä¸Šè§’çš„yä½ç½®ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [1] å–å¾—è¿™ä¸ªå€¼ã€‚ #### rect.w() è¿”å›çŸ©å½¢çš„å®½åº¦ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [2] å–å¾—è¿™ä¸ªå€¼ã€‚ #### rect.h() è¿”å›çŸ©å½¢çš„é«˜åº¦ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [3] å–å¾—è¿™ä¸ªå€¼ã€‚ #### rect.magnitude() è¿”å›çŸ©å½¢çš„å¤§å°ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [4] å–å¾—è¿™ä¸ªå€¼ã€‚ ## QRCodeç±» â€“ äºŒç»´ç å¯¹è±¡ äºŒç»´ç å¯¹è±¡æ˜¯ç”± `image.find_qrcodes` è¿”å›çš„ã€‚ ### æ„é€ å‡½æ•° class image.qrcode è¯·è°ƒç”¨ image.find_qrcodes() å‡½æ•°æ¥åˆ›å»ºæ­¤å¯¹è±¡ã€‚ ### æ–¹æ³• #### qrcode.corners() è¿”å›ä¸€ä¸ªç”±è¯¥å¯¹è±¡çš„å››ä¸ªè§’ç»„æˆçš„å››ä¸ªå…ƒç»„(x,y)çš„åˆ—è¡¨ã€‚å››ä¸ªè§’é€šå¸¸æ˜¯æŒ‰ç…§ä»å·¦ä¸Šè§’å¼€å§‹æ²¿é¡ºæ—¶é’ˆé¡ºåºè¿”å›çš„ã€‚ #### qrcode.rect() è¿”å›ä¸€ä¸ªçŸ©å½¢å…ƒç»„(x, y, w, h)ï¼Œç”¨äºå¦‚äºŒç»´ç çš„è¾¹ç•Œæ¡†çš„ image.draw_rectangle ç­‰å…¶ä»–çš„ image æ–¹æ³•ã€‚ #### qrcode.x() è¿”å›äºŒç»´ç çš„è¾¹ç•Œæ¡†çš„xåæ ‡(int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [0] å–å¾—è¿™ä¸ªå€¼ã€‚ #### qrcode.y() è¿”å›äºŒç»´ç çš„è¾¹ç•Œæ¡†çš„yåæ ‡(int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [1] å–å¾—è¿™ä¸ªå€¼ã€‚ #### qrcode.w() è¿”å›äºŒç»´ç çš„è¾¹ç•Œæ¡†çš„wåæ ‡(int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [2] å–å¾—è¿™ä¸ªå€¼ã€‚ #### qrcode.h() è¿”å›äºŒç»´ç çš„è¾¹ç•Œæ¡†çš„håæ ‡(int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [3] å–å¾—è¿™ä¸ªå€¼ã€‚ #### qrcode.payload() è¿”å›äºŒç»´ç æœ‰æ•ˆè½½è·çš„å­—ç¬¦ä¸²ï¼Œä¾‹å¦‚URL ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [4] å–å¾—è¿™ä¸ªå€¼ã€‚ #### qrcode.version() è¿”å›äºŒç»´ç çš„ç‰ˆæœ¬å·(int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [5] å–å¾—è¿™ä¸ªå€¼ã€‚ #### qrcode.ecc_level() è¿”å›äºŒç»´ç çš„ECCæ°´å¹³(int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [6] å–å¾—è¿™ä¸ªå€¼ã€‚ #### qrcode.mask() è¿”å›äºŒç»´ç çš„æ©ç (int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [7] å–å¾—è¿™ä¸ªå€¼ã€‚ #### qrcode.data_type() è¿”å›äºŒç»´ç çš„æ•°æ®ç±»å‹ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [8] å–å¾—è¿™ä¸ªå€¼ã€‚ #### qrcode.eci() è¿”å›äºŒç»´ç çš„ECIã€‚ECIå‚¨å­˜äº†QRç ä¸­å­˜å‚¨æ•°æ®å­—èŠ‚çš„ç¼–ç ã€‚è‹¥æ‚¨æƒ³è¦å¤„ç†åŒ…å«è¶…è¿‡æ ‡å‡†ASCIIæ–‡æœ¬çš„äºŒç»´ç ï¼Œæ‚¨éœ€è¦æŸ¥çœ‹è¿™ä¸€æ•°å€¼ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [9] å–å¾—è¿™ä¸ªå€¼ã€‚ #### qrcode.is_numeric() è‹¥äºŒç»´ç çš„æ•°æ®ç±»å‹ä¸ºæ•°å­—å¼ï¼Œåˆ™è¿”å›Trueã€‚ #### qrcode.is_alphanumeric() è‹¥äºŒç»´ç çš„æ•°æ®ç±»å‹ä¸ºæ–‡å­—æ•°å­—å¼ï¼Œåˆ™è¿”å›Trueã€‚ #### qrcode.is_binary() è‹¥äºŒç»´ç çš„æ•°æ®ç±»å‹ä¸ºäºŒè¿›åˆ¶å¼ï¼Œåˆ™è¿”å›Trueã€‚å¦‚æœæ‚¨è®¤çœŸå¤„ç†æ‰€æœ‰ç±»å‹çš„æ–‡æœ¬ï¼Œåˆ™éœ€è¦æ£€æŸ¥eciæ˜¯å¦ä¸ºTrueï¼Œä»¥ç¡®å®šæ•°æ®çš„æ–‡æœ¬ç¼–ç ã€‚é€šå¸¸å®ƒåªæ˜¯æ ‡å‡†çš„ASCIIï¼Œä½†æ˜¯å®ƒä¹Ÿå¯èƒ½æ˜¯æœ‰ä¸¤ä¸ªå­—èŠ‚å­—ç¬¦çš„UTF8ã€‚ #### qrcode.is_kanji() è‹¥äºŒç»´ç çš„æ•°æ®ç±»å‹ä¸ºæ—¥æœ¬æ±‰å­—ï¼Œåˆ™è¿”å›Trueã€‚è®¾ç½®ä¸ºTrueåï¼Œæ‚¨å°±éœ€è¦è‡ªè¡Œè§£ç å­—ç¬¦ä¸²ï¼Œå› ä¸ºæ—¥æœ¬æ±‰å­—ç¬¦å·æ¯ä¸ªå­—ç¬¦æ˜¯10ä½ï¼Œè€ŒMicroPythonä¸æ”¯æŒè§£æè¿™ç±»æ–‡æœ¬ã€‚ ## AprilTagç±» â€“ AprilTagå¯¹è±¡ AprilTagå¯¹è±¡æ˜¯ç”± `image.find_apriltags` è¿”å›çš„ã€‚ ### æ„é€ å‡½æ•° class image.apriltag è¯·è°ƒç”¨ image.find_apriltags() å‡½æ•°æ¥åˆ›å»ºæ­¤å¯¹è±¡ã€‚ ### æ–¹æ³• #### apriltag.corners() è¿”å›ä¸€ä¸ªç”±è¯¥å¯¹è±¡çš„å››ä¸ªè§’ç»„æˆçš„å››ä¸ªå…ƒç»„(x,y)çš„åˆ—è¡¨ã€‚å››ä¸ªè§’é€šå¸¸æ˜¯æŒ‰ç…§ä»å·¦ä¸Šè§’å¼€å§‹æ²¿é¡ºæ—¶é’ˆé¡ºåºè¿”å›çš„ã€‚ #### apriltag.rect() è¿”å›ä¸€ä¸ªçŸ©å½¢å…ƒç»„(x, y, w, h)ï¼Œç”¨äºå¦‚AprilTagè¾¹ç•Œæ¡†çš„ image.draw_rectangle ç­‰å…¶ä»–çš„ image æ–¹æ³•ã€‚ #### apriltag.x() è¿”å›AprilTagè¾¹ç•Œæ¡†çš„xåæ ‡(int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [0] å–å¾—è¿™ä¸ªå€¼ã€‚ #### apriltag.y() è¿”å›AprilTagè¾¹ç•Œæ¡†çš„yåæ ‡(int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [1] å–å¾—è¿™ä¸ªå€¼ã€‚ #### apriltag.w() è¿”å›AprilTagè¾¹ç•Œæ¡†çš„wåæ ‡(int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [2] å–å¾—è¿™ä¸ªå€¼ã€‚ #### apriltag.h() è¿”å›AprilTagè¾¹ç•Œæ¡†çš„håæ ‡(int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [3] å–å¾—è¿™ä¸ªå€¼ã€‚ #### apriltag.id() è¿”å›AprilTagçš„æ•°å­—IDã€‚ TAG16H5 > 0 to 29 TAG25H7 > 0 to 241 TAG25H9 > 0 to 34 TAG36H10 > 0 to 2319 TAG36H11 > 0 to 586 ARTOOLKIT > 0 to 511 æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [4] å–å¾—è¿™ä¸ªå€¼ã€‚ #### apriltag.family() è¿”å›AprilTagçš„æ•°å­—å®¶åº­ã€‚ image.TAG16H5 image.TAG25H7 image.TAG25H9 image.TAG36H10 image.TAG36H11 image.ARTOOLKIT æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [5] å–å¾—è¿™ä¸ªå€¼ã€‚ #### apriltag.cx() è¿”å›AprilTagçš„ä¸­å¿ƒxä½ç½®(int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [6] å–å¾—è¿™ä¸ªå€¼ã€‚ #### apriltag.cy() è¿”å›AprilTagçš„ä¸­å¿ƒyä½ç½®(int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [7] å–å¾—è¿™ä¸ªå€¼ã€‚ #### apriltag.rotation() è¿”å›ä»¥å¼§åº¦è®¡çš„AprilTagçš„æ—‹åº¦(int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [8] å–å¾—è¿™ä¸ªå€¼ã€‚ #### apriltag.decision_margin() è¿”å›AprilTagåŒ¹é…çš„è‰²é¥±å’Œåº¦ï¼ˆå–å€¼0.0 1.0ï¼‰ï¼Œå…¶ä¸­1.0ä¸ºæœ€ä½³ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [9] å–å¾—è¿™ä¸ªå€¼ã€‚ #### apriltag.hamming() è¿”å›AprilTagçš„å¯æ¥å—çš„æ•°ä½è¯¯å·®æ•°å€¼ã€‚ TAG16H5 > æœ€å¤šå¯æ¥å—0ä½é”™è¯¯ TAG25H7 > æœ€å¤šå¯æ¥å—1ä½é”™è¯¯ TAG25H9 > æœ€å¤šå¯æ¥å—3ä½é”™è¯¯ TAG36H10 > æœ€å¤šå¯æ¥å—3ä½é”™è¯¯ TAG36H11 > æœ€å¤šå¯æ¥å—4ä½é”™è¯¯ ARTOOLKIT > æœ€å¤šå¯æ¥å—0ä½é”™è¯¯ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [10] å–å¾—è¿™ä¸ªå€¼ã€‚ #### apriltag.goodness() è¿”å›AprilTagå›¾åƒçš„è‰²é¥±å’Œåº¦ï¼ˆå–å€¼0.0 1.0ï¼‰ï¼Œå…¶ä¸­1.0ä¸ºæœ€ä½³ã€‚ > ç›®å‰è¿™ä¸€æ•°å€¼é€šå¸¸æ˜¯0.0ã€‚æœªæ¥æˆ‘ä»¬å¯ä»¥å¯ç”¨ä¸€ä¸ªç§°ä¸ºâ€œæ ‡ç­¾ç»†åŒ–â€çš„åŠŸèƒ½ï¼Œä»¥å®ç°å¯¹æ›´å°çš„AprilTagçš„æ£€æµ‹ã€‚ç„¶è€Œï¼Œç°åœ¨è¿™ä¸ªåŠŸèƒ½å°†å¸§é€Ÿç‡é™ä½åˆ°1 FPSä»¥ä¸‹ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [11] å–å¾—è¿™ä¸ªå€¼ã€‚ #### apriltag.x_translation() è¿”å›è·ç¦»æ‘„åƒæœºxæ–¹å‘çš„å˜æ¢ï¼Œè·ç¦»çš„å•ä½æœªçŸ¥ã€‚ è¿™ä¸ªæ–¹æ³•å¯¹äºç¡®å®šè¿œç¦»æ‘„åƒæœºçš„AprilTagçš„ä½ç½®å¾ˆæœ‰ç”¨ã€‚ä½†æ˜¯ï¼ŒAprilTagçš„å¤§å°ä»¥åŠæ‚¨ä½¿ç”¨çš„é•œå¤´ç­‰å› ç´ éƒ½ä¼šå½±å“Xå•å…ƒå½’å±çš„ç¡®å®šã€‚ä¸ºä½¿ç”¨æ–¹ä¾¿ï¼Œæˆ‘ä»¬æ¨èæ‚¨ä½¿ç”¨æŸ¥æ‰¾è¡¨å°†è¯¥æ–¹æ³•çš„è¾“å‡ºè½¬æ¢ä¸ºå¯¹æ‚¨çš„åº”ç”¨ç¨‹åºæœ‰ç”¨çš„ä¿¡æ¯ã€‚ æ³¨æ„ï¼šæ­¤å¤„çš„æ–¹å‘ä¸ºä»å·¦è‡³å³ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [12] å–å¾—è¿™ä¸ªå€¼ã€‚ #### apriltag.y_translation() è¿”å›è·ç¦»æ‘„åƒæœºyæ–¹å‘çš„å˜æ¢ï¼Œè·ç¦»çš„å•ä½æœªçŸ¥ã€‚ è¿™ä¸ªæ–¹æ³•å¯¹äºç¡®å®šè¿œç¦»æ‘„åƒæœºçš„AprilTagçš„ä½ç½®å¾ˆæœ‰ç”¨ã€‚ä½†æ˜¯ï¼ŒAprilTagçš„å¤§å°ä»¥åŠæ‚¨ä½¿ç”¨çš„é•œå¤´ç­‰å› ç´ éƒ½ä¼šå½±å“Yå•å…ƒå½’å±çš„ç¡®å®šã€‚ä¸ºä½¿ç”¨æ–¹ä¾¿ï¼Œæˆ‘ä»¬æ¨èæ‚¨ä½¿ç”¨æŸ¥æ‰¾è¡¨å°†è¯¥æ–¹æ³•çš„è¾“å‡ºè½¬æ¢ä¸ºå¯¹æ‚¨çš„åº”ç”¨ç¨‹åºæœ‰ç”¨çš„ä¿¡æ¯ã€‚ æ³¨æ„ï¼šæ­¤å¤„çš„æ–¹å‘ä¸ºä»ä¸Šè‡³ä¸‹ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [13] å–å¾—è¿™ä¸ªå€¼ã€‚ #### apriltag.z_translation() è¿”å›è·ç¦»æ‘„åƒæœºzæ–¹å‘çš„å˜æ¢ï¼Œè·ç¦»çš„å•ä½æœªçŸ¥ã€‚ Tè¿™ä¸ªæ–¹æ³•å¯¹äºç¡®å®šè¿œç¦»æ‘„åƒæœºçš„AprilTagçš„ä½ç½®å¾ˆæœ‰ç”¨ã€‚ä½†æ˜¯ï¼ŒAprilTagçš„å¤§å°ä»¥åŠæ‚¨ä½¿ç”¨çš„é•œå¤´ç­‰å› ç´ éƒ½ä¼šå½±å“Zå•å…ƒå½’å±çš„ç¡®å®šã€‚ä¸ºä½¿ç”¨æ–¹ä¾¿ï¼Œæˆ‘ä»¬æ¨èæ‚¨ä½¿ç”¨æŸ¥æ‰¾è¡¨å°†è¯¥æ–¹æ³•çš„è¾“å‡ºè½¬æ¢ä¸ºå¯¹æ‚¨çš„åº”ç”¨ç¨‹åºæœ‰ç”¨çš„ä¿¡æ¯ã€‚ æ³¨æ„ï¼šæ­¤å¤„çš„æ–¹å‘ä¸ºä»å‰è‡³åã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [14] å–å¾—è¿™ä¸ªå€¼ã€‚ #### apriltag.x_rotation() è¿”å›ä»¥å¼§åº¦è®¡çš„AprilTagåœ¨Xå¹³é¢ä¸Šçš„æ—‹åº¦ã€‚ä¾‹ï¼šç›®è§†AprilTagï¼Œä»å·¦è‡³å³ç§»åŠ¨æ‘„åƒå¤´ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [15] å–å¾—è¿™ä¸ªå€¼ã€‚ #### apriltag.y_rotation() è¿”å›ä»¥å¼§åº¦è®¡çš„AprilTagåœ¨Yå¹³é¢ä¸Šçš„æ—‹åº¦ã€‚ä¾‹ï¼šç›®è§†AprilTagï¼Œä»ä¸Šè‡³ä¸‹ç§»åŠ¨æ‘„åƒå¤´ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [16] å–å¾—è¿™ä¸ªå€¼ã€‚ #### apriltag.z_rotation() è¿”å›ä»¥å¼§åº¦è®¡çš„AprilTagåœ¨Zå¹³é¢ä¸Šçš„æ—‹åº¦ã€‚ä¾‹ï¼šç›®è§†AprilTagï¼Œæ—‹è½¬æ‘„åƒå¤´ã€‚ æ³¨æ„ï¼šè¿™åªæ˜¯ apriltag.rotation() çš„é‡å‘½åç‰ˆæœ¬ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [17] å–å¾—è¿™ä¸ªå€¼ã€‚ ## DataMatrixç±» â€“ æ•°æ®çŸ©é˜µå¯¹è±¡ æ•°æ®çŸ©é˜µå¯¹è±¡æ˜¯ç”± `image.find_datamatrices` è¿”å›çš„ã€‚ ## æ„é€ å‡½æ•° class image.datamatrix è¯·è°ƒç”¨ image.find_datamatrices() å‡½æ•°æ¥åˆ›å»ºæ­¤å¯¹è±¡ã€‚ ### æ–¹æ³• #### datamatrix.corners() è¿”å›ä¸€ä¸ªç”±è¯¥å¯¹è±¡çš„å››ä¸ªè§’ç»„æˆçš„å››ä¸ªå…ƒç»„(x,y)çš„åˆ—è¡¨ã€‚å››ä¸ªè§’é€šå¸¸æ˜¯æŒ‰ç…§ä»å·¦ä¸Šè§’å¼€å§‹æ²¿é¡ºæ—¶é’ˆé¡ºåºè¿”å›çš„ã€‚ #### datamatrix.rect() è¿”å›ä¸€ä¸ªçŸ©å½¢å…ƒç»„(x, y, w, h)ï¼Œç”¨äºå¦‚æ•°æ®çŸ©é˜µçš„è¾¹ç•Œæ¡†çš„ image.draw_rectangle ç­‰å…¶ä»–çš„ image æ–¹æ³•ã€‚ #### datamatrix.x() è¿”å›æ•°æ®çŸ©é˜µçš„è¾¹ç•Œæ¡†çš„xåæ ‡(int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [0] å–å¾—è¿™ä¸ªå€¼ã€‚ #### datamatrix.y() è¿”å›æ•°æ®çŸ©é˜µçš„è¾¹ç•Œæ¡†çš„yåæ ‡(int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [1] å–å¾—è¿™ä¸ªå€¼ã€‚ #### datamatrix.w() è¿”å›æ•°æ®çŸ©é˜µçš„è¾¹ç•Œæ¡†çš„wå®½åº¦ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [2] å–å¾—è¿™ä¸ªå€¼ã€‚ #### datamatrix.h() è¿”å›æ•°æ®çŸ©é˜µçš„è¾¹ç•Œæ¡†çš„hé«˜åº¦ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [3] å–å¾—è¿™ä¸ªå€¼ã€‚ #### datamatrix.payload() è¿”å›æ•°æ®çŸ©é˜µçš„æœ‰æ•ˆè½½è·çš„å­—ç¬¦ä¸²ã€‚ä¾‹ï¼šå­—ç¬¦ä¸²ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [4] å–å¾—è¿™ä¸ªå€¼ã€‚ #### datamatrix.rotation() è¿”å›ä»¥å¼§åº¦è®¡çš„æ•°æ®çŸ©é˜µçš„æ—‹åº¦(æµ®ç‚¹æ•°)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [5] å–å¾—è¿™ä¸ªå€¼ã€‚ #### datamatrix.rows() è¿”å›æ•°æ®çŸ©é˜µçš„è¡Œæ•°(int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [6] å–å¾—è¿™ä¸ªå€¼ã€‚ #### datamatrix.columns() è¿”å›æ•°æ®çŸ©é˜µçš„åˆ—æ•°(int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [7] å–å¾—è¿™ä¸ªå€¼ã€‚ #### datamatrix.capacity() è¿”å›è¿™ä¸€æ•°æ®çŸ©é˜µæ‰€èƒ½å®¹çº³çš„å­—ç¬¦çš„æ•°é‡ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [8] å–å¾—è¿™ä¸ªå€¼ã€‚ #### datamatrix.padding() è¿”å›è¿™ä¸€æ•°æ®çŸ©é˜µä¸­æœªä½¿ç”¨çš„å­—ç¬¦çš„æ•°é‡ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [9] å–å¾—è¿™ä¸ªå€¼ã€‚ ## BarCodeç±» â€“ æ¡å½¢ç å¯¹è±¡ æ¡å½¢ç å¯¹è±¡æ˜¯ç”± image.find_barcodes è¿”å›çš„ã€‚ ## æ„é€ å‡½æ•° class image.barcode è¯·è°ƒç”¨ image.find_barcodes() å‡½æ•°æ¥åˆ›å»ºæ­¤å¯¹è±¡ã€‚ ### æ–¹æ³• #### barcode.corners() è¿”å›ä¸€ä¸ªç”±è¯¥å¯¹è±¡çš„å››ä¸ªè§’ç»„æˆçš„å››ä¸ªå…ƒç»„(x,y)çš„åˆ—è¡¨ã€‚å››ä¸ªè§’é€šå¸¸æ˜¯æŒ‰ç…§ä»å·¦ä¸Šè§’å¼€å§‹æ²¿é¡ºæ—¶é’ˆé¡ºåºè¿”å›çš„ã€‚ #### barcode.rect() è¿”å›ä¸€ä¸ªçŸ©å½¢å…ƒç»„(x, y, w, h)ï¼Œç”¨äºå¦‚æ•°æ®çŸ©é˜µçš„è¾¹ç•Œæ¡†çš„ image.draw_rectangle ç­‰å…¶ä»–çš„ image æ–¹æ³•ã€‚ #### barcode.x() è¿”å›æ¡å½¢ç çš„è¾¹ç•Œæ¡†çš„xåæ ‡(int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [0] å–å¾—è¿™ä¸ªå€¼ã€‚ #### barcode.y() è¿”å›æ¡å½¢ç çš„è¾¹ç•Œæ¡†çš„yåæ ‡(int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [1] å–å¾—è¿™ä¸ªå€¼ã€‚ #### barcode.w() è¿”å›æ¡å½¢ç çš„è¾¹ç•Œæ¡†çš„wå®½åº¦(int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [2] å–å¾—è¿™ä¸ªå€¼ã€‚ #### barcode.h() è¿”å›æ¡å½¢ç çš„è¾¹ç•Œæ¡†çš„hé«˜åº¦(int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [3] å–å¾—è¿™ä¸ªå€¼ã€‚ #### barcode.payload() è¿”å›æ¡å½¢ç çš„æœ‰æ•ˆè½½è·çš„å­—ç¬¦ä¸²ã€‚ä¾‹ï¼šæ•°é‡ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [4] å–å¾—è¿™ä¸ªå€¼ã€‚ #### barcode.type() è¿”å›æ¡å½¢ç çš„åˆ—ä¸¾ç±»å‹ (int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [5] å–å¾—è¿™ä¸ªå€¼ã€‚ image.EAN2 image.EAN5 image.EAN8 image.UPCE image.ISBN10 image.UPCA image.EAN13 image.ISBN13 image.I25 image.DATABAR image.DATABAR_EXP image.CODABAR image.CODE39 image.PDF417 æœªæ¥å¯ç”¨ (e.g. ç°åœ¨è¿˜ä¸èƒ½æ­£å¸¸ä½¿ç”¨). image.CODE93 image.CODE128 #### barcode.rotation() è¿”å›ä»¥å¼§åº¦è®¡çš„æ¡å½¢ç çš„æ—‹åº¦(æµ®ç‚¹æ•°)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [6] å–å¾—è¿™ä¸ªå€¼ã€‚ #### barcode.quality() è¿”å›æ¡å½¢ç åœ¨å›¾åƒä¸­è¢«æ£€æµ‹åˆ°çš„æ¬¡æ•°(int)ã€‚ æ‰«ææ¡å½¢ç æ—¶ï¼Œæ¯ä¸€æ¡æ–°çš„æ‰«æçº¿éƒ½èƒ½è§£ç ç›¸åŒçš„æ¡å½¢ç ã€‚æ¯æ¬¡è¿›è¡Œè¿™ä¸€è¿‡ç¨‹ï¼Œæ¡å½¢ç çš„å€¼éƒ½ä¼šéšä¹‹å¢åŠ ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [7] å–å¾—è¿™ä¸ªå€¼ã€‚ ## Displacementç±» â€“ ä½ç§»å¯¹è±¡ ä½ç§»å¯¹è±¡ç”± image.find_displacement è¿”å›ã€‚ ### æ„é€ å‡½æ•° class image.displacement è¯·è°ƒç”¨ image.find_displacement() å‡½æ•°æ¥åˆ›å»ºæ­¤å¯¹è±¡ã€‚ ### æ–¹æ³• #### displacement.x_translation() è¿”å›ä¸¤ä¸ªå›¾åƒä¹‹é—´çš„xå¹³ç§»åƒç´ ã€‚ è¿™æ˜¯ç²¾ç¡®çš„å­åƒç´ ï¼Œæ‰€ä»¥å®ƒæ˜¯ä¸€ä¸ªæµ®ç‚¹æ•°ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [0] å–å¾—è¿™ä¸ªå€¼ã€‚ #### displacement.y_translation() è¿”å›ä¸¤ä¸ªå›¾åƒä¹‹é—´çš„yå¹³ç§»åƒç´ ã€‚ è¿™æ˜¯ç²¾ç¡®çš„å­åƒç´ ï¼Œæ‰€ä»¥å®ƒæ˜¯ä¸€ä¸ªæµ®ç‚¹æ•°ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [1] å–å¾—è¿™ä¸ªå€¼ã€‚ #### displacement.rotation() è¿”å›ä¸¤ä¸ªå›¾åƒä¹‹é—´çš„zå¹³ç§»åƒç´ ã€‚ è¿™æ˜¯ç²¾ç¡®çš„å­åƒç´ ï¼Œæ‰€ä»¥å®ƒæ˜¯ä¸€ä¸ªæµ®ç‚¹æ•°ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [2] å–å¾—è¿™ä¸ªå€¼ã€‚ #### displacement.scale() è¿”å›ä¸¤ä¸ªå›¾åƒä¹‹é—´æ—‹è½¬çš„å¼§åº¦ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [3] å–å¾—è¿™ä¸ªå€¼ã€‚ #### displacement.response() è¿”å›ä¸¤å¹…å›¾åƒä¹‹é—´ä½ç§»åŒ¹é…ç»“æœçš„è´¨é‡ã€‚ èŒƒå›´ 0 1ã€‚å“åº”å°äº0.1çš„ displacement å¯¹è±¡å¯èƒ½æ˜¯å™ªå£°ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [4] å–å¾—è¿™ä¸ªå€¼ã€‚ ## Kptmatchç±» â€“ ç‰¹å¾ç‚¹å¯¹è±¡ ç‰¹å¾ç‚¹å¯¹è±¡æ˜¯ç”± `image.match_descriptor` è¿”å›çš„ã€‚ ### æ„é€ å‡½æ•° class image.kptmatch è¯·è°ƒç”¨ image.match_descriptor() å‡½æ•°æ¥åˆ›å»ºæ­¤å¯¹è±¡ã€‚ ### æ–¹æ³• #### kptmatch.rect() è¿”å›ä¸€ä¸ªçŸ©å½¢å…ƒç»„(x, y, w, h)ï¼Œç”¨äºå¦‚ç‰¹å¾ç‚¹çš„è¾¹ç•Œæ¡†çš„ image.draw_rectangle ç­‰å…¶ä»–çš„ image æ–¹æ³•ã€‚ #### kptmatch.cx() è¿”å›ç‰¹å¾ç‚¹çš„ä¸­å¿ƒxä½ç½®(int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [0] å–å¾—è¿™ä¸ªå€¼ã€‚ #### kptmatch.cy() è¿”å›ç‰¹å¾ç‚¹çš„ä¸­å¿ƒyä½ç½®(int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [1] å–å¾—è¿™ä¸ªå€¼ã€‚ #### kptmatch.x() è¿”å›ç‰¹å¾ç‚¹è¾¹ç•Œæ¡†çš„xåæ ‡(int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [2] å–å¾—è¿™ä¸ªå€¼ã€‚ #### kptmatch.y() è¿”å›ç‰¹å¾ç‚¹è¾¹ç•Œæ¡†çš„yåæ ‡(int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [3] å–å¾—è¿™ä¸ªå€¼ã€‚ #### kptmatch.w() è¿”å›ç‰¹å¾ç‚¹è¾¹ç•Œæ¡†çš„wå®½åº¦(int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [4] å–å¾—è¿™ä¸ªå€¼ã€‚ #### kptmatch.h() è¿”å›ç‰¹å¾ç‚¹è¾¹ç•Œæ¡†çš„hé«˜åº¦(int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [5] å–å¾—è¿™ä¸ªå€¼ã€‚ #### kptmatch.count() è¿”å›åŒ¹é…çš„ç‰¹å¾ç‚¹çš„æ•°é‡(int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [6] å–å¾—è¿™ä¸ªå€¼ã€‚ #### kptmatch.theta() è¿”å›ä¼°è®¡çš„ç‰¹å¾ç‚¹çš„æ—‹åº¦(int)ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [7] å–å¾—è¿™ä¸ªå€¼ã€‚ #### kptmatch.match() è¿”å›åŒ¹é…å…³é”®ç‚¹çš„(xï¼Œy)å…ƒç»„åˆ—è¡¨ã€‚ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼• [8] å–å¾—è¿™ä¸ªå€¼ã€‚ ## ImageWriterç±» â€“ ImageWriterå¯¹è±¡ ImageWriter å¯¹è±¡ä½¿å¾—æ‚¨å¯ä»¥å¿«é€Ÿåœ°å°†æœªå‹ç¼©çš„å›¾åƒå†™å…¥ç£ç›˜ã€‚ ##ï¼ƒã€€æ„é€ å‡½æ•° class image.ImageWriter(path) åˆ›å»ºä¸€ä¸ªImageWriterå¯¹è±¡ï¼Œæ‚¨å°±å¯ä»¥ä»¥ç”¨äºOpenMV Camsçš„ç®€å•æ–‡ä»¶æ ¼å¼å°†æœªå‹ç¼©çš„å›¾åƒå†™åˆ°ç£ç›˜ä¸Šã€‚ç„¶åæœªå‹ç¼©çš„å›¾åƒå¯ä»¥ä½¿ç”¨ImageReaderé‡æ–°è¯»å–ã€‚ ### æ–¹æ³• #### imagewriter.size() è¿”å›æ­£åœ¨å†™å…¥çš„æ–‡ä»¶çš„å¤§å°ã€‚ #### imagewriter.add_frame(img) å°†ä¸€å¼ å›¾åƒå†™å…¥ç£ç›˜ã€‚ç”±äºå›¾åƒæœªè¢«å‹ç¼©ï¼Œå› æ­¤æ‰§è¡Œè¿…é€Ÿï¼Œä½†ä¼šå ç”¨å¤§é‡ç£ç›˜ç©ºé—´ã€‚ #### imagewriter.close() å…³é—­å›¾åƒæµæ–‡ä»¶ã€‚æ‚¨å¿…é¡»å…³é—­æ–‡ä»¶ï¼Œå¦åˆ™æ–‡ä»¶ä¼šæŸåã€‚ ## ImageReader ç±»â€“ ImageReaderå¯¹è±¡ ImageReaderå¯¹è±¡ä½¿å¾—æ‚¨å¯ä»¥å¿«é€Ÿåœ°ä»ç£ç›˜ä¸­è¯»å–æœªå‹ç¼©çš„å›¾åƒã€‚ ### æ„é€ å‡½æ•° class image.ImageReader(path) åˆ›å»ºä¸€ä¸ªImageReaderå¯¹è±¡ï¼Œç”¨æ¥å›æ”¾ç”±ImageWriterå¯¹è±¡ç¼–å†™çš„å›¾åƒæ•°æ®ã€‚ImageWriterå¯¹è±¡å›æ”¾çš„å¸§ä¼šåœ¨ä¸å†™å…¥ç£ç›˜æ—¶ç›¸åŒçš„FPSä¸‹å›æ”¾ã€‚ ### æ–¹æ³• #### imagereader.size() è¿”å›æ­£åœ¨è¯»å–çš„æ–‡ä»¶çš„å¤§å°ã€‚ imagereader.next_frame([copy_to_fb True, loop True]) ä»ImageWriterå†™å°±çš„æ–‡ä»¶ä¸­è¿”å›å›¾åƒå¯¹è±¡ã€‚è‹¥ copy_to_fb ä¸ºTrueï¼Œå›¾åƒå¯¹è±¡å°†è¢«ç›´æ¥åŠ è½½åˆ°å¸§ç¼“å†²åŒºä¸­ã€‚å¦åˆ™å›¾åƒå¯¹è±¡å°†è¢«æ”¾å…¥å †ä¸­ã€‚æ³¨æ„ï¼šé™¤éå›¾åƒå¾ˆå°ï¼Œå¦åˆ™å †å¯èƒ½æ²¡æœ‰è¶³å¤Ÿçš„ç©ºé—´æ¥å­˜å‚¨å›¾åƒå¯¹è±¡ã€‚ è‹¥ loop ä¸ºTrueï¼Œæµçš„æœ€åä¸€ä¸ªå›¾åƒè¯»å–ä¹‹åï¼Œå›æ”¾å°†é‡æ–°å¼€å§‹ã€‚å¦åˆ™æ‰€æœ‰å¸§è¢«è¯»å–åï¼Œè¿™ä¸ªæ–¹æ³•å°†è¿”å›Noneã€‚ æ³¨æ„ï¼š imagereader.next_frame å°è¯•åœ¨è¯»å–å¸§åé€šè¿‡æš‚åœæ’­æ”¾æ¥é™åˆ¶å›æ”¾é€Ÿåº¦ï¼Œä»¥ä¸å¸§è®°å½•çš„é€Ÿåº¦ç›¸åŒ¹é…ã€‚ å¦åˆ™ï¼Œè¿™ä¸ªæ–¹æ³•ä¼šä»¥200+FPSçš„é€Ÿåº¦å›¾åƒå¿«è¯»æ’­æ”¾æ‰€æœ‰å›¾åƒã€‚ #### imagereader.close() å…³é—­æ­£åœ¨è¯»å–çš„æ–‡ä»¶ã€‚æ‚¨éœ€è¦è¿›è¡Œè¿™ä¸€æ“ä½œï¼Œä»¥é˜²imagereader å¯¹è±¡å—æŸã€‚ä½†ç”±äºæ˜¯åªè¯»æ–‡ä»¶ï¼Œæ–‡ä»¶ä¸ä¼šåœ¨æœªå…³é—­æ—¶å—æŸã€‚ ## Imageç±» â€“ å›¾åƒå¯¹è±¡ å›¾åƒå¯¹è±¡æ˜¯æœºå™¨è§†è§‰æ“ä½œçš„åŸºæœ¬å¯¹è±¡ã€‚ ### æ„é€ å‡½æ•° class image.Image(path[, copy_to_fb False]) ä» path ä¸­çš„æ–‡ä»¶ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„å›¾åƒå¯¹è±¡ã€‚ æ”¯æŒbmp/pgm/ppm/jpg/jpegæ ¼å¼çš„å›¾åƒæ–‡ä»¶ã€‚ è‹¥ copy_to_fb ä¸ºTrueï¼Œå›¾åƒä¼šç›´æ¥è½½å…¥å¸§ç¼“å†²åŒºï¼Œæ‚¨å°±å¯ä»¥åŠ è½½å¤§å¹…å›¾ç‰‡äº†ã€‚è‹¥ä¸ºFalseï¼Œå›¾åƒä¼šè½½å…¥MicroPythonçš„å †ä¸­ï¼Œå †è¿œæ¯”å¸§ç¼“å†²åŒºå°ã€‚ åœ¨OpenMV Cam M4ä¸­ï¼Œè‹¥ copy_to_fb ä¸ºFalseï¼Œæ‚¨åº”è¯¥å°½é‡æŠŠå›¾åƒå¤§å°æ§åˆ¶åœ¨8KBä»¥ä¸‹ã€‚è‹¥ä¸ºTrueï¼Œåˆ™å›¾åƒæœ€å¤§å¯ä¸º160KBã€‚ åœ¨OpenMV Cam M7ä¸­ï¼Œè‹¥ copy_to_fb ä¸ºFalseï¼Œæ‚¨åº”è¯¥å°½é‡æŠŠå›¾åƒå¤§å°æ§åˆ¶åœ¨16KBä»¥ä¸‹ã€‚è‹¥ä¸ºTrueï¼Œåˆ™å›¾åƒæœ€å¤§å¯ä¸º320KBã€‚ å›¾åƒæ”¯æŒâ€œ[]â€è®°æ³•ã€‚ ä»¤ image[index] 8/16 bit value ï¼Œä»¥ä¾¿åˆ†é…å›¾åƒåƒç´ æˆ– image[index] ï¼Œå¹¶å¾—åˆ°ä¸€ä¸ªå›¾åƒåƒç´ ï¼Œè‹¥æ˜¯ç”¨äºRGBå›¾åƒçš„16ä½RGB565å€¼çš„ç°åº¦å›¾åƒï¼Œ è¿™ä¸€åƒç´ åˆ™ä¸º8ä½ã€‚ å¯¹äºJPEGå›¾åƒè€Œè¨€ï¼Œâ€œ[]â€ä½¿å¾—æ‚¨å¯ä»¥è®¿é—®å‹ç¼©çš„èŠ‚æ•°ç»„å½¢å¼çš„JPEGå›¾åƒè‰²å—ã€‚ç”±äºJPEGå›¾åƒæ˜¯å‹ç¼©çš„å­—èŠ‚æµå½¢å¼ï¼Œå› è€Œå¯¹æ•°æ®ç»„çš„è¯»å–å’Œå†™å…¥æ˜¯ä¸é€æ˜çš„ã€‚ å›¾åƒè¿˜æ”¯æŒè¯»ç¼“å†²åŒºæ“ä½œã€‚æ‚¨å¯ä»¥æŠŠå›¾åƒå½“ä½œèŠ‚æ•°ç»„å¯¹è±¡ï¼Œå°†å›¾åƒè¾“å…¥æ‰€æœ‰ç±»å‹çš„MicroPythonå‡½æ•°ã€‚è‹¥æ‚¨æƒ³ä¼ é€ä¸€ä¸ªå›¾åƒï¼Œå¯ä»¥å°†å®ƒä¼ é€’ç»™UART /SPI/ I2Cå†™å…¥å‡½æ•°ï¼Œå¯å®ç°è‡ªåŠ¨ä¼ é€ã€‚ ### æ–¹æ³• #### image.width() è¿”å›ä»¥åƒç´ è®¡çš„å›¾åƒçš„å®½åº¦ã€‚ #### image.height() è¿”å›ä»¥åƒç´ è®¡çš„å›¾åƒçš„é«˜åº¦ã€‚ #### image.format() è¿”å›ç”¨äºç°åº¦å›¾çš„ sensor.GRAYSCALE ã€ç”¨äºRGBå›¾åƒçš„ sensor.RGB565 å’Œç”¨äºJPEGå›¾åƒçš„ sensor.JPEG ã€‚ #### image.size() è¿”å›ä»¥å­—èŠ‚è®¡çš„å›¾åƒå¤§å°ã€‚ #### image.get_pixel(x, y[, rgbtuple]) ç°åº¦å›¾ï¼šè¿”å›(x, y)ä½ç½®çš„ç°åº¦åƒç´ å€¼ã€‚ RGB565lï¼šè¿”å›(x, y)ä½ç½®çš„RGB888åƒç´ å…ƒç»„(r, g, b)ã€‚ Bayerå›¾åƒ: è¿”å›(x, y)ä½ç½®çš„åƒç´ å€¼ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒã€‚ > image.get_pixel() å’Œ `image.set_pixel()`æ˜¯å…è®¸ä½ æ“ä½œBayeræ¨¡å¼å›¾åƒçš„å”¯ä¸€æ–¹æ³•ã€‚ Bayeræ¨¡å¼å›¾åƒæ˜¯æ–‡å­—å›¾åƒã€‚å¯¹äºå¶æ•°è¡Œï¼Œå…¶ä¸­å›¾åƒä¸­çš„åƒç´ æ˜¯R/G/R/G/ç­‰ã€‚ å¯¹äºå¥‡æ•°è¡Œï¼Œå…¶ä¸­å›¾åƒä¸­çš„åƒç´ æ˜¯G/B/G/B/ç­‰ã€‚ æ¯ä¸ªåƒç´ æ˜¯8ä½ã€‚ #### image.set_pixel(x, y, pixel) ç°åº¦å›¾ï¼šå°†(x, y) ä½ç½®çš„åƒç´ è®¾ç½®ä¸ºç°åº¦å€¼ pixel ã€‚ RGBå›¾åƒï¼šå°†(x, y) ä½ç½®çš„åƒç´ è®¾ç½®ä¸ºRGB888å…ƒç»„(r, g, b) pixel ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒã€‚ > image.get_pixel() å’Œ `image.set_pixel()`æ˜¯å…è®¸ä½ æ“ä½œBayeræ¨¡å¼å›¾åƒçš„å”¯ä¸€æ–¹æ³•ã€‚ Bayeræ¨¡å¼å›¾åƒæ˜¯æ–‡å­—å›¾åƒã€‚å¯¹äºå¶æ•°è¡Œï¼Œå…¶ä¸­å›¾åƒä¸­çš„åƒç´ æ˜¯R/G/R/G/ç­‰ã€‚ å¯¹äºå¥‡æ•°è¡Œï¼Œå…¶ä¸­å›¾åƒä¸­çš„åƒç´ æ˜¯G/B/G/B/ç­‰ã€‚ æ¯ä¸ªåƒç´ æ˜¯8ä½ã€‚ #### image.mean_pool(x_div, y_div) åœ¨å›¾åƒä¸­æ‰¾åˆ° x_div * y_div æ­£æ–¹å½¢çš„å¹³å‡å€¼ï¼Œå¹¶è¿”å›ç”±æ¯ä¸ªæ­£æ–¹å½¢çš„å¹³å‡å€¼ç»„æˆçš„ä¿®æ”¹å›¾åƒã€‚ æ­¤æ–¹æ³•å…è®¸æ‚¨åœ¨åŸæ¥å›¾åƒä¸Šå¿«é€Ÿç¼©å°å›¾åƒã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ #### image.mean_pooled(x_div, y_div) åœ¨å›¾åƒä¸­æ‰¾åˆ° x_div * y_div æ­£æ–¹å½¢çš„å¹³å‡å€¼ï¼Œå¹¶è¿”å›ç”±æ¯ä¸ªæ­£æ–¹å½¢çš„å¹³å‡å€¼ç»„æˆçš„æ–°å›¾åƒã€‚ æ­¤æ–¹æ³•å…è®¸æ‚¨åˆ›å»ºç¼©å°çš„å›¾åƒå‰¯æœ¬ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ #### image.midpoint_pool(x_div, y_div[, bias 0.5]) åœ¨å›¾åƒä¸­æ‰¾åˆ° x_div * y_div æ­£æ–¹å½¢çš„ä¸­ç‚¹å€¼ï¼Œå¹¶è¿”å›ç”±æ¯ä¸ªæ­£æ–¹å½¢çš„ä¸­ç‚¹å€¼ç»„æˆçš„ä¿®æ”¹å›¾åƒã€‚ bias ä¸º0.0è¿”å›æ¯ä¸ªåŒºåŸŸçš„æœ€å°å€¼ï¼Œè€Œ``bias`` ä¸º1.0è¿”å›æ¯ä¸ªåŒºåŸŸçš„æœ€å¤§å€¼ã€‚ æ­¤æ–¹æ³•å…è®¸æ‚¨åœ¨åŸæ¥å›¾åƒä¸Šå¿«é€Ÿç¼©å°å›¾åƒã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ #### image.midpoint_pooled(x_div, y_div[, bias 0.5]) åœ¨å›¾åƒä¸­æ‰¾åˆ° x_div * y_div æ­£æ–¹å½¢çš„ä¸­ç‚¹å€¼ï¼Œå¹¶è¿”å›ç”±æ¯ä¸ªæ­£æ–¹å½¢çš„ä¸­ç‚¹å€¼ç»„æˆçš„æ–°å›¾åƒã€‚ bias ä¸º0.0è¿”å›æ¯ä¸ªåŒºåŸŸçš„æœ€å°å€¼ï¼Œè€Œ``bias`` ä¸º1.0è¿”å›æ¯ä¸ªåŒºåŸŸçš„æœ€å¤§å€¼ã€‚ æ­¤æ–¹æ³•å…è®¸æ‚¨åˆ›å»ºç¼©å°çš„å›¾åƒå‰¯æœ¬ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ #### image.to_grayscale([copy False]) å°†å›¾åƒè½¬æ¢ä¸ºç°åº¦å›¾åƒã€‚ æ­¤æ–¹æ³•ä¹Ÿä¼šä¿®æ”¹åŸºç¡€å›¾åƒåƒç´ ï¼Œä»¥å­—èŠ‚ä¸ºå•ä½æ›´æ”¹å›¾åƒå¤§å°ï¼Œå› æ­¤åªèƒ½åœ¨ç°åº¦å›¾åƒæˆ–RGB565å›¾åƒä¸Šè¿›è¡Œã€‚ å¦åˆ™ copy å¿…é¡»ä¸ºTrueæ‰èƒ½åœ¨å †ä¸Šåˆ›å»ºæ–°çš„ä¿®æ”¹å›¾åƒã€‚ è¿”å›å›¾åƒå¯¹è±¡ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥ä½¿ç”¨ . è¡¨ç¤ºæ³•è°ƒç”¨å¦ä¸€ä¸ªæ–¹æ³•ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ #### image.to_rgb565([copy False]) å°†å›¾åƒè½¬æ¢ä¸ºå½©è‰²å›¾åƒã€‚ æ­¤æ–¹æ³•ä¹Ÿä¼šä¿®æ”¹åŸºç¡€å›¾åƒåƒç´ ï¼Œä»¥å­—èŠ‚ä¸ºå•ä½æ›´æ”¹å›¾åƒå¤§å°ï¼Œå› æ­¤åªèƒ½åœ¨RGB565å›¾åƒä¸Šè¿›è¡Œã€‚ å¦åˆ™ copy å¿…é¡»ä¸ºTrueæ‰èƒ½åœ¨å †ä¸Šåˆ›å»ºæ–°çš„ä¿®æ”¹å›¾åƒã€‚ è¿”å›å›¾åƒå¯¹è±¡ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥ä½¿ç”¨ . è¡¨ç¤ºæ³•è°ƒç”¨å¦ä¸€ä¸ªæ–¹æ³•ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ #### image.to_rainbow([copy False]) å°†å›¾åƒè½¬æ¢ä¸ºå½©è™¹å›¾åƒã€‚ æ­¤æ–¹æ³•ä¹Ÿä¼šä¿®æ”¹åŸºç¡€å›¾åƒåƒç´ ï¼Œä»¥å­—èŠ‚ä¸ºå•ä½æ›´æ”¹å›¾åƒå¤§å°ï¼Œå› æ­¤åªèƒ½åœ¨RGB565å›¾åƒä¸Šè¿›è¡Œã€‚ å¦åˆ™ copy å¿…é¡»ä¸ºTrueæ‰èƒ½åœ¨å †ä¸Šåˆ›å»ºæ–°çš„ä¿®æ”¹å›¾åƒã€‚ å½©è™¹å›¾åƒæ˜¯å½©è‰²å›¾åƒï¼Œå¯¹äºå›¾åƒä¸­çš„æ¯ä¸ª8ä½æ©æ¨¡ç°åº¦ç…§æ˜å€¼å…·æœ‰å”¯ä¸€çš„é¢œè‰²å€¼ã€‚ ä¾‹å¦‚ï¼Œå®ƒä¸ºçƒ­å›¾åƒæä¾›çƒ­å›¾é¢œè‰²ã€‚ è¿”å›å›¾åƒå¯¹è±¡ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥ä½¿ç”¨ . è¡¨ç¤ºæ³•è°ƒç”¨å¦ä¸€ä¸ªæ–¹æ³•ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ #### image.compress([quality 50]) JPEGå¯¹å›¾åƒè¿›è¡Œé€‚å½“å‹ç¼©ã€‚ä½¿ç”¨è¿™ç§æ–¹æ³•ä¸ compressed ä¿å­˜å †ç©ºé—´ç›¸æ¯”ï¼Œä½¿ç”¨æ›´é«˜qualityçš„å‹ç¼©ç‡æ˜¯ä»¥ç ´ååŸå§‹å›¾åƒä¸ºä»£ä»·çš„ã€‚ quality æ˜¯å‹ç¼©è´¨é‡ï¼ˆ0 100ï¼‰ï¼ˆintï¼‰ã€‚ #### image.compress_for_ide([quality 50]) JPEGå¯¹å›¾åƒè¿›è¡Œé€‚å½“å‹ç¼©ã€‚ä½¿ç”¨è¿™ç§æ–¹æ³•ä¸ compressed ä¿å­˜å †ç©ºé—´ç›¸æ¯”ï¼Œä½¿ç”¨æ›´é«˜qualityçš„å‹ç¼©ç‡æ˜¯ä»¥ç ´ååŸå§‹å›¾åƒä¸ºä»£ä»·çš„ã€‚ è¿™ä¸ªæ–¹æ³•å‹ç¼©å›¾åƒï¼Œç„¶åé€šè¿‡å°†æ¯6æ¯”ç‰¹ç¼–ç ä¸º128 191ä¹‹é—´çš„å­—èŠ‚å°†JPEGæ•°æ®æ ¼å¼åŒ–ï¼Œè½¬æ¢ä¸ºOpenMV IDEï¼Œä»¥ä¾¿æ˜¾ç¤ºã€‚è¿›è¡Œè¿™ä¸€æ­¥æ˜¯ä¸ºé˜²æ­¢JPEGæ•°æ®è¢«è¯¯è®¤ä¸ºæ˜¯å­—èŠ‚æµä¸­çš„å…¶ä»–æ–‡æœ¬æ•°æ®ã€‚ æ‚¨éœ€è¦ä½¿ç”¨è¿™ä¸€æ–¹æ³•æ¥æ ¼å¼åŒ–å›¾åƒæ•°æ®ï¼Œä»¥ä¾¿åœ¨OpenMV IDEä¸­é€šè¿‡â€œå¼€æ”¾ç»ˆç«¯â€åˆ›å»ºçš„ç»ˆç«¯çª—å£ä¸­æ˜¾ç¤ºã€‚ quality æ˜¯å‹ç¼©è´¨é‡ï¼ˆ0 100ï¼‰ï¼ˆintï¼‰ã€‚ #### image.compressed([quality 50]) è¿”å›ä¸€ä¸ªJPEGå‹ç¼©å›¾åƒâ€”åŸå§‹å›¾åƒæœªç»å¤„ç†ã€‚ä½†æ˜¯ï¼Œè¿™ä¸ªæ–¹æ³•éœ€è¦å †ç©ºé—´çš„å¤§åˆ†é…ï¼Œæ‰€ä»¥å›¾åƒå‹ç¼©è´¨é‡å’Œå›¾åƒåˆ†è¾¨ç‡å¿…é¡»å¾ˆä½ã€‚ quality æ˜¯å‹ç¼©è´¨é‡ï¼ˆ0 100ï¼‰ï¼ˆintï¼‰ã€‚ #### image.compressed_for_ide([quality 50]) è¿”å›ä¸€ä¸ªJPEGå‹ç¼©å›¾åƒâ€”åŸå§‹å›¾åƒæœªç»å¤„ç†ã€‚ä½†æ˜¯ï¼Œè¿™ä¸ªæ–¹æ³•éœ€è¦å †ç©ºé—´çš„å¤§åˆ†é…ï¼Œæ‰€ä»¥å›¾åƒå‹ç¼©è´¨é‡å’Œå›¾åƒåˆ†è¾¨ç‡å¿…é¡»å¾ˆä½ã€‚ è¿™ä¸ªæ–¹æ³•å‹ç¼©å›¾åƒï¼Œç„¶åé€šè¿‡å°†æ¯6æ¯”ç‰¹ç¼–ç ä¸º128 191ä¹‹é—´çš„å­—èŠ‚å°†JPEGæ•°æ®æ ¼å¼åŒ–ï¼Œè½¬æ¢ä¸ºOpenMV IDEï¼Œä»¥ä¾¿æ˜¾ç¤ºã€‚è¿›è¡Œè¿™ä¸€æ­¥æ˜¯ä¸ºé˜²æ­¢JPEGæ•°æ®è¢«è¯¯è®¤ä¸ºæ˜¯å­—èŠ‚æµä¸­çš„å…¶ä»–æ–‡æœ¬æ•°æ®ã€‚ æ‚¨éœ€è¦ä½¿ç”¨è¿™ä¸€æ–¹æ³•æ¥æ ¼å¼åŒ–å›¾åƒæ•°æ®ï¼Œä»¥ä¾¿åœ¨OpenMV IDEä¸­é€šè¿‡â€œå¼€æ”¾ç»ˆç«¯â€åˆ›å»ºçš„ç»ˆç«¯çª—å£ä¸­æ˜¾ç¤ºã€‚ quality æ˜¯å‹ç¼©è´¨é‡ï¼ˆ0 100ï¼‰ï¼ˆintï¼‰ã€‚ #### image.copy([roi[, copy_to_fb False]]) åˆ›å»ºä¸€ä¸ªå›¾åƒå¯¹è±¡çš„å‰¯æœ¬ã€‚ Roi æ˜¯ä¸€ä¸ªç”¨ä»¥å¤åˆ¶çš„çŸ©å½¢çš„æ„Ÿå…´è¶£åŒºåŸŸ(x, y, w, h)ã€‚å¦‚æœæœªæŒ‡å®šï¼ŒROIå³å¤åˆ¶æ•´ä¸ªå›¾åƒçš„å›¾åƒçŸ©å½¢ã€‚ä½†è¿™ä¸é€‚ç”¨äºJPEGå›¾åƒã€‚ è¯·è®°ä½å›¾åƒå‰¯æœ¬å‚¨å­˜åœ¨MicroPython å †ä¸­è€Œä¸æ˜¯å¸§ç¼“å†²åŒºã€‚åŒæ ·ï¼Œæ‚¨éœ€è¦å°†å›¾åƒå‰¯æœ¬å¤§å°æ§åˆ¶åœ¨8KBä»¥ä¸‹ï¼ˆOpenMVï¼‰æˆ–16KBä»¥ä¸‹ï¼ˆOpenMV Cam M7ï¼‰ å¦‚æœæ‚¨æƒ³ä½¿ç”¨ä¸€ä¸ªå¤åˆ¶æ“ä½œæ¥ä½¿ç”¨æ‰€æœ‰çš„å †ç©ºé—´ï¼Œè¿™ä¸ªå‡½æ•°ä¼šå‡ºç°å¼‚å¸¸ã€‚è¿‡å¤§çš„å›¾åƒææ˜“è§¦å‘å¼‚å¸¸ã€‚ å¦‚æœ copy_to_fb ä¸ºTrueï¼Œåˆ™è¯¥æ–¹æ³•å°†å¸§ç¼“å†²æ›¿æ¢ä¸ºå›¾åƒã€‚ å¸§ç¼“å†²åŒºå…·æœ‰æ¯”å †å¤§å¾—å¤šçš„ç©ºé—´ï¼Œå¹¶ä¸”å¯ä»¥å®¹çº³å¤§å›¾åƒã€‚ #### image.save(path[, roi[, quality 50]]) å°†å›¾åƒçš„å‰¯æœ¬ä¿å­˜åˆ° path ä¸­çš„æ–‡ä»¶ç³»ç»Ÿã€‚ æ”¯æŒbmp/pgm/ppm/jpg/jpegæ ¼å¼çš„å›¾åƒæ–‡ä»¶ã€‚æ³¨æ„ï¼šæ‚¨æ— æ³•å°†jpegæ ¼å¼çš„å‹ç¼©å›¾åƒä¿å­˜æˆæœªå‹ç¼©çš„æ ¼å¼ã€‚ roi æ˜¯ä¸€ä¸ªç”¨ä»¥å¤åˆ¶çš„çŸ©å½¢çš„æ„Ÿå…´è¶£åŒºåŸŸ(x, y, w, h)ã€‚å¦‚æœæœªæŒ‡å®šï¼ŒROIå³å¤åˆ¶æ•´ä¸ªå›¾åƒçš„å›¾åƒçŸ©å½¢ã€‚ä½†è¿™ä¸é€‚ç”¨äºJPEGå›¾åƒã€‚ quality æŒ‡åœ¨å›¾åƒå°šæœªè¢«å‹ç¼©æ—¶å°†å›¾åƒä¿å­˜ä¸ºJPEGæ ¼å¼çš„JPEGå‹ç¼©è´¨é‡ã€‚ #### image.clear() å°†å›¾åƒä¸­çš„æ‰€æœ‰åƒç´ è®¾ç½®ä¸ºé›¶ï¼ˆéå¸¸å¿«ï¼‰ã€‚ è¿”å›å›¾åƒå¯¹è±¡ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥ä½¿ç”¨ . è¡¨ç¤ºæ³•è°ƒç”¨å¦ä¸€ä¸ªæ–¹æ³•ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒã€‚ #### image.draw_line(x0, y0, x1, y1[, color[, thickness 1]]) åœ¨å›¾åƒä¸Šç»˜åˆ¶ä¸€æ¡ä»(x0ï¼Œy0)åˆ°(x1ï¼Œy1)çš„çº¿ã€‚ æ‚¨å¯ä»¥å•ç‹¬ä¼ é€’x0ï¼Œy0ï¼Œx1ï¼Œy1ï¼Œä¹Ÿå¯ä»¥ä¼ é€’ç»™å…ƒç»„(x0ï¼Œy0ï¼Œx1ï¼Œy1)ã€‚ color æ˜¯ç”¨äºç°åº¦æˆ–RGB565å›¾åƒçš„RGB888å…ƒç»„ã€‚é»˜è®¤ä¸ºç™½è‰²ã€‚ä½†æ˜¯ï¼Œæ‚¨ä¹Ÿå¯ä»¥ä¼ é€’ç°åº¦å›¾åƒçš„åŸºç¡€åƒç´ å€¼(0 255)æˆ–RGB565å›¾åƒçš„å­—èŠ‚åè½¬RGB565å€¼ã€‚ thickness æ§åˆ¶çº¿çš„ç²—ç»†åƒç´ ã€‚ è¿”å›å›¾åƒå¯¹è±¡ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥ä½¿ç”¨ . è¡¨ç¤ºæ³•è°ƒç”¨å¦ä¸€ä¸ªæ–¹æ³•ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ #### image.draw_rectangle(x, y, w, h[, color[, thickness 1[, fill False]]]) åœ¨å›¾åƒä¸Šç»˜åˆ¶ä¸€ä¸ªçŸ©å½¢ã€‚ æ‚¨å¯ä»¥å•ç‹¬ä¼ é€’xï¼Œyï¼Œwï¼Œhæˆ–ä½œä¸ºå…ƒç»„(xï¼Œyï¼Œwï¼Œh)ä¼ é€’ã€‚ color æ˜¯ç”¨äºç°åº¦æˆ–RGB565å›¾åƒçš„RGB888å…ƒç»„ã€‚é»˜è®¤ä¸ºç™½è‰²ã€‚ä½†æ˜¯ï¼Œæ‚¨ä¹Ÿå¯ä»¥ä¼ é€’ç°åº¦å›¾åƒçš„åŸºç¡€åƒç´ å€¼(0 255)æˆ–RGB565å›¾åƒçš„å­—èŠ‚åè½¬RGB565å€¼ã€‚ thickness æ§åˆ¶çº¿çš„ç²—ç»†åƒç´ ã€‚ å°† fill è®¾ç½®ä¸ºTrueä»¥å¡«å……çŸ©å½¢ã€‚ è¿”å›å›¾åƒå¯¹è±¡ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥ä½¿ç”¨ . è¡¨ç¤ºæ³•è°ƒç”¨å¦ä¸€ä¸ªæ–¹æ³•ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ #### image.draw_ellipse(cx, cy, rx, ry, rotation[, color[, thickness 1[, fill False]]]) åœ¨å›¾åƒä¸Šç»˜åˆ¶æ¤­åœ†ã€‚æ‚¨å¯ä»¥å•ç‹¬ä¼ é€’cxã€cyã€rxã€ryå’Œrotation(ä»¥åº¦ä¸ºå•ä½)ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºå…ƒç»„ä¼ é€’(cxã€ycã€rxã€ryã€rotation)ã€‚ color æ˜¯ç”¨äºç°åº¦æˆ–RGB565å›¾åƒçš„RGB888å…ƒç»„ã€‚é»˜è®¤ä¸ºç™½è‰²ã€‚ ä½†æ˜¯ï¼Œæ‚¨ä¹Ÿå¯ä»¥ä¸ºç°åº¦å›¾åƒä¼ é€’åŸºç¡€åƒç´ å€¼(0 255)ï¼Œæˆ–è€…ä¸ºRGB565å›¾åƒä¼ é€’å­—èŠ‚åè½¬çš„RGB565å€¼ã€‚ thickness æ§åˆ¶è¾¹ç¼˜çš„åšåº¦ï¼Œä»¥åƒç´ ä¸ºå•ä½ã€‚ ä¼ é€’ fill è®¾ç½®ä¸ºTrueæ¥å¡«å……æ¤­åœ†ã€‚ è¿”å›å›¾åƒå¯¹è±¡ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥ä½¿ç”¨ . è¡¨ç¤ºæ³•è°ƒç”¨å¦ä¸€ä¸ªæ–¹æ³•ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒæˆ–bayerå›¾åƒã€‚ #### image.draw_circle(x, y, radius[, color[, thickness 1[, fill False]]]) åœ¨å›¾åƒä¸Šç»˜åˆ¶ä¸€ä¸ªåœ†å½¢ã€‚ æ‚¨å¯ä»¥å•ç‹¬ä¼ é€’xï¼Œyï¼ŒåŠå¾„ æˆ– ä½œä¸ºå…ƒç»„(xï¼Œyï¼Œradius)ä¼ é€’ã€‚ color æ˜¯ç”¨äºç°åº¦æˆ–RGB565å›¾åƒçš„RGB888å…ƒç»„ã€‚é»˜è®¤ä¸ºç™½è‰²ã€‚ä½†æ˜¯ï¼Œæ‚¨ä¹Ÿå¯ä»¥ä¼ é€’ç°åº¦å›¾åƒçš„åŸºç¡€åƒç´ å€¼(0 255)æˆ–RGB565å›¾åƒçš„å­—èŠ‚åè½¬RGB565å€¼ã€‚ thickness æ§åˆ¶çº¿çš„ç²—ç»†åƒç´ ã€‚ å°† fill è®¾ç½®ä¸ºTrueä»¥å¡«å……åœ†å½¢ã€‚ è¿”å›å›¾åƒå¯¹è±¡ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥ä½¿ç”¨ . è¡¨ç¤ºæ³•è°ƒç”¨å¦ä¸€ä¸ªæ–¹æ³•ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ #### image.draw_string(x, y, text[, color[, scale 1[, x_spacing 0[, y_spacing 0[, mono_space True]]]]]) ä»å›¾åƒä¸­çš„(x, y)ä½ç½®å¼€å§‹ç»˜åˆ¶8x10æ–‡æœ¬ã€‚æ‚¨å¯ä»¥å•ç‹¬ä¼ é€’xï¼Œyï¼Œä¹Ÿå¯ä»¥ä½œä¸ºå…ƒç»„(xï¼Œy)ä¼ é€’ã€‚ text æ˜¯å†™å…¥å›¾åƒçš„å­—ç¬¦ä¸²ã€‚ \\n, \\r, å’Œ \\r\\n ç»“æŸç¬¦å°†å…‰æ ‡ç§»è‡³ä¸‹ä¸€è¡Œã€‚ color æ˜¯ç”¨äºç°åº¦æˆ–RGB565å›¾åƒçš„RGB888å…ƒç»„ã€‚é»˜è®¤ä¸ºç™½è‰²ã€‚ä½†æ˜¯ï¼Œæ‚¨ä¹Ÿå¯ä»¥ä¼ é€’ç°åº¦å›¾åƒçš„åŸºç¡€åƒç´ å€¼(0 255)æˆ–RGB565å›¾åƒçš„å­—èŠ‚åè½¬RGB565å€¼ã€‚ å¯ä»¥å¢åŠ  scale ä»¥å¢åŠ å›¾åƒä¸Šæ–‡æœ¬çš„å¤§å°ã€‚ ä»…æ•´æ•°å€¼ï¼ˆä¾‹å¦‚ï¼Œ1/2/3 /ç­‰ï¼‰ã€‚ x_spacing å…è®¸ä½ åœ¨å­—ç¬¦ä¹‹é—´æ·»åŠ ï¼ˆå¦‚æœæ˜¯æ­£æ•°ï¼‰æˆ–å‡å»ï¼ˆå¦‚æœæ˜¯è´Ÿæ•°ï¼‰xåƒç´ ï¼Œè®¾ç½®å­—ç¬¦é—´è·ã€‚ y_spacing å…è®¸ä½ åœ¨å­—ç¬¦ä¹‹é—´æ·»åŠ ï¼ˆå¦‚æœæ˜¯æ­£æ•°ï¼‰æˆ–å‡å»ï¼ˆå¦‚æœæ˜¯è´Ÿæ•°ï¼‰yåƒç´ ï¼Œè®¾ç½®è¡Œé—´è·ã€‚ mono_space é»˜è®¤ä¸ºTrueï¼Œå¼ºåˆ¶æ–‡æœ¬é—´è·å›ºå®šã€‚å¯¹äºå¤§æ–‡æœ¬ï¼Œè¿™çœ‹èµ·æ¥å¾ˆç³Ÿç³•ã€‚è®¾ç½®Falseä»¥è·å¾—éå›ºå®šå®½åº¦çš„å­—ç¬¦é—´è·ï¼Œçœ‹èµ·æ¥å¥½å¤šäº†ã€‚ è¿”å›å›¾åƒå¯¹è±¡ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥ä½¿ç”¨ . è¡¨ç¤ºæ³•è°ƒç”¨å¦ä¸€ä¸ªæ–¹æ³•ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ #### image.draw_cross(x, y[, color[, size 5[, thickness 1]]]) åœ¨å›¾åƒä¸Šç»˜åˆ¶ä¸€ä¸ªåå­—ã€‚ æ‚¨å¯ä»¥å•ç‹¬ä¼ é€’xï¼Œyæˆ–ä½œä¸ºå…ƒç»„(xï¼Œy)ä¼ é€’ã€‚ color æ˜¯ç”¨äºç°åº¦æˆ–RGB565å›¾åƒçš„RGB888å…ƒç»„ã€‚é»˜è®¤ä¸ºç™½è‰²ã€‚ä½†æ˜¯ï¼Œæ‚¨ä¹Ÿå¯ä»¥ä¼ é€’ç°åº¦å›¾åƒçš„åŸºç¡€åƒç´ å€¼(0 255)æˆ–RGB565å›¾åƒçš„å­—èŠ‚åè½¬RGB565å€¼ã€‚ size æ§åˆ¶åå­—çº¿çš„å»¶ä¼¸é•¿åº¦ã€‚ thickness æ§åˆ¶è¾¹ç¼˜çš„åƒç´ åšåº¦ã€‚ è¿”å›å›¾åƒå¯¹è±¡ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥ä½¿ç”¨ . è¡¨ç¤ºæ³•è°ƒç”¨å¦ä¸€ä¸ªæ–¹æ³•ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ #### image.draw_arrow(x0, y0, x1, y1[, color[, thickness 1]]) åœ¨å›¾åƒä¸Šç»˜åˆ¶ä¸€æ¡ä»(x0ï¼Œy0)åˆ°(x1ï¼Œy1)çš„ç®­å¤´ã€‚ æ‚¨å¯ä»¥å•ç‹¬ä¼ é€’x0ï¼Œy0ï¼Œx1ï¼Œy1ï¼Œä¹Ÿå¯ä»¥ä¼ é€’ç»™å…ƒç»„(x0ï¼Œy0ï¼Œx1ï¼Œy1)ã€‚ color æ˜¯ç”¨äºç°åº¦æˆ–RGB565å›¾åƒçš„RGB888å…ƒç»„ã€‚é»˜è®¤ä¸ºç™½è‰²ã€‚ä½†æ˜¯ï¼Œæ‚¨ä¹Ÿå¯ä»¥ä¼ é€’ç°åº¦å›¾åƒçš„åŸºç¡€åƒç´ å€¼(0 255)æˆ–RGB565å›¾åƒçš„å­—èŠ‚åè½¬RGB565å€¼ã€‚ thickness æ§åˆ¶çº¿çš„ç²—ç»†åƒç´ ã€‚ è¿”å›å›¾åƒå¯¹è±¡ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥ä½¿ç”¨ . è¡¨ç¤ºæ³•è°ƒç”¨å¦ä¸€ä¸ªæ–¹æ³•ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ #### image.draw_image(image, x, y[, x_scale 1.0[, y_scale 1.0[, mask None[, alpha 256]]]]) ç»˜åˆ¶ä¸€ä¸ª image ï¼Œå…¶å·¦ä¸Šè§’ä»ä½ç½®xï¼Œyå¼€å§‹ã€‚ æ‚¨å¯ä»¥å•ç‹¬ä¼ é€’xï¼Œyï¼Œä¹Ÿå¯ä»¥ä¼ é€’ç»™å…ƒç»„(xï¼Œy)ã€‚ x_scale æ§åˆ¶å›¾åƒåœ¨xæ–¹å‘(æµ®ç‚¹æ•°)ç¼©æ”¾çš„ç¨‹åº¦ã€‚ y_scale æ§åˆ¶å›¾åƒåœ¨yæ–¹å‘(æµ®ç‚¹æ•°)ç¼©æ”¾çš„ç¨‹åº¦ã€‚ mask æ˜¯å¦ä¸€ä¸ªç”¨ä½œç»˜å›¾æ“ä½œçš„åƒç´ çº§æ©ç çš„å›¾åƒã€‚æ©ç åº”è¯¥æ˜¯ä¸€ä¸ªåªæœ‰é»‘è‰²æˆ–ç™½è‰²åƒç´ çš„å›¾åƒï¼Œå¹¶ä¸”åº”è¯¥ä¸ä½ æ­£åœ¨ç»˜åˆ¶çš„ image å¤§å°ç›¸åŒã€‚ æ‚¨å¯ä»¥ä½¿ç”¨maskæ©ç è¿›è¡Œç»˜åˆ¶æ“ä½œã€‚ alpha æ§åˆ¶æºå›¾åƒç»˜åˆ¶åˆ°ç›®æ ‡å›¾åƒä¸­çš„é€æ˜åº¦ã€‚256 ä¸ºç»˜åˆ¶ä¸é€æ˜çš„æºå›¾åƒï¼Œè€Œå°äº 256 çš„å€¼äº§ç”Ÿæºå›¾åƒå’Œç›®æ ‡å›¾åƒä¹‹é—´çš„æ··åˆã€‚0 è¡¨ç¤ºä¸ä¿®æ”¹ç›®æ ‡å›¾åƒã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ #### image.draw_keypoints(keypoints[, color[, size 10[, thickness 1[, fill False]]]]) åœ¨å›¾åƒä¸Šç”»å‡ºä¸€ä¸ªç‰¹å¾ç‚¹å¯¹è±¡çš„å„ä¸ªç‚¹ã€‚ color æ˜¯ç”¨äºç°åº¦æˆ–RGB565å›¾åƒçš„RGB888å…ƒç»„ã€‚é»˜è®¤ä¸ºç™½è‰²ã€‚ä½†æ˜¯ï¼Œæ‚¨ä¹Ÿå¯ä»¥ä¼ é€’ç°åº¦å›¾åƒçš„åŸºç¡€åƒç´ å€¼(0 255)æˆ–RGB565å›¾åƒçš„å­—èŠ‚åè½¬RGB565å€¼ã€‚ size æ§åˆ¶ç‰¹å¾ç‚¹çš„å¤§å°ã€‚ thickness æ§åˆ¶çº¿çš„ç²—ç»†åƒç´ ã€‚ å°† fill è®¾ç½®ä¸ºTrueä»¥å¡«å……ç‰¹å¾ç‚¹ã€‚ è¿”å›å›¾åƒå¯¹è±¡ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥ä½¿ç”¨ . è¡¨ç¤ºæ³•è°ƒç”¨å¦ä¸€ä¸ªæ–¹æ³•ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ #### image.flood_fill(x, y[, seed_threshold 0.05[, floating_threshold 0.05[, color[, invert False[, clear_background False[, mask None]]]]]]) ä»ä½ç½®xï¼Œyå¼€å§‹å¡«å……å›¾åƒçš„åŒºåŸŸã€‚ æ‚¨å¯ä»¥å•ç‹¬ä¼ é€’xï¼Œyï¼Œä¹Ÿå¯ä»¥ä¼ é€’ç»™å…ƒç»„(xï¼Œy)ã€‚ seed_threshold æ§åˆ¶å¡«å……åŒºåŸŸä¸­çš„åƒç´ ä¸åŸå§‹èµ·å§‹åƒç´ çš„å·®å¼‚ã€‚ floating_threshold æ§åˆ¶å¡«å……åŒºåŸŸä¸­çš„åƒç´ ä¸ä»»ä½•ç›¸é‚»åƒç´ çš„å·®å¼‚ã€‚ color æ˜¯ç”¨äºç°åº¦æˆ–RGB565å›¾åƒçš„RGB888å…ƒç»„ã€‚é»˜è®¤ä¸ºç™½è‰²ã€‚ä½†æ˜¯ï¼Œæ‚¨ä¹Ÿå¯ä»¥ä¼ é€’ç°åº¦å›¾åƒçš„åŸºç¡€åƒç´ å€¼(0 255)æˆ–RGB565å›¾åƒçš„å­—èŠ‚åè½¬RGB565å€¼ã€‚ å°† invert ä¼ é€’ä¸ºTrueï¼Œä»¥é‡æ–°å¡«å……flood_fillè¿æ¥åŒºåŸŸå¤–çš„æ‰€æœ‰å†…å®¹ã€‚ å°† clear_background ä¼ é€’ä¸ºTrueï¼Œå°†å…¶ä½™çš„flood_fillæ²¡æœ‰é‡æ–°ç€è‰²çš„åƒç´ å½’é›¶ã€‚ mask æ˜¯å¦ä¸€ä¸ªç”¨ä½œç»˜å›¾æ“ä½œçš„åƒç´ çº§æ©ç çš„å›¾åƒã€‚æ©ç åº”è¯¥æ˜¯ä¸€ä¸ªåªæœ‰é»‘è‰²æˆ–ç™½è‰²åƒç´ çš„å›¾åƒï¼Œå¹¶ä¸”åº”è¯¥ä¸ä½ æ­£åœ¨ç»˜åˆ¶çš„ image å¤§å°ç›¸åŒã€‚ ä»…æ©è†œä¸­è®¾ç½®çš„åƒç´ ä¼šåœ¨flood_fillæ—¶è¢«è¯„ä¼°ã€‚ è¿”å›å›¾åƒå¯¹è±¡ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥ä½¿ç”¨ . è¡¨ç¤ºæ³•è°ƒç”¨å¦ä¸€ä¸ªæ–¹æ³•ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ æ­¤æ–¹æ³•åœ¨OpenMV Cam M4 ä¸Šä¸å¯ç”¨ã€‚ #### image.binary(thresholds[, invert False[, zero False[, mask None]]]) æ ¹æ®åƒç´ æ˜¯å¦åœ¨é˜ˆå€¼åˆ—è¡¨ thresholds ä¸­çš„é˜ˆå€¼å†…ï¼Œå°†å›¾åƒä¸­çš„æ‰€æœ‰åƒç´ è®¾ç½®ä¸ºé»‘è‰²æˆ–ç™½è‰²ã€‚ thresholds å¿…é¡»æ˜¯å…ƒç»„åˆ—è¡¨ã€‚ [(lo, hi), (lo, hi), ..., (lo, hi)] å®šä¹‰ä½ æƒ³è¿½è¸ªçš„é¢œè‰²èŒƒå›´ã€‚ å¯¹äºç°åº¦å›¾åƒï¼Œæ¯ä¸ªå…ƒç»„éœ€è¦åŒ…å«ä¸¤ä¸ªå€¼ æœ€å°ç°åº¦å€¼å’Œæœ€å¤§ç°åº¦å€¼ã€‚ ä»…è€ƒè™‘è½åœ¨è¿™äº›é˜ˆå€¼ä¹‹é—´çš„åƒç´ åŒºåŸŸã€‚ å¯¹äºRGB565å›¾åƒï¼Œæ¯ä¸ªå…ƒç»„éœ€è¦æœ‰å…­ä¸ªå€¼(l_loï¼Œl_hiï¼Œa_loï¼Œa_hiï¼Œb_loï¼Œb_hi) åˆ†åˆ«æ˜¯LAB Lï¼ŒAå’ŒBé€šé“çš„æœ€å°å€¼å’Œæœ€å¤§å€¼ã€‚ ä¸ºæ–¹ä¾¿ä½¿ç”¨ï¼Œæ­¤åŠŸèƒ½å°†è‡ªåŠ¨ä¿®å¤äº¤æ¢çš„æœ€å°å€¼å’Œæœ€å¤§å€¼ã€‚ æ­¤å¤–ï¼Œå¦‚æœå…ƒç»„å¤§äºå…­ä¸ªå€¼ï¼Œåˆ™å¿½ç•¥å…¶ä½™å€¼ã€‚ç›¸åï¼Œå¦‚æœå…ƒç»„å¤ªçŸ­ï¼Œåˆ™å‡å®šå…¶ä½™é˜ˆå€¼å¤„äºæœ€å¤§èŒƒå›´ã€‚ æ³¨è§£ è·å–æ‰€è·Ÿè¸ªå¯¹è±¡çš„é˜ˆå€¼ï¼Œåªéœ€åœ¨ IDE å¸§ç¼“å†²åŒºä¸­é€‰æ‹©ï¼ˆå•å‡»å¹¶æ‹–åŠ¨ï¼‰è·Ÿè¸ªå¯¹è±¡ã€‚ ç›´æ–¹å›¾ä¼šç›¸åº”åœ°æ›´æ–°åˆ°æ‰€åœ¨åŒºåŸŸã€‚ç„¶ååªéœ€å†™ä¸‹é¢œè‰²åˆ†å¸ƒåœ¨æ¯ä¸ªç›´æ–¹å›¾é€šé“ä¸­èµ·å§‹ä¸ä¸‹é™ä½ç½®ã€‚ è¿™äº›å°†æ˜¯ thresholds çš„ä½å€¼å’Œé«˜å€¼ã€‚ ç”±äºä¸Šä¸‹å››åˆ†ä½æ•°æ®ç›¸å·®å¾®å°ï¼Œæ•…æ‰‹åŠ¨ç¡®å®šé˜ˆå€¼ä¸ºä½³ã€‚ æ‚¨è¿˜å¯ä»¥é€šè¿‡è¿›å…¥OpenMV IDEä¸­çš„ å·¥å…· >æœºå™¨è§†è§‰ >é˜ˆå€¼ç¼–è¾‘å™¨ å¹¶ä»GUIçª—å£ä¸­æ‹–åŠ¨æ»‘å—æ¥ç¡®å®šé¢œè‰²é˜ˆå€¼ã€‚ invert åè½¬é˜ˆå€¼æ“ä½œï¼Œåƒç´ åœ¨å·²çŸ¥é¢œè‰²èŒƒå›´ä¹‹å¤–è¿›è¡ŒåŒ¹é…ï¼Œè€Œéåœ¨å·²çŸ¥é¢œè‰²èŒƒå›´å†…ã€‚ è®¾ç½® zero ä¸ºTrueæ¥ä½¿é˜ˆå€¼åƒç´ ä¸ºé›¶ï¼Œå¹¶ä½¿ä¸åœ¨é˜ˆå€¼åˆ—è¡¨ä¸­çš„åƒç´ ä¿æŒä¸å˜ã€‚ mask æ˜¯å¦ä¸€ä¸ªç”¨ä½œç»˜å›¾æ“ä½œçš„åƒç´ çº§æ©ç çš„å›¾åƒã€‚æ©ç åº”è¯¥æ˜¯ä¸€ä¸ªåªæœ‰é»‘è‰²æˆ–ç™½è‰²åƒç´ çš„å›¾åƒï¼Œå¹¶ä¸”åº”è¯¥ä¸ä½ æ­£åœ¨ç»˜åˆ¶çš„ image å¤§å°ç›¸åŒã€‚ ä»…æ©ç ä¸­è®¾ç½®çš„åƒç´ è¢«ä¿®æ”¹ã€‚ è¿”å›å›¾åƒå¯¹è±¡ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥ä½¿ç”¨ . è¡¨ç¤ºæ³•è°ƒç”¨å¦ä¸€ä¸ªæ–¹æ³•ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ #### image.invert() å°†äºŒè¿›åˆ¶å›¾åƒ0ï¼ˆé»‘è‰²ï¼‰å˜ä¸º1ï¼ˆç™½è‰²ï¼‰ï¼Œ1ï¼ˆç™½è‰²ï¼‰å˜ä¸º0ï¼ˆé»‘è‰²ï¼‰ï¼Œéå¸¸å¿«é€Ÿåœ°ç¿»è½¬äºŒè¿›åˆ¶å›¾åƒä¸­çš„æ‰€æœ‰åƒç´ å€¼ã€‚ è¿”å›å›¾åƒå¯¹è±¡ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥ä½¿ç”¨ . è¡¨ç¤ºæ³•è°ƒç”¨å¦ä¸€ä¸ªæ–¹æ³•ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’ŒBayerå›¾åƒã€‚ #### image.b_and(image[, mask None]) ç”¨å¦ä¸€å›¾åƒä¸è¿™ä¸€å›¾åƒè¿›è¡Œé€»è¾‘ä¸è¿ç®—ã€‚ image å¯ä»¥æ˜¯å›¾åƒå¯¹è±¡ï¼Œæœªå‹ç¼©å›¾åƒæ–‡ä»¶çš„è·¯å¾„(bmp/pgm/ppm)ï¼Œä¹Ÿå¯ä»¥æ˜¯æ ‡é‡å€¼ã€‚ å¦‚æœæ ‡é‡å€¼ï¼Œè¯¥å€¼å¯ä»¥æ˜¯RGB888å…ƒç»„æˆ–åŸºç¡€åƒç´ å€¼(ä¾‹å¦‚ï¼Œç°åº¦å›¾åƒçš„8ä½ç°åº¦çº§æˆ–RGBå›¾åƒçš„å­—èŠ‚åè½¬RGB565å€¼)ã€‚ mask æ˜¯å¦ä¸€ä¸ªç”¨ä½œç»˜å›¾æ“ä½œçš„åƒç´ çº§æ©ç çš„å›¾åƒã€‚æ©ç åº”è¯¥æ˜¯ä¸€ä¸ªåªæœ‰é»‘è‰²æˆ–ç™½è‰²åƒç´ çš„å›¾åƒï¼Œå¹¶ä¸”åº”è¯¥ä¸ä½ æ­£åœ¨ç»˜åˆ¶çš„ image å¤§å°ç›¸åŒã€‚ ä»…æ©ç ä¸­è®¾ç½®çš„åƒç´ è¢«ä¿®æ”¹ã€‚ è¿”å›å›¾åƒå¯¹è±¡ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥ä½¿ç”¨ . è¡¨ç¤ºæ³•è°ƒç”¨å¦ä¸€ä¸ªæ–¹æ³•ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ #### image.b_nand(image[, mask None]) ç”¨å¦ä¸€å›¾åƒä¸è¿™ä¸€å›¾åƒè¿›è¡Œé€»è¾‘ä¸éè¿ç®—ã€‚ image å¯ä»¥æ˜¯å›¾åƒå¯¹è±¡ï¼Œæœªå‹ç¼©å›¾åƒæ–‡ä»¶çš„è·¯å¾„(bmp/pgm/ppm)ï¼Œä¹Ÿå¯ä»¥æ˜¯æ ‡é‡å€¼ã€‚ å¦‚æœæ ‡é‡å€¼ï¼Œè¯¥å€¼å¯ä»¥æ˜¯RGB888å…ƒç»„æˆ–åŸºç¡€åƒç´ å€¼(ä¾‹å¦‚ï¼Œç°åº¦å›¾åƒçš„8ä½ç°åº¦çº§æˆ–RGBå›¾åƒçš„å­—èŠ‚åè½¬RGB565å€¼)ã€‚ mask æ˜¯å¦ä¸€ä¸ªç”¨ä½œç»˜å›¾æ“ä½œçš„åƒç´ çº§æ©ç çš„å›¾åƒã€‚æ©ç åº”è¯¥æ˜¯ä¸€ä¸ªåªæœ‰é»‘è‰²æˆ–ç™½è‰²åƒç´ çš„å›¾åƒï¼Œå¹¶ä¸”åº”è¯¥ä¸ä½ æ­£åœ¨ç»˜åˆ¶çš„ image å¤§å°ç›¸åŒã€‚ ä»…æ©ç ä¸­è®¾ç½®çš„åƒç´ è¢«ä¿®æ”¹ã€‚ è¿”å›å›¾åƒå¯¹è±¡ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥ä½¿ç”¨ . è¡¨ç¤ºæ³•è°ƒç”¨å¦ä¸€ä¸ªæ–¹æ³•ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ #### image.b_or(image[, mask None]) ç”¨å¦ä¸€å›¾åƒä¸è¿™ä¸€å›¾åƒè¿›è¡Œé€»è¾‘æˆ–è¿ç®—ã€‚ image å¯ä»¥æ˜¯å›¾åƒå¯¹è±¡ï¼Œæœªå‹ç¼©å›¾åƒæ–‡ä»¶çš„è·¯å¾„(bmp/pgm/ppm)ï¼Œä¹Ÿå¯ä»¥æ˜¯æ ‡é‡å€¼ã€‚ å¦‚æœæ ‡é‡å€¼ï¼Œè¯¥å€¼å¯ä»¥æ˜¯RGB888å…ƒç»„æˆ–åŸºç¡€åƒç´ å€¼(ä¾‹å¦‚ï¼Œç°åº¦å›¾åƒçš„8ä½ç°åº¦çº§æˆ–RGBå›¾åƒçš„å­—èŠ‚åè½¬RGB565å€¼)ã€‚ mask æ˜¯å¦ä¸€ä¸ªç”¨ä½œç»˜å›¾æ“ä½œçš„åƒç´ çº§æ©ç çš„å›¾åƒã€‚æ©ç åº”è¯¥æ˜¯ä¸€ä¸ªåªæœ‰é»‘è‰²æˆ–ç™½è‰²åƒç´ çš„å›¾åƒï¼Œå¹¶ä¸”åº”è¯¥ä¸ä½ æ­£åœ¨ç»˜åˆ¶çš„ image å¤§å°ç›¸åŒã€‚ ä»…æ©ç ä¸­è®¾ç½®çš„åƒç´ è¢«ä¿®æ”¹ã€‚ è¿”å›å›¾åƒå¯¹è±¡ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥ä½¿ç”¨ . è¡¨ç¤ºæ³•è°ƒç”¨å¦ä¸€ä¸ªæ–¹æ³•ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ #### image.b_nor(image[, mask None]) ç”¨å¦ä¸€å›¾åƒä¸è¿™ä¸€å›¾åƒè¿›è¡Œé€»è¾‘æˆ–éè¿ç®—ã€‚ image å¯ä»¥æ˜¯å›¾åƒå¯¹è±¡ï¼Œæœªå‹ç¼©å›¾åƒæ–‡ä»¶çš„è·¯å¾„(bmp/pgm/ppm)ï¼Œä¹Ÿå¯ä»¥æ˜¯æ ‡é‡å€¼ã€‚ å¦‚æœæ ‡é‡å€¼ï¼Œè¯¥å€¼å¯ä»¥æ˜¯RGB888å…ƒç»„æˆ–åŸºç¡€åƒç´ å€¼(ä¾‹å¦‚ï¼Œç°åº¦å›¾åƒçš„8ä½ç°åº¦çº§æˆ–RGBå›¾åƒçš„å­—èŠ‚åè½¬RGB565å€¼)ã€‚ mask æ˜¯å¦ä¸€ä¸ªç”¨ä½œç»˜å›¾æ“ä½œçš„åƒç´ çº§æ©ç çš„å›¾åƒã€‚æ©ç åº”è¯¥æ˜¯ä¸€ä¸ªåªæœ‰é»‘è‰²æˆ–ç™½è‰²åƒç´ çš„å›¾åƒï¼Œå¹¶ä¸”åº”è¯¥ä¸ä½ æ­£åœ¨ç»˜åˆ¶çš„ image å¤§å°ç›¸åŒã€‚ ä»…æ©ç ä¸­è®¾ç½®çš„åƒç´ è¢«ä¿®æ”¹ã€‚ è¿”å›å›¾åƒå¯¹è±¡ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥ä½¿ç”¨ . è¡¨ç¤ºæ³•è°ƒç”¨å¦ä¸€ä¸ªæ–¹æ³•ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ #### image.b_xor(image[, mask None]) ç”¨å¦ä¸€å›¾åƒä¸è¿™ä¸€å›¾åƒè¿›è¡Œé€»è¾‘å¼‚æˆ–è¿ç®—ã€‚ image å¯ä»¥æ˜¯å›¾åƒå¯¹è±¡ï¼Œæœªå‹ç¼©å›¾åƒæ–‡ä»¶çš„è·¯å¾„(bmp/pgm/ppm)ï¼Œä¹Ÿå¯ä»¥æ˜¯æ ‡é‡å€¼ã€‚ å¦‚æœæ ‡é‡å€¼ï¼Œè¯¥å€¼å¯ä»¥æ˜¯RGB888å…ƒç»„æˆ–åŸºç¡€åƒç´ å€¼(ä¾‹å¦‚ï¼Œç°åº¦å›¾åƒçš„8ä½ç°åº¦çº§æˆ–RGBå›¾åƒçš„å­—èŠ‚åè½¬RGB565å€¼)ã€‚ mask æ˜¯å¦ä¸€ä¸ªç”¨ä½œç»˜å›¾æ“ä½œçš„åƒç´ çº§æ©ç çš„å›¾åƒã€‚æ©ç åº”è¯¥æ˜¯ä¸€ä¸ªåªæœ‰é»‘è‰²æˆ–ç™½è‰²åƒç´ çš„å›¾åƒï¼Œå¹¶ä¸”åº”è¯¥ä¸ä½ æ­£åœ¨ç»˜åˆ¶çš„ image å¤§å°ç›¸åŒã€‚ ä»…æ©ç ä¸­è®¾ç½®çš„åƒç´ è¢«ä¿®æ”¹ã€‚ è¿”å›å›¾åƒå¯¹è±¡ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥ä½¿ç”¨ . è¡¨ç¤ºæ³•è°ƒç”¨å¦ä¸€ä¸ªæ–¹æ³•ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ #### image.b_xnor(image[, mask None]) ç”¨å¦ä¸€å›¾åƒä¸è¿™ä¸€å›¾åƒè¿›è¡Œé€»è¾‘åŒæˆ–è¿ç®—ã€‚ image å¯ä»¥æ˜¯å›¾åƒå¯¹è±¡ï¼Œæœªå‹ç¼©å›¾åƒæ–‡ä»¶çš„è·¯å¾„(bmp/pgm/ppm)ï¼Œä¹Ÿå¯ä»¥æ˜¯æ ‡é‡å€¼ã€‚ å¦‚æœæ ‡é‡å€¼ï¼Œè¯¥å€¼å¯ä»¥æ˜¯RGB888å…ƒç»„æˆ–åŸºç¡€åƒç´ å€¼(ä¾‹å¦‚ï¼Œç°åº¦å›¾åƒçš„8ä½ç°åº¦çº§æˆ–RGBå›¾åƒçš„å­—èŠ‚åè½¬RGB565å€¼)ã€‚ mask æ˜¯å¦ä¸€ä¸ªç”¨ä½œç»˜å›¾æ“ä½œçš„åƒç´ çº§æ©ç çš„å›¾åƒã€‚æ©ç åº”è¯¥æ˜¯ä¸€ä¸ªåªæœ‰é»‘è‰²æˆ–ç™½è‰²åƒç´ çš„å›¾åƒï¼Œå¹¶ä¸”åº”è¯¥ä¸ä½ æ­£åœ¨ç»˜åˆ¶çš„ image å¤§å°ç›¸åŒã€‚ ä»…æ©ç ä¸­è®¾ç½®çš„åƒç´ è¢«ä¿®æ”¹ã€‚ è¿”å›å›¾åƒå¯¹è±¡ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥ä½¿ç”¨ . è¡¨ç¤ºæ³•è°ƒç”¨å¦ä¸€ä¸ªæ–¹æ³•ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ #### image.erode(size[, threshold[, mask None]]) ä»åˆ†å‰²åŒºåŸŸçš„è¾¹ç¼˜åˆ é™¤åƒç´ ã€‚ è¿™ä¸€æ–¹æ³•é€šè¿‡å·ç§¯å›¾åƒä¸Š((size*2)+1)x((size*2)+1)åƒç´ çš„æ ¸æ¥å®ç°ï¼Œå¦‚æœç›¸é‚»åƒç´ é›†çš„æ€»å’Œå°äº threshold ï¼Œåˆ™å¯¹å†…æ ¸çš„ä¸­å¿ƒåƒç´ è¿›è¡Œå½’é›¶ã€‚ è‹¥ threshold æœªè®¾å®šï¼Œè¿™ä¸ªæ–¹æ³•çš„åŠŸèƒ½å¦‚æ ‡å‡†è…èš€æ–¹æ³•ä¸€æ ·ã€‚è‹¥thresholdè®¾å®šï¼Œæ‚¨å°±å¯ä»¥æŒ‡å®šè…èš€çš„ç‰¹å®šåƒç´ ï¼Œä¾‹å¦‚ï¼šè®¾ç½®ä½äº2ä¸ªçš„åƒç´ å‘¨å›´é˜ˆå€¼ä¸º2ã€‚ mask æ˜¯å¦ä¸€ä¸ªç”¨ä½œç»˜å›¾æ“ä½œçš„åƒç´ çº§æ©ç çš„å›¾åƒã€‚æ©ç åº”è¯¥æ˜¯ä¸€ä¸ªåªæœ‰é»‘è‰²æˆ–ç™½è‰²åƒç´ çš„å›¾åƒï¼Œå¹¶ä¸”åº”è¯¥ä¸ä½ æ­£åœ¨ç»˜åˆ¶çš„ image å¤§å°ç›¸åŒã€‚ ä»…æ©ç ä¸­è®¾ç½®çš„åƒç´ è¢«ä¿®æ”¹ã€‚ è¿”å›å›¾åƒå¯¹è±¡ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥ä½¿ç”¨ . è¡¨ç¤ºæ³•è°ƒç”¨å¦ä¸€ä¸ªæ–¹æ³•ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ #### image.dilate(size[, threshold[, mask None]]) å°†åƒç´ æ·»åŠ åˆ°åˆ†å‰²åŒºåŸŸçš„è¾¹ç¼˜ä¸­ã€‚ è¿™ä¸€æ–¹æ³•é€šè¿‡å·ç§¯å›¾åƒä¸Š((size*2)+1)x((size*2)+1)åƒç´ çš„æ ¸æ¥å®ç°ï¼Œå¦‚æœç›¸é‚»åƒç´ é›†çš„æ€»å’Œå¤§äº threshold ï¼Œåˆ™å°†å†…æ ¸çš„ä¸­å¿ƒåƒç´ è¿›è¡Œè®¾ç½®ã€‚ è‹¥ threshold æœªè®¾å®šï¼Œè¿™ä¸ªæ–¹æ³•çš„åŠŸèƒ½å¦‚æ ‡å‡†è…èš€æ–¹æ³•ä¸€æ ·ã€‚è‹¥thresholdè®¾å®šï¼Œæ‚¨å°±å¯ä»¥æŒ‡å®šè…èš€çš„ç‰¹å®šåƒç´ ï¼Œä¾‹å¦‚ï¼šè®¾ç½®ä½äº2ä¸ªçš„åƒç´ å‘¨å›´é˜ˆå€¼ä¸º2ã€‚ mask æ˜¯å¦ä¸€ä¸ªç”¨ä½œç»˜å›¾æ“ä½œçš„åƒç´ çº§æ©ç çš„å›¾åƒã€‚æ©ç åº”è¯¥æ˜¯ä¸€ä¸ªåªæœ‰é»‘è‰²æˆ–ç™½è‰²åƒç´ çš„å›¾åƒï¼Œå¹¶ä¸”åº”è¯¥ä¸ä½ æ­£åœ¨ç»˜åˆ¶çš„ image å¤§å°ç›¸åŒã€‚ ä»…æ©ç ä¸­è®¾ç½®çš„åƒç´ è¢«ä¿®æ”¹ã€‚ è¿”å›å›¾åƒå¯¹è±¡ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥ä½¿ç”¨ . è¡¨ç¤ºæ³•è°ƒç”¨å¦ä¸€ä¸ªæ–¹æ³•ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ #### image.open(size[, threshold[, mask None]]) æŒ‰é¡ºåºå¯¹å›¾åƒæ‰§è¡Œè…èš€å’Œè†¨èƒ€ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜… image.erode() å’Œ image.dilate() ã€‚ mask æ˜¯å¦ä¸€ä¸ªç”¨ä½œç»˜å›¾æ“ä½œçš„åƒç´ çº§æ©ç çš„å›¾åƒã€‚æ©ç åº”è¯¥æ˜¯ä¸€ä¸ªåªæœ‰é»‘è‰²æˆ–ç™½è‰²åƒç´ çš„å›¾åƒï¼Œå¹¶ä¸”åº”è¯¥ä¸ä½ æ­£åœ¨ç»˜åˆ¶çš„ image å¤§å°ç›¸åŒã€‚ ä»…æ©ç ä¸­è®¾ç½®çš„åƒç´ è¢«ä¿®æ”¹ã€‚ è¿”å›å›¾åƒå¯¹è±¡ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥ä½¿ç”¨ . è¡¨ç¤ºæ³•è°ƒç”¨å¦ä¸€ä¸ªæ–¹æ³•ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ #### image.close(size[, threshold[, mask None]]) æŒ‰é¡ºåºå¯¹å›¾åƒæ‰§è¡Œè†¨èƒ€å’Œè…èš€ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜… image.erode() å’Œ image.dilate() ã€‚ mask æ˜¯å¦ä¸€ä¸ªç”¨ä½œç»˜å›¾æ“ä½œçš„åƒç´ çº§æ©ç çš„å›¾åƒã€‚æ©ç åº”è¯¥æ˜¯ä¸€ä¸ªåªæœ‰é»‘è‰²æˆ–ç™½è‰²åƒç´ çš„å›¾åƒï¼Œå¹¶ä¸”åº”è¯¥ä¸ä½ æ­£åœ¨ç»˜åˆ¶çš„ image å¤§å°ç›¸åŒã€‚ ä»…æ©ç ä¸­è®¾ç½®çš„åƒç´ è¢«ä¿®æ”¹ã€‚ è¿”å›å›¾åƒå¯¹è±¡ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥ä½¿ç”¨ . è¡¨ç¤ºæ³•è°ƒç”¨å¦ä¸€ä¸ªæ–¹æ³•ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ #### image.top_hat(size[, threshold[, mask None]]) è¿”å›åŸå›¾åƒå’Œæ‰§è¡Œ image.open() å‡½æ•°åå›¾åƒçš„å·®å¼‚ã€‚ mask æ˜¯å¦ä¸€ä¸ªç”¨ä½œç»˜å›¾æ“ä½œçš„åƒç´ çº§æ©ç çš„å›¾åƒã€‚æ©ç åº”è¯¥æ˜¯ä¸€ä¸ªåªæœ‰é»‘è‰²æˆ–ç™½è‰²åƒç´ çš„å›¾åƒï¼Œå¹¶ä¸”åº”è¯¥ä¸ä½ æ­£åœ¨ç»˜åˆ¶çš„ image å¤§å°ç›¸åŒã€‚ ä»…æ©ç ä¸­è®¾ç½®çš„åƒç´ è¢«ä¿®æ”¹ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ #### image.black_hat(size[, threshold[, mask None]]) è¿”å›åŸå›¾åƒå’Œæ‰§è¡Œ image.close() å‡½æ•°åå›¾åƒçš„å·®å¼‚ã€‚ mask æ˜¯å¦ä¸€ä¸ªç”¨ä½œç»˜å›¾æ“ä½œçš„åƒç´ çº§æ©ç çš„å›¾åƒã€‚æ©ç åº”è¯¥æ˜¯ä¸€ä¸ªåªæœ‰é»‘è‰²æˆ–ç™½è‰²åƒç´ çš„å›¾åƒï¼Œå¹¶ä¸”åº”è¯¥ä¸ä½ æ­£åœ¨ç»˜åˆ¶çš„ image å¤§å°ç›¸åŒã€‚ ä»…æ©ç ä¸­è®¾ç½®çš„åƒç´ è¢«ä¿®æ”¹ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ #### image.negate() éå¸¸å¿«é€Ÿåœ°ç¿»è½¬ï¼ˆæ•°å­—åè½¬ï¼‰å›¾åƒä¸­çš„æ‰€æœ‰åƒç´ å€¼ã€‚å¯¹æ¯ä¸ªé¢œè‰²é€šé“çš„åƒç´ å€¼è¿›è¡Œæ•°å€¼è½¬æ¢ã€‚ä¾‹ï¼š (255 pixel). è¿”å›å›¾åƒå¯¹è±¡ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥ä½¿ç”¨ . è¡¨ç¤ºæ³•è°ƒç”¨å¦ä¸€ä¸ªæ–¹æ³•ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ #### image.replace(image[, hmirror False[, vflip False[, mask None]]]) image å¯ä»¥æ˜¯å›¾åƒå¯¹è±¡ï¼Œæœªå‹ç¼©å›¾åƒæ–‡ä»¶çš„è·¯å¾„(bmp/pgm/ppm)ï¼Œä¹Ÿå¯ä»¥æ˜¯æ ‡é‡å€¼ã€‚ å¦‚æœæ ‡é‡å€¼ï¼Œè¯¥å€¼å¯ä»¥æ˜¯RGB888å…ƒç»„æˆ–åŸºç¡€åƒç´ å€¼(ä¾‹å¦‚ï¼Œç°åº¦å›¾åƒçš„8ä½ç°åº¦çº§æˆ–RGBå›¾åƒçš„å­—èŠ‚åè½¬RGB565å€¼)ã€‚ å°† hmirror è®¾ç½®ä¸ºTrueä»¥æ°´å¹³é•œåƒæ›¿æ¢å›¾åƒã€‚ å°† vflip è®¾ç½®ä¸ºTrueä»¥å‚ç›´ç¿»è½¬æ›¿æ¢å›¾åƒã€‚ mask æ˜¯å¦ä¸€ä¸ªç”¨ä½œç»˜å›¾æ“ä½œçš„åƒç´ çº§æ©ç çš„å›¾åƒã€‚æ©ç åº”è¯¥æ˜¯ä¸€ä¸ªåªæœ‰é»‘è‰²æˆ–ç™½è‰²åƒç´ çš„å›¾åƒï¼Œå¹¶ä¸”åº”è¯¥ä¸ä½ æ­£åœ¨ç»˜åˆ¶çš„ image å¤§å°ç›¸åŒã€‚ ä»…æ©ç ä¸­è®¾ç½®çš„åƒç´ è¢«ä¿®æ”¹ã€‚ è¿”å›å›¾åƒå¯¹è±¡ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥ä½¿ç”¨ . è¡¨ç¤ºæ³•è°ƒç”¨å¦ä¸€ä¸ªæ–¹æ³•ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ #### image.add(image[, mask None]) å°†ä¸¤ä¸ªå›¾åƒå½¼æ­¤æŒ‰åƒç´ ç›¸åŠ ã€‚ image å¯ä»¥æ˜¯å›¾åƒå¯¹è±¡ï¼Œæœªå‹ç¼©å›¾åƒæ–‡ä»¶çš„è·¯å¾„(bmp/pgm/ppm)ï¼Œä¹Ÿå¯ä»¥æ˜¯æ ‡é‡å€¼ã€‚ å¦‚æœæ ‡é‡å€¼ï¼Œè¯¥å€¼å¯ä»¥æ˜¯RGB888å…ƒç»„æˆ–åŸºç¡€åƒç´ å€¼(ä¾‹å¦‚ï¼Œç°åº¦å›¾åƒçš„8ä½ç°åº¦çº§æˆ–RGBå›¾åƒçš„å­—èŠ‚åè½¬RGB565å€¼)ã€‚ mask æ˜¯å¦ä¸€ä¸ªç”¨ä½œç»˜å›¾æ“ä½œçš„åƒç´ çº§æ©ç çš„å›¾åƒã€‚æ©ç åº”è¯¥æ˜¯ä¸€ä¸ªåªæœ‰é»‘è‰²æˆ–ç™½è‰²åƒç´ çš„å›¾åƒï¼Œå¹¶ä¸”åº”è¯¥ä¸ä½ æ­£åœ¨ç»˜åˆ¶çš„ image å¤§å°ç›¸åŒã€‚ ä»…æ©ç ä¸­è®¾ç½®çš„åƒç´ è¢«ä¿®æ”¹ã€‚ è¿”å›å›¾åƒå¯¹è±¡ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥ä½¿ç”¨ . è¡¨ç¤ºæ³•è°ƒç”¨å¦ä¸€ä¸ªæ–¹æ³•ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ #### image.sub(image[, reverse False[, mask None]]) å°†ä¸¤ä¸ªå›¾åƒå½¼æ­¤æŒ‰åƒç´ ç›¸å‡ã€‚ image å¯ä»¥æ˜¯å›¾åƒå¯¹è±¡ï¼Œæœªå‹ç¼©å›¾åƒæ–‡ä»¶çš„è·¯å¾„(bmp/pgm/ppm)ï¼Œä¹Ÿå¯ä»¥æ˜¯æ ‡é‡å€¼ã€‚ å¦‚æœæ ‡é‡å€¼ï¼Œè¯¥å€¼å¯ä»¥æ˜¯RGB888å…ƒç»„æˆ–åŸºç¡€åƒç´ å€¼(ä¾‹å¦‚ï¼Œç°åº¦å›¾åƒçš„8ä½ç°åº¦çº§æˆ–RGBå›¾åƒçš„å­—èŠ‚åè½¬RGB565å€¼)ã€‚ å°† reverse è®¾ç½®ä¸ºTrueå¯ä»¥å°†å‡æ³•æ“ä½œä» this_image image åè½¬ä¸º image this_image ã€‚ mask æ˜¯å¦ä¸€ä¸ªç”¨ä½œç»˜å›¾æ“ä½œçš„åƒç´ çº§æ©ç çš„å›¾åƒã€‚æ©ç åº”è¯¥æ˜¯ä¸€ä¸ªåªæœ‰é»‘è‰²æˆ–ç™½è‰²åƒç´ çš„å›¾åƒï¼Œå¹¶ä¸”åº”è¯¥ä¸ä½ æ­£åœ¨ç»˜åˆ¶çš„ image å¤§å°ç›¸åŒã€‚ ä»…æ©ç ä¸­è®¾ç½®çš„åƒç´ è¢«ä¿®æ”¹ã€‚ è¿”å›å›¾åƒå¯¹è±¡ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥ä½¿ç”¨ . è¡¨ç¤ºæ³•è°ƒç”¨å¦ä¸€ä¸ªæ–¹æ³•ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ #### image.mul(image[, invert False[, mask None]]) å°†ä¸¤ä¸ªå›¾åƒå½¼æ­¤æŒ‰åƒç´ ç›¸ä¹˜ã€‚ image å¯ä»¥æ˜¯å›¾åƒå¯¹è±¡ï¼Œæœªå‹ç¼©å›¾åƒæ–‡ä»¶çš„è·¯å¾„(bmp/pgm/ppm)ï¼Œä¹Ÿå¯ä»¥æ˜¯æ ‡é‡å€¼ã€‚ å¦‚æœæ ‡é‡å€¼ï¼Œè¯¥å€¼å¯ä»¥æ˜¯RGB888å…ƒç»„æˆ–åŸºç¡€åƒç´ å€¼(ä¾‹å¦‚ï¼Œç°åº¦å›¾åƒçš„8ä½ç°åº¦çº§æˆ–RGBå›¾åƒçš„å­—èŠ‚åè½¬RGB565å€¼)ã€‚ å°† invert è®¾ç½®ä¸ºTrueå¯å°†ä¹˜æ³•è¿ç®—ä» a*b æ”¹ä¸º 1/((1/a)*(1/b))ã€‚ ç‰¹åˆ«æ˜¯ï¼Œè¿™ä½¿å›¾åƒå˜äº®è€Œä¸æ˜¯ä½¿å›¾åƒå˜æš—(ä¾‹å¦‚ï¼Œä¹˜æ³•ä¸åˆ»å½•æ“ä½œ)ã€‚ mask æ˜¯å¦ä¸€ä¸ªç”¨ä½œç»˜å›¾æ“ä½œçš„åƒç´ çº§æ©ç çš„å›¾åƒã€‚æ©ç åº”è¯¥æ˜¯ä¸€ä¸ªåªæœ‰é»‘è‰²æˆ–ç™½è‰²åƒç´ çš„å›¾åƒï¼Œå¹¶ä¸”åº”è¯¥ä¸ä½ æ­£åœ¨ç»˜åˆ¶çš„ image å¤§å°ç›¸åŒã€‚ ä»…æ©ç ä¸­è®¾ç½®çš„åƒç´ è¢«ä¿®æ”¹ã€‚ è¿”å›å›¾åƒå¯¹è±¡ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥ä½¿ç”¨ . è¡¨ç¤ºæ³•è°ƒç”¨å¦ä¸€ä¸ªæ–¹æ³•ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ #### image.div(image[, invert False[, mask None]]) å°†æ­¤å›¾åƒé™¤ä»¥å¦ä¸€ä¸ªå›¾åƒã€‚ image å¯ä»¥æ˜¯å›¾åƒå¯¹è±¡ï¼Œæœªå‹ç¼©å›¾åƒæ–‡ä»¶çš„è·¯å¾„(bmp/pgm/ppm)ï¼Œä¹Ÿå¯ä»¥æ˜¯æ ‡é‡å€¼ã€‚ å¦‚æœæ ‡é‡å€¼ï¼Œè¯¥å€¼å¯ä»¥æ˜¯RGB888å…ƒç»„æˆ–åŸºç¡€åƒç´ å€¼(ä¾‹å¦‚ï¼Œç°åº¦å›¾åƒçš„8ä½ç°åº¦çº§æˆ–RGBå›¾åƒçš„å­—èŠ‚åè½¬RGB565å€¼)ã€‚ å°† invert è®¾ç½®ä¸ºTrueå¯å°†é™¤æ³•æ–¹å‘ä» a/b æ”¹ä¸º b/aã€‚ mask æ˜¯å¦ä¸€ä¸ªç”¨ä½œç»˜å›¾æ“ä½œçš„åƒç´ çº§æ©ç çš„å›¾åƒã€‚æ©ç åº”è¯¥æ˜¯ä¸€ä¸ªåªæœ‰é»‘è‰²æˆ–ç™½è‰²åƒç´ çš„å›¾åƒï¼Œå¹¶ä¸”åº”è¯¥ä¸ä½ æ­£åœ¨ç»˜åˆ¶çš„ image å¤§å°ç›¸åŒã€‚ ä»…æ©ç ä¸­è®¾ç½®çš„åƒç´ è¢«ä¿®æ”¹ã€‚ è¿”å›å›¾åƒå¯¹è±¡ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥ä½¿ç”¨ . è¡¨ç¤ºæ³•è°ƒç”¨å¦ä¸€ä¸ªæ–¹æ³•ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ #### image.min(image[, mask None]) åœ¨åƒç´ çº§ ç”¨æ­¤å›¾åƒå’Œå¦ä¸€ä¸ªå›¾åƒä¹‹é—´çš„æœ€å°åƒç´ å€¼æ›¿æ¢æ­¤å›¾åƒä¸­çš„åƒç´ ã€‚ image å¯ä»¥æ˜¯å›¾åƒå¯¹è±¡ï¼Œæœªå‹ç¼©å›¾åƒæ–‡ä»¶çš„è·¯å¾„(bmp/pgm/ppm)ï¼Œä¹Ÿå¯ä»¥æ˜¯æ ‡é‡å€¼ã€‚ å¦‚æœæ ‡é‡å€¼ï¼Œè¯¥å€¼å¯ä»¥æ˜¯RGB888å…ƒç»„æˆ–åŸºç¡€åƒç´ å€¼(ä¾‹å¦‚ï¼Œç°åº¦å›¾åƒçš„8ä½ç°åº¦çº§æˆ–RGBå›¾åƒçš„å­—èŠ‚åè½¬RGB565å€¼)ã€‚ mask æ˜¯å¦ä¸€ä¸ªç”¨ä½œç»˜å›¾æ“ä½œçš„åƒç´ çº§æ©ç çš„å›¾åƒã€‚æ©ç åº”è¯¥æ˜¯ä¸€ä¸ªåªæœ‰é»‘è‰²æˆ–ç™½è‰²åƒç´ çš„å›¾åƒï¼Œå¹¶ä¸”åº”è¯¥ä¸ä½ æ­£åœ¨ç»˜åˆ¶çš„ image å¤§å°ç›¸åŒã€‚ ä»…æ©ç ä¸­è®¾ç½®çš„åƒç´ è¢«ä¿®æ”¹ã€‚ è¿”å›å›¾åƒå¯¹è±¡ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥ä½¿ç”¨ . è¡¨ç¤ºæ³•è°ƒç”¨å¦ä¸€ä¸ªæ–¹æ³•ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ è¿™ä¸ªæ–¹æ³•åœ¨OpenMV4ä¸Šä¸å¯ç”¨. #### image.max(image[, mask None]) åœ¨åƒç´ çº§ ç”¨æ­¤å›¾åƒå’Œå¦ä¸€ä¸ªå›¾åƒä¹‹é—´çš„æœ€å¤§åƒç´ å€¼æ›¿æ¢æ­¤å›¾åƒä¸­çš„åƒç´ ã€‚ image å¯ä»¥æ˜¯å›¾åƒå¯¹è±¡ï¼Œæœªå‹ç¼©å›¾åƒæ–‡ä»¶çš„è·¯å¾„(bmp/pgm/ppm)ï¼Œä¹Ÿå¯ä»¥æ˜¯æ ‡é‡å€¼ã€‚ å¦‚æœæ ‡é‡å€¼ï¼Œè¯¥å€¼å¯ä»¥æ˜¯RGB888å…ƒç»„æˆ–åŸºç¡€åƒç´ å€¼(ä¾‹å¦‚ï¼Œç°åº¦å›¾åƒçš„8ä½ç°åº¦çº§æˆ–RGBå›¾åƒçš„å­—èŠ‚åè½¬RGB565å€¼)ã€‚ mask æ˜¯å¦ä¸€ä¸ªç”¨ä½œç»˜å›¾æ“ä½œçš„åƒç´ çº§æ©ç çš„å›¾åƒã€‚æ©ç åº”è¯¥æ˜¯ä¸€ä¸ªåªæœ‰é»‘è‰²æˆ–ç™½è‰²åƒç´ çš„å›¾åƒï¼Œå¹¶ä¸”åº”è¯¥ä¸ä½ æ­£åœ¨ç»˜åˆ¶çš„ image å¤§å°ç›¸åŒã€‚ ä»…æ©ç ä¸­è®¾ç½®çš„åƒç´ è¢«ä¿®æ”¹ã€‚ è¿”å›å›¾åƒå¯¹è±¡ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥ä½¿ç”¨ . è¡¨ç¤ºæ³•è°ƒç”¨å¦ä¸€ä¸ªæ–¹æ³•ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ #### image.difference(image[, mask None]) å°†ä¸¤ä¸ªå›¾åƒå½¼æ­¤æŒ‰åƒç´ å–ç»å¯¹å€¼ã€‚ä¾‹ï¼šå¯¹äºæ¯ä¸ªé¢œè‰²é€šé“è€Œè¨€ï¼Œå°†æ¯ä¸ªåƒç´ ï¿½ï¿½æ¢ä¸ºABS(this.pixel image.pixel)ã€‚ image å¯ä»¥æ˜¯å›¾åƒå¯¹è±¡ï¼Œæœªå‹ç¼©å›¾åƒæ–‡ä»¶çš„è·¯å¾„(bmp/pgm/ppm)ï¼Œä¹Ÿå¯ä»¥æ˜¯æ ‡é‡å€¼ã€‚ å¦‚æœæ ‡é‡å€¼ï¼Œè¯¥å€¼å¯ä»¥æ˜¯RGB888å…ƒç»„æˆ–åŸºç¡€åƒç´ å€¼(ä¾‹å¦‚ï¼Œç°åº¦å›¾åƒçš„8ä½ç°åº¦çº§æˆ–RGBå›¾åƒçš„å­—èŠ‚åè½¬RGB565å€¼)ã€‚ mask æ˜¯å¦ä¸€ä¸ªç”¨ä½œç»˜å›¾æ“ä½œçš„åƒç´ çº§æ©ç çš„å›¾åƒã€‚æ©ç åº”è¯¥æ˜¯ä¸€ä¸ªåªæœ‰é»‘è‰²æˆ–ç™½è‰²åƒç´ çš„å›¾åƒï¼Œå¹¶ä¸”åº”è¯¥ä¸ä½ æ­£åœ¨ç»˜åˆ¶çš„ image å¤§å°ç›¸åŒã€‚ ä»…æ©ç ä¸­è®¾ç½®çš„åƒç´ è¢«ä¿®æ”¹ã€‚ è¿”å›å›¾åƒå¯¹è±¡ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥ä½¿ç”¨ . è¡¨ç¤ºæ³•è°ƒç”¨å¦ä¸€ä¸ªæ–¹æ³•ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ #### image.blend(image[, alpha 128[, mask None]]) å°†å¦å¤–ä¸€å¼ å›¾åƒ image ä¸è¿™ä¸€å›¾åƒèåˆã€‚ image å¯ä»¥æ˜¯å›¾åƒå¯¹è±¡ï¼Œæœªå‹ç¼©å›¾åƒæ–‡ä»¶çš„è·¯å¾„(bmp/pgm/ppm)ï¼Œä¹Ÿå¯ä»¥æ˜¯æ ‡é‡å€¼ã€‚ å¦‚æœæ ‡é‡å€¼ï¼Œè¯¥å€¼å¯ä»¥æ˜¯RGB888å…ƒç»„æˆ–åŸºç¡€åƒç´ å€¼(ä¾‹å¦‚ï¼Œç°åº¦å›¾åƒçš„8ä½ç°åº¦çº§æˆ–RGBå›¾åƒçš„å­—èŠ‚åè½¬RGB565å€¼)ã€‚ alpha æ§åˆ¶è¦æ··åˆåˆ°è¿™ä¸ªå›¾åƒä¸­çš„å…¶ä»–å›¾åƒçš„å¤šå°‘. alpha åº”è¯¥æ˜¯0åˆ°256ä¹‹é—´çš„æ•´æ•°å€¼ã€‚æ¥è¿‘é›¶çš„å€¼ä¼šå°†æ›´å¤šå…¶ä»–å›¾åƒæ··åˆåˆ°æ­¤å›¾åƒä¸­ï¼Œæ¥è¿‘256åˆ™ç›¸åã€‚ mask æ˜¯å¦ä¸€ä¸ªç”¨ä½œç»˜å›¾æ“ä½œçš„åƒç´ çº§æ©ç çš„å›¾åƒã€‚æ©ç åº”è¯¥æ˜¯ä¸€ä¸ªåªæœ‰é»‘è‰²æˆ–ç™½è‰²åƒç´ çš„å›¾åƒï¼Œå¹¶ä¸”åº”è¯¥ä¸ä½ æ­£åœ¨ç»˜åˆ¶çš„ image å¤§å°ç›¸åŒã€‚ ä»…æ©ç ä¸­è®¾ç½®çš„åƒç´ è¢«ä¿®æ”¹ã€‚ è¿”å›å›¾åƒå¯¹è±¡ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥ä½¿ç”¨ . è¡¨ç¤ºæ³•è°ƒç”¨å¦ä¸€ä¸ªæ–¹æ³•ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ #### image.histeq([adaptive False[, clip_limit 1[, mask None]]]) åœ¨å›¾åƒä¸Šè¿è¡Œç›´æ–¹å›¾å‡è¡¡ç®—æ³•ã€‚ ç›´æ–¹å›¾å‡è¡¡åŒ–ä½¿å›¾åƒä¸­çš„å¯¹æ¯”åº¦å’Œäº®åº¦æ ‡å‡†åŒ–ã€‚ å¦‚æœ adaptive ä¼ é€’ä¸ºTrueï¼Œé‚£ä¹ˆå°†åœ¨å›¾åƒä¸Šè¿è¡Œè‡ªé€‚åº”ç›´æ–¹å›¾å‡è¡¡æ–¹æ³•ï¼Œè¿™é€šå¸¸æ¯”éè‡ªé€‚åº”ç›´æ–¹å›¾é™å®šæ›´å¥½ï¼Œä½†è¿è¡Œæ—¶é—´æ›´é•¿ã€‚ clip_limit æä¾›äº†ä¸€ç§é™åˆ¶è‡ªé€‚åº”ç›´æ–¹å›¾å‡è¡¡çš„å¯¹æ¯”åº¦çš„æ–¹æ³•ã€‚ ä½¿ç”¨è¾ƒå°çš„å€¼(ä¾‹å¦‚10)å¯ä»¥ç”Ÿæˆè‰¯å¥½çš„ç›´æ–¹å›¾å‡è¡¡å¯¹æ¯”åº¦å—é™å›¾åƒã€‚ mask æ˜¯å¦ä¸€ä¸ªç”¨ä½œç»˜å›¾æ“ä½œçš„åƒç´ çº§æ©ç çš„å›¾åƒã€‚æ©ç åº”è¯¥æ˜¯ä¸€ä¸ªåªæœ‰é»‘è‰²æˆ–ç™½è‰²åƒç´ çš„å›¾åƒï¼Œå¹¶ä¸”åº”è¯¥ä¸ä½ æ­£åœ¨ç»˜åˆ¶çš„ image å¤§å°ç›¸åŒã€‚ ä»…æ©ç ä¸­è®¾ç½®çš„åƒç´ è¢«ä¿®æ”¹ã€‚ è¿”å›å›¾åƒå¯¹è±¡ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥ä½¿ç”¨ . è¡¨ç¤ºæ³•è°ƒç”¨å¦ä¸€ä¸ªæ–¹æ³•ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ #### image.mean(size, [threshold False, [offset 0, [invert False, [mask None]]]]]) ä½¿ç”¨ç›’å¼æ»¤æ³¢å™¨çš„æ ‡å‡†å‡å€¼æ¨¡ç³Šæ»¤æ³¢ã€‚ Size æ˜¯å†…æ ¸çš„å¤§å°ã€‚å–1 (3x3 å†…æ ¸)ã€2 (5x5 å†…æ ¸)æˆ–æ›´é«˜å€¼ã€‚ å¦‚æœä½ æƒ³åœ¨æ»¤æ³¢å™¨çš„è¾“å‡ºä¸Šè‡ªé€‚åº”åœ°è®¾ç½®é˜ˆå€¼ï¼Œä½ å¯ä»¥ä¼ é€’ threshold True å‚æ•°æ¥å¯åŠ¨å›¾åƒçš„è‡ªé€‚åº”é˜ˆå€¼å¤„ç†ï¼Œ ä»–æ ¹æ®ç¯å¢ƒåƒç´ çš„äº®åº¦ï¼ˆæ ¸å‡½æ•°å‘¨å›´çš„åƒç´ çš„äº®åº¦æœ‰å…³ï¼‰ï¼Œå°†åƒç´ è®¾ç½®ä¸º1æˆ–è€…0ã€‚ è´Ÿæ•° offset å€¼å°†æ›´å¤šåƒç´ è®¾ç½®ä¸º1ï¼Œè€Œæ­£å€¼ä»…å°†æœ€å¼ºå¯¹æ¯”åº¦è®¾ç½®ä¸º1ã€‚ è®¾ç½® invert ä»¥åè½¬äºŒè¿›åˆ¶å›¾åƒçš„ç»“æœè¾“å‡ºã€‚ mask æ˜¯å¦ä¸€ä¸ªç”¨ä½œç»˜å›¾æ“ä½œçš„åƒç´ çº§æ©ç çš„å›¾åƒã€‚æ©ç åº”è¯¥æ˜¯ä¸€ä¸ªåªæœ‰é»‘è‰²æˆ–ç™½è‰²åƒç´ çš„å›¾åƒï¼Œå¹¶ä¸”åº”è¯¥ä¸ä½ æ­£åœ¨ç»˜åˆ¶çš„ image å¤§å°ç›¸åŒã€‚ ä»…æ©ç ä¸­è®¾ç½®çš„åƒç´ è¢«ä¿®æ”¹ã€‚ è¿”å›å›¾åƒå¯¹è±¡ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥ä½¿ç”¨ . è¡¨ç¤ºæ³•è°ƒç”¨å¦ä¸€ä¸ªæ–¹æ³•ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ median(size, percentile 0.5, threshold False, offset 0, invert False, mask]) åœ¨å›¾åƒä¸Šè¿è¡Œä¸­å€¼æ»¤æ³¢ã€‚åœ¨ä¿ç•™è¾¹ç¼˜çš„æ¡ä»¶ä¸‹ï¼Œä¸­å€¼æ»¤æ³¢æ˜¯ç”¨æ¥å¹³æ»‘è¡¨é¢çš„æœ€ä½³æ»¤æ³¢ï¼Œä½†æ˜¯è¿è¡Œé€Ÿåº¦ææ…¢ã€‚ Size æ˜¯å†…æ ¸çš„å¤§å°ã€‚å–1 (3x3 å†…æ ¸)ã€2 (5x5 å†…æ ¸)æˆ–æ›´é«˜å€¼ã€‚ percentile æ§åˆ¶å†…æ ¸ä¸­æ‰€ä½¿ç”¨å€¼çš„ç™¾åˆ†ä½æ•°ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¯ä¸ªåƒç´ éƒ½ä½¿ç”¨ç›¸é‚»çš„ç¬¬äº”åä¸ªç™¾åˆ†ä½æ•°ï¼ˆä¸­å¿ƒï¼‰æ›¿æ¢ã€‚ä½¿ç”¨æœ€å°æ»¤æ³¢æ—¶ï¼Œæ‚¨å¯å°†æ­¤å€¼è®¾ç½®ä¸º0ï¼Œä½¿ç”¨ä¸‹å››åˆ†ä½æ•°æ»¤æ³¢æ—¶è®¾ç½®ä¸º0.25ï¼Œä½¿ç”¨ä¸Šå››åˆ†ä½æ•°æ»¤æ³¢æ—¶è®¾ç½®ä¸º0.75ï¼Œä½¿ç”¨æœ€å¤§æ»¤æ³¢æ—¶è®¾ç½®ä¸º1ã€‚ å¦‚æœä½ æƒ³åœ¨æ»¤æ³¢å™¨çš„è¾“å‡ºä¸Šè‡ªé€‚åº”åœ°è®¾ç½®é˜ˆå€¼ï¼Œä½ å¯ä»¥ä¼ é€’ threshold True å‚æ•°æ¥å¯åŠ¨å›¾åƒçš„è‡ªé€‚åº”é˜ˆå€¼å¤„ç†ï¼Œ ä»–æ ¹æ®ç¯å¢ƒåƒç´ çš„äº®åº¦ï¼ˆæ ¸å‡½æ•°å‘¨å›´çš„åƒç´ çš„äº®åº¦æœ‰å…³ï¼‰ï¼Œå°†åƒç´ è®¾ç½®ä¸º1æˆ–è€…0ã€‚ è´Ÿæ•° offset å€¼å°†æ›´å¤šåƒç´ è®¾ç½®ä¸º1ï¼Œè€Œæ­£å€¼ä»…å°†æœ€å¼ºå¯¹æ¯”åº¦è®¾ç½®ä¸º1ã€‚ è®¾ç½® invert ä»¥åè½¬äºŒè¿›åˆ¶å›¾åƒçš„ç»“æœè¾“å‡ºã€‚ mask æ˜¯å¦ä¸€ä¸ªç”¨ä½œç»˜å›¾æ“ä½œçš„åƒç´ çº§æ©ç çš„å›¾åƒã€‚æ©ç åº”è¯¥æ˜¯ä¸€ä¸ªåªæœ‰é»‘è‰²æˆ–ç™½è‰²åƒç´ çš„å›¾åƒï¼Œå¹¶ä¸”åº”è¯¥ä¸ä½ æ­£åœ¨ç»˜åˆ¶çš„ image å¤§å°ç›¸åŒã€‚ ä»…æ©ç ä¸­è®¾ç½®çš„åƒç´ è¢«ä¿®æ”¹ã€‚ è¿”å›å›¾åƒå¯¹è±¡ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥ä½¿ç”¨ . è¡¨ç¤ºæ³•è°ƒç”¨å¦ä¸€ä¸ªæ–¹æ³•ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ æ­¤æ–¹æ³•åœ¨OpenMV Cam M4 ä¸Šä¸å¯ç”¨ã€‚ #### image.mode(size[, threshold False, offset 0, invert False, mask]) åœ¨å›¾åƒä¸Šè¿è¡Œä¼—æ•°æ»¤æ³¢ï¼Œç”¨ç›¸é‚»åƒç´ çš„æ¨¡å¼æ›¿æ¢æ¯ä¸ªåƒç´ ã€‚è¿™ä¸€æ–¹æ³•åœ¨ç°åº¦å›¾ä¸Šè¿è¡Œæ•ˆæœè‰¯å¥½ã€‚ä½†ç”±äºè¿™ä¸€æ“ä½œçš„éçº¿æ€§ç‰¹æ€§ï¼Œä¼šåœ¨RGBå›¾åƒè¾¹ç¼˜ä¸Šäº§ç”Ÿè®¸å¤šä¼ªåƒã€‚ Size æ˜¯å†…æ ¸çš„å¤§å°ã€‚å–1 (3x3 å†…æ ¸)ã€2 (5x5 å†…æ ¸)ã€‚ å¦‚æœä½ æƒ³åœ¨æ»¤æ³¢å™¨çš„è¾“å‡ºä¸Šè‡ªé€‚åº”åœ°è®¾ç½®é˜ˆå€¼ï¼Œä½ å¯ä»¥ä¼ é€’ threshold True å‚æ•°æ¥å¯åŠ¨å›¾åƒçš„è‡ªé€‚åº”é˜ˆå€¼å¤„ç†ï¼Œ ä»–æ ¹æ®ç¯å¢ƒåƒç´ çš„äº®åº¦ï¼ˆæ ¸å‡½æ•°å‘¨å›´çš„åƒç´ çš„äº®åº¦æœ‰å…³ï¼‰ï¼Œå°†åƒç´ è®¾ç½®ä¸º1æˆ–è€…0ã€‚ è´Ÿæ•° offset å€¼å°†æ›´å¤šåƒç´ è®¾ç½®ä¸º1ï¼Œè€Œæ­£å€¼ä»…å°†æœ€å¼ºå¯¹æ¯”åº¦è®¾ç½®ä¸º1ã€‚ è®¾ç½® invert ä»¥åè½¬äºŒè¿›åˆ¶å›¾åƒçš„ç»“æœè¾“å‡ºã€‚ mask æ˜¯å¦ä¸€ä¸ªç”¨ä½œç»˜å›¾æ“ä½œçš„åƒç´ çº§æ©ç çš„å›¾åƒã€‚æ©ç åº”è¯¥æ˜¯ä¸€ä¸ªåªæœ‰é»‘è‰²æˆ–ç™½è‰²åƒç´ çš„å›¾åƒï¼Œå¹¶ä¸”åº”è¯¥ä¸ä½ æ­£åœ¨ç»˜åˆ¶çš„ image å¤§å°ç›¸åŒã€‚ ä»…æ©ç ä¸­è®¾ç½®çš„åƒç´ è¢«ä¿®æ”¹ã€‚ è¿”å›å›¾åƒå¯¹è±¡ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥ä½¿ç”¨ . è¡¨ç¤ºæ³•è°ƒç”¨å¦ä¸€ä¸ªæ–¹æ³•ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ æ­¤æ–¹æ³•åœ¨OpenMV Cam M4 ä¸Šä¸å¯ç”¨ã€‚ #### image.midpoint(size[, bias 0.5, threshold False, offset 0, invert False, mask]) åœ¨å›¾åƒä¸Šè¿è¡Œä¸­ç‚¹æ»¤æ³¢ã€‚æ­¤æ»¤æ³¢å™¨æ‰¾åˆ°å›¾åƒä¸­æ¯ä¸ªåƒç´ é‚»åŸŸçš„ä¸­ç‚¹((max min)/2)ã€‚ size æ˜¯å†…æ ¸çš„å¤§å°ã€‚å–1 (3x3 å†…æ ¸)ã€2 (5x5 å†…æ ¸)æˆ–æ›´é«˜å€¼ã€‚ bias æ§åˆ¶å›¾åƒæ··åˆçš„æœ€å°/æœ€å¤§ç¨‹åº¦ã€‚0åªé€‚ç”¨äºæœ€å°æ»¤æ³¢ï¼Œ1ä»…ç”¨äºæœ€å¤§æ»¤æ³¢ã€‚æ‚¨å¯ä»¥é€šè¿‡ bias å¯¹å›¾åƒè¿›è¡Œæœ€å°/æœ€å¤§åŒ–è¿‡æ»¤ã€‚ å¦‚æœä½ æƒ³åœ¨æ»¤æ³¢å™¨çš„è¾“å‡ºä¸Šè‡ªé€‚åº”åœ°è®¾ç½®é˜ˆå€¼ï¼Œä½ å¯ä»¥ä¼ é€’ threshold True å‚æ•°æ¥å¯åŠ¨å›¾åƒçš„è‡ªé€‚åº”é˜ˆå€¼å¤„ç†ï¼Œ ä»–æ ¹æ®ç¯å¢ƒåƒç´ çš„äº®åº¦ï¼ˆæ ¸å‡½æ•°å‘¨å›´çš„åƒç´ çš„äº®åº¦æœ‰å…³ï¼‰ï¼Œå°†åƒç´ è®¾ç½®ä¸º1æˆ–è€…0ã€‚ è´Ÿæ•° offset å€¼å°†æ›´å¤šåƒç´ è®¾ç½®ä¸º1ï¼Œè€Œæ­£å€¼ä»…å°†æœ€å¼ºå¯¹æ¯”åº¦è®¾ç½®ä¸º1ã€‚ è®¾ç½® invert ä»¥åè½¬äºŒè¿›åˆ¶å›¾åƒçš„ç»“æœè¾“å‡ºã€‚ mask æ˜¯å¦ä¸€ä¸ªç”¨ä½œç»˜å›¾æ“ä½œçš„åƒç´ çº§æ©ç çš„å›¾åƒã€‚æ©ç åº”è¯¥æ˜¯ä¸€ä¸ªåªæœ‰é»‘è‰²æˆ–ç™½è‰²åƒç´ çš„å›¾åƒï¼Œå¹¶ä¸”åº”è¯¥ä¸ä½ æ­£åœ¨ç»˜åˆ¶çš„ image å¤§å°ç›¸åŒã€‚ ä»…æ©ç ä¸­è®¾ç½®çš„åƒç´ è¢«ä¿®æ”¹ã€‚ è¿”å›å›¾åƒå¯¹è±¡ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥ä½¿ç”¨ . è¡¨ç¤ºæ³•è°ƒç”¨å¦ä¸€ä¸ªæ–¹æ³•ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ æ­¤æ–¹æ³•åœ¨OpenMV Cam M4 ä¸Šä¸å¯ç”¨ã€‚ #### image.morph(size, kernel, mul Auto, add 0) é€šè¿‡è¿‡æ»¤å™¨å†…æ ¸å¯¹å›¾åƒè¿›è¡Œå·ç§¯ã€‚è¿™å…è®¸æ‚¨å¯¹å›¾åƒæ‰§è¡Œé€šç”¨å·ç§¯ã€‚ size å°†å†…æ ¸çš„å¤§å°æ§åˆ¶ä¸º((size*2)+1)x((size*2)+1)åƒç´ ã€‚ kernel ç”¨æ¥å·ç§¯å›¾åƒçš„å†…æ ¸ï¼Œå¯ä¸ºä¸€ä¸ªå…ƒç»„æˆ–ä¸€ä¸ªå–å€¼[ 128:127]çš„åˆ—è¡¨ã€‚ mul æ˜¯ç”¨ä»¥ä¸å·ç§¯åƒç´ ç»“æœç›¸ä¹˜çš„æ•°å­—ã€‚è‹¥ä¸è®¾ç½®ï¼Œåˆ™é»˜è®¤ä¸€ä¸ªå€¼ï¼Œè¯¥å€¼å°†é˜²æ­¢å·ç§¯è¾“å‡ºä¸­çš„ç¼©æ”¾ã€‚ add æ˜¯ç”¨æ¥ä¸æ¯ä¸ªåƒç´ å·ç§¯ç»“æœç›¸åŠ çš„æ•°å€¼ã€‚ mul å¯è¿›è¡Œå…¨å±€å¯¹æ¯”åº¦è°ƒæ•´ï¼Œaddå¯è¿›è¡Œå…¨å±€äº®åº¦è°ƒæ•´ã€‚ å¦‚æœä½ æƒ³åœ¨æ»¤æ³¢å™¨çš„è¾“å‡ºä¸Šè‡ªé€‚åº”åœ°è®¾ç½®é˜ˆå€¼ï¼Œä½ å¯ä»¥ä¼ é€’ threshold True å‚æ•°æ¥å¯åŠ¨å›¾åƒçš„è‡ªé€‚åº”é˜ˆå€¼å¤„ç†ï¼Œ ä»–æ ¹æ®ç¯å¢ƒåƒç´ çš„äº®åº¦ï¼ˆæ ¸å‡½æ•°å‘¨å›´çš„åƒç´ çš„äº®åº¦æœ‰å…³ï¼‰ï¼Œå°†åƒç´ è®¾ç½®ä¸º1æˆ–è€…0ã€‚ è´Ÿæ•° offset å€¼å°†æ›´å¤šåƒç´ è®¾ç½®ä¸º1ï¼Œè€Œæ­£å€¼ä»…å°†æœ€å¼ºå¯¹æ¯”åº¦è®¾ç½®ä¸º1ã€‚ è®¾ç½® invert ä»¥åè½¬äºŒè¿›åˆ¶å›¾åƒçš„ç»“æœè¾“å‡ºã€‚ mask æ˜¯å¦ä¸€ä¸ªç”¨ä½œç»˜å›¾æ“ä½œçš„åƒç´ çº§æ©ç çš„å›¾åƒã€‚æ©ç åº”è¯¥æ˜¯ä¸€ä¸ªåªæœ‰é»‘è‰²æˆ–ç™½è‰²åƒç´ çš„å›¾åƒï¼Œå¹¶ä¸”åº”è¯¥ä¸ä½ æ­£åœ¨ç»˜åˆ¶çš„ image å¤§å°ç›¸åŒã€‚ ä»…æ©ç ä¸­è®¾ç½®çš„åƒç´ è¢«ä¿®æ”¹ã€‚ è¿”å›å›¾åƒå¯¹è±¡ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥ä½¿ç”¨ . è¡¨ç¤ºæ³•è°ƒç”¨å¦ä¸€ä¸ªæ–¹æ³•ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ #### image.gaussian(size[, unsharp False[, mul[, add 0[, threshold False[, offset 0[, invert False[, mask None]]]]]]]) é€šè¿‡å¹³æ»‘é«˜æ–¯æ ¸å¯¹å›¾åƒè¿›è¡Œå·ç§¯ã€‚ size æ˜¯å†…æ ¸çš„å¤§å°ã€‚å–1 (3x3 å†…æ ¸)ã€2 (5x5 å†…æ ¸)æˆ–æ›´é«˜å€¼ã€‚ å¦‚æœ unsharp è®¾ç½®ä¸ºTrueï¼Œé‚£ä¹ˆè¿™ç§æ–¹æ³•ä¸ä¼šä»…è¿›è¡Œé«˜æ–¯æ»¤æ³¢æ“ä½œï¼Œè€Œæ˜¯æ‰§è¡Œéé”åŒ–æ©æ¨¡æ“ä½œï¼Œä»è€Œæé«˜è¾¹ç¼˜çš„å›¾åƒæ¸…æ™°åº¦ã€‚ mul æ˜¯ç”¨ä»¥ä¸å·ç§¯åƒç´ ç»“æœç›¸ä¹˜çš„æ•°å­—ã€‚è‹¥ä¸è®¾ç½®ï¼Œåˆ™é»˜è®¤ä¸€ä¸ªå€¼ï¼Œè¯¥å€¼å°†é˜²æ­¢å·ç§¯è¾“å‡ºä¸­çš„ç¼©æ”¾ã€‚ add æ˜¯ç”¨æ¥ä¸æ¯ä¸ªåƒç´ å·ç§¯ç»“æœç›¸åŠ çš„æ•°å€¼ã€‚ mul å¯è¿›è¡Œå…¨å±€å¯¹æ¯”åº¦è°ƒæ•´ï¼Œaddå¯è¿›è¡Œå…¨å±€äº®åº¦è°ƒæ•´ã€‚ å¦‚æœä½ æƒ³åœ¨æ»¤æ³¢å™¨çš„è¾“å‡ºä¸Šè‡ªé€‚åº”åœ°è®¾ç½®é˜ˆå€¼ï¼Œä½ å¯ä»¥ä¼ é€’ threshold True å‚æ•°æ¥å¯åŠ¨å›¾åƒçš„è‡ªé€‚åº”é˜ˆå€¼å¤„ç†ï¼Œ ä»–æ ¹æ®ç¯å¢ƒåƒç´ çš„äº®åº¦ï¼ˆæ ¸å‡½æ•°å‘¨å›´çš„åƒç´ çš„äº®åº¦æœ‰å…³ï¼‰ï¼Œå°†åƒç´ è®¾ç½®ä¸º1æˆ–è€…0ã€‚ è´Ÿæ•° offset å€¼å°†æ›´å¤šåƒç´ è®¾ç½®ä¸º1ï¼Œè€Œæ­£å€¼ä»…å°†æœ€å¼ºå¯¹æ¯”åº¦è®¾ç½®ä¸º1ã€‚ è®¾ç½® invert ä»¥åè½¬äºŒè¿›åˆ¶å›¾åƒçš„ç»“æœè¾“å‡ºã€‚ mask æ˜¯å¦ä¸€ä¸ªç”¨ä½œç»˜å›¾æ“ä½œçš„åƒç´ çº§æ©ç çš„å›¾åƒã€‚æ©ç åº”è¯¥æ˜¯ä¸€ä¸ªåªæœ‰é»‘è‰²æˆ–ç™½è‰²åƒç´ çš„å›¾åƒï¼Œå¹¶ä¸”åº”è¯¥ä¸ä½ æ­£åœ¨ç»˜åˆ¶çš„ image å¤§å°ç›¸åŒã€‚ ä»…æ©ç ä¸­è®¾ç½®çš„åƒç´ è¢«ä¿®æ”¹ã€‚ è¿”å›å›¾åƒå¯¹è±¡ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥ä½¿ç”¨ . è¡¨ç¤ºæ³•è°ƒç”¨å¦ä¸€ä¸ªæ–¹æ³•ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ æ­¤æ–¹æ³•åœ¨OpenMV Cam M4 ä¸Šä¸å¯ç”¨ã€‚ #### image.laplacian(size[, sharpen False[, mul[, add 0[, threshold False[, offset 0[, invert False[, mask None]]]]]]]) é€šè¿‡è¾¹ç¼˜æ£€æµ‹æ‹‰æ™®æ‹‰æ–¯æ ¸æ¥å¯¹å›¾åƒè¿›è¡Œå·ç§¯ã€‚ size æ˜¯å†…æ ¸çš„å¤§å°ã€‚å–1 (3x3 å†…æ ¸)ã€2 (5x5 å†…æ ¸)æˆ–æ›´é«˜å€¼ã€‚ å¦‚æœ sharpen è¢«è®¾ç½®ä¸ºTrueï¼Œé‚£ä¹ˆè¿™ç§æ–¹æ³•å°†æ”¹ä¸ºé”åŒ–å›¾åƒï¼Œè€Œä¸æ˜¯ä»…è¾“å‡ºæœªç»è¿‡é˜ˆå€¼å¤„ç†çš„è¾¹ç¼˜æ£€æµ‹å›¾åƒã€‚ å¢åŠ å†…æ ¸å¤§å°ç„¶åå¢åŠ å›¾åƒæ¸…æ™°åº¦ã€‚ mul æ˜¯ç”¨ä»¥ä¸å·ç§¯åƒç´ ç»“æœç›¸ä¹˜çš„æ•°å­—ã€‚è‹¥ä¸è®¾ç½®ï¼Œåˆ™é»˜è®¤ä¸€ä¸ªå€¼ï¼Œè¯¥å€¼å°†é˜²æ­¢å·ç§¯è¾“å‡ºä¸­çš„ç¼©æ”¾ã€‚ add æ˜¯ç”¨æ¥ä¸æ¯ä¸ªåƒç´ å·ç§¯ç»“æœç›¸åŠ çš„æ•°å€¼ã€‚ mul å¯è¿›è¡Œå…¨å±€å¯¹æ¯”åº¦è°ƒæ•´ï¼Œaddå¯è¿›è¡Œå…¨å±€äº®åº¦è°ƒæ•´ã€‚ å¦‚æœä½ æƒ³åœ¨æ»¤æ³¢å™¨çš„è¾“å‡ºä¸Šè‡ªé€‚åº”åœ°è®¾ç½®é˜ˆå€¼ï¼Œä½ å¯ä»¥ä¼ é€’ threshold True å‚æ•°æ¥å¯åŠ¨å›¾åƒçš„è‡ªé€‚åº”é˜ˆå€¼å¤„ç†ï¼Œ ä»–æ ¹æ®ç¯å¢ƒåƒç´ çš„äº®åº¦ï¼ˆæ ¸å‡½æ•°å‘¨å›´çš„åƒç´ çš„äº®åº¦æœ‰å…³ï¼‰ï¼Œå°†åƒç´ è®¾ç½®ä¸º1æˆ–è€…0ã€‚ è´Ÿæ•° offset å€¼å°†æ›´å¤šåƒç´ è®¾ç½®ä¸º1ï¼Œè€Œæ­£å€¼ä»…å°†æœ€å¼ºå¯¹æ¯”åº¦è®¾ç½®ä¸º1ã€‚ è®¾ç½® invert ä»¥åè½¬äºŒè¿›åˆ¶å›¾åƒçš„ç»“æœè¾“å‡ºã€‚ mask æ˜¯å¦ä¸€ä¸ªç”¨ä½œç»˜å›¾æ“ä½œçš„åƒç´ çº§æ©ç çš„å›¾åƒã€‚æ©ç åº”è¯¥æ˜¯ä¸€ä¸ªåªæœ‰é»‘è‰²æˆ–ç™½è‰²åƒç´ çš„å›¾åƒï¼Œå¹¶ä¸”åº”è¯¥ä¸ä½ æ­£åœ¨ç»˜åˆ¶çš„ image å¤§å°ç›¸åŒã€‚ ä»…æ©ç ä¸­è®¾ç½®çš„åƒç´ è¢«ä¿®æ”¹ã€‚ è¿”å›å›¾åƒå¯¹è±¡ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥ä½¿ç”¨ . è¡¨ç¤ºæ³•è°ƒç”¨å¦ä¸€ä¸ªæ–¹æ³•ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ æ­¤æ–¹æ³•åœ¨OpenMV Cam M4 ä¸Šä¸å¯ç”¨ã€‚ #### image.bilateral(size[, color_sigma 0.1[, space_sigma 1[, threshold False[, offset 0[, invert False[, mask None]]]]]]) é€šè¿‡åŒè¾¹æ»¤æ³¢å™¨å¯¹å›¾åƒè¿›è¡Œå·ç§¯ã€‚ åŒè¾¹æ»¤æ³¢å™¨ä½¿å›¾åƒå¹³æ»‘ï¼ŒåŒæ—¶ä¿æŒå›¾åƒä¸­çš„è¾¹ç¼˜ã€‚ size æ˜¯å†…æ ¸çš„å¤§å°ã€‚å–1 (3x3 å†…æ ¸)ã€2 (5x5 å†…æ ¸)æˆ–æ›´é«˜å€¼ã€‚ color_sigma æ§åˆ¶ä½¿ç”¨åŒè¾¹æ»¤æ³¢å™¨åŒ¹é…é¢œè‰²çš„æ¥è¿‘ç¨‹åº¦ã€‚å¢åŠ æ­¤å€¼å¯å¢åŠ é¢œè‰²æ¨¡ç³Šã€‚ space_sigma æ§åˆ¶åƒç´ åœ¨ç©ºé—´æ–¹é¢ç›¸äº’æ¨¡ç³Šçš„ç¨‹åº¦ã€‚å¢åŠ æ­¤å€¼å¯å¢åŠ åƒç´ æ¨¡ç³Šã€‚ å¦‚æœä½ æƒ³åœ¨æ»¤æ³¢å™¨çš„è¾“å‡ºä¸Šè‡ªé€‚åº”åœ°è®¾ç½®é˜ˆå€¼ï¼Œä½ å¯ä»¥ä¼ é€’ threshold True å‚æ•°æ¥å¯åŠ¨å›¾åƒçš„è‡ªé€‚åº”é˜ˆå€¼å¤„ç†ï¼Œ ä»–æ ¹æ®ç¯å¢ƒåƒç´ çš„äº®åº¦ï¼ˆæ ¸å‡½æ•°å‘¨å›´çš„åƒç´ çš„äº®åº¦æœ‰å…³ï¼‰ï¼Œå°†åƒç´ è®¾ç½®ä¸º1æˆ–è€…0ã€‚ è´Ÿæ•° offset å€¼å°†æ›´å¤šåƒç´ è®¾ç½®ä¸º1ï¼Œè€Œæ­£å€¼ä»…å°†æœ€å¼ºå¯¹æ¯”åº¦è®¾ç½®ä¸º1ã€‚ è®¾ç½® invert ä»¥åè½¬äºŒè¿›åˆ¶å›¾åƒçš„ç»“æœè¾“å‡ºã€‚ mask æ˜¯å¦ä¸€ä¸ªç”¨ä½œç»˜å›¾æ“ä½œçš„åƒç´ çº§æ©ç çš„å›¾åƒã€‚æ©ç åº”è¯¥æ˜¯ä¸€ä¸ªåªæœ‰é»‘è‰²æˆ–ç™½è‰²åƒç´ çš„å›¾åƒï¼Œå¹¶ä¸”åº”è¯¥ä¸ä½ æ­£åœ¨ç»˜åˆ¶çš„ image å¤§å°ç›¸åŒã€‚ ä»…æ©ç ä¸­è®¾ç½®çš„åƒç´ è¢«ä¿®æ”¹ã€‚ è¿”å›å›¾åƒå¯¹è±¡ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥ä½¿ç”¨ . è¡¨ç¤ºæ³•è°ƒç”¨å¦ä¸€ä¸ªæ–¹æ³•ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ æ­¤æ–¹æ³•åœ¨OpenMV Cam M4 ä¸Šä¸å¯ç”¨ã€‚ #### image.cartoon(size[, seed_threshold 0.05[, floating_threshold 0.05[, mask None]]]) æ¼«æ¸¸å›¾åƒå¹¶ä½¿ç”¨flood fillsç®—æ³•å¡«å……å›¾åƒä¸­çš„æ‰€æœ‰åƒç´ åŒºåŸŸã€‚ è¿™é€šè¿‡ä½¿å›¾åƒçš„æ‰€æœ‰åŒºåŸŸä¸­çš„é¢œè‰²å˜å¹³æ¥æœ‰æ•ˆåœ°ä»å›¾åƒä¸­å»é™¤çº¹ç†ã€‚ ä¸ºäº†è·å¾—æœ€ä½³æ•ˆæœï¼Œå›¾åƒåº”å…·æœ‰å¤§é‡å¯¹æ¯”åº¦ï¼Œä»¥ä½¿åŒºåŸŸä¸ä¼šå¤ªå®¹æ˜“ç›¸äº’æ¸—é€ã€‚ seed_threshold æ§åˆ¶å¡«å……åŒºåŸŸä¸­çš„åƒç´ ä¸åŸå§‹èµ·å§‹åƒç´ çš„å·®å¼‚ã€‚ floating_threshold æ§åˆ¶å¡«å……åŒºåŸŸä¸­çš„åƒç´ ä¸ä»»ä½•ç›¸é‚»åƒç´ çš„å·®å¼‚ã€‚ mask æ˜¯å¦ä¸€ä¸ªç”¨ä½œç»˜å›¾æ“ä½œçš„åƒç´ çº§æ©ç çš„å›¾åƒã€‚æ©ç åº”è¯¥æ˜¯ä¸€ä¸ªåªæœ‰é»‘è‰²æˆ–ç™½è‰²åƒç´ çš„å›¾åƒï¼Œå¹¶ä¸”åº”è¯¥ä¸ä½ æ­£åœ¨ç»˜åˆ¶çš„ image å¤§å°ç›¸åŒã€‚ ä»…æ©ç ä¸­è®¾ç½®çš„åƒç´ è¢«ä¿®æ”¹ã€‚ è¿”å›å›¾åƒå¯¹è±¡ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥ä½¿ç”¨ . è¡¨ç¤ºæ³•è°ƒç”¨å¦ä¸€ä¸ªæ–¹æ³•ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ æ­¤æ–¹æ³•åœ¨OpenMV Cam M4 ä¸Šä¸å¯ç”¨ã€‚ #### image.remove_shadows([image]) ä»è¯¥å›¾åƒä¸­ç§»é™¤é˜´å½±ã€‚ å¦‚æœå½“å‰å›¾åƒæ²¡æœ‰â€œæ— é˜´å½±â€ç‰ˆæœ¬å‡ºç°ï¼Œåˆ™æ­¤æ–¹æ³•å°†å°è¯•ä»å›¾åƒä¸­å»é™¤é˜´å½±ï¼Œä½†æ²¡æœ‰çœŸå®æ— é˜´å½±çš„å›¾åƒä¾æ®ã€‚ è¿™ç§ç®—æ³•é€‚ç”¨äºå»é™¤å¹³å¦å‡åŒ€èƒŒæ™¯ä¸­çš„é˜´å½±ã€‚ è¯·æ³¨æ„ï¼Œæ­¤æ–¹æ³•éœ€è¦å¤šç§’æ‰èƒ½è¿è¡Œï¼Œå¹¶ä¸”ä»…é€‚ç”¨äºå®æ—¶ç§»é™¤é˜´å½±ï¼ŒåŠ¨æ€ç”Ÿæˆæ— é˜´å½±ç‰ˆæœ¬çš„å›¾åƒã€‚ è¯¥ç®—æ³•çš„æœªæ¥ç‰ˆæœ¬å°†é€‚ç”¨äºæ›´å¤šçš„ç¯å¢ƒï¼Œä½†åŒæ ·ç¼“æ…¢ã€‚ å¦‚æœå½“å‰å›¾åƒæœ‰â€œæ— é˜´å½±â€ç‰ˆæœ¬å‡ºç°ï¼Œåˆ™æ­¤æ–¹æ³•å°†ä½¿ç”¨â€œçœŸå®æºâ€èƒŒæ™¯æ— é˜´å½±å›¾åƒå»é™¤å›¾åƒä¸­çš„æ‰€æœ‰é˜´å½±ä»¥æ»¤é™¤é˜´å½±ã€‚ éé˜´å½±åƒç´ ä¸ä¼šè¢«è¿‡æ»¤æ‰ï¼Œå› æ­¤æ‚¨å¯ä»¥å‘åœºæ™¯ä¸­æ·»åŠ ä»¥å‰ä¸å­˜åœ¨çš„æ–°å¯¹è±¡ï¼Œå¹¶ä¸”è¿™äº›å¯¹è±¡ä¸­çš„ä»»ä½•éé˜´å½±åƒç´ éƒ½å°†æ˜¾ç¤ºå‡ºæ¥ã€‚ è¿”å›å›¾åƒå¯¹è±¡ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥ä½¿ç”¨ . è¡¨ç¤ºæ³•è°ƒç”¨å¦ä¸€ä¸ªæ–¹æ³•ã€‚ åªæ”¯æŒRGB565å›¾åƒã€‚ æ­¤æ–¹æ³•åœ¨OpenMV Cam M4 ä¸Šä¸å¯ç”¨ã€‚ #### image.chrominvar() ä»å›¾åƒä¸­åˆ é™¤ç…§æ˜æ•ˆæœï¼Œä»…ç•™ä¸‹é¢œè‰²æ¸å˜ã€‚æ¯” image.illuminvar() æ›´å¿«ä½†å—é˜´å½±å½±å“ã€‚ è¿”å›å›¾åƒå¯¹è±¡ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥ä½¿ç”¨ . è¡¨ç¤ºæ³•è°ƒç”¨å¦ä¸€ä¸ªæ–¹æ³•ã€‚ ä»…æ”¯æŒRGB565å›¾åƒã€‚ æ­¤æ–¹æ³•åœ¨OpenMV Cam M4 ä¸Šä¸å¯ç”¨ã€‚ #### image.illuminvar() ä»å›¾åƒä¸­åˆ é™¤ç…§æ˜æ•ˆæœï¼Œä»…ç•™ä¸‹é¢œè‰²æ¸å˜ã€‚æ¯” image.chrominvar() æ…¢ä½†ä¸å—é˜´å½±å½±å“ã€‚ è¿”å›å›¾åƒå¯¹è±¡ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥ä½¿ç”¨ . è¡¨ç¤ºæ³•è°ƒç”¨å¦ä¸€ä¸ªæ–¹æ³•ã€‚ ä»…æ”¯æŒRGB565å›¾åƒã€‚ æ­¤æ–¹æ³•åœ¨OpenMV Cam M4 ä¸Šä¸å¯ç”¨ã€‚ #### image.linpolar([reverse False]) å›¾åƒä»ç¬›å¡å°”åæ ‡åˆ°çº¿æ€§æåæ ‡é‡æ–°æŠ•å½±ã€‚ è®¾ç½® reverse True å¯ä»¥åœ¨ç›¸åçš„æ–¹å‘é‡æ–°æŠ•å½±ã€‚ çº¿æ€§æåæ ‡é‡æ–°æŠ•å½±å°†å›¾åƒæ—‹è½¬è½¬æ¢ä¸ºxå¹³ç§»ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒã€‚ æ­¤æ–¹æ³•åœ¨OpenMV Cam M4 ä¸Šä¸å¯ç”¨ã€‚ #### image.logpolar([reverse False]) å›¾åƒä»ç¬›å¡å°”åæ ‡åˆ°å¯¹æ•°æåæ ‡é‡æ–°æŠ•å½±ã€‚ è®¾ç½® reverse True å¯ä»¥åœ¨ç›¸åçš„æ–¹å‘é‡æ–°æŠ•å½±ã€‚ å¯¹æ•°æåæ ‡é‡æ–°æŠ•å½±å°†å›¾åƒçš„æ—‹è½¬è½¬æ¢ä¸ºxå¹³ç§»å’Œç¼©æ”¾åˆ°yå¹³ç§»ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒã€‚ æ­¤æ–¹æ³•åœ¨OpenMV Cam M4 ä¸Šä¸å¯ç”¨ã€‚ #### image.lens_corr([strength 1.8[, zoom 1.0]]) è¿›è¡Œé•œå¤´ç•¸å˜æ ¡æ­£ï¼Œä»¥å»é™¤é•œå¤´é€ æˆçš„å›¾åƒé±¼çœ¼æ•ˆæœã€‚ strength æ˜¯ä¸€ä¸ªæµ®ç‚¹æ•°ï¼Œè¯¥å€¼ç¡®å®šäº†å¯¹å›¾åƒè¿›è¡Œå»é±¼çœ¼æ•ˆæœçš„ç¨‹åº¦ã€‚åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œé¦–å…ˆè¯•ç”¨å–å€¼1.8ï¼Œç„¶åè°ƒæ•´è¿™ä¸€æ•°å€¼ä½¿å›¾åƒæ˜¾ç¤ºæœ€ä½³æ•ˆæœã€‚ zoom æ˜¯åœ¨å¯¹å›¾åƒè¿›è¡Œç¼©æ”¾çš„æ•°å€¼ã€‚é»˜è®¤å€¼ä¸º 1.0 ã€‚ è¿”å›å›¾åƒå¯¹è±¡ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥ä½¿ç”¨ . è¡¨ç¤ºæ³•è°ƒç”¨å¦ä¸€ä¸ªæ–¹æ³•ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ #### img.rotation_corr([x_rotation 0.0[, y_rotation 0.0[, z_rotation 0.0[, x_translation 0.0[, y_translation 0.0[, zoom 1.0[, fov 60.0[, corners]]]]]]]]) é€šè¿‡å¯¹å¸§ç¼“å†²åŒºè¿›è¡Œ3Dæ—‹è½¬æ¥çº æ­£å›¾åƒä¸­çš„é€è§†é—®é¢˜ã€‚ `x_rotation` æ˜¯å›¾åƒåœ¨å¸§ç¼“å†²åŒºä¸­ç»•xè½´æ—‹è½¬çš„è§’åº¦æ•°(ä¹Ÿå°±æ˜¯å›¾åƒä¸Šä¸‹æ—‹è½¬)ã€‚ `y_rotation` æ˜¯æŒ‡å›¾åƒåœ¨å¸§ç¼“å†²åŒºä¸­ç»•yè½´æ—‹è½¬çš„è§’åº¦æ•°(å³å·¦å³æ—‹è½¬å›¾åƒ)ã€‚ `z_rotation` æ˜¯å›¾åƒåœ¨å¸§ç¼“å†²åŒºä¸­ç»•zè½´æ—‹è½¬çš„è§’åº¦æ•°(å³å›¾åƒæ—‹è½¬åˆ°é€‚å½“ä½ç½®)ã€‚ `x_translation` æ˜¯å›¾åƒæ—‹è½¬åå‘å·¦æˆ–å‘å³ç§»åŠ¨çš„å•ä½æ•°ã€‚å› ä¸ºè¿™ç§è½¬æ¢åº”ç”¨äº3Dç©ºé—´ï¼Œæ‰€ä»¥å•ä½ä¸æ˜¯åƒç´ â€¦â€¦ `y_translation` æ˜¯å›¾åƒåœ¨æ—‹è½¬åå‘ä¸Šæˆ–å‘ä¸‹ç§»åŠ¨çš„å•ä½æ•°ã€‚å› ä¸ºè¿™ç§è½¬æ¢åº”ç”¨äº3Dç©ºé—´ï¼Œæ‰€ä»¥å•ä½ä¸æ˜¯åƒç´ â€¦â€¦ `zoom` æ˜¯å°†å›¾åƒç¼©æ”¾çš„å€æ•°ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¸º1.0ã€‚ `fov` æ˜¯åœ¨è¿›è¡Œ2D >3DæŠ•å½±æ—¶åœ¨3Dç©ºé—´æ—‹è½¬å›¾åƒä¹‹å‰å†…éƒ¨ä½¿ç”¨çš„è§†åœºã€‚å½“è¿™ä¸ªå€¼æ¥è¿‘0æ—¶ï¼Œå›¾åƒè¢«æ”¾ç½®åœ¨è·ç¦»è§†å£æ— é™è¿œçš„åœ°æ–¹ã€‚å½“è¿™ä¸ªå€¼æ¥è¿‘180æ—¶ï¼Œå›¾åƒè¢«æ”¾ç½®åœ¨è§†å£ä¸­ã€‚é€šå¸¸ï¼Œä½ ä¸åº”è¯¥æ”¹å˜è¿™ä¸ªå€¼ï¼Œä½†ä½ å¯ä»¥ä¿®æ”¹å®ƒæ¥æ”¹å˜2D >3Dæ˜ å°„æ•ˆæœã€‚ `corners` æ˜¯ä¸€ä¸ªæ‹¥æœ‰å››ä¸ª(x, y) tuples çš„ listï¼Œä»£è¡¨å››ä¸ª `corner` ç”¨æ¥åˆ›å»ºå››ç‚¹å¯¹åº”å•åº”æ€§,å°†ç¬¬ä¸€ä¸ª `corner` æ˜ å°„åˆ°(0,0),ç¬¬äºŒä¸ª `corner` (image_width 1, 0),ç¬¬ä¸‰ä¸ª `corner` (image_width 1 image_height 1)å’Œç¬¬å››ä¸ª `corner` (0,image_height 1)ã€‚ç„¶ååœ¨å›¾åƒè¢«é‡æ–°æ˜ å°„ååº”ç”¨3Dæ—‹è½¬ã€‚è¿™ä¸ªå‚æ•°å…è®¸ä½ ä½¿ç”¨ rotation_corr æ¥åšä¸€äº›äº‹æƒ…ï¼Œæ¯”å¦‚é¸Ÿç°å›¾è½¬æ¢ã€‚ä¾‹å¦‚: ```python top_tilt 10 # if the difference between top/bottom_tilt become to large this method will stop working bottom_tilt 0 points [(tilt, 0), (img.width() tilt, 0), (img.width() 1 bottom_tilt, img.height() 1), (bottom_tilt, img.height() 1)] img.rotation_corr(corners points) ``` è¿”å›å›¾åƒå¯¹è±¡ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥ä½¿ç”¨ `.` è°ƒç”¨å¦ä¸€ä¸ªæ–¹æ³•ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒæˆ–æ‹œè€³å›¾åƒã€‚ #### image.get_similarity(image) è¿”å›ä¸€ä¸ªâ€œç›¸ä¼¼åº¦â€å¯¹è±¡ï¼Œæè¿°ä¸¤å¹…å›¾åƒä½¿ç”¨SSIMç®—æ³•æ¥æ¯”è¾ƒä¸¤å¹…å›¾åƒä¹‹é—´çš„8x8åƒç´ è‰²å—çš„ç›¸ä¼¼åº¦ã€‚ image å¯ä»¥æ˜¯å›¾åƒå¯¹è±¡ï¼Œæœªå‹ç¼©å›¾åƒæ–‡ä»¶çš„è·¯å¾„(bmp/pgm/ppm)ï¼Œä¹Ÿå¯ä»¥æ˜¯æ ‡é‡å€¼ã€‚ å¦‚æœæ ‡é‡å€¼ï¼Œè¯¥å€¼å¯ä»¥æ˜¯RGB888å…ƒç»„æˆ–åŸºç¡€åƒç´ å€¼(ä¾‹å¦‚ï¼Œç°åº¦å›¾åƒçš„8ä½ç°åº¦çº§æˆ–RGBå›¾åƒçš„å­—èŠ‚åè½¬RGB565å€¼)ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ æ­¤æ–¹æ³•åœ¨OpenMV Cam M4 ä¸Šä¸å¯ç”¨ã€‚ #### image.get_histogram([thresholds[, invert False[, roi[, bins[, l_bins[, a_bins[, b_bins]]]]]]]) åœ¨ roi çš„æ‰€æœ‰é¢œè‰²é€šé“ä¸Šè¿›è¡Œæ ‡å‡†åŒ–ç›´æ–¹å›¾è¿ç®—ï¼Œå¹¶è¿”å› histogram å¯¹è±¡ã€‚ è¯·å‚è€ƒ histogram å¯¹è±¡ä»¥è·å–æ›´å¤šä¿¡æ¯ã€‚æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨ image.get_hist æˆ– image.histogram æ¥è°ƒç”¨è¿™ä¸€æ–¹æ³•ã€‚å¦‚æœä¼ é€’ thresholds åˆ—è¡¨ï¼Œåˆ™ç›´æ–¹å›¾ä¿¡æ¯å°†ä»…ä»é˜ˆå€¼åˆ—è¡¨ä¸­çš„åƒç´ è®¡ç®—å¾—å‡ºã€‚ thresholds å¿…é¡»æ˜¯å…ƒç»„åˆ—è¡¨ã€‚ [(lo, hi), (lo, hi), ..., (lo, hi)] å®šä¹‰ä½ æƒ³è¿½è¸ªçš„é¢œè‰²èŒƒå›´ã€‚ å¯¹äºç°åº¦å›¾åƒï¼Œæ¯ä¸ªå…ƒç»„éœ€è¦åŒ…å«ä¸¤ä¸ªå€¼ æœ€å°ç°åº¦å€¼å’Œæœ€å¤§ç°åº¦å€¼ã€‚ ä»…è€ƒè™‘è½åœ¨è¿™äº›é˜ˆå€¼ä¹‹é—´çš„åƒç´ åŒºåŸŸã€‚ å¯¹äºRGB565å›¾åƒï¼Œæ¯ä¸ªå…ƒç»„éœ€è¦æœ‰å…­ä¸ªå€¼(l_loï¼Œl_hiï¼Œa_loï¼Œa_hiï¼Œb_loï¼Œb_hi) åˆ†åˆ«æ˜¯LAB Lï¼ŒAå’ŒBé€šé“çš„æœ€å°å€¼å’Œæœ€å¤§å€¼ã€‚ ä¸ºæ–¹ä¾¿ä½¿ç”¨ï¼Œæ­¤åŠŸèƒ½å°†è‡ªåŠ¨ä¿®å¤äº¤æ¢çš„æœ€å°å€¼å’Œæœ€å¤§å€¼ã€‚ æ­¤å¤–ï¼Œå¦‚æœå…ƒç»„å¤§äºå…­ä¸ªå€¼ï¼Œåˆ™å¿½ç•¥å…¶ä½™å€¼ã€‚ç›¸åï¼Œå¦‚æœå…ƒç»„å¤ªçŸ­ï¼Œåˆ™å‡å®šå…¶ä½™é˜ˆå€¼å¤„äºæœ€å¤§èŒƒå›´ã€‚ æ³¨è§£ è·å–æ‰€è·Ÿè¸ªå¯¹è±¡çš„é˜ˆå€¼ï¼Œåªéœ€åœ¨IDEå¸§ç¼“å†²åŒºä¸­é€‰æ‹©ï¼ˆå•å‡»å¹¶æ‹–åŠ¨ï¼‰è·Ÿè¸ªå¯¹è±¡ã€‚ ç›´æ–¹å›¾ä¼šç›¸åº”åœ°æ›´æ–°åˆ°æ‰€åœ¨åŒºåŸŸã€‚ç„¶ååªéœ€å†™ä¸‹é¢œè‰²åˆ†å¸ƒåœ¨æ¯ä¸ªç›´æ–¹å›¾é€šé“ä¸­èµ·å§‹ä¸ä¸‹é™ä½ç½®ã€‚ è¿™äº›å°†æ˜¯ thresholds çš„ä½å€¼å’Œé«˜å€¼ã€‚ ç”±äºä¸Šä¸‹å››åˆ†ä½æ•°æ®ç›¸å·®å¾®å°ï¼Œæ•…æ‰‹åŠ¨ç¡®å®šé˜ˆå€¼ä¸ºä½³ã€‚ æ‚¨è¿˜å¯ä»¥é€šè¿‡è¿›å…¥OpenMV IDEä¸­çš„ å·¥å…· >æœºå™¨è§†è§‰ >é˜ˆå€¼ç¼–è¾‘å™¨ å¹¶ä»GUIçª—å£ä¸­æ‹–åŠ¨æ»‘å—æ¥ç¡®å®šé¢œè‰²é˜ˆå€¼ã€‚ invert åè½¬é˜ˆå€¼æ“ä½œï¼Œåƒç´ åœ¨å·²çŸ¥é¢œè‰²èŒƒå›´ä¹‹å¤–è¿›è¡ŒåŒ¹é…ï¼Œè€Œéåœ¨å·²çŸ¥é¢œè‰²èŒƒå›´å†…ã€‚ é™¤éæ‚¨éœ€è¦ä½¿ç”¨é¢œè‰²ç»Ÿè®¡ä¿¡æ¯è¿›è¡Œé«˜çº§æ“ä½œï¼Œå¦åˆ™åªéœ€ä½¿ç”¨`image.get_statistics()` æ–¹æ³•ä»£æ›¿æ­¤æ–¹æ³•æŸ¥çœ‹å›¾åƒä¸­çš„åƒç´ åŒºåŸŸã€‚ roi æ˜¯æ„Ÿå…´è¶£åŒºåŸŸçš„çŸ©å½¢å…ƒç»„(xï¼Œyï¼Œwï¼Œh)ã€‚å¦‚æœæœªæŒ‡å®šï¼ŒROIå³æ•´ä¸ªå›¾åƒçš„å›¾åƒçŸ©å½¢ã€‚ æ“ä½œèŒƒå›´ä»…é™äº roi åŒºåŸŸå†…çš„åƒç´ ã€‚ bins å’Œå…¶ä»–binæ˜¯ç”¨äºç›´æ–¹å›¾é€šé“çš„ç®±æ•°ã€‚å¯¹äºç°åº¦å›¾åƒï¼Œä½¿ç”¨ bins ï¼Œ å¯¹äºRGB565å›¾åƒï¼Œä½¿ç”¨å…¶ä»–æ¯ä¸ªé€šé“ã€‚æ¯ä¸ªé€šé“çš„binè®¡æ•°å¿…é¡»å¤§äº2ã€‚ å¦å¤–ï¼Œå°†binè®¡æ•°è®¾ç½®ä¸ºå¤§äºæ¯ä¸ªé€šé“çš„å”¯ä¸€åƒç´ å€¼çš„æ•°é‡æ˜¯æ²¡æœ‰æ„ä¹‰çš„ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œç›´æ–¹å›¾å°†å…·æœ‰æ¯ä¸ªé€šé“çš„æœ€å¤§binæ•°ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ #### image.get_statistics([thresholds[, invert False[, roi[, bins[, l_bins[, a_bins[, b_bins]]]]]]]) è®¡ç®— roi ä¸­æ¯ä¸ªé¢œè‰²é€šé“çš„å¹³å‡å€¼ã€ä¸­å€¼ã€ä¼—å€¼ã€æ ‡å‡†åå·®ã€æœ€å°å€¼ã€æœ€å¤§å€¼ã€ä¸‹å››åˆ†å€¼å’Œä¸Šå››åˆ†å€¼ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ•°æ®å¯¹è±¡ã€‚ è¯·å‚è§ statistics å¯¹è±¡ä»¥è·å–æ›´å¤šä¿¡æ¯ã€‚æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨ image.get_stats æˆ– image.statistics æ¥è°ƒç”¨è¿™ä¸€æ–¹æ³•ã€‚ å¦‚æœä¼ é€’ thresholds åˆ—è¡¨ï¼Œåˆ™ç›´æ–¹å›¾ä¿¡æ¯å°†ä»…ä»é˜ˆå€¼åˆ—è¡¨ä¸­çš„åƒç´ è®¡ç®—å¾—å‡ºã€‚ thresholds å¿…é¡»æ˜¯å…ƒç»„åˆ—è¡¨ã€‚ [(lo, hi), (lo, hi), ..., (lo, hi)] å®šä¹‰ä½ æƒ³è¿½è¸ªçš„é¢œè‰²èŒƒå›´ã€‚ å¯¹äºç°åº¦å›¾åƒï¼Œæ¯ä¸ªå…ƒç»„éœ€è¦åŒ…å«ä¸¤ä¸ªå€¼ æœ€å°ç°åº¦å€¼å’Œæœ€å¤§ç°åº¦å€¼ã€‚ ä»…è€ƒè™‘è½åœ¨è¿™äº›é˜ˆå€¼ä¹‹é—´çš„åƒç´ åŒºåŸŸã€‚ å¯¹äºRGB565å›¾åƒï¼Œæ¯ä¸ªå…ƒç»„éœ€è¦æœ‰å…­ä¸ªå€¼(l_loï¼Œl_hiï¼Œa_loï¼Œa_hiï¼Œb_loï¼Œb_hi) åˆ†åˆ«æ˜¯LAB Lï¼ŒAå’ŒBé€šé“çš„æœ€å°å€¼å’Œæœ€å¤§å€¼ã€‚ ä¸ºæ–¹ä¾¿ä½¿ç”¨ï¼Œæ­¤åŠŸèƒ½å°†è‡ªåŠ¨ä¿®å¤äº¤æ¢çš„æœ€å°å€¼å’Œæœ€å¤§å€¼ã€‚ æ­¤å¤–ï¼Œå¦‚æœå…ƒç»„å¤§äºå…­ä¸ªå€¼ï¼Œåˆ™å¿½ç•¥å…¶ä½™å€¼ã€‚ç›¸åï¼Œå¦‚æœå…ƒç»„å¤ªçŸ­ï¼Œåˆ™å‡å®šå…¶ä½™é˜ˆå€¼å¤„äºæœ€å¤§èŒƒå›´ã€‚ æ³¨è§£ è·å–æ‰€è·Ÿè¸ªå¯¹è±¡çš„é˜ˆå€¼ï¼Œåªéœ€åœ¨IDEå¸§ç¼“å†²åŒºä¸­é€‰æ‹©ï¼ˆå•å‡»å¹¶æ‹–åŠ¨ï¼‰è·Ÿè¸ªå¯¹è±¡ã€‚ ç›´æ–¹å›¾ä¼šç›¸åº”åœ°æ›´æ–°åˆ°æ‰€åœ¨åŒºåŸŸã€‚ç„¶ååªéœ€å†™ä¸‹é¢œè‰²åˆ†å¸ƒåœ¨æ¯ä¸ªç›´æ–¹å›¾é€šé“ä¸­èµ·å§‹ä¸ä¸‹é™ä½ç½®ã€‚ è¿™äº›å°†æ˜¯ thresholds çš„ä½å€¼å’Œé«˜å€¼ã€‚ ç”±äºä¸Šä¸‹å››åˆ†ä½æ•°æ®ç›¸å·®å¾®å°ï¼Œæ•…æ‰‹åŠ¨ç¡®å®šé˜ˆå€¼ä¸ºä½³ã€‚ æ‚¨è¿˜å¯ä»¥é€šè¿‡è¿›å…¥OpenMV IDEä¸­çš„ å·¥å…· >æœºå™¨è§†è§‰ >é˜ˆå€¼ç¼–è¾‘å™¨ å¹¶ä»GUIçª—å£ä¸­æ‹–åŠ¨æ»‘å—æ¥ç¡®å®šé¢œè‰²é˜ˆå€¼ã€‚ invert åè½¬é˜ˆå€¼æ“ä½œï¼Œåƒç´ åœ¨å·²çŸ¥é¢œè‰²èŒƒå›´ä¹‹å¤–è¿›è¡ŒåŒ¹é…ï¼Œè€Œéåœ¨å·²çŸ¥é¢œè‰²èŒƒå›´å†…ã€‚ æ‚¨å¯ä»¥åœ¨éœ€è¦è·å–å›¾åƒä¸­ä¸€ä¸ªåƒç´ åŒºåŸŸä¿¡æ¯æ—¶ä½¿ç”¨è¿™ä¸€æ–¹æ³•ã€‚ä¾‹å¦‚ï¼šè‹¥æ‚¨æƒ³ç”¨å¸§å·®æ³•æ¥æ£€æµ‹è¿åŠ¨æ—¶ï¼Œ æ‚¨éœ€è¦ä½¿ç”¨è¿™ä¸€æ–¹æ³•æ¥ç¡®å®šå›¾åƒé¢œè‰²é€šé“çš„å˜åŒ–ï¼Œä»è€Œè§¦å‘è¿åŠ¨æ£€æµ‹é˜ˆå€¼ã€‚ roi æ˜¯æ„Ÿå…´è¶£åŒºåŸŸçš„çŸ©å½¢å…ƒç»„(xï¼Œyï¼Œwï¼Œh)ã€‚å¦‚æœæœªæŒ‡å®šï¼ŒROIå³æ•´ä¸ªå›¾åƒçš„å›¾åƒçŸ©å½¢ã€‚ æ“ä½œèŒƒå›´ä»…é™äº roi åŒºåŸŸå†…çš„åƒç´ ã€‚ bins å’Œå…¶ä»–binæ˜¯ç”¨äºç›´æ–¹å›¾é€šé“çš„ç®±æ•°ã€‚å¯¹äºç°åº¦å›¾åƒï¼Œä½¿ç”¨ bins ï¼Œ å¯¹äºRGB565å›¾åƒï¼Œä½¿ç”¨å…¶ä»–æ¯ä¸ªé€šé“ã€‚æ¯ä¸ªé€šé“çš„binè®¡æ•°å¿…é¡»å¤§äº2ã€‚ å¦å¤–ï¼Œå°†binè®¡æ•°è®¾ç½®ä¸ºå¤§äºæ¯ä¸ªé€šé“çš„å”¯ä¸€åƒç´ å€¼çš„æ•°é‡æ˜¯æ²¡æœ‰æ„ä¹‰çš„ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œç›´æ–¹å›¾å°†å…·æœ‰æ¯ä¸ªé€šé“çš„æœ€å¤§binæ•°ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ #### image.get_regression(thresholds[, invert False[, roi[, x_stride 2[, y_stride 1[, area_threshold 10[, pixels_threshold 10[, robust False]]]]]]]) å¯¹å›¾åƒæ‰€æœ‰é˜ˆå€¼åƒç´ è¿›è¡Œçº¿æ€§å›å½’è®¡ç®—ã€‚è¿™ä¸€è®¡ç®—é€šè¿‡æœ€å°äºŒä¹˜æ³•è¿›è¡Œï¼Œé€šå¸¸é€Ÿåº¦è¾ƒå¿«ï¼Œä½†ä¸èƒ½å¤„ç†ä»»ä½•å¼‚å¸¸å€¼ã€‚ è‹¥ robust ä¸ºTrueï¼Œåˆ™å°†ä½¿ç”¨æ³°å°”æŒ‡æ•°ã€‚æ³°å°”æŒ‡æ•°è®¡ç®—å›¾åƒä¸­æ‰€æœ‰é˜ˆå€¼åƒç´ é—´çš„æ‰€æœ‰æ–œç‡çš„ä¸­å€¼ã€‚ è‹¥åœ¨é˜ˆå€¼è½¬æ¢åè®¾å®šå¤ªå¤šåƒç´ ï¼Œå³ä½¿åœ¨80x60çš„å›¾åƒä¸Šï¼Œè¿™ä¸€N^2æ“ä½œä¹Ÿå¯èƒ½å°†æ‚¨çš„FPSé™åˆ°5ä»¥ä¸‹ã€‚ ä½†æ˜¯ï¼Œåªè¦é˜ˆå€¼è½¬æ¢åçš„è¿›è¡Œè®¾ç½®çš„åƒç´ æ•°é‡è¾ƒå°‘ï¼Œå³ä½¿åœ¨è¶…è¿‡30%çš„é˜ˆå€¼åƒç´ ä¸ºå¼‚å¸¸å€¼çš„æƒ…å†µä¸‹ï¼Œçº¿æ€§å›å½’ä¹Ÿä¾ç„¶æœ‰æ•ˆã€‚ è¿™ä¸€æ–¹æ³•è¿”å›çš„æ˜¯ä¸€ä¸ª image.line å¯¹è±¡ã€‚å¦‚ä½•è½»æ¾è¿ç”¨ç›´çº¿å¯¹è±¡ï¼Œ è¯¦è§ä¸‹åšæ–‡ï¼š https://openmv.io/blogs/news/linear regression line following thresholds å¿…é¡»æ˜¯å…ƒç»„åˆ—è¡¨ã€‚ [(lo, hi), (lo, hi), ..., (lo, hi)] å®šä¹‰ä½ æƒ³è¿½è¸ªçš„é¢œè‰²èŒƒå›´ã€‚ å¯¹äºç°åº¦å›¾åƒï¼Œæ¯ä¸ªå…ƒç»„éœ€è¦åŒ…å«ä¸¤ä¸ªå€¼ æœ€å°ç°åº¦å€¼å’Œæœ€å¤§ç°åº¦å€¼ã€‚ ä»…è€ƒè™‘è½åœ¨è¿™äº›é˜ˆå€¼ä¹‹é—´çš„åƒç´ åŒºåŸŸã€‚ å¯¹äºRGB565å›¾åƒï¼Œæ¯ä¸ªå…ƒç»„éœ€è¦æœ‰å…­ä¸ªå€¼(l_loï¼Œl_hiï¼Œa_loï¼Œa_hiï¼Œb_loï¼Œb_hi) åˆ†åˆ«æ˜¯LAB Lï¼ŒAå’ŒBé€šé“çš„æœ€å°å€¼å’Œæœ€å¤§å€¼ã€‚ ä¸ºæ–¹ä¾¿ä½¿ç”¨ï¼Œæ­¤åŠŸèƒ½å°†è‡ªåŠ¨ä¿®å¤äº¤æ¢çš„æœ€å°å€¼å’Œæœ€å¤§å€¼ã€‚ æ­¤å¤–ï¼Œå¦‚æœå…ƒç»„å¤§äºå…­ä¸ªå€¼ï¼Œåˆ™å¿½ç•¥å…¶ä½™å€¼ã€‚ç›¸åï¼Œå¦‚æœå…ƒç»„å¤ªçŸ­ï¼Œåˆ™å‡å®šå…¶ä½™é˜ˆå€¼å¤„äºæœ€å¤§èŒƒå›´ã€‚ > è·å–æ‰€è·Ÿè¸ªå¯¹è±¡çš„é˜ˆå€¼ï¼Œåªéœ€åœ¨IDEå¸§ç¼“å†²åŒºä¸­é€‰æ‹©ï¼ˆå•å‡»å¹¶æ‹–åŠ¨ï¼‰è·Ÿè¸ªå¯¹è±¡ã€‚ ç›´æ–¹å›¾ä¼šç›¸åº”åœ°æ›´æ–°åˆ°æ‰€åœ¨åŒºåŸŸã€‚ç„¶ååªéœ€å†™ä¸‹é¢œè‰²åˆ†å¸ƒåœ¨æ¯ä¸ªç›´æ–¹å›¾é€šé“ä¸­èµ·å§‹ä¸ä¸‹é™ä½ç½®ã€‚ è¿™äº›å°†æ˜¯ thresholds çš„ä½å€¼å’Œé«˜å€¼ã€‚ ç”±äºä¸Šä¸‹å››åˆ†ä½æ•°æ®ç›¸å·®å¾®å°ï¼Œæ•…æ‰‹åŠ¨ç¡®å®šé˜ˆå€¼ä¸ºä½³ã€‚ æ‚¨è¿˜å¯ä»¥é€šè¿‡è¿›å…¥OpenMV IDEä¸­çš„ å·¥å…· >æœºå™¨è§†è§‰ >é˜ˆå€¼ç¼–è¾‘å™¨ å¹¶ä»GUIçª—å£ä¸­æ‹–åŠ¨æ»‘å—æ¥ç¡®å®šé¢œè‰²é˜ˆå€¼ã€‚ invert åè½¬é˜ˆå€¼æ“ä½œï¼Œåƒç´ åœ¨å·²çŸ¥é¢œè‰²èŒƒå›´ä¹‹å¤–è¿›è¡ŒåŒ¹é…ï¼Œè€Œéåœ¨å·²çŸ¥é¢œè‰²èŒƒå›´å†…ã€‚ roi æ˜¯æ„Ÿå…´è¶£åŒºåŸŸçš„çŸ©å½¢å…ƒç»„(xï¼Œyï¼Œwï¼Œh)ã€‚å¦‚æœæœªæŒ‡å®šï¼ŒROIå³æ•´ä¸ªå›¾åƒçš„å›¾åƒçŸ©å½¢ã€‚ æ“ä½œèŒƒå›´ä»…é™äº roi åŒºåŸŸå†…çš„åƒç´ ã€‚ x_stride æ˜¯è°ƒç”¨å‡½æ•°æ—¶è¦è·³è¿‡çš„xåƒç´ æ•°ã€‚ y_stride æ˜¯è°ƒç”¨å‡½æ•°æ—¶è¦è·³è¿‡çš„yåƒç´ æ•°ã€‚ å¦‚æœå›å½’åçš„è¾¹ç•Œæ¡†åŒºåŸŸå°äº area_threshold ï¼Œåˆ™è¿”å›Noneã€‚ å¦‚æœå›å½’åçš„åƒç´ æ•°å°äº pixel_threshold ï¼Œåˆ™è¿”å›Noneã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ #### image.find_blobs(thresholds[, invert False[, roi[, x_stride 2[, y_stride 1[, area_threshold 10[, pixels_threshold 10[, merge False[, margin 0[, threshold_cb None[, merge_cb None]]]]]]]]]]) æŸ¥æ‰¾å›¾åƒä¸­æ‰€æœ‰è‰²å—ï¼Œå¹¶è¿”å›ä¸€ä¸ªåŒ…æ‹¬æ¯ä¸ªè‰²å—çš„è‰²å—å¯¹è±¡çš„åˆ—è¡¨ã€‚è¯·è§‚å¯Ÿ image.blob å¯¹è±¡ä»¥è·å–æ›´å¤šä¿¡æ¯ã€‚ thresholds å¿…é¡»æ˜¯å…ƒç»„åˆ—è¡¨ã€‚ [(lo, hi), (lo, hi), ..., (lo, hi)] å®šä¹‰ä½ æƒ³è¿½è¸ªçš„é¢œè‰²èŒƒå›´ã€‚ å¯¹äºç°åº¦å›¾åƒï¼Œæ¯ä¸ªå…ƒç»„éœ€è¦åŒ…å«ä¸¤ä¸ªå€¼ æœ€å°ç°åº¦å€¼å’Œæœ€å¤§ç°åº¦å€¼ã€‚ ä»…è€ƒè™‘è½åœ¨è¿™äº›é˜ˆå€¼ä¹‹é—´çš„åƒç´ åŒºåŸŸã€‚ å¯¹äºRGB565å›¾åƒï¼Œæ¯ä¸ªå…ƒç»„éœ€è¦æœ‰å…­ä¸ªå€¼(l_loï¼Œl_hiï¼Œa_loï¼Œa_hiï¼Œb_loï¼Œb_hi) åˆ†åˆ«æ˜¯LAB Lï¼ŒAå’ŒBé€šé“çš„æœ€å°å€¼å’Œæœ€å¤§å€¼ã€‚ ä¸ºæ–¹ä¾¿ä½¿ç”¨ï¼Œæ­¤åŠŸèƒ½å°†è‡ªåŠ¨ä¿®å¤äº¤æ¢çš„æœ€å°å€¼å’Œæœ€å¤§å€¼ã€‚ æ­¤å¤–ï¼Œå¦‚æœå…ƒç»„å¤§äºå…­ä¸ªå€¼ï¼Œåˆ™å¿½ç•¥å…¶ä½™å€¼ã€‚ç›¸åï¼Œå¦‚æœå…ƒç»„å¤ªçŸ­ï¼Œåˆ™å‡å®šå…¶ä½™é˜ˆå€¼å¤„äºæœ€å¤§èŒƒå›´ã€‚ æ³¨è§£ è·å–æ‰€è·Ÿè¸ªå¯¹è±¡çš„é˜ˆå€¼ï¼Œåªéœ€åœ¨IDEå¸§ç¼“å†²åŒºä¸­é€‰æ‹©ï¼ˆå•å‡»å¹¶æ‹–åŠ¨ï¼‰è·Ÿè¸ªå¯¹è±¡ã€‚ ç›´æ–¹å›¾ä¼šç›¸åº”åœ°æ›´æ–°åˆ°æ‰€åœ¨åŒºåŸŸã€‚ç„¶ååªéœ€å†™ä¸‹é¢œè‰²åˆ†å¸ƒåœ¨æ¯ä¸ªç›´æ–¹å›¾é€šé“ä¸­èµ·å§‹ä¸ä¸‹é™ä½ç½®ã€‚ è¿™äº›å°†æ˜¯ thresholds çš„ä½å€¼å’Œé«˜å€¼ã€‚ ç”±äºä¸Šä¸‹å››åˆ†ä½æ•°æ®ç›¸å·®å¾®å°ï¼Œæ•…æ‰‹åŠ¨ç¡®å®šé˜ˆå€¼ä¸ºä½³ã€‚ æ‚¨è¿˜å¯ä»¥é€šè¿‡è¿›å…¥OpenMV IDEä¸­çš„ å·¥å…· >æœºå™¨è§†è§‰ >é˜ˆå€¼ç¼–è¾‘å™¨ å¹¶ä»GUIçª—å£ä¸­æ‹–åŠ¨æ»‘å—æ¥ç¡®å®šé¢œè‰²é˜ˆå€¼ã€‚ invert åè½¬é˜ˆå€¼æ“ä½œï¼Œåƒç´ åœ¨å·²çŸ¥é¢œè‰²èŒƒå›´ä¹‹å¤–è¿›è¡ŒåŒ¹é…ï¼Œè€Œéåœ¨å·²çŸ¥é¢œè‰²èŒƒå›´å†…ã€‚ roi æ˜¯æ„Ÿå…´è¶£åŒºåŸŸçš„çŸ©å½¢å…ƒç»„(xï¼Œyï¼Œwï¼Œh)ã€‚å¦‚æœæœªæŒ‡å®šï¼ŒROIå³æ•´ä¸ªå›¾åƒçš„å›¾åƒçŸ©å½¢ã€‚ æ“ä½œèŒƒå›´ä»…é™äº roi åŒºåŸŸå†…çš„åƒç´ ã€‚ x_stride æ˜¯æŸ¥æ‰¾æŸè‰²å—æ—¶éœ€è¦è·³è¿‡çš„xåƒç´ çš„æ•°é‡ã€‚æ‰¾åˆ°è‰²å—åï¼Œç›´çº¿å¡«å……ç®—æ³•å°†ç²¾ç¡®åƒç´ ã€‚ è‹¥å·²çŸ¥è‰²å—è¾ƒå¤§ï¼Œå¯å¢åŠ  x_stride æ¥æé«˜æŸ¥æ‰¾è‰²å—çš„é€Ÿåº¦ã€‚ y_stride æ˜¯æŸ¥æ‰¾æŸè‰²å—æ—¶éœ€è¦è·³è¿‡çš„yåƒç´ çš„æ•°é‡ã€‚æ‰¾åˆ°è‰²å—åï¼Œç›´çº¿å¡«å……ç®—æ³•å°†ç²¾ç¡®åƒç´ ã€‚ è‹¥å·²çŸ¥è‰²å—è¾ƒå¤§ï¼Œå¯å¢åŠ  y_stride æ¥æé«˜æŸ¥æ‰¾è‰²å—çš„é€Ÿåº¦ã€‚ è‹¥ä¸€ä¸ªè‰²å—çš„è¾¹ç•Œæ¡†åŒºåŸŸå°äº area_threshold ï¼Œåˆ™ä¼šè¢«è¿‡æ»¤æ‰ã€‚ è‹¥ä¸€ä¸ªè‰²å—çš„åƒç´ æ•°å°äº pixel_threshold ï¼Œåˆ™ä¼šè¢«è¿‡æ»¤æ‰ã€‚ merge è‹¥ä¸ºTrueï¼Œåˆ™åˆå¹¶æ‰€æœ‰æ²¡æœ‰è¢«è¿‡æ»¤æ‰çš„è‰²å—ï¼Œè¿™äº›è‰²å—çš„è¾¹ç•ŒçŸ©å½¢äº’ç›¸äº¤é”™é‡å ã€‚ margin å¯åœ¨ç›¸äº¤æµ‹è¯•ä¸­ç”¨æ¥å¢å¤§æˆ–å‡å°è‰²å—è¾¹ç•ŒçŸ©å½¢çš„å¤§å°ã€‚ä¾‹å¦‚ï¼šè¾¹ç¼˜ä¸º1ã€ç›¸äº’é—´è¾¹ç•ŒçŸ©å½¢ä¸º1çš„è‰²å—å°†è¢«åˆå¹¶ã€‚ åˆå¹¶è‰²å—ä½¿é¢œè‰²ä»£ç è¿½è¸ªå¾—ä»¥å®ç°ã€‚æ¯ä¸ªè‰²å—å¯¹è±¡æœ‰ä¸€ä¸ªä»£ç å€¼ code ï¼Œè¯¥å€¼ä¸ºä¸€ä¸ªä½å‘é‡ã€‚ ä¾‹å¦‚ï¼šè‹¥æ‚¨åœ¨ image.find_blobs ä¸­è¾“å…¥ä¸¤ä¸ªé¢œè‰²é˜ˆå€¼ï¼Œåˆ™ç¬¬ä¸€ä¸ªé˜ˆå€¼ä»£ç ä¸º1ï¼Œç¬¬äºŒä¸ªä»£ç ä¸º2ï¼ˆç¬¬ä¸‰ä¸ªä»£ç ä¸º4ï¼Œç¬¬å››ä¸ªä»£ç ä¸º8ï¼Œä»¥æ­¤ç±»æ¨ï¼‰ã€‚ åˆå¹¶è‰²å—å¯¹æ‰€æœ‰çš„codeä½¿ç”¨é€»è¾‘æˆ–è¿ç®—ï¼Œä»¥ä¾¿æ‚¨çŸ¥é“äº§ç”Ÿå®ƒä»¬çš„é¢œè‰²ã€‚è¿™ä½¿å¾—æ‚¨å¯ä»¥è¿½è¸ªä¸¤ä¸ªé¢œè‰²ï¼Œè‹¥æ‚¨ç”¨ä¸¤ç§é¢œè‰²å¾—åˆ°ä¸€ä¸ªè‰²å—å¯¹è±¡ï¼Œåˆ™å¯èƒ½æ˜¯ä¸€ç§é¢œè‰²ä»£ç ã€‚ è‹¥æ‚¨ä½¿ç”¨ä¸¥æ ¼çš„é¢œè‰²èŒƒå›´ï¼Œæ— æ³•å®Œå…¨è¿½è¸ªç›®æ ‡å¯¹è±¡çš„æ‰€æœ‰åƒç´ ï¼Œæ‚¨å¯èƒ½éœ€è¦åˆå¹¶è‰²å—ã€‚ æœ€åï¼Œè‹¥æ‚¨æƒ³è¦åˆå¹¶è‰²å—ï¼Œä½†ä¸æƒ³ä¸¤ç§ä¸åŒé˜ˆå€¼é¢œè‰²çš„è‰²å—è¢«åˆå¹¶ï¼Œåªéœ€åˆ†åˆ«ä¸¤æ¬¡è°ƒç”¨ image.find_blobs ï¼Œä¸åŒé˜ˆå€¼è‰²å—å°±ä¸ä¼šè¢«åˆå¹¶ã€‚ threshold_cb å¯è®¾ç½®ä¸ºç”¨ä»¥è°ƒç”¨é˜ˆå€¼ç­›é€‰åçš„æ¯ä¸ªè‰²å—çš„å‡½æ•°ï¼Œä»¥ä¾¿å°†å…¶ä»å°†è¦åˆå¹¶çš„è‰²å—åˆ—è¡¨ä¸­è¿‡æ»¤å‡ºæ¥ã€‚ å›è°ƒå‡½æ•°å°†æ”¶åˆ°ä¸€ä¸ªå‚æ•°ï¼šè¦è¢«ç­›é€‰çš„è‰²å—å¯¹è±¡ã€‚ç„¶åå›è°ƒå‡½æ•°éœ€è¿”å›Trueä»¥ä¿ç•™è‰²å—æˆ–è¿”å›Falseä»¥è¿‡æ»¤è‰²å—ã€‚ merge_cb å¯è®¾ç½®ä¸ºç”¨ä»¥è°ƒç”¨ä¸¤ä¸ªå³å°†åˆå¹¶çš„è‰²å—çš„å‡½æ•°ï¼Œä»¥ç¦æ­¢æˆ–å‡†è®¸åˆå¹¶ã€‚å›è°ƒå‡½æ•°å°†æ”¶åˆ°ä¸¤ä¸ªå‚æ•°â€”ä¸¤ä¸ªå°†è¢«åˆå¹¶çš„è‰²å—å¯¹è±¡ã€‚ å›è°ƒå‡½æ•°é¡»è¿”å›Trueä»¥åˆå¹¶è‰²å—ï¼Œæˆ–è¿”å›Falseä»¥é˜²æ­¢è‰²å—åˆå¹¶ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ #### image.find_lines([roi[, x_stride 2[, y_stride 1[, threshold 1000[, theta_margin 25[, rho_margin 25]]]]]]) ä½¿ç”¨éœå¤«å˜æ¢æŸ¥æ‰¾å›¾åƒä¸­çš„æ‰€æœ‰ç›´çº¿ã€‚è¿”å›ä¸€ä¸ª image.line å¯¹è±¡çš„åˆ—è¡¨ã€‚ roi æ˜¯æ„Ÿå…´è¶£åŒºåŸŸçš„çŸ©å½¢å…ƒç»„(xï¼Œyï¼Œwï¼Œh)ã€‚å¦‚æœæœªæŒ‡å®šï¼ŒROIå³æ•´ä¸ªå›¾åƒçš„å›¾åƒçŸ©å½¢ã€‚æ“ä½œèŒƒå›´ä»…é™äº roi åŒºåŸŸå†…çš„åƒç´ ã€‚ x_stride æ˜¯éœå¤«å˜æ¢æ—¶éœ€è¦è·³è¿‡çš„xåƒç´ çš„æ•°é‡ã€‚è‹¥å·²çŸ¥ç›´çº¿è¾ƒå¤§ï¼Œå¯å¢åŠ  x_stride ã€‚ y_stride æ˜¯éœå¤«å˜æ¢æ—¶éœ€è¦è·³è¿‡çš„yåƒç´ çš„æ•°é‡ã€‚è‹¥å·²çŸ¥ç›´çº¿è¾ƒå¤§ï¼Œå¯å¢åŠ  y_stride ã€‚ threshold æ§åˆ¶ä»éœå¤«å˜æ¢ä¸­ç›‘æµ‹åˆ°çš„ç›´çº¿ã€‚åªè¿”å›å¤§äºæˆ–ç­‰äº threshold çš„ç›´çº¿ã€‚ åº”ç”¨ç¨‹åºçš„æ­£ç¡®çš„ threshold å€¼å–å†³äºå›¾åƒã€‚æ³¨æ„ï¼šä¸€æ¡ç›´çº¿çš„å¤§å°(magnitude)æ˜¯ç»„æˆç›´çº¿æ‰€æœ‰ç´¢è´å°”æ»¤æ³¢åƒç´ å¤§å°çš„æ€»å’Œã€‚ theta_margin æ§åˆ¶æ‰€ç›‘æµ‹çš„ç›´çº¿çš„åˆå¹¶ã€‚ ç›´çº¿è§’åº¦ä¸º theta_margin çš„éƒ¨åˆ†å’Œç›´çº¿på€¼ä¸º rho_margin çš„éƒ¨åˆ†åˆå¹¶ã€‚ rho_margin æ§åˆ¶æ‰€ç›‘æµ‹çš„ç›´çº¿çš„åˆå¹¶ã€‚ ç›´çº¿è§’åº¦ä¸º theta_margin çš„éƒ¨åˆ†å’Œç›´çº¿på€¼ä¸º rho_margin çš„éƒ¨åˆ†åˆå¹¶ã€‚ è¯¥æ–¹æ³•é€šè¿‡åœ¨å›¾åƒä¸Šè¿è¡Œç´¢è´å°”æ»¤æ³¢å™¨ï¼Œå¹¶åˆ©ç”¨è¯¥æ»¤æ³¢å™¨çš„å¹…å€¼å’Œæ¢¯åº¦å“åº”æ¥è¿›è¡Œéœå¤«å˜æ¢ã€‚ æ— éœ€å¯¹å›¾åƒè¿›è¡Œä»»ä½•é¢„å¤„ç†ã€‚ä½†æ˜¯ï¼Œæ¸…ç†å›¾åƒè¿‡æ»¤å™¨å¯å¾—åˆ°æ›´ä¸ºç¨³å®šçš„ç»“æœã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ æ­¤æ–¹æ³•åœ¨OpenMV Cam M4 ä¸Šä¸å¯ç”¨ã€‚ #### image.find_line_segments([roi[, merge_distance 0[, max_theta_difference 15]]]) ä½¿ç”¨éœå¤«è½¬æ¢æ¥æŸ¥æ‰¾å›¾åƒä¸­çš„çº¿æ®µã€‚è¿”å›ä¸€ä¸ª image.line å¯¹è±¡çš„åˆ—è¡¨ã€‚ roi æ˜¯ä¸€ä¸ªç”¨ä»¥å¤åˆ¶çš„çŸ©å½¢çš„æ„Ÿå…´è¶£åŒºåŸŸ(x, y, w, h)ã€‚å¦‚æœæœªæŒ‡å®šï¼Œ ROI å³å›¾åƒçŸ©å½¢ã€‚æ“ä½œèŒƒå›´ä»…é™äºroiåŒºåŸŸå†…çš„åƒç´ ã€‚ merge_distance æŒ‡å®šä¸¤æ¡çº¿æ®µä¹‹é—´çš„å¯ä»¥ç›¸äº’åˆ†å¼€è€Œä¸è¢«åˆå¹¶çš„æœ€å¤§åƒç´ æ•°ã€‚ max_theta_difference æ˜¯ä¸Šé¢ merge_distancede è¦åˆå¹¶çš„çš„ä¸¤ä¸ªçº¿æ®µçš„æœ€å¤§è§’åº¦å·®å€¼ã€‚ æ­¤æ–¹æ³•ä½¿ç”¨LSDåº“ï¼ˆä¹Ÿè¢«OpenCVä½¿ç”¨ï¼‰æ¥æŸ¥æ‰¾å›¾åƒä¸­çš„çº¿æ®µã€‚è¿™æœ‰ç‚¹æ…¢ï¼Œä½†æ˜¯éå¸¸å‡†ç¡®ï¼Œçº¿æ®µä¸ä¼šè·³è·ƒã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ æ­¤æ–¹æ³•åœ¨OpenMV Cam M4 ä¸Šä¸å¯ç”¨ã€‚ #### image.find_circles([roi[, x_stride 2[, y_stride 1[, threshold 2000[, x_margin 10[, y_margin 10[, r_margin 10]]]]]]]) ä½¿ç”¨éœå¤«å˜æ¢åœ¨å›¾åƒä¸­æŸ¥æ‰¾åœ†ã€‚è¿”å›ä¸€ä¸ª image.circle å¯¹è±¡åˆ—è¡¨ï¼ˆè§ä¸Šï¼‰ã€‚ roi æ˜¯ä¸€ä¸ªç”¨ä»¥å¤åˆ¶çš„çŸ©å½¢çš„æ„Ÿå…´è¶£åŒºåŸŸ(x, y, w, h)ã€‚å¦‚æœæœªæŒ‡å®šï¼Œ ROI å³å›¾åƒçŸ©å½¢ã€‚æ“ä½œèŒƒå›´ä»…é™äºroiåŒºåŸŸå†…çš„åƒç´ ã€‚ x_stride æ˜¯éœå¤«å˜æ¢æ—¶éœ€è¦è·³è¿‡çš„xåƒç´ çš„æ•°é‡ã€‚è‹¥å·²çŸ¥åœ†è¾ƒå¤§ï¼Œå¯å¢åŠ  x_stride ã€‚ y_stride æ˜¯éœå¤«å˜æ¢æ—¶éœ€è¦è·³è¿‡çš„yåƒç´ çš„æ•°é‡ã€‚è‹¥å·²çŸ¥åœ†è¾ƒå¤§ï¼Œå¯å¢åŠ  y_stride ã€‚ threshold æ§åˆ¶ä»éœå¤«å˜æ¢ä¸­ç›‘æµ‹åˆ°çš„åœ†ã€‚åªè¿”å›å¤§äºæˆ–ç­‰äº threshold çš„åœ†ã€‚ åº”ç”¨ç¨‹åºçš„æ­£ç¡®çš„ threshold å€¼å–å†³äºå›¾åƒã€‚æ³¨æ„ï¼šä¸€ä¸ªåœ†çš„å¤§å°(magnitude)æ˜¯ç»„æˆåœ†æ‰€æœ‰ç´¢è´å°”æ»¤æ³¢åƒç´ å¤§å°çš„æ€»å’Œã€‚ x_margin æ§åˆ¶æ‰€æ£€æµ‹çš„åœ†çš„åˆå¹¶ã€‚ åœ†åƒç´ ä¸º x_margin ã€ y_margin å’Œ r_margin çš„éƒ¨åˆ†åˆå¹¶ã€‚ y_margin æ§åˆ¶æ‰€æ£€æµ‹çš„åœ†çš„åˆå¹¶ã€‚ åœ†åƒç´ ä¸º x_margin ã€ y_margin å’Œ r_margin çš„éƒ¨åˆ†åˆå¹¶ã€‚ r_margin æ§åˆ¶æ‰€æ£€æµ‹çš„åœ†çš„åˆå¹¶ã€‚ åœ†åƒç´ ä¸º x_margin ã€ y_margin å’Œ r_margin çš„éƒ¨åˆ†åˆå¹¶ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ æ­¤æ–¹æ³•åœ¨OpenMV Cam M4 ä¸Šä¸å¯ç”¨ã€‚ #### image.find_rects([roi Auto, threshold 10000]) ä½¿ç”¨ç”¨äºæŸ¥æ‰¾AprilTAgçš„ç›¸åŒçš„quad detectionç®—æ³•æ¥æŸ¥æ‰¾å›¾åƒä¸­çš„çŸ©å½¢ã€‚ æœ€é€‚ç”¨ä¸èƒŒæ™¯å½¢æˆé²œæ˜å¯¹æ¯”çš„çŸ©å½¢ã€‚AprilTagçš„quad detectionå¯ä»¥å¤„ç†ä»»æ„ç¼©æ”¾/æ—‹è½¬/å‰ªåˆ‡çš„çŸ©å½¢ã€‚ è¿”å›ä¸€ä¸ª image.rect å¯¹è±¡çš„åˆ—è¡¨ã€‚ roi æ˜¯ä¸€ä¸ªç”¨ä»¥å¤åˆ¶çš„çŸ©å½¢çš„æ„Ÿå…´è¶£åŒºåŸŸ(x, y, w, h)ã€‚å¦‚æœæœªæŒ‡å®šï¼Œ ROIå³å›¾åƒçŸ©å½¢ã€‚æ“ä½œèŒƒå›´ä»…é™äº roi åŒºåŸŸå†…çš„åƒç´ ã€‚ è¾¹ç•Œå¤§å°ï¼ˆé€šè¿‡åœ¨çŸ©å½¢è¾¹ç¼˜ä¸Šçš„æ‰€æœ‰åƒç´ ä¸Šæ»‘åŠ¨ç´¢è´å°”ç®—å­å¹¶ç›¸åŠ è¯¥å€¼ï¼‰å°äº threshold çš„çŸ©å½¢ä¼šä»è¿”å›åˆ—è¡¨ä¸­è¿‡æ»¤å‡ºæ¥ã€‚ threshold çš„æ­£ç¡®å€¼å–å†³äºæ‚¨çš„åº”ç”¨ç¨‹åº/åœºæ™¯ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ æ­¤æ–¹æ³•åœ¨OpenMV Cam M4 ä¸Šä¸å¯ç”¨ã€‚ #### image.find_qrcodes([roi]) æŸ¥æ‰¾ roi å†…çš„æ‰€æœ‰äºŒç»´ç å¹¶è¿”å›ä¸€ä¸ª image.qrcode å¯¹è±¡çš„åˆ—è¡¨ã€‚ è¯·å‚è€ƒ image.qrcode å¯¹è±¡ä»¥è·å–æ›´å¤šä¿¡æ¯ã€‚ ä¸ºä½¿è¿™ä¸€æ–¹æ³•æˆåŠŸè¿è¡Œï¼Œå›¾åƒä¸ŠäºŒç»´ç éœ€æ¯”è¾ƒå¹³å±•ã€‚é€šè¿‡ä½¿ç”¨ sensor.set_windowing å‡½æ•°åœ¨é•œå¤´ä¸­å¿ƒæ”¾å¤§ã€ image.lens_corr å‡½æ•°æ¥æ¶ˆè§£é•œå¤´çš„æ¡¶å½¢ç•¸å˜æˆ–é€šè¿‡æ›´æ¢è§†é‡è¾ƒä¸ºç‹­å°çš„é•œå¤´ï¼Œ æ‚¨å¯å¾—åˆ°ä¸€ä¸ªä¸å—é•œå¤´ç•¸å˜å½±å“çš„æ›´ä¸ºå¹³å±•çš„äºŒç»´ç ã€‚æœ‰äº›æœºå™¨è§†è§‰é•œå¤´ä¸ä¼šé€ æˆæ¡¶å½¢å¤±çœŸï¼Œä½†æ˜¯å…¶é€ ä»·è¿œæ¯”OpenMVæä¾›çš„æ ‡å‡†é•œç‰‡é«˜ï¼Œè¿™ç§é•œå¤´ä¸ºæ— ç•¸å˜é•œå¤´ã€‚ roi æ˜¯ä¸€ä¸ªç”¨ä»¥å¤åˆ¶çš„çŸ©å½¢çš„æ„Ÿå…´è¶£åŒºåŸŸ(x, y, w, h)ã€‚å¦‚æœæœªæŒ‡å®šï¼ŒROIå³æ•´å¹…å›¾åƒçš„å›¾åƒçŸ©å½¢ã€‚ æ“ä½œèŒƒå›´ä»…é™äº roi åŒºåŸŸå†…çš„åƒç´ ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ æ­¤æ–¹æ³•åœ¨OpenMV Cam M4 ä¸Šä¸å¯ç”¨ã€‚ image.find_apriltags([roi[, families image.TAG36H11[, fx[, fy[, cx[, cy]]]]]]) æŸ¥æ‰¾ roi å†…çš„æ‰€æœ‰AprilTag, å¹¶è¿”å›ä¸€ä¸ª image.apriltag å¯¹è±¡çš„åˆ—è¡¨ã€‚è¯·å‚è€ƒ image.apriltag å¯¹è±¡ä»¥è·å–æ›´å¤šä¿¡æ¯ã€‚ ä¸äºŒç»´ç ç›¸æ¯”ï¼ŒAprilTagså¯åœ¨æ›´è¿œè·ç¦»ã€è¾ƒå·®å…‰çº¿å’Œæ›´æ‰­æ›²çš„å›¾åƒç¯å¢ƒä¸‹è¢«æ£€æµ‹åˆ°ã€‚ AprilTagså¯åº”å¯¹æ‰€æœ‰ç§ç±»çš„å›¾åƒå¤±çœŸé—®é¢˜ï¼Œè€ŒäºŒç»´ç å¹¶ä¸èƒ½ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒAprilTagsåªèƒ½å°†æ•°å­—IDç¼–ç ä½œä¸ºå…¶æœ‰æ•ˆè½½è·ã€‚ AprilTagsä¹Ÿå¯ç”¨äºæœ¬åœ°åŒ–ã€‚æ¯ä¸ª image.apriltag å¯¹è±¡éƒ½ä»æ‘„åƒæœºè¿”å›å…¶ä¸‰ç»´ä½ç½®ä¿¡æ¯å’Œæ—‹è½¬è§’åº¦ã€‚ ä½ç½®ä¿¡æ¯ç”± fx ã€ fy ã€ cx å’Œ cy å†³å®šï¼Œåˆ†åˆ«ä¸ºXå’ŒYæ–¹å‘ä¸Šå›¾åƒçš„ç„¦è·å’Œä¸­å¿ƒç‚¹ã€‚ > ä½¿ç”¨OpenMV IDEå†…ç½®çš„æ ‡ç­¾ç”Ÿæˆå™¨å·¥å…·æ¥åˆ›å»ºAprilTagsã€‚æ ‡ç­¾ç”Ÿæˆå™¨å¯åˆ›å»ºå¯æ‰“å°çš„8.5â€œx11â€AprilTagsã€‚ roi æ˜¯ä¸€ä¸ªç”¨ä»¥å¤åˆ¶çš„çŸ©å½¢çš„æ„Ÿå…´è¶£åŒºåŸŸ(x, y, w, h)ã€‚å¦‚æœæœªæŒ‡å®šï¼ŒROIå³æ•´å¹…å›¾åƒçš„å›¾åƒçŸ©å½¢ã€‚ æ“ä½œèŒƒå›´ä»…é™äº roi åŒºåŸŸå†…çš„åƒç´ ã€‚ families æ˜¯è¦è§£ç çš„æ ‡ç­¾å®¶æ—çš„ä½æ©ç ã€‚æ˜¯ä¸€ä¸ªé€»è¾‘æˆ–ï¼š image.TAG16H5 image.TAG25H7 image.TAG25H9 image.TAG36H10 image.TAG36H11 image.ARTOOLKIT é»˜è®¤è®¾ç½®ä¸ºæœ€å¥½ç”¨çš„ image.TAG36H11 æ ‡ç­¾å®¶æ—ã€‚æ³¨æ„ï¼šæ¯å¯ç”¨ä¸€ä¸ªæ ‡ç­¾å®¶æ—ï¼Œ find_apriltags çš„é€Ÿåº¦éƒ½ä¼šç•¥æœ‰æ”¾æ…¢ã€‚ fx æ˜¯ä»¥åƒç´ ä¸ºå•ä½çš„ç›¸æœºxæ–¹å‘çš„ç„¦è·ã€‚æ ‡å‡†OpenMV Camçš„å€¼ä¸º(2.8 / 3.984) * 656ï¼Œ è¯¥å€¼é€šè¿‡æ¯«ç±³è®¡çš„ç„¦è·å€¼é™¤ä»¥Xæ–¹å‘ä¸Šæ„Ÿå…‰å…ƒä»¶çš„é•¿åº¦ï¼Œå†ä¹˜ä»¥Xæ–¹å‘ä¸Šæ„Ÿå…‰å…ƒä»¶çš„åƒç´ æ•°é‡å¾—æ¥ï¼ˆå¯¹OV7725æ„Ÿå…‰å…ƒä»¶è€Œè¨€ï¼‰ã€‚ fy æ˜¯ä»¥åƒç´ ä¸ºå•ä½çš„ç›¸æœºyæ–¹å‘çš„ç„¦è·ã€‚æ ‡å‡†OpenMV Camçš„å€¼ä¸º(2.8 / 2.952) * 488ï¼Œ è¯¥å€¼é€šè¿‡æ¯«ç±³è®¡çš„ç„¦è·å€¼é™¤ä»¥Yæ–¹å‘ä¸Šæ„Ÿå…‰å…ƒä»¶çš„é•¿åº¦ï¼Œå†ä¹˜ä»¥Yæ–¹å‘ä¸Šæ„Ÿå…‰å…ƒä»¶çš„åƒç´ æ•°é‡å¾—æ¥ï¼ˆå¯¹OV7725æ„Ÿå…‰å…ƒä»¶è€Œè¨€ï¼‰ã€‚ cx æ˜¯å›¾åƒçš„ä¸­å¿ƒï¼Œå³ image.width()/2 ï¼Œè€Œé roi.w()/2 ã€‚ cy æ˜¯å›¾åƒçš„ä¸­å¿ƒï¼Œå³ image.height()/2ï¼Œè€Œé roi.h()/2 ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ æ­¤æ–¹æ³•åœ¨OpenMV Cam M4 ä¸Šä¸å¯ç”¨ã€‚ image.find_datamatrices([roi[, effort 200]]) æŸ¥æ‰¾ roi å†…çš„æ‰€æœ‰æ•°æ®çŸ©é˜µå¹¶è¿”å›ä¸€ä¸ª image.datamatrix å¯¹è±¡çš„åˆ—è¡¨ã€‚ è¯·å‚è€ƒ image.datamatrix å¯¹è±¡ä»¥è·å–æ›´å¤šä¿¡æ¯ã€‚ ä¸ºä½¿è¿™ä¸€æ–¹æ³•æˆåŠŸè¿è¡Œï¼Œå›¾åƒä¸ŠçŸ©å½¢ç éœ€æ¯”è¾ƒå¹³å±•ã€‚é€šè¿‡ä½¿ç”¨ sensor.set_windowing å‡½æ•°åœ¨é•œå¤´ä¸­å¿ƒæ”¾å¤§ã€ image.lens_corr å‡½æ•°æ¥æ¶ˆè§£é•œå¤´çš„æ¡¶å½¢ç•¸å˜æˆ–é€šè¿‡æ›´æ¢è§†é‡è¾ƒä¸ºç‹­å°çš„é•œå¤´ï¼Œæ‚¨å¯å¾—åˆ°ä¸€ä¸ªä¸å—é•œå¤´ç•¸å˜å½±å“çš„æ›´ä¸ºå¹³å±•çš„çŸ©å½¢ç ã€‚ æœ‰äº›æœºå™¨è§†è§‰é•œå¤´ä¸ä¼šé€ æˆæ¡¶å½¢å¤±çœŸï¼Œä½†æ˜¯å…¶é€ ä»·è¿œæ¯”OpenMVæä¾›çš„æ ‡å‡†é•œç‰‡é«˜ï¼Œè¿™ç§é•œå¤´æ˜¯æ— ç•¸å˜é•œå¤´ã€‚ roi æ˜¯ä¸€ä¸ªç”¨ä»¥å¤åˆ¶çš„çŸ©å½¢çš„æ„Ÿå…´è¶£åŒºåŸŸ(x, y, w, h)ã€‚å¦‚æœæœªæŒ‡å®šï¼ŒROIå³æ•´å¹…å›¾åƒçš„å›¾åƒçŸ©å½¢ã€‚æ“ä½œèŒƒå›´ä»…é™äº roi åŒºåŸŸå†…çš„åƒç´ ã€‚ effort æ§åˆ¶ç”¨äºæŸ¥æ‰¾çŸ©å½¢ç åŒ¹é…çš„æ—¶é—´ã€‚é»˜è®¤å€¼ä¸º200åº”è¯¥é€‚ç”¨äºæ‰€æœ‰ç”¨ä¾‹ã€‚ ä½†æ˜¯æ‚¨ä¹Ÿå¯èƒ½ä»¥å¸§é€Ÿç‡ä¸ºä»£ä»·å¢åŠ æ£€æµ‹ï¼Œæˆ–ä»¥æ£€æµ‹ä¸ºä»£ä»·å¢åŠ å¸§é€Ÿç‡ã€‚ æ³¨æ„ï¼šè‹¥ effort è®¾ç½®åœ¨çº¦160ä»¥ä¸‹ï¼Œæ‚¨å°±æ— æ³•è¿›è¡Œä»»ä½•æ£€æµ‹ï¼›ç›¸åï¼Œæ‚¨å¯å°†å…¶è®¾ç½®ä¸ºæ‚¨éœ€è¦çš„ä»»ä½•é«˜å€¼ï¼Œä½†æ˜¯è‹¥è®¾ç½®å€¼é«˜äº240ï¼Œæ£€æµ‹ç‡å°†ä¸ä¼šç»§ç»­éšä¹‹æé«˜ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ æ­¤æ–¹æ³•åœ¨OpenMV Cam M4 ä¸Šä¸å¯ç”¨ã€‚ #### image.find_barcodes([roi]) æŸ¥æ‰¾ roi å†…æ‰€æœ‰ä¸€ç»´æ¡å½¢ç å¹¶è¿”å›ä¸€ä¸ª image.barcode å¯¹è±¡åˆ—è¡¨ã€‚ è¯·å‚è€ƒ image.barcode å¯¹è±¡ä»¥è·å–æ›´å¤šä¿¡æ¯ã€‚ ä¸ºäº†è·å¾—æœ€ä½³æ•ˆæœï¼Œè¯·ä½¿ç”¨é•¿640ã€å®½40/80ï¼160çª—å£ã€‚å‚ç›´ç¨‹åº¦è¶Šä½ï¼Œè¿è¡Œé€Ÿåº¦è¶Šå¿«ã€‚ç”±äºæ¡å½¢ç æ˜¯çº¿æ€§ä¸€ç»´å›¾åƒï¼Œæ‰€ä»¥åªéœ€åœ¨ä¸€ä¸ªæ–¹å‘ä¸Šæœ‰è¾ƒé«˜åˆ†è¾¨ç‡ï¼Œ è€Œåœ¨å¦ä¸€æ–¹å‘ä¸Šåªéœ€è¾ƒä½åˆ†è¾¨ç‡ã€‚æ³¨æ„ï¼šè¯¥å‡½æ•°è¿›è¡Œæ°´å¹³å’Œå‚ç›´æ‰«æï¼Œæ‰€ä»¥æ‚¨å¯ä½¿ç”¨å®½40/80ï¼160ã€é•¿480çš„çª—å£ã€‚ æœ€åï¼Œè¯·ä¸€å®šè°ƒæ•´é•œå¤´ï¼Œè¿™æ ·æ¡å½¢ç ä¼šå®šä½åœ¨ç„¦è·äº§ç”Ÿæœ€æ¸…æ™°å›¾åƒçš„åœ°æ–¹ã€‚æ¨¡ç³Šæ¡ç æ— æ³•è¢«è§£ç ã€‚ è¯¥å‡½æ•°æ”¯æŒæ‰€æœ‰ä¸€ç»´æ¡å½¢ç ï¼š image.EAN2 image.EAN5 image.EAN8 image.UPCE image.ISBN10 image.UPCA image.EAN13 image.ISBN13 image.I25 image.DATABAR (RSS 14) image.DATABAR_EXP (RSS Expanded) image.CODABAR image.CODE39 image.PDF417 image.CODE93 image.CODE128 roi æ˜¯ä¸€ä¸ªç”¨ä»¥å¤åˆ¶çš„çŸ©å½¢çš„æ„Ÿå…´è¶£åŒºåŸŸ(x, y, w, h)ã€‚å¦‚æœæœªæŒ‡å®šï¼ŒROIå³æ•´å¹…å›¾åƒçš„å›¾åƒçŸ©å½¢ã€‚æ“ä½œèŒƒå›´ä»…é™äº roi åŒºåŸŸå†…çš„åƒç´ ã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ æ­¤æ–¹æ³•åœ¨OpenMV Cam M4 ä¸Šä¸å¯ç”¨ã€‚ image.find_displacement(template[, roi[, template_roi[, logpolar False]]]) ä»æ¨¡æ¿ä¸­æŸ¥æ‰¾æ­¤å›¾åƒçš„å˜æ¢åç§»é‡ã€‚ è¿™ç§æ–¹æ³•å¯ä»¥ç”¨æ¥åšå…‰æµã€‚ æ­¤æ–¹æ³•è¿”å›ä¸€ä¸ª image.displacement å¯¹è±¡ï¼Œå…¶ä¸­åŒ…å«ä½¿ç”¨ç›¸ä½ç›¸å…³çš„ä½ç§»è®¡ç®—ç»“æœã€‚ roi æ˜¯éœ€è¦å¤„ç†çš„çŸ©å½¢åŒºåŸŸï¼ˆxï¼Œyï¼Œwï¼Œhï¼‰ã€‚å¦‚æœæœªæŒ‡å®šï¼Œåˆ™ç­‰äºå›¾åƒçŸ©å½¢ã€‚ template_roi æ˜¯éœ€è¦å¤„ç†çš„çŸ©å½¢åŒºåŸŸï¼ˆxï¼Œyï¼Œwï¼Œhï¼‰ã€‚å¦‚æœæœªæŒ‡å®šï¼Œåˆ™ç­‰äºå›¾åƒçŸ©å½¢ã€‚ roi å’Œ template roiå¿…é¡»å…·æœ‰ç›¸åŒçš„w/hï¼Œä½†x/yå¯ä»¥ä¸ºå›¾åƒä»»æ„ä½ç½®ã€‚æ‚¨å¯ä»¥åœ¨è¾ƒå¤§å›¾åƒä¸Šæ»‘åŠ¨è¾ƒå°çš„roisä»¥è·å¾—å…‰æµæ¸å˜å›¾åƒ. image.find_displacement é€šå¸¸è®¡ç®—ä¸¤ä¸ªå›¾åƒä¹‹é—´çš„x/yå¹³ç§»ã€‚ä½†æ˜¯ï¼Œå¦‚æœæ‚¨è®¾ç½® logpolar True ï¼Œ å®ƒå°†ä¼šåœ¨ä¸¤ä¸ªå›¾åƒä¹‹é—´æ‰¾åˆ°æ—‹è½¬å’Œç¼©æ”¾æ¯”ä¾‹çš„å˜åŒ–ã€‚ç›¸åŒçš„ image.displacement å¯¹è±¡ç»“æœä¸¤ç§å¯èƒ½çš„åé¦ˆã€‚ ä¸æ”¯æŒå‹ç¼©å›¾åƒå’Œbayerå›¾åƒã€‚ æ³¨è§£ è¯·åœ¨é•¿å®½ä¸€è‡´çš„å›¾åƒï¼ˆä¾‹å¦‚``sensor.B64X64``ï¼‰ä¸Šä½¿ç”¨æ­¤æ–¹æ³•ã€‚ æ­¤æ–¹æ³•åœ¨OpenMV Cam M4 ä¸Šä¸å¯ç”¨ã€‚ #### image.find_number(roi) è¿è¡Œåœ¨MINSTæ•°æ®é›†ä¸Šè®­ç»ƒçš„LENET 6 CNNï¼ˆå·ç§¯ç¥ç»ç½‘ç»œï¼‰ï¼Œä»¥æ£€æµ‹ä½äºå›¾åƒä¸Šä»»ä½•ä½ç½®çš„28x28 ROIä¸­çš„æ•°å­—ã€‚ è¿”å›ä¸€ä¸ªåŒ…å«æ•´æ•°å’Œæµ®ç‚¹æ•°çš„å…ƒç»„ï¼Œè¡¨ç¤ºæ£€æµ‹åˆ°çš„æ•°å­—ï¼ˆ0 9ï¼‰å’Œæ£€æµ‹çš„ç½®ä¿¡åº¦ï¼ˆ0 1ï¼‰ã€‚ roi æ˜¯æ„Ÿå…´è¶£åŒºåŸŸçš„çŸ©å½¢å…ƒç»„(xï¼Œyï¼Œwï¼Œh)ã€‚å¦‚æœæœªæŒ‡å®šï¼ŒROIå³æ•´ä¸ªå›¾åƒçš„å›¾åƒçŸ©å½¢ã€‚ æ“ä½œèŒƒå›´ä»…é™äº roi åŒºåŸŸå†…çš„åƒç´ ã€‚ ä»…æ”¯æŒç°åº¦å›¾åƒã€‚ æ³¨è§£ è¿™ç§æ–¹æ³•æ˜¯å®éªŒæ€§çš„ã€‚å¦‚æœæœªæ¥è¿è¡Œä½¿ç”¨Caffeåœ¨PCä¸Šè®­ç»ƒçš„ä»»ä½•CNNï¼Œè¿™ç§æ–¹æ³•å¯èƒ½ä¼šåˆ é™¤ã€‚ æœ€æ–°3.0.0ç‰ˆæœ¬å›ºä»¶å·²åˆ é™¤æ­¤å‡½æ•°ã€‚ æ­¤æ–¹æ³•åœ¨OpenMV Cam M4 ä¸Šä¸å¯ç”¨ã€‚ #### image.classify_object(roi) åœ¨å›¾åƒçš„ROIä¸Šè¿è¡ŒCIFAR 10 CNNï¼Œä»¥æ£€æµ‹é£æœºï¼Œæ±½è½¦ï¼Œé¸Ÿç±»ï¼ŒçŒ«ï¼Œé¹¿ï¼Œç‹—ï¼Œé’è›™ï¼Œé©¬ï¼Œèˆ¹å’Œå¡è½¦ã€‚ æ­¤æ–¹æ³•åœ¨å†…éƒ¨è‡ªåŠ¨å°†å›¾åƒç¼©æ”¾åˆ°32x32ä»¥é¦ˆé€åˆ°CNNã€‚ roi æ˜¯æ„Ÿå…´è¶£åŒºåŸŸçš„çŸ©å½¢å…ƒç»„(xï¼Œyï¼Œwï¼Œh)ã€‚å¦‚æœæœªæŒ‡å®šï¼ŒROIå³æ•´ä¸ªå›¾åƒçš„å›¾åƒçŸ©å½¢ã€‚ æ“ä½œèŒƒå›´ä»…é™äº roi åŒºåŸŸå†…çš„åƒç´ ã€‚ ä»…æ”¯æŒRGB565å›¾åƒã€‚ æ³¨è§£ è¿™ç§æ–¹æ³•æ˜¯å®éªŒæ€§çš„ã€‚å¦‚æœæœªæ¥è¿è¡Œä½¿ç”¨Caffeåœ¨PCä¸Šè®­ç»ƒçš„ä»»ä½•CNNï¼Œè¿™ç§æ–¹æ³•å¯èƒ½ä¼šåˆ é™¤ã€‚ æ­¤æ–¹æ³•åœ¨OpenMV Cam M4 ä¸Šä¸å¯ç”¨ã€‚ image.find_template(template, threshold[, roi[, step 2[, search image.SEARCH_EX]]]) å°è¯•ä½¿ç”¨å½’ä¸€åŒ–äº’ç›¸å…³(NCC)ç®—æ³•åœ¨å›¾åƒä¸­æ‰¾åˆ°ç¬¬ä¸€ä¸ªæ¨¡æ¿åŒ¹é…çš„ä½ç½®ã€‚è¿”å›åŒ¹é…ä½ç½®çš„è¾¹ç•Œæ¡†å…ƒç»„(x, y, w, h)ï¼Œå¦åˆ™è¿”å›Noneã€‚ template æ˜¯ä¸€ä¸ªä¸è¿™ä¸ªå›¾åƒå¯¹è±¡ç›¸åŒ¹é…çš„å°å›¾åƒå¯¹è±¡ã€‚æ³¨æ„ï¼šä¸¤å›¾åƒé¡»éƒ½ä¸ºç°åº¦å›¾ã€‚ threshold æ˜¯æµ®ç‚¹æ•°ï¼ˆ0.0 1.0ï¼‰ï¼Œå…¶ä¸­è¾ƒå°çš„å€¼åœ¨æé«˜æ£€æµ‹é€Ÿç‡åŒæ—¶å¢åŠ è¯¯æŠ¥ç‡ã€‚ç›¸åï¼Œè¾ƒé«˜çš„å€¼ä¼šé™ä½æ£€æµ‹é€Ÿç‡ï¼ŒåŒæ—¶é™ä½è¯¯æŠ¥ç‡ã€‚ roi æ˜¯æ„Ÿå…´è¶£åŒºåŸŸçš„çŸ©å½¢å…ƒç»„(xï¼Œyï¼Œwï¼Œh)ã€‚å¦‚æœæœªæŒ‡å®šï¼ŒROIå³æ•´ä¸ªå›¾åƒçš„å›¾åƒçŸ©å½¢ã€‚ æ“ä½œèŒƒå›´ä»…é™äº roi åŒºåŸŸå†…çš„åƒç´ ã€‚ step æ˜¯æŸ¥æ‰¾æ¨¡æ¿æ—¶éœ€è¦è·³è¿‡çš„åƒç´ æ•°é‡ã€‚è·³è¿‡åƒç´ å¯å¤§å¤§æé«˜ç®—æ³•è¿è¡Œçš„é€Ÿåº¦ã€‚è¯¥æ–¹æ³•åªé€‚ç”¨äºSERACH_EXæ¨¡å¼ä¸‹çš„ç®—æ³•ã€‚ search å¯ä¸º image.SEARCH_DS or image.SEARCH_EX. image.SEARCH_DS æœç´¢æ¨¡æ¿æ‰€ç”¨ç®—æ³•è¾ƒ image.SEARCH_EX æ›´å¿«ï¼Œä½†è‹¥æ¨¡æ¿ä½äºå›¾åƒè¾¹ç¼˜å‘¨å›´ï¼Œå¯èƒ½æ— æ³•æˆåŠŸæœç´¢ã€‚ image.SEARCH_EX å¯å¯¹å›¾åƒè¿›è¡Œè¾ƒä¸ºè¯¦å°½çš„æœç´¢ï¼Œä½†å…¶è¿è¡Œé€Ÿåº¦è¿œä½äº image.SEARCH_DS ã€‚ ä»…æ”¯æŒç°åº¦å›¾åƒã€‚ #### image.find_features(cascade[, threshold 0.5[, scale 1.5[, roi]]]) è¿™ä¸ªæ–¹æ³•æœç´¢ä¸Haar CascadeåŒ¹é…çš„æ‰€æœ‰åŒºåŸŸçš„å›¾åƒï¼Œå¹¶è¿”å›ä¸€ä¸ªå…³äºè¿™äº›ç‰¹å¾çš„è¾¹ç•Œæ¡†çŸ©å½¢å…ƒç»„(xï¼Œyï¼Œwï¼Œh)çš„åˆ—è¡¨ã€‚è‹¥æœªå‘ç°ä»»ä½•ç‰¹å¾ï¼Œåˆ™è¿”å›ä¸€ä¸ªç©ºç™½åˆ—è¡¨ã€‚ cascade æ˜¯ä¸€ä¸ªHaar Cascadeå¯¹è±¡ã€‚è¯¦ç»†ä¿¡æ¯è¯·æŸ¥çœ‹ image.HaarCascade() ã€‚ threshold æ˜¯æµ®ç‚¹æ•°ï¼ˆ0.0 1.0ï¼‰ï¼Œå…¶ä¸­è¾ƒå°çš„å€¼åœ¨æé«˜æ£€æµ‹é€Ÿç‡åŒæ—¶å¢åŠ è¯¯æŠ¥ç‡ã€‚ç›¸åï¼Œè¾ƒé«˜çš„å€¼ä¼šé™ä½æ£€æµ‹é€Ÿç‡ï¼ŒåŒæ—¶é™ä½è¯¯æŠ¥ç‡ã€‚ scale æ˜¯ä¸€ä¸ªå¿…é¡»å¤§äº1.0çš„æµ®ç‚¹æ•°ã€‚è¾ƒé«˜çš„æ¯”ä¾‹å› å­è¿è¡Œæ›´å¿«ï¼Œä½†å…¶å›¾åƒåŒ¹é…ç›¸åº”è¾ƒå·®ã€‚ç†æƒ³å€¼ä»‹äº1.35 1.5ä¹‹é—´ã€‚ roi æ˜¯æ„Ÿå…´è¶£åŒºåŸŸçš„çŸ©å½¢å…ƒç»„(xï¼Œyï¼Œwï¼Œh)ã€‚å¦‚æœæœªæŒ‡å®šï¼ŒROIå³æ•´ä¸ªå›¾åƒçš„å›¾åƒçŸ©å½¢ã€‚ æ“ä½œèŒƒå›´ä»…é™äº roi åŒºåŸŸå†…çš„åƒç´ ã€‚ ä»…æ”¯æŒç°åº¦å›¾åƒã€‚ #### image.find_eye(roi) åœ¨çœ¼ç›å‘¨å›´çš„æ„Ÿå…´è¶£åŒºåŸŸ(x, y, w, h)æŸ¥æ‰¾ç³å­”ã€‚è¿”å›ä¸€ä¸ªåŒ…å«å›¾åƒä¸­ç³å­”(xï¼Œy)ä½ç½®çš„å…ƒç»„ã€‚è‹¥æœªå‘ç°ç³å­”ï¼Œåˆ™è¿”å›(0,0)ã€‚ ä½¿ç”¨è¿™ä¸€å‡½æ•°ä¹‹å‰ï¼Œéœ€é¦–å…ˆä½¿ç”¨ image.find_features() å’ŒHaarç®—å­ frontalface æ¥æœç´¢æŸäººé¢éƒ¨ã€‚ ç„¶åä½¿ç”¨ image.find_features å’ŒHaarç®—å­ find_eye åœ¨é¢éƒ¨æœç´¢çœ¼ç›ã€‚ æœ€åï¼Œåœ¨è°ƒç”¨ image.find_features å‡½æ•°åè¿”å›çš„æ¯ä¸ªçœ¼ç›ROIä¸Šè°ƒç”¨è¿™ä¸€æ–¹æ³•ï¼Œä»¥å¾—åˆ°ç³å­”çš„åæ ‡ã€‚ roi æ˜¯æ„Ÿå…´è¶£åŒºåŸŸçš„çŸ©å½¢å…ƒç»„(xï¼Œyï¼Œwï¼Œh)ã€‚å¦‚æœæœªæŒ‡å®šï¼ŒROIå³æ•´ä¸ªå›¾åƒçš„å›¾åƒçŸ©å½¢ã€‚ æ“ä½œèŒƒå›´ä»…é™äº roi åŒºåŸŸå†…çš„åƒç´ ã€‚ ä»…æ”¯æŒç°åº¦å›¾åƒã€‚ #### image.find_lbp(roi) ä»ROIå…ƒç»„(x, y, w, h)ä¸­æå–LBPï¼ˆå±€éƒ¨äºŒå€¼æ¨¡å¼ï¼‰é”®ç‚¹ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ image.match_descriptor å‡½æ•°æ¥æ¯”è¾ƒä¸¤ç»„å…³é”®ç‚¹ï¼Œä»¥è·å–åŒ¹é…è·ç¦»ã€‚ roi æ˜¯æ„Ÿå…´è¶£åŒºåŸŸçš„çŸ©å½¢å…ƒç»„(xï¼Œyï¼Œwï¼Œh)ã€‚å¦‚æœæœªæŒ‡å®šï¼ŒROIå³æ•´ä¸ªå›¾åƒçš„å›¾åƒçŸ©å½¢ã€‚ æ“ä½œèŒƒå›´ä»…é™äº roi åŒºåŸŸå†…çš„åƒç´ ã€‚ ä»…æ”¯æŒç°åº¦å›¾åƒã€‚ #### image.find_keypoints([roi[, threshold 20[, normalized False[, scale_factor 1.5[, max_keypoints 100[, corner_detector image.CORNER_AGAST]]]]]]) ä»ROIå…ƒç»„(x, y, w, h)ä¸­æå–ORBé”®ç‚¹ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ image.match_descriptor å‡½æ•°æ¥æ¯”è¾ƒä¸¤ç»„å…³é”®ç‚¹ï¼Œä»¥è·å–åŒ¹é…åŒºåŸŸã€‚è‹¥æœªå‘ç°å…³é”®ç‚¹ï¼Œåˆ™è¿”å›Noneã€‚ roi æ˜¯æ„Ÿå…´è¶£åŒºåŸŸçš„çŸ©å½¢å…ƒç»„(xï¼Œyï¼Œwï¼Œh)ã€‚å¦‚æœæœªæŒ‡å®šï¼ŒROIå³æ•´ä¸ªå›¾åƒçš„å›¾åƒçŸ©å½¢ã€‚ æ“ä½œèŒƒå›´ä»…é™äº roi åŒºåŸŸå†…çš„åƒç´ ã€‚ threshold æ˜¯æ§åˆ¶æå–çš„æ•°é‡çš„æ•°å­—ï¼ˆå–å€¼0 255ï¼‰ã€‚å¯¹äºé»˜è®¤çš„AGASTè§’ç‚¹æ£€æµ‹å™¨ï¼Œè¯¥å€¼åº”åœ¨20å·¦å³ã€‚ å¯¹äºFASTè§’ç‚¹æ£€æµ‹å™¨ï¼Œè¯¥å€¼çº¦ä¸º60 80ã€‚é˜ˆå€¼è¶Šä½ï¼Œæ‚¨æå–çš„è§’ç‚¹è¶Šå¤šã€‚ normalized æ˜¯å¸ƒå°”å€¼ã€‚è‹¥ä¸ºTrueï¼Œåœ¨å¤šåˆ†è¾¨ç‡ä¸‹å…³é—­æå–é”®ç‚¹ã€‚ è‹¥æ‚¨ä¸å…³å¿ƒå¤„ç†æ‰©å±•é—®é¢˜ï¼Œä¸”å¸Œæœ›ç®—æ³•è¿è¡Œæ›´å¿«ï¼Œå°±å°†ä¹‹è®¾ç½®ä¸ºTrueã€‚ scale_factor æ˜¯ä¸€ä¸ªå¿…é¡»å¤§äº1.0çš„æµ®ç‚¹æ•°ã€‚è¾ƒé«˜çš„æ¯”ä¾‹å› å­è¿è¡Œæ›´å¿«ï¼Œä½†å…¶å›¾åƒåŒ¹é…ç›¸åº”è¾ƒå·®ã€‚ç†æƒ³å€¼ä»‹äº1.35 1.5ä¹‹é—´ã€‚ max_keypoints æ˜¯ä¸€ä¸ªé”®ç‚¹å¯¹è±¡æ‰€èƒ½å®¹çº³çš„é”®ç‚¹æœ€å¤§æ•°é‡ã€‚è‹¥é”®ç‚¹å¯¹è±¡è¿‡å¤§å¯¼è‡´å†…å­˜é—®é¢˜ï¼Œè¯·é™ä½è¯¥å€¼ã€‚ corner_detector æ˜¯ä»å›¾åƒä¸­æå–é”®ç‚¹æ‰€ä½¿ç”¨çš„è§’ç‚¹æ£€æµ‹å™¨ç®—æ³•ã€‚ å¯ä¸º image.CORNER_FAST æˆ– image.CORNER_AGAST ã€‚FASTè§’ç‚¹æ£€æµ‹å™¨è¿è¡Œé€Ÿåº¦æ›´å¿«ï¼Œä½†å…¶å‡†ç¡®åº¦è¾ƒä½ã€‚ ä»…æ”¯æŒç°åº¦å›¾åƒã€‚ #### image.find_edges(edge_type[, threshold]) å°†å›¾åƒå˜ä¸ºé»‘ç™½ï¼Œä»…å°†è¾¹ç¼˜ä¿ç•™ä¸ºç™½è‰²åƒç´ ã€‚ image.EDGE_SIMPLE ç®€å•çš„é˜ˆå€¼é«˜é€šæ»¤æ³¢ç®—æ³• image.EDGE_CANNY Cannyè¾¹ç¼˜æ£€æµ‹ç®—æ³• threshold æ˜¯ä¸€ä¸ªåŒ…å«ä¸€ä¸ªä½é˜ˆå€¼å’Œä¸€ä¸ªé«˜é˜ˆå€¼çš„äºŒå€¼å…ƒç»„ã€‚æ‚¨å¯ä»¥é€šè¿‡è°ƒæ•´è¯¥å€¼æ¥æ§åˆ¶è¾¹ç¼˜è´¨é‡ã€‚ é»˜è®¤ä¸º (100, 200)ã€‚ ä»…æ”¯æŒç°åº¦å›¾åƒã€‚ find_hog([roi[, size 8]]) ç”¨HOGï¼ˆå®šå‘æ¢¯åº¦ç›´æ–¹å›¾ï¼‰çº¿æ›¿æ¢ROIä¸­çš„åƒç´ ã€‚ roi æ˜¯æ„Ÿå…´è¶£åŒºåŸŸçš„çŸ©å½¢å…ƒç»„(xï¼Œyï¼Œwï¼Œh)ã€‚å¦‚æœæœªæŒ‡å®šï¼ŒROIå³æ•´ä¸ªå›¾åƒçš„å›¾åƒçŸ©å½¢ã€‚ æ“ä½œèŒƒå›´ä»…é™äº roi åŒºåŸŸå†…çš„åƒç´ ã€‚ ä»…æ”¯æŒç°åº¦å›¾åƒã€‚ æ­¤æ–¹æ³•åœ¨OpenMV Cam M4 ä¸Šä¸å¯ç”¨ã€‚ ## å¸¸é‡ ### image.SEARCH_EX è¯¦å°½çš„æ¨¡æ¿åŒ¹é…æœç´¢ã€‚ ### image.SEARCH_DS æ›´å¿«çš„æ¨¡æ¿åŒ¹é…æœç´¢ã€‚ ### image.EDGE_CANNY ä½¿ç”¨Cannyè¾¹ç¼˜æ£€æµ‹ç®—æ³•å¯¹å›¾åƒè¿›è¡Œè¾¹ç¼˜æ£€æµ‹ã€‚ ### image.EDGE_SIMPLE ä½¿ç”¨é˜ˆå€¼é«˜é€šæ»¤æ³¢ç®—æ³•å¯¹å›¾åƒè¿›è¡Œè¾¹ç¼˜æ£€æµ‹ã€‚ ### image.CORNER_FAST ç”¨äºORBé”®ç‚¹çš„é«˜é€Ÿä½å‡†ç¡®ç‡è§’ç‚¹æ£€æµ‹ç®—æ³• ### image.CORNER_AGAST ç”¨äºORBé”®ç‚¹çš„ä½é€Ÿé«˜å‡†ç¡®ç‡ç®—æ³•ã€‚ ### image.TAG16H5 TAG1H5æ ‡ç­¾ç¾¤çš„ä½æ©ç æšä¸¾ã€‚ç”¨äºAprilTagsã€‚ ### image.TAG25H7 TAG25H7æ ‡ç­¾ç¾¤çš„ä½æ©ç æšä¸¾ã€‚ç”¨äºAprilTagsã€‚ ### image.TAG25H9 TAG25H9æ ‡ç­¾ç¾¤çš„ä½æ©ç æšä¸¾ã€‚ç”¨äºAprilTagsã€‚ ### image.TAG36H10 TAG36H10æ ‡ç­¾ç¾¤çš„ä½æ©ç æšä¸¾ã€‚ç”¨äºAprilTagsã€‚ ### image.TAG36H11 TAG36H11æ ‡ç­¾ç¾¤çš„ä½æ©ç æšä¸¾ã€‚ç”¨äºAprilTagsã€‚ ### image.ARTOOLKIT ARTOOLKITæ ‡ç­¾ç¾¤çš„ä½æ©ç æšä¸¾ã€‚ç”¨äºAprilTagsã€‚ ### image.EAN2 EAN2æ¡å½¢ç ç±»å‹æšä¸¾ã€‚ ### image.EAN5 EAN5æ¡å½¢ç ç±»å‹æšä¸¾ã€‚ ### image.EAN8 EAN8æ¡å½¢ç ç±»å‹æšä¸¾ã€‚ ### image.UPCE UPCEæ¡å½¢ç ç±»å‹æšä¸¾ã€‚ ### image.ISBN10 ISBN10æ¡å½¢ç ç±»å‹æšä¸¾ã€‚ ### image.UPCA UPCAæ¡å½¢ç ç±»å‹æšä¸¾ã€‚ ### image.EAN13 EAN13æ¡å½¢ç ç±»å‹æšä¸¾ã€‚ ### image.ISBN13 ISBN13æ¡å½¢ç ç±»å‹æšä¸¾ã€‚ ### image.I25 I25æ¡å½¢ç ç±»å‹æšä¸¾ã€‚ ### image.DATABAR DATABARæ¡å½¢ç ç±»å‹æšä¸¾ã€‚ ### image.DATABAR_EXP DATABAR_EXPæ¡å½¢ç ç±»å‹æšä¸¾ã€‚ ### image.CODABAR CODABARæ¡å½¢ç ç±»å‹æšä¸¾ã€‚ ### image.CODE39 CODE39æ¡å½¢ç ç±»å‹æšä¸¾ã€‚ ### image.PDF417 PDF417æ¡å½¢ç ç±»å‹æšä¸¾ï¼ˆç›®å‰å°šä¸èƒ½è¿è¡Œï¼‰ã€‚ ### image.CODE93 CODE93æ¡å½¢ç ç±»å‹æšä¸¾ã€‚ ### image.CODE128 CODE128æ¡å½¢ç ç±»å‹æšä¸¾ã€‚"},"/soft/maixpy/zh/api_reference/machine_vision/isolated_word.html":{"title":"isolated_wordï¼ˆå­¤ç«‹è¯ MFCC æ¨¡å—ï¼‰","content":" title: isolated_wordï¼ˆå­¤ç«‹è¯ MFCC æ¨¡å—ï¼‰ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy isolated_wordï¼ˆå­¤ç«‹è¯ MFCC æ¨¡å—ï¼‰ ## ç±» ï¼ˆclassï¼‰ ### isolated_word isolated_word æ„é€ å‚æ•°å¦‚ä¸‹ï¼š `dmac`: å½•éŸ³æ‰€ä½¿ç”¨çš„ DMA é€šé“ï¼Œé»˜è®¤ä½¿ç”¨ã€é€šé“ 2ã€‘ã€‚ `i2s`: å½•éŸ³è®¾å¤‡ï¼Œé»˜è®¤ä½¿ç”¨ I2S.DEVICE_0 ã€‚ `size`: è¯æ±‡æ¨¡æ¿å®¹é‡ï¼Œè¡¨ç¤ºå¯ä»¥åŠ è½½çš„æ¨¡æ¿æ€»æ•°ï¼Œé»˜è®¤ä¸º 10 ä¸ªã€‚ `shift`: å£°é“é€‰æ‹©ï¼ŒMaix ç³»åˆ—çš„ç¡¬ä»¶å½•éŸ³è®¾å¤‡é€šå¸¸ä¸ºå•å£°é“è¾“å…¥ï¼Œè®¾ç½® 0 ä¸ºå·¦å£°é“ï¼Œæ‰€ä»¥ 1 ä¸ºå³å£°é“ã€‚ ```python from speech_recognizer import isolated_word sr isolated_word(dmac 2, i2s I2S.DEVICE_0, size 10, shift 0) ``` ## æ–¹æ³• ï¼ˆfunctionï¼‰ ### size è¿”å›å½“å‰è¯æ±‡æ¨¡æ¿æ€»é‡ã€‚ ```python from speech_recognizer import isolated_word sr isolated_word() sr.size() ``` ### set_threshold è®¾ç½®å­¤ç«‹è¯æ¨¡å—çš„å·¥ä½œå‚æ•°ã€‚ å‚æ•°â‘ ï¼š å™ªå£°é˜ˆå€¼ï¼Œç”¨äºçŸ­æ—¶è¿‡é›¶ç‡è®¡ç®— å‚æ•°â‘¡ï¼š çŸ­æ—¶è¿‡é›¶ç‡é˜ˆå€¼ï¼Œè¶…è¿‡æ­¤é˜ˆå€¼ï¼Œè§†ä¸ºè¿›å…¥è¿‡æ¸¡æ®µã€‚ å‚æ•°â‘¢ï¼š çŸ­æ—¶ç´¯åŠ å’Œé˜ˆå€¼ï¼Œè¶…è¿‡æ­¤é˜ˆå€¼ï¼Œè§†ä¸ºè¿›å…¥è¿‡æ¸¡æ®µã€‚ ```python from speech_recognizer import isolated_word sr isolated_word() sr.set_threshold(0, 0, 10000) ``` ### record å½•å…¥ã€è¯æ±‡æ¨¡æ¿ã€‘ã€‚ å‚æ•°â‘ ï¼š å°†å½•å…¥çš„æ¨¡æ¿ä¿å­˜åˆ°æŒ‡å®šçš„ç´¢å¼•ä½ç½®ã€‚ ```python from speech_recognizer import isolated_word sr isolated_word() while Trueï¼š if sr.Done sr.record(0): pass ``` ### state å¯ä»¥è¿”å›å¦‚ä¸‹å·¥ä½œçŠ¶æ€ã€‚ åŠŸèƒ½ æè¿° Init æ¨¡å—å·²ç»åˆå§‹åŒ–ã€‚ Idle æ¨¡å—æ­£åœ¨ç©ºè½¬ï¼Œæ²¡æœ‰å·¥ä½œã€‚ Ready æ¨¡å—å½•éŸ³å¤„ç†ä¸­ã€‚ MaybeNoise æ¨¡å—åˆ¤æ–­æ˜¯å¦ä¸ºå™ªéŸ³ç¯å¢ƒã€‚ Speak æ¨¡å—ç­‰å¾…äººå£°å½•å…¥ã€‚ Restrain æ¨¡å—å½•å…¥æ•°æ®ä¸åˆæ³•ï¼Œé€€å› Speak çŠ¶æ€ã€‚ Done æ¨¡å—è¯­éŸ³è¯†åˆ«æˆåŠŸï¼Œå¯é€šè¿‡ result è·å–ç»“æœã€‚ ### recognize è¯†åˆ«ã€è¯æ±‡æ¨¡æ¿ã€‘ã€‚ ```python from speech_recognizer import isolated_word sr isolated_word() while Trueï¼š if sr.Done sr.recognize(): print(sr.result()) ``` ### result è·å–ã€è¯æ±‡æ¨¡æ¿ã€‘,è¿”å› ï¼ˆåŒ¹é…çš„æ¨¡æ¿ç¼–å·ã€åŒ¹é…çš„dtwå€¼ã€å½“å‰çš„å¸§é•¿ã€åŒ¹é…çš„å¸§é•¿ï¼‰ æ•°ç»„ã€‚ ```python from speech_recognizer import isolated_word sr isolated_word() print(sr.result()) ``` ### get è·å–ã€è¯æ±‡æ¨¡æ¿ã€‘,è¿”å› ï¼ˆæ•°æ®å¸§é•¿ï¼Œ æ•°æ®å¸§ï¼‰ æ•°ç»„ã€‚ #### è¿”å›å€¼ * `frm_len`:æ•°æ®å¸§é•¿ * `frm_data`:æ•°æ®å¸§ ```python from speech_recognizer import isolated_word sr isolated_word() print(sr.get(0)) ``` ### set åŠ è½½ã€è¯æ±‡æ¨¡æ¿ã€‘åˆ°æ¨¡å—ä¸­ã€‚ ```python from speech_recognizer import isolated_word sr isolated_word() print(sr.set(1, sr.get(0))) ``` ### run è¿è¡Œå­¤ç«‹è¯æ¨¡å—ï¼ˆå½•éŸ³ï¼‰ã€‚ ```python from speech_recognizer import isolated_word sr isolated_word() sr.run() ``` ### reset é‡ç½®å­¤ç«‹è¯æ¨¡å—ã€‚ ```python from speech_recognizer import isolated_word sr isolated_word() sr.reset() ``` ### dtw è¿”å› åŠ¨æ€æ—¶é—´å¼¯æŠ˜(DTW)ç®—æ³• è®¡ç®—æœ€ä¼˜åŒ¹é…å€¼ï¼Œè¯¥å€¼è¶Šå°å°±è¶Šå¥½ã€‚ #### è¿”å›å€¼ * `dis`:ç´¯è®¡åŒ¹é…è·ç¦»ï¼ˆintï¼‰ ```python from speech_recognizer import isolated_word sr isolated_word() print(sr.dtw(sr.get(0))) ``` ### __del__ é‡Šæ”¾å­¤ç«‹è¯æ¨¡å—ï¼Œå¯ä»¥ä¸»åŠ¨è°ƒç”¨ï¼Œä¹Ÿå¯ä»¥è¢« gc.collect() è‡ªåŠ¨å›æ”¶ã€‚ ```python from speech_recognizer import isolated_word sr isolated_word() sr.__del__() del sr ```"},"/soft/maixpy/zh/api_reference/machine_vision/index.html":{"title":"æœºå™¨è§†è§‰/å¬è§‰","content":" title: æœºå™¨è§†è§‰/å¬è§‰ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy æœºå™¨è§†è§‰/å¬è§‰ ä¸»è¦åŒ…å«äº†äº†ä¸å›¾åƒã€æ˜¾ç¤ºã€è¯­éŸ³ç›¸å…³çš„ç±»ï¼ŒåŒ…æ‹¬ï¼š * [lcd](./lcd.html) * [sensor](./sensor.html) * [image](./image/image.html) * [video](./../media/video.html) * [isolated_word](./isolated_word.html) * [maix_asr](./maix_asr.html)"},"/soft/maixpy/zh/api_reference/machine_vision/lcd.html":{"title":"lcdï¼ˆå±å¹•æ˜¾ç¤ºï¼‰","content":" title: lcdï¼ˆå±å¹•æ˜¾ç¤ºï¼‰ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy lcdï¼ˆå±å¹•æ˜¾ç¤ºï¼‰ ## å‡½æ•° ### lcd.init(type 1, freq 15000000, color lcd.BLACK, invert 0, lcd_type 0) åˆå§‹åŒ– `LCD` å±å¹•æ˜¾ç¤º #### å‚æ•° * `type`ï¼š è®¾å¤‡çš„ç±»å‹ï¼ˆä¿ç•™ç»™æœªæ¥ä½¿ç”¨ï¼‰: * `0`: None * `1`: lcd shieldï¼ˆé»˜è®¤å€¼ï¼‰ * `2`: Maix Cube * `5`: sipeed rgb å±è½¬æ¥æ¿ > type æ˜¯é”®å€¼å‚æ•°ï¼Œå¿…é¡»åœ¨å‡½æ•°è°ƒç”¨ä¸­é€šè¿‡å†™å…¥ type æ¥æ˜¾å¼åœ°è°ƒç”¨ * `freq`ï¼š `LCD` ï¼ˆå®é™…ä¸ŠæŒ‡ `SPI` çš„é€šè®¯é€Ÿç‡ï¼‰ çš„é¢‘ç‡ * `color`ï¼š `LCD` åˆå§‹åŒ–çš„é¢œè‰²ï¼Œ å¯ä»¥æ˜¯ 16 ä½çš„ `RGB565` é¢œè‰²å€¼ï¼Œæ¯”å¦‚ `0xFFFF`ï¼› æˆ–è€… `RGB888` å…ƒç»„ï¼Œ æ¯”å¦‚ `(236, 36, 36)`ï¼Œ é»˜è®¤ `lcd.BLACK` * `invert`: `LCD` åè‰²æ˜¾ç¤º * `lcd_type`: lcd ç±»å‹ï¼š * `0`: é»˜è®¤ç±»å‹ * `1`: LCD_TYPE_ILI9486 * `2`: LCD_TYPE_ILI9481 * `3`: LCD_TYPE_5P0_7P0ï¼Œ5 å¯¸æˆ– 7 å¯¸ åˆ†è¾¨ç‡ä¸º 800 * 480 çš„ lcd ï¼ˆéœ€è¦æ­é… sipeed è½¬æ¥æ¿ï¼‰ * `4`: LCD_TYPE_5P0_IPSï¼Œ5 å¯¸ åˆ†è¾¨ç‡ä¸º 854*489 çš„ IPS lcd ï¼ˆéœ€è¦æ­é… sipeed è½¬æ¥æ¿ï¼‰ * `5`: LCD_TYPE_480_272_4P3ï¼Œ4.3 å¯¸åˆ†è¾¨ç‡ä¸º 480*272 çš„ lcd ï¼ˆéœ€è¦æ­ sipeed é…è½¬æ¥æ¿ï¼‰ > MaixCube å’Œ MaixAmigo ä½¿ç”¨ LCD ä¹‹å‰éœ€è¦é…ç½®ç”µæºèŠ¯ç‰‡ï¼Œå¦åˆ™ä¼šå‡ºç°èŠ±å±ç°è±¡ï¼Œè¿™ä¸€æ­¥ MaixPy å›ºä»¶ä¼šè‡ªåŠ¨é…ç½®ï¼Œæ— éœ€æ‰‹åŠ¨æ“ä½œï¼Œç”¨æˆ·åªéœ€è¦äº†è§£å³å¯ ### lcd.deinit() æ³¨é”€ `LCD` é©±åŠ¨ï¼Œé‡Šæ”¾I/Oå¼•è„š ### lcd.width() è¿”å› `LCD` çš„å®½åº¦ï¼ˆæ°´å¹³åˆ†è¾¨ç‡ï¼‰ ### lcd.height() è¿”å› `LCD` çš„é«˜åº¦ï¼ˆå‚ç›´åˆ†è¾¨ç‡ï¼‰ã€‚ ### lcd.type() è¿”å› `LCD` çš„ç±»å‹ï¼ˆä¿ç•™ç»™æœªæ¥ä½¿ç”¨ï¼‰ï¼š 0: None 1: lcd Shield ### lcd.freq(freq) è®¾ç½®æˆ–è€…è·å– `LCD` ï¼ˆSPIï¼‰ çš„é¢‘ç‡ #### Paremeters * `freq`: LCD (SPI) çš„é¢‘ç‡ #### Return LCD çš„é¢‘ç‡ ### lcd.set_backlight(state) è®¾ç½® `LCD` çš„èƒŒå…‰çŠ¶æ€ï¼Œ å…³é—­èƒŒå…‰ä¼šå¤§å¤§é™ä½lcdæ‰©å±•æ¿çš„èƒ½è€— > æœªå®ç° #### å‚æ•° * `state`ï¼š èƒŒå…‰äº®åº¦ï¼Œ å–å€¼ [0,100] ### lcd.get_backlight() è¿”å›èƒŒå…‰çŠ¶æ€ #### è¿”å›å€¼ èƒŒå…‰äº®åº¦ï¼Œ å–å€¼ [0,100] ### lcd.display(image, roi Auto, oft (x, y)) åœ¨æ¶²æ™¶å±ä¸Šæ˜¾ç¤ºä¸€å¼  `image`ï¼ˆGRAYSCALEæˆ–RGB565ï¼‰ã€‚ roi æ˜¯ä¸€ä¸ªæ„Ÿå…´è¶£åŒºåŸŸçš„çŸ©å½¢å…ƒç»„(x, y, w, h)ã€‚è‹¥æœªæŒ‡å®šï¼Œå³ä¸ºå›¾åƒçŸ©å½¢ è‹¥ roi å®½åº¦å°äºlcdå®½åº¦ï¼Œåˆ™ç”¨å‚ç›´çš„é»‘è‰²è¾¹æ¡†ä½¿ roi å±…äºå±å¹•ä¸­å¿ƒï¼ˆå³ç”¨é»‘è‰²å¡«å……æœªå ç”¨åŒºåŸŸï¼‰ã€‚ è‹¥ roi å®½åº¦å¤§äºlcdå®½åº¦ï¼Œåˆ™ roi å±…äºå±å¹•ä¸­å¿ƒï¼Œä¸”ä¸åŒ¹é…åƒç´ ä¸ä¼šæ˜¾ç¤ºï¼ˆå³æ¶²æ™¶å±ä»¥çª—å£å½¢æ€æ˜¾ç¤º roi çš„ä¸­å¿ƒï¼‰ã€‚ è‹¥ roi é«˜åº¦å°äºlcdé«˜åº¦ï¼Œåˆ™ç”¨å‚ç›´çš„é»‘è‰²è¾¹æ¡†ä½¿ roi å±…äºå±å¹•ä¸­å¿ƒï¼ˆå³ç”¨é»‘è‰²å¡«å……æœªå ç”¨åŒºåŸŸï¼‰ã€‚ è‹¥ roi é«˜åº¦å¤§äºlcdé«˜åº¦ï¼Œåˆ™ roi å±…äºå±å¹•ä¸­å¿ƒï¼Œä¸”ä¸åŒ¹é…åƒç´ ä¸ä¼šæ˜¾ç¤ºï¼ˆå³æ¶²æ™¶å±ä»¥çª—å£å½¢æ€æ˜¾ç¤º roi çš„ä¸­å¿ƒï¼‰ã€‚ > roi æ˜¯é”®å€¼å‚æ•°ï¼Œå¿…é¡»åœ¨å‡½æ•°è°ƒç”¨ä¸­é€šè¿‡å†™å…¥ roi æ¥æ˜¾å¼åœ°è°ƒç”¨ã€‚ * `oft`: è®¾ç½®åç§»åæ ‡ï¼Œè®¾ç½®äº†è¿™ä¸ªåæ ‡å°±ä¸ä¼šè‡ªåŠ¨å¡«å……å‘¨å›´äº† ### lcd.clear() å°†æ¶²æ™¶å±æ¸…ç©ºä¸ºé»‘è‰²æˆ–è€…æŒ‡å®šçš„é¢œè‰²ã€‚ #### å‚æ•° * `color`ï¼š `LCD` åˆå§‹åŒ–çš„é¢œè‰²ï¼Œ å¯ä»¥æ˜¯ 16 ä½çš„ `RGB565` é¢œè‰²å€¼ï¼Œæ¯”å¦‚ `0xFFFF`ï¼› æˆ–è€… `RGB888` å…ƒç»„ï¼Œ æ¯”å¦‚ `(236, 36, 36)` ### lcd.direction(dir) åœ¨ `v0.3.1` ä¹‹åå·²ç»è¢«èˆå¼ƒï¼Œ è¯·ä½¿ç”¨`lcd.rotation` å’Œ `lcd.invert`ä»£æ›¿ï¼Œ å¦‚éå¿…è¦è¯·å‹¿ä½¿ç”¨ï¼Œ æ¥å£ä»ä¼šè¢«ä¿ç•™ç”¨äºè°ƒè¯•ä½¿ç”¨ è®¾ç½®å±å¹•æ–¹å‘ï¼Œ ä»¥åŠæ˜¯å¦é•œåƒç­‰ #### å‚æ•° * `dir`ï¼š æ­£å¸¸æƒ…å†µä¸‹æ¨è `lcd.YX_LRUD` å’Œ `lcd.YX_RLDU`ï¼Œ å¦å¤–è¿˜æœ‰å…¶å®ƒå€¼ï¼Œäº¤æ¢ `XY` æˆ–è€… `LR` æˆ–è€… `DU`å³å¯ ### lcd.rotation(dir) è®¾ç½® `LCD` å±å¹•æ–¹å‘ #### å‚æ•° * `dir`: å–å€¼èŒƒå›´ [0,3]ï¼Œ ä»`0`åˆ°`3`ä¾æ¬¡é¡ºæ—¶é’ˆæ—‹è½¬ #### è¿”å›å€¼ å½“å‰æ–¹å‘ï¼Œå–å€¼[0,3] ### lcd.mirror(invert) è®¾ç½® `LCD` æ˜¯å¦é•œé¢æ˜¾ç¤º #### å‚æ•° * `invert`ï¼š æ˜¯å¦é•œé¢æ˜¾ç¤ºï¼Œ `True` æˆ–è€… `False` #### è¿”å›å€¼ å½“å‰è®¾ç½®ï¼Œæ˜¯å¦é•œé¢æ˜¾ç¤ºï¼Œè¿”å›`True`æˆ–è€…`False` ### lcd.bgr_to_rgb(enable) è®¾ç½®æ˜¯å¦å¯åŠ¨ bgr è‰²å½©æ˜¾ç¤º #### å‚æ•° * `enable`ï¼šæ˜¯å¦å¯ç”¨ bgr æ˜¾ç¤ºï¼Œ`True` æˆ–è€… `False` ### lcd.fill_rectangle(x, y, w, h, color) å¡«å……`LCD` æŒ‡å®šåŒºåŸŸ #### å‚æ•° * `x`: èµ·å§‹åæ ‡`x` * `x`: èµ·å§‹åæ ‡`y` * `w`: å¡«å……å®½åº¦ * `h`: å¡«å……é«˜åº¦ * `color`: å¡«å……é¢œè‰²ï¼Œ å¯ä»¥æ˜¯å…ƒç»„ï¼Œæ¯”å¦‚`(255, 255, 255)`ï¼Œæˆ–è€…`RGB565``uint16`å€¼ï¼Œ æ¯”å¦‚çº¢è‰²`0x00F8` ## ä¾‹ç¨‹ ### ä¾‹ç¨‹ 1ï¼š æ˜¾ç¤ºè‹±æ–‡ ```python import lcd lcd.init() lcd.draw_string(100, 100, \"hello maixpy\", lcd.RED, lcd.BLACK) ``` ### ä¾‹ç¨‹ 2ï¼š æ˜¾ç¤ºå›¾ç‰‡ ```python import lcd import image lcd.init() img image.Image(\"/sd/pic.bmp\")#320*240 lcd.display(img) ``` ### ä¾‹ç¨‹ 3ï¼š åˆ©ç”¨æ˜¾ç¤ºå›¾ç‰‡çš„æ–¹å¼æ˜¾ç¤ºè‹±æ–‡ ```python import lcd import image img image.Image() img.draw_string(60, 100, \"hello maixpy\", scale 2) lcd.display(img) ``` ### ä¾‹ç¨‹ 4ï¼š å®æ—¶æ˜¾ç¤ºæ‘„åƒå¤´æ•æ‰åˆ°çš„å›¾åƒ ```python import sensor, lcd sensor.reset() sensor.set_pixformat(sensor.RGB565) sensor.set_framesize(sensor.QVGA) sensor.run(1) sensor.skip_frames() lcd.init() while(True): lcd.display(sensor.snapshot()) ```"},"/soft/maixpy/zh/api_reference/index.html":{"title":null,"content":" title: keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy "},"/soft/maixpy/zh/api_reference/standard/ustruct.html":{"title":"ustruct â€“ æ‰“åŒ…å’Œè§£åŒ…åŸå§‹æ•°æ®ç±»å‹","content":" title: ustruct â€“ æ‰“åŒ…å’Œè§£åŒ…åŸå§‹æ•°æ®ç±»å‹ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy ustruct â€“ æ‰“åŒ…å’Œè§£åŒ…åŸå§‹æ•°æ®ç±»å‹ è¯¥æ¨¡å—å®ç°äº†ç›¸åº”çš„`CPython`æ¨¡å—çš„å­é›†ï¼Œå¦‚ä¸‹æ‰€è¿°ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…åŸå§‹CPythonæ–‡æ¡£ï¼š [struct](https://docs.python.org/3.5/library/struct.html#module struct). æ”¯æŒçš„å¤§å°/å­—èŠ‚é¡ºåºå‰ç¼€: `@`, `<`, `>`, `!`. æ”¯æŒçš„æ ¼å¼ä»£ç ï¼š `b`, `B`, `h`, `H`, `i`, `I`, `l`, `L`, `q`, `Q`, `s`, `P`, `f`, `d` ï¼ˆåè€…2å–å†³äºæµ®ç‚¹æ”¯æŒï¼‰ã€‚ ## å‡½æ•° ### calcsize ```python ustruct.calcsize(fmt) ``` è¿”å›å­˜å‚¨ç»™å®š`fmt`æ‰€éœ€çš„å­—èŠ‚æ•°ã€‚ ### pack ```python ustruct.pack(fmt, v1, v2, ...) ``` æ ¹æ®æ ¼å¼å­—ç¬¦ä¸²`fmt`æ‰“åŒ…å€¼`v1`ï¼Œ`v2`ï¼Œ`...`ã€‚è¿”å›å€¼æ˜¯ç¼–ç å€¼çš„å­—èŠ‚å¯¹è±¡ã€‚ ### pack_into ```python ustruct.pack_into(fmt, buffer, offset, v1, v2, ...) ``` æ ¹æ®æ ¼å¼å­—ç¬¦ä¸²`fmt`å°†å€¼`v1`ï¼Œ`v2`ï¼Œ`...`æ‰“åŒ…åˆ°ä»offsetå¼€å§‹çš„ç¼“å†²åŒºä¸­ã€‚ä»ç¼“å†²åŒºçš„æœ«å°¾å¼€å§‹è®¡æ•°å¯èƒ½æ˜¯è´Ÿæ•°ã€‚ ### unpack ```python ustruct.unpack(fmt, data) ``` æ ¹æ®æ ¼å¼å­—ç¬¦ä¸²`fmt`ä»`data`è§£åŒ…ã€‚è¿”å›å€¼æ˜¯è§£å‹ç¼©å€¼çš„å…ƒç»„ã€‚ ### unpack_from ```python ustruct.unpack_from(fmt, data, offset 0) ``` æ ¹æ®æ ¼å¼å­—ç¬¦ä¸²`fmt`ä» `offset` å¼€å§‹ä»`data`è§£åŒ…ã€‚ `offset`å¯èƒ½æ˜¯è´Ÿæ•°ï¼Œä»ç¼“å†²åŒºçš„æœ«å°¾å¼€å§‹è®¡æ•°ã€‚è¿”å›å€¼æ˜¯è§£å‹ç¼©å€¼çš„å…ƒç»„ã€‚"},"/soft/maixpy/zh/api_reference/standard/uzlib.html":{"title":"uzlib  â€” zlib è§£å‹ç¼©","content":" title: uzlib â€” zlib è§£å‹ç¼© keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy uzlib â€” zlib è§£å‹ç¼© è¯¥æ¨¡å—å®ç°äº†ç›¸åº”CPythonæ¨¡å—çš„å­é›†ï¼Œå¦‚ä¸‹æ‰€è¿°ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…åŸå§‹CPythonæ–‡æ¡£ï¼š[zlib](https://docs.python.org/3.5/library/zlib.html#module zlib)ã€‚ è¯¥æ¨¡å—å…è®¸è§£å‹ä½¿ç”¨ [DEFLATE](https://en.wikipedia.org/wiki/DEFLATE) ç®—æ³•å‹ç¼©çš„äºŒè¿›åˆ¶æ•°æ®ï¼ˆé€šå¸¸ç”¨äºzlibåº“å’Œgzipå­˜æ¡£å™¨ï¼‰ã€‚ å‹ç¼©å°šæœªå®ç°ã€‚ ## å‡½æ•° ### decompress è§£å‹ ```python uzlib.decompress(data, wbits 0, bufsize 0) ``` #### å‚æ•° * `wbits`ï¼š å‹ç¼©æœŸé—´ä½¿ç”¨çš„ DEFLATE å­—å…¸çª—å£å¤§å°ï¼ˆ8 15ï¼Œå­—å…¸å¤§å°æ˜¯è¯¥å€¼çš„2çš„å¹‚ï¼‰ã€‚ å¦å¤–ï¼Œå¦‚æœå€¼ä¸ºæ­£ï¼Œåˆ™å‡å®šæ•°æ®ä¸º zlib æµï¼ˆä½¿ç”¨ zlib å¤´ï¼‰ã€‚ å¦åˆ™ï¼Œå¦‚æœå®ƒæ˜¯è´Ÿæ•°ï¼Œåˆ™å‡å®šå®ƒæ˜¯åŸå§‹ DEFLATE æµã€‚ * `bufsize`ï¼š å‚æ•°ç”¨äºä¸CPythonå…¼å®¹ï¼Œ å¯å¿½ç•¥ã€‚ #### è¿”å›å€¼ å°†è§£å‹ç¼©çš„æ•°æ®ä½œä¸º`bytes`ç±»å‹è¿”å›ã€‚ ### DecompIO åˆ›å»ºä¸€ä¸ªæµåŒ…è£…å™¨ï¼Œå…è®¸å¯¹å¦ä¸€ä¸ªæµä¸­çš„å‹ç¼©æ•°æ®è¿›è¡Œé€æ˜è§£å‹ç¼©ã€‚ è¿™å…è®¸å¤„ç†å…·æœ‰å¤§äºå¯ç”¨å †å¤§å°çš„æ•°æ®çš„å‹ç¼©æµã€‚ é™¤äº†decompressï¼ˆï¼‰ä¸­æè¿°çš„å€¼ä¹‹å¤–ï¼Œ`wbits`å¯ä»¥å–å€¼ 24..31ï¼ˆ16+8..15ï¼‰ï¼Œè¿™æ„å‘³ç€è¾“å…¥æµå…·æœ‰gzipå¤´ã€‚ ```python class uzlib.DecompIO(stream, wbits 0) ``` ## ä¸ CPython çš„ä¸åŒ è¿™ä¸ªç±»æ˜¯MicroPythonæ‰©å±•ã€‚å®ƒåŒ…å«åœ¨ä¸´æ—¶åŸºç¡€ä¸Šï¼Œå¯èƒ½ä¼šåœ¨ä»¥åçš„ç‰ˆæœ¬ä¸­è¿›è¡Œå¤§é‡æ›´æ”¹æˆ–åˆ é™¤ã€‚"},"/soft/maixpy/zh/api_reference/standard/gc.html":{"title":"gc â€“ å†…å­˜å›æ”¶","content":" title: gc â€“ å†…å­˜å›æ”¶ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy gc â€“ å†…å­˜å›æ”¶ è¯¥æ¨¡å—å®ç°äº†ç›¸åº”CPythonæ¨¡å—çš„å­é›†ï¼Œå¦‚ä¸‹æ‰€è¿°ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…åŸå§‹CPythonæ–‡æ¡£ï¼š[gc](https://docs.python.org/3.5/library/gc.html#module gc). ## å‡½æ•° ### gc.enable() å¯ç”¨è‡ªåŠ¨åƒåœ¾å›æ”¶ã€‚ ### gc.disable() ç¦ç”¨è‡ªåŠ¨åƒåœ¾å›æ”¶ã€‚ä»ç„¶å¯ä»¥åˆ†é…å †å†…å­˜ï¼Œä»ç„¶å¯ä»¥ä½¿ç”¨ `gc.collect()` æ‰‹åŠ¨å¯åŠ¨åƒåœ¾æ”¶é›†ã€‚ ### gc.collect() è¿è¡Œåƒåœ¾å›æ”¶ã€‚ ### gc.mem_alloc() è¿”å›åˆ†é…çš„å † RAM çš„å­—èŠ‚æ•°ã€‚ #### Difference to CPython æ­¤åŠŸèƒ½æ˜¯ MicroPython æ‰©å±•ã€‚ ### gc.mem_free() è¿”å›å¯ç”¨å †RAMçš„å­—èŠ‚æ•°ï¼Œå¦‚æœå †å‰©ä½™æ•°é‡æœªçŸ¥ï¼Œåˆ™è¿”å› 1ã€‚ #### ä¸CPythonçš„åŒºåˆ« æ­¤åŠŸèƒ½æ˜¯MicroPythonæ‰©å±•ã€‚ ### gc.threshold([amount]) è®¾ç½®æˆ–æŸ¥è¯¢å…¶ä»–GCåˆ†é…é˜ˆå€¼ã€‚é€šå¸¸ï¼Œä»…å½“ä¸èƒ½æ»¡è¶³æ–°åˆ†é…æ—¶ï¼Œå³åœ¨å†…å­˜ä¸è¶³ï¼ˆOOMï¼‰æ¡ä»¶ä¸‹æ‰è§¦å‘é›†åˆã€‚å¦‚æœè°ƒç”¨æ­¤å‡½æ•°ï¼Œé™¤äº†OOMä¹‹å¤–ï¼Œæ¯æ¬¡åˆ†é…äº†å¤§é‡å­—èŠ‚åéƒ½ä¼šè§¦å‘ä¸€ä¸ªé›†åˆï¼ˆæ€»å…±ï¼Œå› ä¸ºä¸Šä¸€æ¬¡åˆ†é…äº†è¿™ä¹ˆå¤šçš„å­—èŠ‚ï¼‰ã€‚ amounté€šå¸¸è¢«æŒ‡å®šä¸ºå°äºå®Œæ•´å †å¤§å°ï¼Œæ„å›¾åœ¨å †è€—å°½ä¹‹å‰è§¦å‘é›†åˆï¼Œå¹¶å¸Œæœ›æ—©æœŸé›†åˆå¯ä»¥é˜²æ­¢è¿‡å¤šçš„å†…å­˜ç¢ç‰‡ã€‚è¿™æ˜¯ä¸€ç§å¯å‘å¼åº¦é‡ï¼Œå…¶æ•ˆæœå› åº”ç”¨ç¨‹åºè€Œå¼‚ï¼Œä»¥åŠé‡å‚æ•°çš„æœ€ä½³å€¼ã€‚ ä¸å¸¦å‚æ•°è°ƒç”¨å‡½æ•°å°†è¿”å›é˜ˆå€¼çš„å½“å‰å€¼ã€‚å€¼ 1è¡¨ç¤ºç¦ç”¨çš„åˆ†é…é˜ˆå€¼ã€‚ #### ä¸CPythonçš„åŒºåˆ« æ­¤å‡½æ•°æ˜¯MicroPythonæ‰©å±•ã€‚ CPythonæœ‰ä¸€ä¸ªç±»ä¼¼çš„å‡½æ•° `set_threshold()`ï¼Œä½†æ˜¯ç”±äºä¸åŒçš„GCå®ç°ï¼Œå®ƒçš„ç­¾åå’Œè¯­ä¹‰æ˜¯ä¸åŒçš„ã€‚"},"/soft/maixpy/zh/api_reference/standard/sys.html":{"title":"sys â€“ ç³»ç»Ÿç‰¹å®šåŠŸèƒ½","content":" title: sys â€“ ç³»ç»Ÿç‰¹å®šåŠŸèƒ½ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy sys â€“ ç³»ç»Ÿç‰¹å®šåŠŸèƒ½ è¯¥æ¨¡å—å®ç°äº†ç›¸åº”CPythonæ¨¡å—çš„å­é›†ï¼Œå¦‚ä¸‹æ‰€è¿°ã€‚ æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…åŸå§‹CPythonæ–‡æ¡£ï¼š[sys](https://docs.python.org/3.5/library/sys.html#module sys). ## åŠŸèƒ½å‡½æ•° ### sys.exit(retval 0) ä½¿ç”¨ç»™å®šçš„é€€å‡ºä»£ç ç»ˆæ­¢å½“å‰ç¨‹åºã€‚ æ ¹æ®æ­¤ï¼Œæ­¤å‡½æ•°å¼•å‘â€œSystemExitâ€å¼‚å¸¸ã€‚ å¦‚æœç»™å‡ºäº†ä¸€ä¸ªå‚æ•°ï¼Œå®ƒçš„å€¼ä½œä¸º`SystemExit`çš„å‚æ•°ç»™å‡ºã€‚ ### sys.print_exception(exc, file sys.stdout) ä½¿ç”¨å›æº¯åˆ°ç±»æ–‡ä»¶å¯¹è±¡æ–‡ä»¶ï¼ˆæˆ–é»˜è®¤æƒ…å†µä¸‹ä¸º`sys.stdout`ï¼‰æ‰“å°å¼‚å¸¸ã€‚ > **å’Œ CPython çš„ä¸åŒ** > è¿™æ˜¯ä¸€ä¸ªå‡½æ•°çš„ç®€åŒ–ç‰ˆæœ¬ï¼Œå®ƒå‡ºç°åœ¨CPythonçš„å›æº¯æ¨¡å—ä¸­ã€‚ ä¸traceback.print_exceptionï¼ˆï¼‰ä¸åŒï¼Œæ­¤å‡½æ•°åªæ¥å—å¼‚å¸¸å€¼è€Œä¸æ˜¯å¼‚å¸¸ç±»å‹ï¼Œå¼‚å¸¸å€¼å’Œå›æº¯å¯¹è±¡; fileå‚æ•°åº”è¯¥æ˜¯ä½ç½®çš„; ä¸æ”¯æŒå…¶ä»–å‚æ•°ã€‚ å¯ä»¥åœ¨micropython libä¸­æ‰¾åˆ°ä¸CPythonå…¼å®¹çš„å›æº¯æ¨¡å—ã€‚ ## å¸¸é‡ ### sys.argv å½“å‰ç¨‹åºå¯åŠ¨æ—¶çš„å¯å˜å‚æ•°åˆ—è¡¨ã€‚ ### sys.byteorder ç³»ç»Ÿçš„å­—èŠ‚é¡ºåºï¼ˆâ€œå°ç«¯â€æˆ–â€œå¤§ç«¯â€`ï¼‰ã€‚ ### sys.implementation åŒ…å«æœ‰å…³å½“å‰Pythonå®ç°çš„ä¿¡æ¯çš„å¯¹è±¡ã€‚ å¯¹äºMicroPythonï¼Œå®ƒå…·æœ‰ä»¥ä¸‹å±æ€§ï¼š * name å­—ç¬¦ä¸²â€œmicropythonâ€ * version å…ƒç»„ (major, minor, micro), e.g. (1, 7, 0) æ­¤å¯¹è±¡æ˜¯åŒºåˆ†MicroPythonä¸å…¶ä»–Pythonå®ç°çš„æ¨èæ–¹æ³•ï¼ˆè¯·æ³¨æ„ï¼Œå®ƒä»ç„¶å¯èƒ½ä¸å­˜åœ¨äºéå¸¸å°çš„ç«¯å£ä¸­ï¼‰ã€‚ > **å’Œ CPython çš„ä¸åŒ** > CPythonè¦æ±‚ä¸ºæ­¤å¯¹è±¡æä¾›æ›´å¤šå±æ€§ï¼Œä½†å®é™…æœ‰ç”¨çš„æœ€ä½è¦æ±‚æ˜¯åœ¨MicroPythonä¸­å®ç°çš„ã€‚ ### sys.maxsize æœ¬æœºæ•´æ•°ç±»å‹å¯ä»¥åœ¨å½“å‰å¹³å°ä¸Šä¿å­˜çš„æœ€å¤§å€¼ï¼Œæˆ–MicroPythonæ•´æ•°ç±»å‹å¯è¡¨ç¤ºçš„æœ€å¤§å€¼ï¼Œå¦‚æœå®ƒå°äºå¹³å°æœ€å¤§å€¼ï¼ˆå¯¹äºæ²¡æœ‰é•¿intæ”¯æŒçš„MicroPythonç«¯å£çš„æƒ…å†µï¼‰ã€‚ æ­¤å±æ€§å¯¹äºæ£€æµ‹å¹³å°çš„â€œä½æ•°â€ï¼ˆ32ä½ä¸64ä½ç­‰ï¼‰éå¸¸æœ‰ç”¨ã€‚ å»ºè®®ä¸è¦ç›´æ¥å°†æ­¤å±æ€§ä¸æŸä¸ªå€¼è¿›è¡Œæ¯”è¾ƒï¼Œè€Œæ˜¯è®¡ç®—å…¶ä¸­çš„ä½æ•°ï¼š ```python bits 0 v sys.maxsize while v: bits + 1 v >> 1 if bits > 32: # 64 bit (or more) platform ... else: # 32 bit (or less) platform # Note that on 32 bit platform, value of bits may be less than 32 # (e.g. 31) due to peculiarities described above, so use \"> 16\", # \"> 32\", \"> 64\" style of comparisons. ``` ### sys.modules åŠ è½½æ¨¡å—çš„å­—å…¸ã€‚ åœ¨æŸäº›ç«¯å£ä¸Šï¼Œå®ƒå¯èƒ½ä¸åŒ…å«å†…ç½®æ¨¡å—ã€‚ ### sys.path ç”¨äºæœç´¢å¯¼å…¥æ¨¡å—çš„å¯å˜ç›®å½•åˆ—è¡¨ã€‚ ### sys.platform è¿è¡Œ MicroPython çš„å¹³å°ã€‚ å¯¹äºOS / RTOSç«¯å£ï¼Œè¿™é€šå¸¸æ˜¯OSçš„æ ‡è¯†ç¬¦ï¼Œä¾‹å¦‚ï¼Œ` â€œLINUXâ€`ã€‚ å¯¹äºè£¸é‡‘å±ç«¯å£ï¼Œå®ƒæ˜¯ç”µè·¯æ¿çš„æ ‡è¯†ç¬¦ï¼Œä¾‹å¦‚ `â€œpyboardâ€`ç”¨äºåŸå§‹çš„ MicroPython å‚è€ƒæ¿ã€‚ å› æ­¤ï¼Œå®ƒå¯ç”¨äºåŒºåˆ†ä¸€å—æ¿ä¸å¦ä¸€å—æ¿ã€‚ å¦‚æœæ‚¨éœ€è¦æ£€æŸ¥æ‚¨çš„ç¨‹åºæ˜¯å¦åœ¨ MicroPython ä¸Šè¿è¡Œï¼ˆä¸å…¶ä»– Python å®ç°ç›¸æ¯”ï¼‰ï¼Œè¯·ä½¿ç”¨`sys.implementation`ã€‚ ### sys.stderr æ ‡å‡†é”™è¯¯ `stream`. ### sys.stdin æ ‡å‡†è¾“å…¥ `stream`. ### sys.stdout æ ‡å‡†è¾“å‡º `stream`. ### sys.version å®ç°çš„ Python ç‰ˆæœ¬ï¼Œ è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸² ### sys.version_info å®ç°çš„ Python ç‰ˆæœ¬ï¼Œ è¿”å›ä¸€ä¸ªç”±æ•´æ•°ç»„æˆçš„å…ƒç»„"},"/soft/maixpy/zh/api_reference/standard/uhashlib.html":{"title":"uhashlib â€“å“ˆå¸Œç®—æ³•","content":" title: uhashlib â€“å“ˆå¸Œç®—æ³• keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy uhashlib â€“å“ˆå¸Œç®—æ³• è¯¥æ¨¡å—å®ç°äº†ç›¸åº”[CPython](http://docs.micropython.org/en/latest/reference/glossary.html#term cpython)æ¨¡å—çš„å­é›†ï¼Œå¦‚ä¸‹æ‰€è¿°ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…åŸå§‹CPythonæ–‡æ¡£ï¼š[hashlib](https://docs.python.org/3.5/library/hashlib.html#module hashlib)ã€‚ è¯¥æ¨¡å—å®ç°äºŒè¿›åˆ¶æ•°æ®å“ˆå¸Œç®—æ³•ã€‚å¯ç”¨ç®—æ³•çš„ç¡®åˆ‡æ¸…å•å–å†³äºç”µè·¯æ¿ã€‚åœ¨å¯ä»¥å®ç°çš„ç®—æ³•ä¸­ï¼š SHA256 SHA2ç³»åˆ—çš„æœ€æ–°ç°ä»£å“ˆå¸Œç®—æ³•ã€‚å®ƒé€‚ç”¨äºå¯†ç å®‰å…¨çš„ç›®çš„ã€‚é™¤éå®ƒå…·æœ‰ç‰¹å®šçš„ä»£ç å¤§å°é™åˆ¶ï¼Œå¦åˆ™å»ºè®®å°†å…¶åŒ…å«åœ¨MicroPythonå†…æ ¸ä¸­ï¼Œå¹¶å»ºè®®ä»»ä½•å¼€å‘æ¿éƒ½æä¾›æ­¤åŠŸèƒ½ã€‚ åœ¨ K210 ä¸­æœ‰ç¡¬ä»¶åŠ é€Ÿï¼Œä¸æ˜¯è½¯ä»¶è®¡ç®— [ä¾‹ç¨‹](https://github.com/sipeed/MaixPy v1_scripts/blob/master/basic/demo_sha256.py)ï¼š ```python a bytes([0]*65) b hashlib.sha256(a) c b.digest() print(c) ``` ## æ„é€ å‡½æ•° ## ç±» uhashlib.sha256([data]) åˆ›å»ºä¸€ä¸ªSHA256å“ˆå¸Œå¯¹è±¡ï¼Œå¹¶æœ‰é€‰æ‹©åœ°å‘å…¶ä¸­é¦ˆé€æ•°æ®ã€‚ ## æ–¹æ³• ### hash.update(data) å°†æ›´å¤šçš„äºŒè¿›åˆ¶æ•°æ®è¾“å…¥å“ˆå¸Œã€‚ ### hash.digest() è¿”å›é€šè¿‡å“ˆå¸Œä¼ é€’çš„æ‰€æœ‰æ•°æ®çš„å“ˆå¸Œï¼Œä½œä¸ºå­—èŠ‚å¯¹è±¡ã€‚è°ƒç”¨æ­¤æ–¹æ³•åï¼Œæ— æ³•å†å°†æ›´å¤šæ•°æ®é¦ˆå…¥å“ˆå¸Œã€‚ **æ³¨æ„**ï¼š åœ¨`micropython`ä¸­ï¼Œ ä½¿ç”¨æ­¤å‡½æ•°ä¼šå®Œæˆæœ€åçš„è®¡ç®—ï¼Œ ä¸æ˜¯å•çº¯çš„å°†ç»“æœæ˜¾ç¤ºå‡ºæ¥ï¼Œ æ‰€ä»¥åªèƒ½è°ƒç”¨ä¸€æ¬¡ï¼Œ å¦‚æœä½ è¦å¤šæ¬¡ä½¿ç”¨è¿™ä¸ªå€¼ï¼Œ è¯·ä¿å­˜åˆ°å˜é‡ ```python c b.digest() print(c) ``` å¤šæ¬¡è°ƒç”¨ä¼šå‘ç°è¿”å›å€¼ä¸ç›¸åŒ ```python c b.digest() d b.digest() print(c d) # False ``` ### hash.hexdigest() æœªå®ç°æ­¤æ–¹æ³•ã€‚ä½¿ç”¨ `ubinascii.hexlify(hash.digest())` å¯è·å¾—ç±»ä¼¼çš„æ•ˆæœã€‚"},"/soft/maixpy/zh/api_reference/standard/ubinascii.html":{"title":"ubinascii â€“ äºŒè¿›åˆ¶/ ASCIIè½¬æ¢","content":" title: ubinascii â€“ äºŒè¿›åˆ¶/ ASCIIè½¬æ¢ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy ubinascii â€“ äºŒè¿›åˆ¶/ ASCIIè½¬æ¢ è¯¥æ¨¡å—å®ç°äº†ç›¸åº”CPythonæ¨¡å—çš„å­é›†ï¼Œå¦‚ä¸‹æ‰€è¿°ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…åŸå§‹CPythonæ–‡æ¡£ï¼š[binascii](https://docs.python.org/3.5/library/binascii.html#module binascii). è¯¥æ¨¡å—ä»¥ASCIIæ ¼å¼ï¼ˆä¸¤ä¸ªæ–¹å‘ï¼‰å®ç°äºŒè¿›åˆ¶æ•°æ®ä¸å…¶å„ç§ç¼–ç ä¹‹é—´çš„è½¬æ¢ã€‚ ## å‡½æ•° ### ubinascii.hexlify(data[, sep]) å°†äºŒè¿›åˆ¶æ•°æ®è½¬æ¢ä¸ºåå…­è¿›åˆ¶è¡¨ç¤ºã€‚è¿”å›å­—èŠ‚å­—ç¬¦ä¸²ã€‚ #### ä¸CPythonçš„åŒºåˆ« å¦‚æœæä¾›äº†é™„åŠ å‚æ•°sepï¼Œåˆ™å®ƒå°†ç”¨ä½œåå…­è¿›åˆ¶å€¼ä¹‹é—´çš„åˆ†éš”ç¬¦ã€‚ ### ubinascii.unhexlify(data) å°†åå…­è¿›åˆ¶æ•°æ®è½¬æ¢ä¸ºäºŒè¿›åˆ¶è¡¨ç¤ºã€‚è¿”å›å­—èŠ‚å­—ç¬¦ä¸²ã€‚ ï¼ˆå³hexlifyçš„å€’æ•°ï¼‰ ### ubinascii.a2b_base64(data) è§£ç base64ç¼–ç çš„æ•°æ®ï¼Œå¿½ç•¥è¾“å…¥ä¸­çš„æ— æ•ˆå­—ç¬¦ã€‚ç¬¦åˆ [RFC 2045 s.6.8.](https://tools.ietf.org/html/rfc2045#section 6.8) è¿”å›ä¸€ä¸ªbyteså¯¹è±¡ã€‚ ### ubinascii.b2a_base64(data) ä»¥base64æ ¼å¼ç¼–ç äºŒè¿›åˆ¶æ•°æ®ï¼Œå¦‚ [RFC 3548](https://tools.ietf.org/html/rfc3548.html)æ‰€è¿°ã€‚è¿”å›ç¼–ç æ•°æ®ï¼Œåè·Ÿæ¢è¡Œç¬¦ï¼Œä½œä¸ºbyteså¯¹è±¡ã€‚"},"/soft/maixpy/zh/api_reference/standard/utime.html":{"title":"utime â€“ æ—¶é—´ç›¸å…³çš„åŠŸèƒ½","content":" title: utime â€“ æ—¶é—´ç›¸å…³çš„åŠŸèƒ½ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy utime â€“ æ—¶é—´ç›¸å…³çš„åŠŸèƒ½ è¯¥æ¨¡å—å®ç°äº†ç›¸åº”CPythonæ¨¡å—çš„å­é›†ï¼Œå¦‚ä¸‹æ‰€è¿°ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…åŸå§‹CPythonæ–‡æ¡£ï¼š [time](https://docs.python.org/3.5/library/time.html#module time). `utime`æ¨¡å—æä¾›è·å–å½“å‰æ—¶é—´å’Œæ—¥æœŸï¼Œæµ‹é‡æ—¶é—´é—´éš”å’Œå»¶è¿Ÿçš„åŠŸèƒ½ã€‚ **æ—¶é—´çºªå…ƒ**: Unixç§»æ¤ç‰ˆæœ¬ä½¿ç”¨æ ‡å‡†ä¸º1970 01 01 00:00:00 UTCçš„POSIXç³»ç»Ÿæ—¶ä»£ã€‚ä½†æ˜¯ï¼ŒåµŒå…¥å¼ç§»æ¤ç‰ˆæœ¬ä½¿ç”¨çš„æ˜¯2000 01 01 00:00:00 UTCçš„çºªå…ƒã€‚ **ç»´æŠ¤å®é™…æ—¥å†æ—¥æœŸ/æ—¶é—´**: è¿™éœ€è¦å®æ—¶æ—¶é’Ÿï¼ˆRTCï¼‰ã€‚åœ¨å…·æœ‰åº•å±‚OSï¼ˆåŒ…æ‹¬ä¸€äº›RTOSï¼‰çš„ç³»ç»Ÿä¸Šï¼ŒRTCå¯èƒ½æ˜¯éšå«çš„ã€‚è®¾ç½®å’Œç»´æŠ¤å®é™…æ—¥å†æ—¶é—´æ˜¯OS / RTOSçš„è´£ä»»ï¼Œå¹¶ä¸”åœ¨MicroPythonä¹‹å¤–å®Œæˆï¼Œå®ƒåªä½¿ç”¨OS APIæ¥æŸ¥è¯¢æ—¥æœŸ/æ—¶é—´ã€‚åœ¨è£¸æœºç§»æ¤ä¸Šï¼Œç³»ç»Ÿæ—¶é—´ä¾èµ–äº`machine.RTCï¼ˆï¼‰`å¯¹è±¡ã€‚å¯ä»¥ä½¿ç”¨`machine.RTCï¼ˆï¼‰ã€‚datetimeï¼ˆtupleï¼‰`å‡½æ•°è®¾ç½®å½“å‰æ—¥å†æ—¶é—´ï¼Œå¹¶é€šè¿‡ä»¥ä¸‹æ–¹å¼ç»´æŠ¤ï¼š * é€šè¿‡å¤‡ç”¨ç”µæ± ï¼ˆå¯èƒ½æ˜¯ç‰¹å®šç”µè·¯æ¿çš„é™„åŠ å¯é€‰ç»„ä»¶ï¼‰ã€‚ * ä½¿ç”¨è”ç½‘æ—¶é—´åè®®ï¼ˆéœ€è¦ç”±ç§»æ¤/ç”¨æˆ·è®¾ç½®ï¼‰ã€‚ * æ¯æ¬¡ä¸Šç”µæ—¶ç”±ç”¨æˆ·æ‰‹åŠ¨è®¾ç½®ï¼ˆè®¸å¤šç”µè·¯æ¿åœ¨ç¡¬å¤ä½æ—¶ä¿æŒRTCæ—¶é—´ï¼Œä½†æœ‰äº›å¯èƒ½éœ€è¦åœ¨è¿™ç§æƒ…å†µä¸‹å†æ¬¡è®¾ç½®ï¼‰ã€‚ å¦‚æœæœªä½¿ç”¨ç³»ç»Ÿ/ MicroPython RTCç»´æŠ¤å®é™…æ—¥å†æ—¶é—´ï¼Œåˆ™ä½äºæ­¤è¦æ±‚å‚è€ƒå½“å‰ç»å¯¹æ—¶é—´çš„å‡½æ•°å¯èƒ½ä¸é¢„æœŸä¸ç¬¦ã€‚ ## å‡½æ•° ### utime.localtime([secs]) å°†è‡ªçºªå…ƒï¼ˆè§ä¸Šæ–‡ï¼‰ä»¥ç§’ä¸ºå•ä½çš„æ—¶é—´è½¬æ¢ä¸º8å…ƒç»„ï¼Œå…¶ä¸­åŒ…å«:(å¹´ï¼Œæœˆï¼Œæ—¥ï¼Œå°æ—¶ï¼Œåˆ†é’Ÿï¼Œç§’ï¼Œå·¥ä½œæ—¥ï¼Œæ™šæœŸï¼‰å¦‚æœæœªæä¾›ç§’æ•°æˆ–æ— ï¼Œåˆ™ä¸ºå½“å‰æ—¶é—´æ¥è‡ªRTCä½¿ç”¨ã€‚ * å¹´ä»½åŒ…æ‹¬ä¸–çºªï¼ˆä¾‹å¦‚2014å¹´ï¼‰ã€‚ * æœˆæ˜¯1 12 * mdayæ˜¯1 31 * å°æ—¶æ˜¯0 23 * åˆ†é’Ÿæ˜¯0 59 * ç§’æ˜¯0 59 å‘¨ä¸€è‡³å‘¨æ—¥çš„å·¥ä½œæ—¥ä¸º0 6 * yeardayæ˜¯1 366 ### utime.mktime() è¿™æ˜¯æœ¬åœ°æ—¶é—´çš„åå‡½æ•°ã€‚å®ƒçš„å‚æ•°æ˜¯ä¸€ä¸ªå®Œæ•´çš„8å…ƒç»„ï¼Œè¡¨ç¤ºæŒ‰å½“åœ°æ—¶é—´è¡¨ç¤ºçš„æ—¶é—´ã€‚å®ƒè¿”å›ä¸€ä¸ªæ•´æ•°ï¼Œå®ƒæ˜¯è‡ª2000å¹´1æœˆ1æ—¥ä»¥æ¥çš„ç§’æ•°ã€‚ ### utime.sleep(seconds) ç¡çœ ç»™å®šçš„ç§’æ•°ã€‚æœ‰äº›ç”µè·¯æ¿å¯èƒ½ä¼šæ¥å—ç§’ä½œä¸ºæµ®ç‚¹æ•°æ¥ä¼‘çœ å‡ ç§’é’Ÿã€‚è¯·æ³¨æ„ï¼Œå…¶ä»–æ¿å¯èƒ½ä¸æ¥å—æµ®ç‚¹å‚æ•°ï¼Œå› ä¸ºä¸å®ƒä»¬çš„å…¼å®¹æ€§ä½¿ç”¨ `sleep_ms()` å’Œ `sleep_us()` å‡½æ•°ã€‚ ### utime.sleep_ms(ms) ç»™å®šæ¯«ç§’æ•°çš„å»¶è¿Ÿåº”ä¸ºæ­£æˆ–0ã€‚ ### utime.sleep_us(us) ç»™å®šå¾®ç§’æ•°çš„å»¶è¿Ÿåº”ä¸ºæ­£æˆ–0ã€‚ ### utime.ticks_ms() è¿”å›ä¸€ä¸ªå¸¦æœ‰ä»»æ„å‚è€ƒç‚¹çš„é€’å¢æ¯«ç§’è®¡æ•°å™¨ï¼Œå®ƒåœ¨æŸä¸ªå€¼ä¹‹åå›ç»•ã€‚ ç¯ç»•å€¼æœªæ˜ç¡®å…¬å¼€ï¼Œä½†æˆ‘ä»¬å°†å…¶ç§°ä¸ºTICKS_MAXä»¥ç®€åŒ–è®¨è®ºã€‚å€¼çš„å‘¨æœŸä¸ºTICKS_PERIOD TICKS_MAX + 1. TICKS_PERIODä¿è¯ä¸º2çš„å¹‚ï¼Œä½†åœ¨ä¸åŒç¡¬ä»¶çš„ç§»æ¤ä¹‹é—´å¯èƒ½ä¸åŒã€‚ç›¸åŒçš„å¥ç‚¹å€¼ç”¨äºæ‰€æœ‰`ticks_msï¼ˆï¼‰`ï¼Œ`ticks_usï¼ˆï¼‰`ï¼Œ`ticks_cpuï¼ˆï¼‰`å‡½æ•°ï¼ˆä¸ºç®€å•èµ·è§ï¼‰ã€‚å› æ­¤ï¼Œè¿™äº›å‡½æ•°å°†è¿”å›èŒƒå›´[0 .. TICKS_MAX]ä¸­çš„å€¼ï¼ŒåŒ…æ‹¬æ€»TICKS_PERIODå€¼ã€‚è¯·æ³¨æ„ï¼Œä»…ä½¿ç”¨éè´Ÿå€¼ã€‚åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæ‚¨åº”è¯¥å°†è¿™äº›å‡½æ•°è¿”å›çš„å€¼è§†ä¸ºä¸é€æ˜ã€‚å¯ç”¨çš„å”¯ä¸€æ“ä½œæ˜¯`ticks_diffï¼ˆï¼‰`å’Œ`ticks_addï¼ˆï¼‰`å‡½æ•°ï¼Œå¦‚ä¸‹æ‰€è¿°ã€‚ > æ³¨æ„ï¼šç›´æ¥å¯¹è¿™äº›å€¼æ‰§è¡Œæ ‡å‡†æ•°å­¦è¿ç®—ï¼ˆ+ï¼Œ ï¼‰æˆ–å…³ç³»è¿ç®—ç¬¦ï¼ˆ<ï¼Œ< ï¼Œ>ï¼Œ> ï¼‰å°†å¯¼è‡´æ— æ•ˆç»“æœã€‚æ‰§è¡Œæ•°å­¦è¿ç®—ç„¶åå°†å…¶ç»“æœä½œä¸ºå‚æ•°ä¼ é€’ç»™ticks_diffï¼ˆï¼‰æˆ–ticks_addï¼ˆï¼‰ä¹Ÿå°†å¯¼è‡´åè€…å‡½æ•°çš„æ— æ•ˆç»“æœã€‚ ### utime.ticks_us() å°±åƒä¸Šé¢çš„'ticks_msï¼ˆï¼‰`ä¸€æ ·ï¼Œä½†æ˜¯åœ¨å‡ å¾®ç§’å†…ã€‚ ### utime.ticks_cpu() ç±»ä¼¼äº`ticks_msï¼ˆï¼‰`å’Œ`ticks_usï¼ˆï¼‰`ï¼Œä½†ç³»ç»Ÿä¸­çš„åˆ†è¾¨ç‡æœ€é«˜ã€‚è¿™é€šå¸¸æ˜¯CPUæ—¶é’Ÿï¼Œè¿™å°±æ˜¯å‡½æ•°ä»¥è¿™ç§æ–¹å¼å‘½åçš„åŸå› ã€‚ä½†å®ƒä¸å¿…æ˜¯CPUæ—¶é’Ÿï¼Œè€Œæ˜¯å¯ä»¥ä½¿ç”¨ç³»ç»Ÿä¸­å¯ç”¨çš„ä¸€äº›å…¶ä»–å®šæ—¶æºï¼ˆä¾‹å¦‚ï¼Œé«˜åˆ†è¾¨ç‡å®šæ—¶å™¨ï¼‰ã€‚åœ¨'utime`æ¨¡å—çº§åˆ«æ²¡æœ‰æŒ‡å®šæ­¤å‡½æ•°çš„ç¡®åˆ‡æ—¶é—´å•ä½ï¼ˆåˆ†è¾¨ç‡ï¼‰ï¼Œä½†ç‰¹å®šç¡¬ä»¶çš„æ–‡æ¡£å¯èƒ½æä¾›æ›´å…·ä½“çš„ä¿¡æ¯ã€‚æ­¤åŠŸèƒ½ç”¨äºéå¸¸ç²¾ç»†çš„åŸºå‡†æµ‹è¯•æˆ–éå¸¸ç´§å‡‘çš„å®æ—¶å¾ªç¯ã€‚é¿å…åœ¨ä¾¿æºå¼ä»£ç ä¸­ä½¿ç”¨å®ƒã€‚ ### utime.ticks_add(ticks, delta) åç§»å€¼æŒ‰ç»™å®šæ•°å­—è®¡ç®—ï¼Œå¯ä»¥æ˜¯æ­£æ•°ä¹Ÿå¯ä»¥æ˜¯è´Ÿæ•°ã€‚ç»™å®šä¸€ä¸ªtickså€¼ï¼Œè¯¥å‡½æ•°å…è®¸åœ¨tickå€¼çš„æ¨¡å—ç®—æœ¯å®šä¹‰ä¹‹åæˆ–ä¹‹åè®¡ç®—tickså€¼delta ticksï¼ˆå‚è§ä¸Šé¢çš„`ticks_msï¼ˆï¼‰`ï¼‰ã€‚ tickså‚æ•°å¿…é¡»æ˜¯è°ƒç”¨`ticks_msï¼ˆï¼‰`ï¼Œ`ticks_usï¼ˆï¼‰`æˆ–`ticks_cpuï¼ˆï¼‰`å‡½æ•°ï¼ˆæˆ–ä»ä¹‹å‰è°ƒç”¨`ticks_addï¼ˆï¼‰`ï¼‰çš„ç›´æ¥ç»“æœã€‚ä½†æ˜¯ï¼Œdeltaå¯ä»¥æ˜¯ä»»æ„æ•´æ•°æˆ–æ•°å­—è¡¨è¾¾å¼ã€‚ ticks_addï¼ˆï¼‰å¯¹äºè®¡ç®—äº‹ä»¶/ä»»åŠ¡çš„æˆªæ­¢æ—¥æœŸéå¸¸æœ‰ç”¨ã€‚ ï¼ˆæ³¨æ„ï¼šä½ å¿…é¡»ä½¿ç”¨`ticks_diffï¼ˆï¼‰`å‡½æ•°æ¥å¤„ç†æˆªæ­¢æ—¥æœŸã€‚ï¼‰ ä¾‹å­: ```python # Find out what ticks value there was 100ms ago print(ticks_add(time.ticks_ms(), 100)) # Calculate deadline for operation and test for it deadline ticks_add(time.ticks_ms(), 200) while ticks_diff(deadline, time.ticks_ms()) > 0: do_a_little_of_something() # Find out TICKS_MAX used by this port print(ticks_add(0, 1)) ``` ### utime.ticks_diff(ticks1, ticks2) æµ‹é‡ä»`ticks_msï¼ˆï¼‰`ï¼Œ`ticks_usï¼ˆï¼‰`æˆ–`ticks_cpuï¼ˆï¼‰`å‡½æ•°è¿”å›çš„å€¼ä¹‹é—´çš„å·®å¼‚ï¼Œä½œä¸ºå¯ä»¥å›ç»•çš„æœ‰ç¬¦å·å€¼ã€‚ å‚æ•°é¡ºåºä¸å‡æ³•è¿ç®—ç¬¦ç›¸åŒï¼Œ`ticks_diffï¼ˆticks1ï¼Œticks2ï¼‰`ä¸`ticks1 ticks2`å…·æœ‰ç›¸åŒçš„å«ä¹‰ã€‚ä½†æ˜¯ï¼Œ`ticks_msï¼ˆï¼‰`ç­‰å‡½æ•°è¿”å›çš„å€¼å¯èƒ½ä¼šå›ç»•ï¼Œå› æ­¤ç›´æ¥ä½¿ç”¨å‡æ³•ä¼šäº§ç”Ÿä¸æ­£ç¡®çš„ç»“æœã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆéœ€è¦`ticks_diffï¼ˆï¼‰`ï¼Œå®ƒå®ç°æ¨¡å—åŒ–ï¼ˆæˆ–æ›´å…·ä½“åœ°è¯´ï¼Œç¯ï¼‰ç®—æœ¯ï¼Œå³ä½¿å¯¹äºç¯ç»•å€¼ä¹Ÿèƒ½äº§ç”Ÿæ­£ç¡®çš„ç»“æœï¼ˆåªè¦å®ƒä»¬ä¹‹é—´ä¸å¤ªè¿œï¼Œè§ä¸‹æ–‡ï¼‰ã€‚è¯¥å‡½æ•°è¿”å›èŒƒå›´ä¸º[ TICKS_PERIOD / 2 .. TICKS_PERIOD / 2 1]çš„**æœ‰ç¬¦å·**å€¼ï¼ˆè¿™æ˜¯äºŒè¿›åˆ¶è¡¥ç æœ‰ç¬¦å·äºŒè¿›åˆ¶æ•´æ•°çš„å…¸å‹èŒƒå›´å®šä¹‰ï¼‰ã€‚å¦‚æœç»“æœæ˜¯å¦å®šçš„ï¼Œåˆ™æ„å‘³ç€ticks1åœ¨æ—¶é—´ä¸Šæ—©äºticks2ã€‚å¦åˆ™ï¼Œè¿™æ„å‘³ç€ticks1å‘ç”Ÿåœ¨ticks2ä¹‹åã€‚å¦‚æœticks1å’Œticks2å½¼æ­¤åˆ†å¼€ä¸è¶…è¿‡TICKS_PERIOD / 2 1æ»´ç­”ï¼Œåˆ™ä»…ä¿ç•™**ã€‚å¦‚æœä¸æˆç«‹ï¼Œå°†è¿”å›ä¸æ­£ç¡®çš„ç»“æœã€‚å…·ä½“æ¥è¯´ï¼Œå¦‚æœä¸¤ä¸ªåˆ»åº¦å€¼ç›¸éš”TICKS_PERIOD / 2 1åˆ»åº¦ï¼Œåˆ™è¯¥å€¼å°†ç”±è¯¥å‡½æ•°è¿”å›ã€‚ä½†æ˜¯ï¼Œå¦‚æœå®æ—¶æ»´ç­”çš„TICKS_PERIOD / 2å·²åœ¨å®ƒä»¬ä¹‹é—´ä¼ é€’ï¼Œåˆ™è¯¥å‡½æ•°å°†è¿”å› TICKS_PERIOD / 2ï¼Œå³ç»“æœå€¼å°†å›ç»•åˆ°å¯èƒ½å€¼çš„è´ŸèŒƒå›´ã€‚ ä¸Šè¿°é™åˆ¶çš„éæ­£å¼ç†ç”±ï¼šå‡è®¾æ‚¨è¢«é”åœ¨ä¸€ä¸ªæˆ¿é—´å†…ï¼Œé™¤äº†æ ‡å‡†çš„12æ¡£æ—¶é’Ÿå¤–æ— æ³•ç›‘æ§æ—¶é—´çš„æµé€ã€‚ç„¶åï¼Œå¦‚æœä½ ç°åœ¨çœ‹è¡¨ç›˜ï¼Œä¸å†çœ‹13ä¸ªå°æ—¶ï¼ˆä¾‹å¦‚ï¼Œå¦‚æœä½ é•¿æ—¶é—´ç¡è§‰ï¼‰ï¼Œé‚£ä¹ˆä¸€æ—¦ä½ å†çœ‹ä¸€éï¼Œä½ å¯èƒ½è§‰å¾—åªæœ‰1ä¸ªå°æ—¶è¿‡å»äº†ã€‚ä¸ºäº†é¿å…è¿™ä¸ªé”™è¯¯ï¼Œè¯·å®šæœŸæŸ¥çœ‹æ—¶é’Ÿã€‚æ‚¨çš„åº”ç”¨ç¨‹åºä¹Ÿåº”è¯¥è¿™æ ·åšã€‚ â€œå¤ªé•¿æ—¶é—´ç¡çœ â€è¿™ä¸ªæ¯”å–»ä¹Ÿç›´æ¥æ˜ å°„åˆ°åº”ç”¨ç¨‹åºè¡Œä¸ºï¼šä¸è¦è®©ä½ çš„åº”ç”¨ç¨‹åºè¿è¡Œä»»ä½•å•ä¸ªä»»åŠ¡å¤ªé•¿æ—¶é—´ã€‚åˆ†æ­¥è¿è¡Œä»»åŠ¡ï¼Œå¹¶åœ¨ä¸¤è€…ä¹‹é—´è¿›è¡Œè®¡æ—¶ã€‚ `ticks_diff()` æ—¨åœ¨é€‚åº”å„ç§ä½¿ç”¨æ¨¡å¼ï¼Œå…¶ä¸­åŒ…æ‹¬ï¼š * è¶…æ—¶è½®è¯¢ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œäº‹ä»¶çš„é¡ºåºæ˜¯å·²çŸ¥çš„ï¼Œä½ åªä¼šå¤„ç†`ticks_diffï¼ˆï¼‰`çš„æ­£é¢ç»“æœï¼š ```python # Wait for GPIO pin to be asserted, but at most 500us start time.ticks_us() while pin.value() 0: if time.ticks_diff(time.ticks_us(), start) > 500: raise TimeoutError ``` * è°ƒåº¦äº‹ä»¶ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚æœäº‹ä»¶è¿‡æœŸï¼Œåˆ™ticks_diffï¼ˆï¼‰ç»“æœå¯èƒ½ä¸ºè´Ÿï¼š ```python # This code snippet is not optimized now time.ticks_ms() scheduled_time task.scheduled_time() if ticks_diff(scheduled_time, now) > 0: print(\"Too early, let's nap\") sleep_ms(ticks_diff(scheduled_time, now)) task.run() elif ticks_diff(scheduled_time, now) 0: print(\"Right at time!\") task.run() elif ticks_diff(scheduled_time, now) < 0: print(\"Oops, running late, tell task to run faster!\") task.run(run_faster true) ``` > æ³¨æ„ï¼šä¸è¦å°†`timeï¼ˆï¼‰`å€¼ä¼ é€’ç»™`ticks_diffï¼ˆï¼‰`ï¼Œä½ åº”è¯¥å¯¹å®ƒä»¬ä½¿ç”¨å¸¸è§„çš„æ•°å­¦è¿ç®—ã€‚ä½†è¯·æ³¨æ„ï¼Œ`timeï¼ˆï¼‰`å¯èƒ½ï¼ˆä¹Ÿä¼šï¼‰æº¢å‡ºã€‚è¿™è¢«ç§°ä¸ºhttps://en.wikipedia.org/wiki/Year_2038_problem . ### utime.time() è¿”å›è‡ªçºªå…ƒä»¥æ¥çš„æ•´æ•°ç§’æ•°ï¼Œå‡è®¾å¦‚ä¸Šæ‰€è¿°è®¾ç½®å’Œç»´æŠ¤åŸºç¡€RTCã€‚å¦‚æœæœªè®¾ç½® RTCï¼Œåˆ™æ­¤å‡½æ•°è¿”å›è‡ªç‰¹å®šç¡¬ä»¶ç§»æ¤å‚è€ƒæ—¶é—´ç‚¹ä»¥æ¥çš„ç§’æ•°ï¼ˆå¯¹äºæ²¡æœ‰ç”µæ± ä¾›ç”µçš„ RTC çš„åµŒå…¥å¼ç”µè·¯æ¿ï¼Œé€šå¸¸è‡ªä¸Šç”µæˆ–å¤ä½åï¼‰ã€‚å¦‚æœè¦å¼€å‘ä¾¿æºå¼ MicroPython åº”ç”¨ç¨‹åºï¼Œåˆ™ä¸åº”ä¾èµ–æ­¤å‡½æ•°æ¥æä¾›é«˜äºç¬¬äºŒçš„ç²¾åº¦ã€‚å¦‚æœä½ éœ€è¦æ›´é«˜çš„ç²¾åº¦ï¼Œä½¿ç”¨`ticks_msï¼ˆï¼‰`å’Œ`ticks_usï¼ˆï¼‰`å‡½æ•°ï¼Œå¦‚æœä½ éœ€è¦æ—¥å†æ—¶é—´ï¼Œ`localtimeï¼ˆï¼‰`æ²¡æœ‰å‚æ•°æ˜¯ä¸€ä¸ªæ›´å¥½çš„é€‰æ‹©ã€‚ #### ä¸CPythonçš„åŒºåˆ« åœ¨ CPython ä¸­ï¼Œæ­¤å‡½æ•°è¿”å›è‡ª Unix çºªå…ƒï¼ˆ1970 01 01 00:00 UTCï¼‰ä»¥æ¥çš„ç§’æ•°ï¼Œä½œä¸ºæµ®ç‚¹æ•°ï¼Œé€šå¸¸å…·æœ‰å¾®ç§’ç²¾åº¦ã€‚ ä½¿ç”¨ MicroPythonï¼Œåªæœ‰ Unix ç§»æ¤ç‰ˆæœ¬ä½¿ç”¨ç›¸åŒçš„çºªå…ƒï¼Œå¦‚æœæµ®ç‚¹ç²¾åº¦å…è®¸ï¼Œåˆ™è¿”å›äºšç§’ç²¾åº¦ã€‚ åµŒå…¥å¼ç¡¬ä»¶é€šå¸¸æ²¡æœ‰æµ®ç‚¹ç²¾åº¦æ¥è¡¨ç¤ºé•¿æ—¶é—´èŒƒå›´å’Œäºšç§’ç²¾åº¦ï¼Œå› æ­¤å®ƒä»¬ä½¿ç”¨å…·æœ‰ç¬¬äºŒç²¾åº¦çš„æ•´æ•°å€¼ã€‚ æŸäº›åµŒå…¥å¼ç¡¬ä»¶ä¹Ÿç¼ºå°‘ç”µæ± ä¾›ç”µçš„ RTCï¼Œå› æ­¤è¿”å›è‡ªä¸Šæ¬¡ä¸Šç”µæˆ–å…¶ä»–ç›¸å¯¹ç¡¬ä»¶ç‰¹å®šç‚¹ï¼ˆä¾‹å¦‚å¤ä½ï¼‰ä»¥æ¥çš„ç§’æ•°ã€‚ ### time.ticks() ç­‰åŒäº `time.ticks_ms` ### time.clock() è·å– `clock` å¯¹è±¡ #### è¿”å›å€¼ `clock` å¯¹è±¡ ## clock å¯¹è±¡ ç”± `time.clock()` è¿”å› ### clock.tick() è®°å½•å¼€å§‹æ—¶é—´ï¼ˆmsï¼‰ï¼Œ ä¸`clock.fps()`æ­é…ä½¿ç”¨å¯ä»¥è®¡ç®—`fps` #### è¿”å›å€¼ None ### clock.fps() æ ¹æ®ä¸Šä¸€ä¸ªè°ƒç”¨`clock.tick()`åˆ°ç°åœ¨çš„æ—¶é—´è®¡ç®—å‡ºå¸§ç‡ï¼ˆ`fps`ï¼‰ æ¯”å¦‚ï¼š ```python import sensor import time clock time.clock() sensor.reset() sensor.set_pixformat(sensor.RGB565) sensor.set_framesize(sensor.QVGA) while True: \tclock.tick() \tsensor.snapshot() \tprint(\"fps \",clock.fps()) ``` ### clock.reset() é‡ç½®æ‰€æœ‰æ ‡è®° ### clock.avg() æ ¹æ®ä¸Šä¸€ä¸ªè°ƒç”¨`clock.tick()`åˆ°ç°åœ¨çš„æ—¶é—´è®¡ç®—å‡ºæ¯å¸§æ¶ˆè€—çš„æ—¶é—´"},"/soft/maixpy/zh/api_reference/standard/ujson.html":{"title":"ujson â€“ JSON encoding and decoding","content":" title: ujson â€“ JSON encoding and decoding keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy ujson â€“ JSON encoding and decoding è¯¥æ¨¡å—å®ç°äº†ç›¸åº” CPython æ¨¡å—çš„å­é›†ï¼Œå¦‚ä¸‹æ‰€è¿°ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…åŸå§‹ CPython æ–‡æ¡£ï¼š[json](https://docs.python.org/3.5/library/json.html#module json). æ­¤æ¨¡å—å…è®¸åœ¨ Python å¯¹è±¡å’Œ JSON æ•°æ®æ ¼å¼ä¹‹é—´è¿›è¡Œè½¬æ¢ã€‚ ## å‡½æ•° ### dump ```python ujson.dump(obj, stream) ``` å°† `obj` åºåˆ—åŒ–åŒ–ä¸º JSON å­—ç¬¦ä¸²ï¼Œå°†å…¶å†™å…¥ç»™å®šçš„æµã€‚ ### dumps ```python ujson.dumps(obj) ``` è¿”å›è¡¨ç¤ºä¸º JSON å­—ç¬¦ä¸²çš„ `obj`ã€‚ ### load ```python ujson.load(stream) ``` è§£æç»™å®šçš„æµï¼Œå°†å…¶è§£é‡Šä¸º JSON å­—ç¬¦ä¸²å¹¶å°†æ•°æ®ååºåˆ—åŒ–ä¸º Python å¯¹è±¡ã€‚è¿”å›ç»“æœå¯¹è±¡ã€‚ è§£æç»§ç»­ï¼Œç›´åˆ°é‡åˆ°æ–‡ä»¶ç»“å°¾ã€‚å¦‚æœæœªæ­£ç¡®å½¢æˆæµä¸­çš„æ•°æ®ï¼Œåˆ™ä¼šå¼•å‘ ValueErrorã€‚ ### loads ```python ujson.loads(str) ``` è§£æJSON strå¹¶è¿”å›ä¸€ä¸ªå¯¹è±¡ã€‚å¦‚æœå­—ç¬¦ä¸²æ ¼å¼å‡ºé”™ï¼Œåˆ™å¼•å‘ValueErrorã€‚"},"/soft/maixpy/zh/api_reference/standard/index.html":{"title":"æ ‡å‡†åº“","content":" title: æ ‡å‡†åº“ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy æ ‡å‡†åº“ * [cmath](./cmath.html) * [gc](./gc.html) * [math](./math.html) * [sys](./sys.html) * [ubinascii](./ubinascii.html) * [ucollections](./ucollections.html) * [uctypes](./uctypes.html) * [uerrno](./uerrno.html) * [uhashlib](./uhashlib.html) * [uheapq](./uheapq.html) * [ujson](./ujson.html) * [uos](./uos.html) * [ure](./ure.html) * [uselect](./uselect.html) * [usocket](./usocket.html) * [ustruct](./ustruct.html) * [utime](./utime.html) * [uzlib](./uzlib.html)"},"/soft/maixpy/zh/api_reference/standard/math.html":{"title":"math â€“ æ•°å­¦å‡½æ•°","content":" title: math â€“ æ•°å­¦å‡½æ•° keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy math â€“ æ•°å­¦å‡½æ•° è¯¥æ¨¡å—å®ç°äº†ç›¸åº”CPythonæ¨¡å—çš„å­é›†ï¼Œå¦‚ä¸‹æ‰€è¿°ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…åŸå§‹CPythonæ–‡æ¡£ï¼š[math](https://docs.python.org/3.5/library/math.html#module math). `math`æ¨¡å—æä¾›äº†ä¸€äº›å¤„ç†æµ®ç‚¹æ•°çš„åŸºæœ¬æ•°å­¦å‡½æ•°ã€‚ ## å‡½æ•° ### math.acos(x) è¿”å›`x`çš„åä½™å¼¦å€¼ã€‚ ### math.acosh(x) è¿”å›`x`çš„ååŒæ›²ä½™å¼¦å€¼ã€‚ ### math.asin(x) è¿”å›`x`çš„åæ­£å¼¦ã€‚ ### math.asinh(x) è¿”å›`x`çš„ååŒæ›²æ­£å¼¦å€¼ã€‚ ### math.atan(x) è¿”å›`x`çš„åæ­£åˆ‡ã€‚ ### math.atan2(y, x) è¿”å›`y` /`x`çš„åæ­£åˆ‡çš„ä¸»å€¼ã€‚ ### math.atanh(x) è¿”å›`x`çš„ååŒæ›²æ­£åˆ‡ã€‚ ### math.ceil(x) è¿”å›ä¸€ä¸ªæ•´æ•°ï¼Œâ€œxâ€å‘æ­£æ— ç©·å¤§å››èˆäº”å…¥ã€‚ ### math.copysign(x, y) ä»¥`y`çš„ç¬¦å·è¿”å›`x`ã€‚ ### math.cos(x) è¿”å›`x`çš„ä½™å¼¦ã€‚ ### math.cosh(x) è¿”å›`x`çš„åŒæ›²ä½™å¼¦å€¼ ### math.degrees(x) è¿”å›å¼§åº¦`x`è½¬æ¢ä¸ºåº¦æ•°ã€‚ ### math.erf(x) è¿”å›`x`çš„é”™è¯¯å‡½æ•°ã€‚ ### math.erfc(x) è¿”å›`x`çš„äº’è¡¥è¯¯å·®å‡½æ•°ã€‚ ### math.exp(x) è¿”å›`x`çš„æŒ‡æ•°ã€‚ ### math.expm1(x) è¿”å›`expï¼ˆxï¼‰ 1`ã€‚ ### math.fabs(x) è¿”å›`x`çš„ç»å¯¹å€¼ã€‚ ### math.floor(x) è¿”å›ä¸€ä¸ªæ•´æ•°ï¼Œâ€œxâ€å‘è´Ÿæ— ç©·å¤§èˆå…¥ã€‚ ### math.fmod(x, y) è¿”å›`x` /`y`çš„ä½™æ•°ã€‚ ### math.frexp(x) å°†æµ®ç‚¹æ•°åˆ†è§£ä¸ºå°¾æ•°å’ŒæŒ‡æ•°ã€‚è¿”å›çš„å€¼æ˜¯å…ƒç»„`ï¼ˆmï¼Œeï¼‰`ï¼Œä½¿å¾—`x m * 2 ** e`å®Œå…¨æ­£ç¡®ã€‚å¦‚æœ`x 0`åˆ™å‡½æ•°è¿”å›`ï¼ˆ0.0,0ï¼‰`ï¼Œå¦åˆ™å…³ç³»`0.5 < absï¼ˆmï¼‰<1`æˆç«‹ã€‚ ### math.gamma(x) è¿”å›`x`çš„ä¼½ç›å‡½æ•°ã€‚ ### math.isfinite(x) å¦‚æœ`x`æ˜¯æœ‰é™çš„ï¼Œåˆ™è¿”å›Trueã€‚ ### math.isinf(x) å¦‚æœ`x`æ˜¯æ— é™çš„ï¼Œåˆ™è¿”å›Trueã€‚ ### math.isnan(x) å¦‚æœ`x`ä¸æ˜¯æ•°å­—ï¼Œåˆ™è¿”å›True ### math.ldexp(x, exp) è¿”å›`x *ï¼ˆ2 ** expï¼‰`ã€‚ ### math.lgamma(x) è¿”å›`x`çš„ä¼½ç›å‡½æ•°çš„è‡ªç„¶å¯¹æ•°ã€‚ ### math.log(x) è¿”å›`x`çš„è‡ªç„¶å¯¹æ•°ã€‚ ### math.log10(x) è¿”å›`x`çš„ä»¥10ä¸ºåº•çš„å¯¹æ•°ã€‚ ### math.log2(x) è¿”å›`x`çš„base 2å¯¹æ•°ã€‚ ### math.modf(x) è¿”å›ä¸¤ä¸ªæµ®ç‚¹æ•°çš„å…ƒç»„ï¼Œæ˜¯â€œxâ€çš„åˆ†æ•°å’Œæ•´æ•°éƒ¨åˆ†ã€‚ä¸¤ä¸ªè¿”å›å€¼éƒ½ä¸`x`å…·æœ‰ç›¸åŒçš„ç¬¦å·ã€‚ ### math.pow(x, y) å°†`x`è¿”å›åˆ°'y`çš„å¹‚ã€‚ ### math.radians(x) è¿”å›åº¦æ•°`x`è½¬æ¢ä¸ºå¼§åº¦ã€‚ ### math.sin(x) è¿”å›`x`çš„æ­£å¼¦å€¼ã€‚ ### math.sinh(x) è¿”å›`x`çš„åŒæ›²æ­£å¼¦å€¼ã€‚ ### math.sqrt(x) è¿”å›`x`çš„å¹³æ–¹æ ¹ã€‚ ### math.tan(x) è¿”å›`x`çš„æ­£åˆ‡å€¼ã€‚ ### math.tanh(x) è¿”å›`x`çš„åŒæ›²æ­£åˆ‡ã€‚ ### math.trunc(x) è¿”å›ä¸€ä¸ªæ•´æ•°ï¼Œâ€œxâ€å‘0èˆå…¥ã€‚ ## Constants ### math.e è‡ªç„¶å¯¹æ•°çš„åŸºç¡€ ### math.pi åœ†å‘¨é•¿ä¸ç›´å¾„çš„æ¯”å€¼"},"/soft/maixpy/zh/api_reference/standard/uheapq.html":{"title":"uheapq â€“ å †é˜Ÿåˆ—ç®—æ³•","content":" title: uheapq â€“ å †é˜Ÿåˆ—ç®—æ³• keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy uheapq â€“ å †é˜Ÿåˆ—ç®—æ³• è¯¥æ¨¡å—å®ç°äº†å¯¹åº” CPython æ¨¡å—çš„å­é›†ï¼Œå¦‚ä¸‹æ‰€è¿°ã€‚ æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…åŸå§‹CPythonæ–‡æ¡£ï¼š[heapq](https://docs.python.org/3.5/library/heapq.html#module heapq)ã€‚ è¯¥æ¨¡å—å®ç°å †é˜Ÿåˆ—ç®—æ³•ã€‚ å †é˜Ÿåˆ—åªæ˜¯ä¸€ä¸ªä»¥æŸç§æ–¹å¼å­˜å‚¨å…¶å…ƒç´ çš„åˆ—è¡¨ã€‚ ## å‡½æ•° ### heappush ```python uheapq.heappush(heap, item) ``` å°†å…ƒç´ æ”¾å…¥å †ã€‚ ### heappop ```python uheapq.heappop(heap) ``` å¼¹å‡ºå †ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œç„¶åå°†å…¶è¿”å›ã€‚ å¦‚æœheapä¸ºç©ºï¼Œåˆ™å¼•å‘`IndexError`ã€‚ ### heapify ```python uheapq.heapify(x) ``` å°†åˆ—è¡¨xè½¬æ¢ä¸ºå †ã€‚ è¿™æ˜¯ä¸€ä¸ª in placeï¼ˆåˆ’åˆ†äº¤æ¢æ’åºï¼‰æ“ä½œã€‚"},"/soft/maixpy/zh/api_reference/standard/ure.html":{"title":"ure â€“ ç®€å•çš„æ­£åˆ™è¡¨è¾¾å¼","content":" title: ure â€“ ç®€å•çš„æ­£åˆ™è¡¨è¾¾å¼ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy ure â€“ ç®€å•çš„æ­£åˆ™è¡¨è¾¾å¼ è¯¥æ¨¡å—å®ç°äº†ç›¸åº”CPythonæ¨¡å—çš„å­é›†ï¼Œå¦‚ä¸‹æ‰€è¿°ã€‚ æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…åŸå§‹CPythonæ–‡æ¡£ï¼š[re](https://docs.python.org/3.5/library/re.html#module re). è¯¥æ¨¡å—å®ç°äº†æ­£åˆ™è¡¨è¾¾å¼æ“ä½œã€‚ æ”¯æŒçš„æ­£åˆ™è¡¨è¾¾å¼è¯­æ³•æ˜¯CPython`re`æ¨¡å—çš„å­é›†ï¼ˆå®é™…ä¸Šæ˜¯POSIXæ‰©å±•æ­£åˆ™è¡¨è¾¾å¼çš„å­é›†ï¼‰ã€‚ ## æ”¯æŒçš„è¿ç®—ç¬¦å’Œç‰¹æ®Šåºåˆ— * `.` : åŒ¹é…ä»»ä½•å­—ç¬¦ã€‚ * `[...]` : åŒ¹é…å­—ç¬¦é›†ã€‚ æ”¯æŒå•ä¸ªå­—ç¬¦å’ŒèŒƒå›´ï¼ŒåŒ…æ‹¬å¦å®šé›†ï¼ˆä¾‹å¦‚`[^ a c]`ï¼‰ã€‚ * `^` : åŒ¹é…å­—ç¬¦ä¸²çš„å¼€å¤´ã€‚ * `$` : åŒ¹é…å­—ç¬¦ä¸²çš„ç»“å°¾ã€‚ * `?` : åŒ¹é…é›¶ä¸ªæˆ–å‰ä¸€ä¸ªå­æ¨¡å¼ä¹‹ä¸€ã€‚ * `*` : åŒ¹é…å‰ä¸€ä¸ªå­æ¨¡å¼çš„é›¶ä¸ªæˆ–å¤šä¸ªã€‚ * `+` : åŒ¹é…å‰ä¸€ä¸ªå­æ¨¡å¼ä¸­çš„ä¸€ä¸ªæˆ–å¤šä¸ªã€‚ * `??` : éè´ªå©ªç‰ˆçš„`ï¼Ÿ`ï¼ŒåŒ¹é…é›¶æˆ–ä¸€ï¼Œåå¥½ä¸ºé›¶ã€‚ * `*?` : `*`çš„éè´ªå©ªç‰ˆæœ¬ï¼ŒåŒ¹é…é›¶æˆ–æ›´å¤šï¼Œä¼˜å…ˆé€‰æ‹©æœ€çŸ­åŒ¹é…ã€‚ * `+?` : éè´ªå©ªçš„â€œ+â€ç‰ˆæœ¬ï¼ŒåŒ¹é…ä¸€ä¸ªæˆ–å¤šä¸ªï¼Œä¼˜å…ˆåŒ¹é…æœ€çŸ­ã€‚ * `` : åŒ¹é…æ­¤è¿ç®—ç¬¦çš„å·¦ä¾§æˆ–å³ä¾§å­æ¨¡å¼ã€‚ * `(...)` : åˆ†ç»„ã€‚ æ¯ä¸ªç»„éƒ½åœ¨æ•è·ï¼ˆå®ƒæ•è·çš„å­å­—ç¬¦ä¸²å¯ä»¥ä½¿ç”¨`match.groupï¼ˆï¼‰æ–¹æ³•è®¿é—®ï¼‰ã€‚ * `\\d` : åŒ¹é…æ•°å­—ã€‚ ç›¸å½“äº`[0 9]`ã€‚ * `\\D` : åŒ¹é…éæ•°å­—ã€‚ ç›¸å½“äº`[^ 0 9]`ã€‚ * `\\s` : * `\\S` : åŒ¹é…ç©ºç™½ã€‚ ç›¸å½“äº `[^ \\t \\r]`. * `\\w` : åŒ¹é…â€œå•è¯å­—ç¬¦â€ï¼ˆä»…é™ASCIIï¼‰ã€‚ ç›¸å½“äº `[A Za z0 9_]`. * `\\W` : åŒ¹é…éâ€œå•è¯å­—ç¬¦â€ï¼ˆä»…é™ASCIIï¼‰ã€‚ ç›¸å½“äº `[^A Za z0 9_]`. * `\\` : è½¬ä¹‰å­—ç¬¦ã€‚ é™¤äº†ä¸Šé¢åˆ—å‡ºçš„é‚£äº›ä¹‹å¤–ï¼Œåæ–œæ åé¢çš„ä»»ä½•å…¶ä»–å­—ç¬¦éƒ½æ˜¯å­—é¢æ„æ€ã€‚ ä¾‹å¦‚ï¼Œ`\\*`ç­‰åŒäºæ–‡å­—`*`ï¼ˆä¸è¢«è§†ä¸º`*`è¿ç®—ç¬¦ï¼‰ã€‚ è¯·æ³¨æ„ï¼Œ`\\r`ï¼Œ`\\nï¼Œ`ç­‰ä¸æ˜¯ä¸“é—¨å¤„ç†çš„ï¼Œå¹¶ä¸”ç›¸å½“äºæ–‡å­—å­—æ¯`r`ï¼Œ`n`ç­‰ã€‚å› æ­¤ï¼Œä¸å»ºè®®ä½¿ç”¨åŸå§‹Pythonå­—ç¬¦ä¸²ï¼ˆ`râ€œâ€`ï¼‰ç”¨äºæ­£åˆ™è¡¨è¾¾å¼ã€‚ ä¾‹å¦‚ï¼Œ`râ€œ\\r \\nâ€`ç”¨ä½œæ­£åˆ™è¡¨è¾¾å¼æ—¶ç›¸å½“äº`â€œrnâ€`ã€‚ è¦åŒ¹é…CRåè·ŸLFçš„å­—ç¬¦ï¼Œè¯·ä½¿ç”¨`\"\\r\\n\"`ã€‚ ## ä¸æ”¯æŒçš„è¡¨è¾¾å¼ * é‡å¤è®¡ç®— (`{m,n}`) * å‘½åç»„ (`(?P<name>...)`) * éæ•è·ç»„ (`(?:...)`) * æ›´é«˜çº§çš„æ–­è¨€ (`\\b, \\B`) * åƒ`\\r`ï¼Œ`\\n`è¿™æ ·çš„ç‰¹æ®Šå­—ç¬¦è½¬ä¹‰ ä½¿ç”¨Pythonè‡ªå·±çš„è½¬ä¹‰ * å…¶å®ƒ ä¾‹å­ï¼š ```python import ure # As ure doesn't support escapes itself, use of r\"\" strings is not # recommended. regex ure.compile(\"[\\r\\n]\") regex.split(\"line1\\rline2\\nline3\\r\\n\") # Result: # ['line1', 'line2', 'line3', '', ''] ``` ## æ–¹æ³• ### ure.compile(regex_str[, flags]) ç¼–è¯‘æ­£åˆ™è¡¨è¾¾å¼ï¼Œ è¿”å›[regex](http://docs.micropython.org/en/latest/library/ure.html?highlight ure#regex) å¯¹è±¡ã€‚ ### ure.match(regex_str, string) ç¼–è¯‘regex_strå¹¶åŒ¹é…å­—ç¬¦ä¸²ã€‚ åŒ¹é…å§‹ç»ˆä»å­—ç¬¦ä¸²ä¸­çš„èµ·å§‹ä½ç½®å¼€å§‹ã€‚ ### ure.search(regex_str, string) ç¼–è¯‘regex_strå¹¶åœ¨å­—ç¬¦ä¸²ä¸­æœç´¢å®ƒã€‚ ä¸`match`ä¸åŒï¼Œè¿™å°†æœç´¢å­—ç¬¦ä¸²ä»¥åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼çš„ç¬¬ä¸€ä¸ªä½ç½®ï¼ˆå¦‚æœæ­£åˆ™è¡¨è¾¾å¼è¢«é”šå®šï¼Œå®ƒä»ç„¶å¯ä»¥æ˜¯0ï¼‰ã€‚ ### ure.sub(regex_str, replace, string, count 0, flags 0) ç¼–è¯‘regex_strå¹¶åœ¨å­—ç¬¦ä¸²ä¸­æœç´¢å®ƒï¼Œç”¨replaceæ›¿æ¢æ‰€æœ‰åŒ¹é…é¡¹ï¼Œå¹¶è¿”å›æ–°å­—ç¬¦ä¸²ã€‚ replaceå¯ä»¥æ˜¯å­—ç¬¦ä¸²æˆ–å‡½æ•°ã€‚ å¦‚æœå®ƒæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆ`\\<number>`å’Œ`\\g<number>`å½¢å¼çš„è½¬ä¹‰åºåˆ—å¯ç”¨äºæ‰©å±•åˆ°ç›¸åº”çš„ç»„ï¼ˆæˆ–ä¸åŒ¹é…ç»„çš„ç©ºå­—ç¬¦ä¸²ï¼‰ã€‚ å¦‚æœreplaceæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œé‚£ä¹ˆå®ƒå¿…é¡»é‡‡ç”¨ä¸€ä¸ªå‚æ•°ï¼ˆåŒ¹é…ï¼‰å¹¶ä¸”åº”è¯¥è¿”å›ä¸€ä¸ªæ›¿æ¢å­—ç¬¦ä¸²ã€‚ å¦‚æœæŒ‡å®šäº†countå¹¶ä¸”éé›¶ï¼Œé‚£ä¹ˆåœ¨è¿›è¡Œè®¸å¤šæ›¿æ¢ä¹‹åï¼Œæ›¿æ¢å°†åœæ­¢ã€‚ flagså‚æ•°è¢«å¿½ç•¥ã€‚ æ³¨æ„ï¼šæ­¤å‡½æ•°çš„å¯ç”¨æ€§å–å†³äº`MicroPython port`ã€‚ ### ure.DEBUG æ ‡è®°å€¼ï¼Œæ˜¾ç¤ºæœ‰å…³å·²ç¼–è¯‘è¡¨è¾¾å¼çš„è°ƒè¯•ä¿¡æ¯ã€‚ ï¼ˆå¯ç”¨æ€§å–å†³äº`MicroPython ç§»æ¤å®ç°`ã€‚ï¼‰ ## Regex å¯¹è±¡ ç¼–è¯‘äº†çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚ ä½¿ç”¨`ure.compile()`åˆ›å»ºæ­¤ç±»çš„å®ä¾‹ã€‚ ### regex.match(string) regex.search(string) regex.sub(replace, string, count 0, flags 0) ç±»ä¼¼äºæ¨¡å—çº§å‡½æ•°`matchï¼ˆï¼‰`ï¼Œ`searchï¼ˆï¼‰`å’Œ`subï¼ˆï¼‰`ã€‚ å¦‚æœå°†ç›¸åŒçš„æ­£åˆ™è¡¨è¾¾å¼åº”ç”¨äºå¤šä¸ªå­—ç¬¦ä¸²ï¼Œåˆ™ä½¿ç”¨æ–¹æ³•ä¼šæ›´é«˜æ•ˆã€‚ ### regex.split(string, max_split 1) ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æ‹†åˆ†å­—ç¬¦ä¸²ã€‚ å¦‚æœç»™å‡º max_splitï¼Œåˆ™æŒ‡å®šè¦æ‰§è¡Œçš„æœ€å¤§æ‹†åˆ†æ•°ã€‚ è¿”å›å­—ç¬¦ä¸²åˆ—è¡¨ï¼ˆå¦‚æœæŒ‡å®šäº†ï¼Œåˆ™æœ€å¤šå¯ä»¥æœ‰ max_split + 1 ä¸ªå…ƒç´ ï¼‰ã€‚ ## Match å¯¹è±¡ åŒ¹é…`matchï¼ˆï¼‰`å’Œ`searchï¼ˆï¼‰`æ–¹æ³•è¿”å›çš„å¯¹è±¡ï¼Œå¹¶ä¼ é€’ç»™subï¼ˆï¼‰ä¸­çš„æ›¿æ¢å‡½æ•°ã€‚ ### match.group(index) è¿”å›åŒ¹é…ï¼ˆå­ï¼‰å­—ç¬¦ä¸²ã€‚ æ•´ä¸ªåŒ¹é…çš„ç´¢å¼•ä¸º0ï¼Œæ¯ä¸ªæ•è·ç»„çš„ç´¢å¼•ä¸º1å’Œæ›´é«˜ã€‚ ä»…æ”¯æŒæ•°å­—ç»„ã€‚ ### match.groups() è¿”å›åŒ…å«åŒ¹é…ç»„çš„æ‰€æœ‰å­ä¸²çš„å…ƒç»„ã€‚ æ³¨æ„ï¼šæ­¤æ–¹æ³•çš„å¯ç”¨æ€§å–å†³äº`MicroPython ç§»æ¤å®ç°`ã€‚ ### match.start([index]) match.end([index]) è¿”å›åŒ¹é…çš„å­å­—ç¬¦ä¸²ç»„çš„å¼€å¤´æˆ–ç»“å°¾çš„åŸå§‹å­—ç¬¦ä¸²ä¸­çš„ç´¢å¼•ã€‚ indexé»˜è®¤ä¸ºæ•´ä¸ªç»„ï¼Œå¦åˆ™å°†é€‰æ‹©ä¸€ä¸ªç»„ã€‚ æ³¨æ„ï¼šè¿™äº›æ–¹æ³•çš„å¯ç”¨æ€§å–å†³äº`MicroPython ç§»æ¤å®ç°`ã€‚ ### match.span([index]) è¿”å›2å…ƒç»„`ï¼ˆmatch.startï¼ˆindexï¼‰ï¼Œmatch.endï¼ˆindexï¼‰ï¼‰`ã€‚ æ³¨æ„ï¼šæ­¤æ–¹æ³•çš„å¯ç”¨æ€§å–å†³äº`MicroPython ç§»æ¤` æ˜¯å¦å®ç°ã€‚"},"/soft/maixpy/zh/api_reference/standard/ucollections.html":{"title":"ucollections â€“ é›†åˆå’Œå®¹å™¨ç±»å‹","content":" title: ucollections â€“ é›†åˆå’Œå®¹å™¨ç±»å‹ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy ucollections â€“ é›†åˆå’Œå®¹å™¨ç±»å‹ è¯¥æ¨¡å—å®ç°äº†ç›¸åº”CPythonæ¨¡å—çš„å­é›†ï¼Œå¦‚ä¸‹æ‰€è¿°ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…åŸå§‹CPythonæ–‡æ¡£ [collections](https://docs.python.org/3.5/library/collections.html#module collections). æ­¤æ¨¡å—å®ç°é«˜çº§é›†åˆå’Œå®¹å™¨ç±»å‹ä»¥ä¿å­˜/ç´¯ç§¯å„ç§å¯¹è±¡ã€‚ ## ç±» ### ucollections.deque(iterable, maxlen[, flags]) Dequesï¼ˆåŒç«¯é˜Ÿåˆ—ï¼‰æ˜¯ä¸€ä¸ªç±»ä¼¼åˆ—è¡¨çš„å®¹å™¨ï¼Œæ”¯æŒOï¼ˆ1ï¼‰è¿½åŠ å¹¶ä»åŒç«¯é˜Ÿåˆ—çš„ä»»ä¸€ä¾§å¼¹å‡ºã€‚ä½¿ç”¨ä»¥ä¸‹å‚æ•°åˆ›å»ºæ–°çš„dequesï¼š * iterableå¿…é¡»æ˜¯ç©ºå…ƒç»„ï¼Œå¹¶ä¸”æ–°çš„dequeè¢«åˆ›å»ºä¸ºç©ºã€‚ * å¿…é¡»æŒ‡å®šmaxlenï¼Œå¹¶ä¸”åŒç«¯é˜Ÿåˆ—å°†é™åˆ¶ä¸ºæ­¤æœ€å¤§é•¿åº¦ã€‚ä¸€æ—¦åŒç«¯é˜Ÿåˆ—å·²æ»¡ï¼Œæ·»åŠ çš„ä»»ä½•æ–°é¡¹ç›®å°†ä¸¢å¼ƒå¯¹æ–¹çš„é¡¹ç›®ã€‚ * æ·»åŠ é¡¹ç›®æ—¶ï¼Œå¯é€‰æ ‡å¿—å¯ä»¥ä¸º1ä»¥æ£€æŸ¥æº¢å‡ºã€‚ é™¤äº†æ”¯æŒboolå’Œlenä¹‹å¤–ï¼Œdequeå¯¹è±¡è¿˜æœ‰ä»¥ä¸‹æ–¹æ³•ï¼š #### `deque.append(x)` å°†`x`æ·»åŠ åˆ°åŒç«¯é˜Ÿåˆ—çš„å³ä¾§ã€‚å¦‚æœå¯ç”¨äº†æº¢å‡ºæ£€æŸ¥å¹¶ä¸”æ²¡æœ‰å‰©ä½™ç©ºé—´ï¼Œåˆ™å¼•å‘ IndexErrorã€‚ #### `deque.popleft()` ä»åŒç«¯é˜Ÿåˆ—çš„å·¦ä¾§ç§»é™¤å¹¶è¿”å›ä¸€ä¸ªé¡¹ç›®ã€‚å¦‚æœæ²¡æœ‰é¡¹ç›®ï¼Œåˆ™å¼•å‘ IndexErrorã€‚ ### ucollections.namedtuple(name, fields) è¿™æ˜¯å·¥å‚å‡½æ•°ï¼Œç”¨äºåˆ›å»ºå…·æœ‰ç‰¹å®šåç§°å’Œå­—æ®µé›†çš„æ–°çš„namedtupleç±»å‹ã€‚ namedtupleæ˜¯å…ƒç»„çš„å­ç±»ï¼Œå®ƒä¸ä»…å¯ä»¥é€šè¿‡æ•°å­—ç´¢å¼•è®¿é—®å…¶å­—æ®µï¼Œè¿˜å¯ä»¥ä½¿ç”¨ç¬¦å·å­—æ®µåç§°è®¿é—®å±æ€§è®¿é—®è¯­æ³•ã€‚ Fieldsæ˜¯æŒ‡å®šå­—æ®µåç§°çš„å­—ç¬¦ä¸²åºåˆ—ã€‚ä¸ºäº†ä¸CPythonå…¼å®¹ï¼Œå®ƒä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªä»¥ç©ºæ ¼åˆ†éš”çš„å­—æ®µå‘½åçš„å­—ç¬¦ä¸²ï¼ˆä½†æ•ˆç‡è¾ƒä½ï¼‰ã€‚ä½¿ç”¨ç¤ºä¾‹ï¼š ```python from ucollections import namedtuple MyTuple namedtuple(\"MyTuple\", (\"id\", \"name\")) t1 MyTuple(1, \"foo\") t2 MyTuple(2, \"bar\") print(t1.name) assert t2.name t2[1] ``` ### ucollections.OrderedDict(...) `dict`ç±»å‹å­ç±»ï¼Œå®ƒè®°ä½å¹¶ä¿ç•™æ·»åŠ çš„é”®çš„é¡ºåºã€‚å½“è¿­ä»£å‘½ä»¤dictæ—¶ï¼ŒæŒ‰ç…§æ·»åŠ çš„é¡ºåºè¿”å›é”®/é¡¹ï¼š ```python from ucollections import OrderedDict # To make benefit of ordered keys, OrderedDict should be initialized # from sequence of (key, value) pairs. d OrderedDict([(\"z\", 1), (\"a\", 2)]) # More items can be added as usual d[\"w\"] 5 d[\"b\"] 3 for k, v in d.items(): print(k, v) ``` Output: ```python z 1 a 2 w 5 b 3 ```"},"/soft/maixpy/zh/api_reference/standard/usocket.html":{"title":"usocket â€“ å¥—æ¥å­—æ¨¡å—","content":" title: usocket â€“ å¥—æ¥å­—æ¨¡å— keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy usocket â€“ å¥—æ¥å­—æ¨¡å— è¯¥æ¨¡å—å®ç°äº†ç›¸åº”CPythonæ¨¡å—çš„å­é›†ï¼Œå¦‚ä¸‹æ‰€è¿°ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…åŸå§‹CPythonæ–‡æ¡£: [socket](https://docs.python.org/3.5/library/socket.html#module socket). è¯¥æ¨¡å—æä¾›å¯¹BSDå¥—æ¥å­—æ¥å£çš„è®¿é—® > **ä¸CPythonçš„åŒºåˆ«** > ä¸ºäº†æé«˜æ•ˆç‡å’Œä¸€è‡´æ€§ï¼ŒMicroPythonä¸­çš„å¥—æ¥å­—å¯¹è±¡ç›´æ¥å®ç°äº†`stream`ï¼ˆç±»æ–‡ä»¶ï¼‰æ¥å£ã€‚åœ¨CPythonä¸­ï¼Œæ‚¨éœ€è¦ä½¿ç”¨`makefileï¼ˆï¼‰`æ–¹æ³•å°†å¥—æ¥å­—è½¬æ¢ä¸ºç±»æ–‡ä»¶å¯¹è±¡ã€‚ MicroPythonä»æ”¯æŒæ­¤æ–¹æ³•ï¼ˆä½†æ˜¯æ— æ“ä½œï¼‰ï¼Œå› æ­¤åœ¨ä¸CPythonå…¼å®¹çš„æƒ…å†µä¸‹ï¼Œè¯·åŠ¡å¿…ä½¿ç”¨å®ƒã€‚ ## å¥—æ¥å­—åœ°å€æ ¼å¼ `usocket`æ¨¡å—çš„æœ¬æœºå¥—æ¥å­—åœ°å€æ ¼å¼æ˜¯getaddrinfoå‡½æ•°è¿”å›çš„ä¸é€æ˜æ•°æ®ç±»å‹ï¼Œå¿…é¡»ç”¨å®ƒæ¥è§£ææ–‡æœ¬åœ°å€ï¼ˆåŒ…æ‹¬æ•°å­—åœ°å€ï¼‰ï¼š ```python sockaddr usocket.getaddrinfo('www.micropython.org', 80)[0][ 1] # You must use getaddrinfo() even for numeric addresses sockaddr usocket.getaddrinfo('127.0.0.1', 80)[0][ 1] # Now you can use that address sock.connect(addr) ``` ä½¿ç”¨`getaddrinfo`æ˜¯æœ€æœ‰æ•ˆçš„ï¼ˆåœ¨å†…å­˜å’Œå¤„ç†èƒ½åŠ›æ–¹é¢ï¼‰ï¼Œè€Œä¸”ä¹Ÿæ˜¯ä½¿ç”¨åœ°å€çš„å¯ç§»æ¤æ–¹å¼ã€‚ ä½†æ˜¯ï¼Œ`socket`æ¨¡å—ï¼ˆæ³¨æ„ä¸æ­¤å¤„æè¿°çš„æœ¬æœºMicroPython`usocket`æ¨¡å—çš„åŒºåˆ«ï¼‰æä¾›äº†ä¸CPythonå…¼å®¹çš„æ–¹å¼æ¥ä½¿ç”¨å…ƒç»„æŒ‡å®šåœ°å€ï¼Œå¦‚ä¸‹æ‰€è¿°ã€‚è¯·æ³¨æ„ï¼Œå–å†³äº`MicroPythonç«¯å£`ï¼Œå¯ä»¥åœ¨å†…ç½®æˆ–éœ€è¦ä»`micropython lib`å®‰è£…å¥—æ¥å­—æ¨¡å—ï¼ˆå¦‚â€œMicroPython Unixç«¯å£â€çš„æƒ…å†µï¼‰ï¼Œå¹¶ä¸”æŸäº›ç«¯å£ä»ç„¶åªæ¥å—å…ƒç»„ä¸­çš„æ•°å­—åœ°å€æ ¼å¼ï¼Œå¹¶è¦æ±‚ä½¿ç”¨`getaddrinfo`å‡½æ•°æ¥è§£æåŸŸåã€‚ æ€»çš„æ¥è¯´ï¼š * ç¼–å†™ä¾¿æºå¼åº”ç”¨ç¨‹åºæ—¶å§‹ç»ˆä½¿ç”¨`getaddrinfo`ã€‚ * å¦‚æœæ‚¨çš„ç«¯å£æ”¯æŒå¿«é€Ÿé»‘å®¢å’Œäº¤äº’å¼ä½¿ç”¨ï¼Œåˆ™ä¸‹é¢æè¿°çš„å…ƒç»„åœ°å€å¯ç”¨ä½œå¿«æ·æ–¹å¼ã€‚ `socket`æ¨¡å—çš„å…ƒç»„åœ°å€æ ¼å¼ï¼š * IPv4ï¼šï¼ˆipv4_addressï¼Œportï¼‰ï¼Œå…¶ä¸­ipv4_addressæ˜¯å¸¦æœ‰ç‚¹ç¬¦å·æ•°å­—IPv4åœ°å€çš„å­—ç¬¦ä¸²ï¼Œä¾‹å¦‚ï¼Œ â€œ8.8.8.8â€ï¼Œç«¯å£å·å’Œæ•´æ•°ç«¯å£å·åœ¨1 65535èŒƒå›´å†…ã€‚è¯·æ³¨æ„ï¼ŒåŸŸåä¸è¢«æ¥å—ä¸ºipv4_addressï¼Œåº”é¦–å…ˆä½¿ç”¨usocket.getaddrinfoï¼ˆï¼‰è§£æå®ƒä»¬ã€‚ * IPv6ï¼šï¼ˆipv6_addressï¼Œportï¼Œflowinfoï¼Œscopeidï¼‰ï¼Œå…¶ä¸­ipv6_addressæ˜¯å¸¦å†’å·æ•°å­—IPv6åœ°å€çš„å­—ç¬¦ä¸²ï¼Œä¾‹å¦‚ï¼š `â€œ2001ï¼šdb8 :: 1â€`ï¼Œportæ˜¯1 65535èŒƒå›´å†…çš„æ•´æ•°ç«¯å£å·ã€‚ flowinfoå¿…é¡»ä¸º0. scopeidæ˜¯é“¾è·¯æœ¬åœ°åœ°å€çš„æ¥å£èŒƒå›´æ ‡è¯†ç¬¦ã€‚è¯·æ³¨æ„ï¼ŒåŸŸåä¸è¢«æ¥å—ä¸ºipv6_addressï¼Œåº”é¦–å…ˆä½¿ç”¨`usocket.getaddrinfoï¼ˆï¼‰`è§£æå®ƒä»¬ã€‚ IPv6æ”¯æŒçš„å¯ç”¨æ€§å–å†³äº`MicroPythonç«¯å£`ã€‚ ## æ–¹æ³• ### usocket.socket(af AF_INET, type SOCK_STREAM, proto IPPROTO_TCP) ä½¿ç”¨ç»™å®šçš„åœ°å€ç³»åˆ—ï¼Œå¥—æ¥å­—ç±»å‹å’Œåè®®å·åˆ›å»ºä¸€ä¸ªæ–°å¥—æ¥å­—ã€‚è¯·æ³¨æ„ï¼Œåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ä¸éœ€è¦æŒ‡å®šprotoï¼ˆä¸æ¨èä½¿ç”¨ï¼Œå› ä¸ºä¸€äº›MicroPythonç«¯å£å¯èƒ½ä¼šçœç•¥`IPPROTO_ *`å¸¸é‡ï¼‰ã€‚ç›¸åï¼Œtypeå‚æ•°å°†è‡ªåŠ¨é€‰æ‹©æ‰€éœ€çš„åè®®ï¼š ```python # Create STREAM TCP socket socket(AF_INET, SOCK_STREAM) # Create DGRAM UDP socket socket(AF_INET, SOCK_DGRAM) ``` ### usocket.getaddrinfo(host, port, af 0, type 0, proto 0, flags 0) å°† host / port å‚æ•°è½¬æ¢ä¸º5å…ƒç»„åºåˆ—ï¼Œå…¶ä¸­åŒ…å«ç”¨äºåˆ›å»ºè¿æ¥åˆ°è¯¥æœåŠ¡çš„å¥—æ¥å­—çš„æ‰€æœ‰å¿…è¦å‚æ•°ã€‚å‚æ•°afï¼Œtypeå’Œprotoï¼ˆä¸`socketï¼ˆï¼‰`å‡½æ•°å…·æœ‰ç›¸åŒçš„å«ä¹‰ï¼‰å¯ç”¨äºè¿‡æ»¤è¿”å›å“ªç§åœ°å€ã€‚å¦‚æœæœªæŒ‡å®šå‚æ•°æˆ–ä¸ºé›¶ï¼Œåˆ™å¯ä»¥è¿”å›æ‰€æœ‰åœ°å€ç»„åˆï¼ˆéœ€è¦åœ¨ç”¨æˆ·ç«¯è¿›è¡Œè¿‡æ»¤ï¼‰ã€‚ ç”Ÿæˆçš„5å…ƒç»„åˆ—è¡¨å…·æœ‰ä»¥ä¸‹ç»“æ„ï¼š ```python (family, type, proto, canonname, sockaddr) ``` ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºå¦‚ä½•è¿æ¥åˆ°ç»™å®šçš„URLï¼š ```python s usocket.socket() # This assumes that if \"type\" is not specified, an address for # SOCK_STREAM will be returned, which may be not true s.connect(usocket.getaddrinfo('www.micropython.org', 80)[0][ 1]) ``` å»ºè®®ä½¿ç”¨è¿‡æ»¤å‚æ•°ï¼š ```python s usocket.socket() # Guaranteed to return an address which can be connect'ed to for # stream operation. s.connect(usocket.getaddrinfo('www.micropython.org', 80, 0, SOCK_STREAM)[0][ 1]) ``` > ä¸CPythonçš„åŒºåˆ« > å¦‚æœæ­¤å‡½æ•°å‡ºé”™ï¼ŒCPythonä¼šå¼•å‘`socket.gaierror`å¼‚å¸¸ï¼ˆ`OSError`å­ç±»ï¼‰ã€‚ MicroPythonæ²¡æœ‰`socket.gaierror`å¹¶ç›´æ¥å¼•å‘OSErrorã€‚è¯·æ³¨æ„ï¼Œ`getaddrinfoï¼ˆï¼‰`çš„é”™è¯¯å·å½¢æˆä¸€ä¸ªå•ç‹¬çš„å‘½åç©ºé—´ï¼Œå¯èƒ½ä¸`uerrno`æ¨¡å—ä¸­çš„é”™è¯¯å·ä¸åŒ¹é…ã€‚ä¸ºäº†åŒºåˆ†`getaddrinfoï¼ˆï¼‰`é”™è¯¯ï¼Œå®ƒä»¬ç”¨è´Ÿæ•°è¡¨ç¤ºï¼Œè€Œæ ‡å‡†ç³»ç»Ÿé”™è¯¯æ˜¯æ­£æ•°ï¼ˆé”™è¯¯å·å¯ä»¥ä½¿ç”¨æ¥è‡ªå¼‚å¸¸å¯¹è±¡çš„`e.args [0]`å±æ€§è®¿é—®ï¼‰ã€‚ä½¿ç”¨è´Ÿå€¼æ˜¯ä¸´æ—¶ç»†èŠ‚ï¼Œå¯èƒ½åœ¨å°†æ¥å‘ç”Ÿå˜åŒ–ã€‚ ### usocket.inet_ntop(af, bin_addr) å°†ç»™å®šåœ°å€æ—afçš„äºŒè¿›åˆ¶ç½‘ç»œåœ°å€bin_addrè½¬æ¢ä¸ºæ–‡æœ¬è¡¨ç¤ºï¼š ```python >>> usocket.inet_ntop(usocket.AF_INET, b\"\\x7f\\0\\0\\1\") '127.0.0.1' ``` ### usocket.inet_pton(af, txt_addr) å°†ç»™å®šåœ°å€æ—afçš„æ–‡æœ¬ç½‘ç»œåœ°å€txt_addrè½¬æ¢ä¸ºäºŒè¿›åˆ¶è¡¨ç¤ºï¼š ```python >>> usocket.inet_pton(usocket.AF_INET, \"1.2.3.4\") b'\\x01\\x02\\x03\\x04' ``` ## å¸¸é‡ ### usocket.AF_INET usocket.AF_INET6 è§£å†³å®¶åº­ç±»å‹ã€‚å¯ç”¨æ€§å–å†³äºç‰¹å®šçš„`MicroPythonç«¯å£`ã€‚ ### usocket.SOCK_STREAM usocket.SOCK_DGRAM å¥—æ¥å­—ç±»å‹ã€‚ ### usocket.IPPROTO_UDP usocket.IPPROTO_TCP IPåè®®å·ã€‚å¯ç”¨æ€§å–å†³äºç‰¹å®šçš„`MicroPythonç«¯å£`ã€‚æ³¨æ„ï¼Œåœ¨è°ƒç”¨`usocket.socketï¼ˆï¼‰`æ—¶ä¸éœ€è¦æŒ‡å®šå®ƒä»¬ï¼Œå› ä¸º`SOCK_STREAM`å¥—æ¥å­—ç±»å‹ä¼šè‡ªåŠ¨é€‰æ‹©`IPPROTO_TCP`å’Œ`SOCK_DGRAM` `IPPROTO_UDP`ã€‚å› æ­¤ï¼Œè¿™äº›å¸¸é‡çš„å”¯ä¸€å®é™…ç”¨é€”æ˜¯ä½œä¸º`setsockoptï¼ˆï¼‰`çš„å‚æ•°ã€‚ ### usocket.SOL_* å¥—æ¥å­—é€‰é¡¹çº§åˆ«ï¼ˆ`setsockoptï¼ˆï¼‰`çš„å‚æ•°ï¼‰ã€‚ç¡®åˆ‡çš„åº“å­˜å–å†³äº`MicroPythonç«¯å£`ã€‚ ### usocket.SO_* å¥—æ¥å­—é€‰é¡¹ï¼ˆ`setsockoptï¼ˆï¼‰`çš„å‚æ•°ï¼‰ã€‚ç¡®åˆ‡çš„åº“å­˜å–å†³äº`MicroPythonç«¯å£`ã€‚ ## ç±» socket ### æ–¹æ³• #### socket.close() æ ‡è®°å¥—æ¥å­—å·²å…³é—­å¹¶é‡Šæ”¾æ‰€æœ‰èµ„æºã€‚ä¸€æ—¦å‘ç”Ÿè¿™ç§æƒ…å†µï¼Œå¥—æ¥å­—å¯¹è±¡ä¸Šçš„æ‰€æœ‰æœªæ¥æ“ä½œéƒ½å°†å¤±è´¥ã€‚å¦‚æœåè®®æ”¯æŒï¼Œè¿œç¨‹ç«¯å°†æ¥æ”¶EOFæŒ‡ç¤ºã€‚ å¥—æ¥å­—åœ¨è¢«åƒåœ¾æ”¶é›†æ—¶ä¼šè‡ªåŠ¨å…³é—­ï¼Œä½†å»ºè®®ä½ åœ¨å®Œæˆå®ƒä»¬ä¹‹åç«‹å³â€œå…³é—­â€å®ƒä»¬ã€‚ #### (maixpy æœªå®ç°)socket.bind(address) å°†å¥—æ¥å­—ç»‘å®šåˆ°åœ°å€ã€‚å¥—æ¥å­—å¿…é¡»å°šæœªç»‘å®šã€‚ #### (maixpy æœªå®ç°)socket.listen([backlog]) ä½¿æœåŠ¡å™¨æ¥å—è¿æ¥ã€‚å¦‚æœæŒ‡å®šäº†ç§¯å‹ï¼Œåˆ™å¿…é¡»è‡³å°‘ä¸º0ï¼ˆå¦‚æœä½ï¼Œåˆ™å°†å…¶è®¾ç½®ä¸º0ï¼‰;å¹¶æŒ‡å®šåœ¨æ‹’ç»æ–°è¿æ¥ä¹‹å‰ç³»ç»Ÿå°†å…è®¸çš„æœªæ¥å—è¿æ¥æ•°ã€‚å¦‚æœæœªæŒ‡å®šï¼Œåˆ™é€‰æ‹©é»˜è®¤çš„åˆç†å€¼ã€‚ #### (maixpy æœªå®ç°)socket.accept() æ¥å—è¿æ¥ã€‚å¥—æ¥å­—å¿…é¡»ç»‘å®šåˆ°ä¸€ä¸ªåœ°å€å¹¶ä¾¦å¬è¿æ¥ã€‚è¿”å›å€¼æ˜¯ä¸€å¯¹ï¼ˆconnï¼Œaddressï¼‰ï¼Œå…¶ä¸­connæ˜¯å¯ç”¨äºåœ¨è¿æ¥ä¸Šå‘é€å’Œæ¥æ”¶æ•°æ®çš„æ–°å¥—æ¥å­—å¯¹è±¡ï¼Œaddressæ˜¯ç»‘å®šåˆ°è¿æ¥å¦ä¸€ç«¯çš„å¥—æ¥å­—çš„åœ°å€ã€‚ #### socket.connect(address) è¿æ¥åˆ°åœ°å€å¤„çš„è¿œç¨‹å¥—æ¥å­—ã€‚ #### socket.send(bytes) å°†æ•°æ®å‘é€åˆ°å¥—æ¥å­—ã€‚å¥—æ¥å­—å¿…é¡»è¿æ¥åˆ°è¿œç¨‹å¥—æ¥å­—ã€‚è¿”å›å‘é€çš„å­—èŠ‚æ•°ï¼Œå¯èƒ½å°äºæ•°æ®é•¿åº¦ï¼ˆâ€œçŸ­å†™â€ï¼‰ã€‚ #### socket.sendall(bytes) å°†æ‰€æœ‰æ•°æ®å‘é€åˆ°å¥—æ¥å­—ã€‚å¥—æ¥å­—å¿…é¡»è¿æ¥åˆ°è¿œç¨‹å¥—æ¥å­—ã€‚ä¸`sendï¼ˆï¼‰`ä¸åŒï¼Œæ­¤æ–¹æ³•å°†å°è¯•é€šè¿‡è¿ç»­å‘é€æ•°æ®å—æ¥å‘é€æ‰€æœ‰æ•°æ®ã€‚ æ­¤æ–¹æ³•åœ¨éé˜»å¡å¥—æ¥å­—ä¸Šçš„è¡Œä¸ºæœªå®šä¹‰ã€‚å› æ­¤ï¼Œåœ¨MicroPythonä¸Šï¼Œå»ºè®®ä½¿ç”¨`writeï¼ˆï¼‰`æ–¹æ³•ï¼Œå®ƒå…·æœ‰ç›¸åŒçš„â€œæ— çŸ­å†™å…¥â€ç­–ç•¥æ¥é˜»å¡å¥—æ¥å­—ï¼Œå¹¶å°†è¿”å›åœ¨éé˜»å¡å¥—æ¥å­—ä¸Šå‘é€çš„å­—èŠ‚æ•°ã€‚ #### socket.recv(bufsize) ä»å¥—æ¥å­—æ¥æ”¶æ•°æ®ã€‚è¿”å›å€¼æ˜¯è¡¨ç¤ºæ¥æ”¶æ•°æ®çš„å­—èŠ‚å¯¹è±¡ã€‚ä¸€æ¬¡æ¥æ”¶çš„æœ€å¤§æ•°æ®é‡ç”±bufsizeæŒ‡å®šã€‚ #### socket.sendto(bytes, address) å°†æ•°æ®å‘é€åˆ°å¥—æ¥å­—ã€‚å¥—æ¥å­—ä¸åº”è¿æ¥åˆ°è¿œç¨‹å¥—æ¥å­—ï¼Œå› ä¸ºç›®æ ‡å¥—æ¥å­—ç”±åœ°å€æŒ‡å®šã€‚ #### socket.recvfrom(bufsize) ä»å¥—æ¥å­—æ¥æ”¶æ•°æ®ã€‚è¿”å›å€¼æ˜¯ä¸€å¯¹ï¼ˆå­—èŠ‚ï¼Œåœ°å€ï¼‰ï¼Œå…¶ä¸­bytesæ˜¯è¡¨ç¤ºæ¥æ”¶æ•°æ®çš„å­—èŠ‚å¯¹è±¡ï¼Œaddressæ˜¯å‘é€æ•°æ®çš„å¥—æ¥å­—çš„åœ°å€ã€‚ #### socket.setsockopt(level, optname, value) è®¾ç½®ç»™å®šå¥—æ¥å­—é€‰é¡¹çš„å€¼ã€‚æ‰€éœ€çš„ç¬¦å·å¸¸é‡åœ¨å¥—æ¥å­—æ¨¡å—ä¸­å®šä¹‰ï¼ˆSO_ *ç­‰ï¼‰ã€‚è¯¥å€¼å¯ä»¥æ˜¯æ•´æ•°æˆ–è¡¨ç¤ºç¼“å†²åŒºçš„ç±»å­—èŠ‚å¯¹è±¡ã€‚ #### socket.settimeout(value) æ³¨æ„ï¼šå¹¶éæ¯ä¸ªç«¯å£éƒ½æ”¯æŒæ­¤æ–¹æ³•ï¼Œè¯·å‚é˜…ä¸‹æ–‡ã€‚ é˜»æ­¢å¥—æ¥å­—æ“ä½œè®¾ç½®è¶…æ—¶ã€‚ valueå‚æ•°å¯ä»¥æ˜¯è¡¨ç¤ºç§’çš„éè´Ÿæµ®ç‚¹æ•°ï¼Œä¹Ÿå¯ä»¥æ˜¯Noneã€‚å¦‚æœç»™å‡ºéé›¶å€¼ï¼Œåˆ™å¦‚æœåœ¨æ“ä½œå®Œæˆä¹‹å‰å·²ç»è¿‡äº†è¶…æ—¶æ—¶é—´å€¼ï¼Œåˆ™åç»­çš„å¥—æ¥å­—æ“ä½œå°†å¼•å‘â€œOSErrorâ€å¼‚å¸¸ã€‚å¦‚æœç»™å‡ºé›¶ï¼Œåˆ™å¥—æ¥å­—å¤„äºéé˜»å¡æ¨¡å¼ã€‚å¦‚æœç»™å‡ºNoneï¼Œåˆ™å¥—æ¥å­—å¤„äºé˜»å¡æ¨¡å¼ã€‚ å¹¶éæ¯ä¸ªâ€œMicroPythonç«¯å£â€éƒ½æ”¯æŒæ­¤æ–¹æ³•ã€‚æ›´ä¾¿æºå’Œé€šç”¨çš„è§£å†³æ–¹æ¡ˆæ˜¯ä½¿ç”¨`uselect.poll`å¯¹è±¡ã€‚è¿™å…è®¸åŒæ—¶ç­‰å¾…å¤šä¸ªå¯¹è±¡ï¼ˆè€Œä¸ä»…ä»…æ˜¯åœ¨å¥—æ¥å­—ä¸Šï¼Œè€Œæ˜¯åœ¨æ”¯æŒè½®è¯¢çš„é€šç”¨`stream`å¯¹è±¡ä¸Šï¼‰ã€‚ä¾‹ï¼š ```python # Instead of: s.settimeout(1.0) # time in seconds s.read(10) # may timeout # Use: poller uselect.poll() poller.register(s, uselect.POLLIN) res poller.poll(1000) # time in milliseconds if not res: # s is still not ready for input, i.e. operation timed out ``` > ä¸CPythonçš„åŒºåˆ« > CPythonåœ¨è¶…æ—¶çš„æƒ…å†µä¸‹å¼•å‘`socket.timeout`å¼‚å¸¸ï¼Œè¿™æ˜¯ä¸€ä¸ªOSErrorå­ç±»ã€‚ MicroPythonç›´æ¥å¼•å‘äº†ä¸€ä¸ª`OSError`ã€‚å¦‚æœä½ ä½¿ç”¨`é™¤äº†OSError`ï¼šæ¥æ•è·å¼‚å¸¸ï¼Œä½ çš„ä»£ç å°†åœ¨MicroPythonå’ŒCPythonä¸­éƒ½æœ‰æ•ˆã€‚ #### socket.setblocking(flag) è®¾ç½®å¥—æ¥å­—çš„é˜»å¡æˆ–éé˜»å¡æ¨¡å¼ï¼šå¦‚æœflagä¸ºfalseï¼Œåˆ™å¥—æ¥å­—è®¾ç½®ä¸ºéé˜»å¡ï¼Œå¦åˆ™è®¾ç½®ä¸ºé˜»å¡æ¨¡å¼ã€‚ è¿™ä¸ªæ–¹æ³•æ˜¯æŸäº›`settimeoutï¼ˆï¼‰`è°ƒç”¨çš„ç®€å†™ï¼š `sock.setblocking(True)` ç›¸å½“äº`sock.settimeout(None)` `sock.setblocking(False)` iç›¸å½“äº `sock.settimeout(0)` #### socket.makefile(mode 'rb', buffering 0) è¿”å›ä¸å¥—æ¥å­—å…³è”çš„æ–‡ä»¶å¯¹è±¡ã€‚ç¡®åˆ‡çš„è¿”å›ç±»å‹å–å†³äºç»™makefileï¼ˆï¼‰çš„å‚æ•°ã€‚æ”¯æŒä»…é™äºäºŒè¿›åˆ¶æ¨¡å¼ï¼ˆ'rb'ï¼Œ'wb'å’Œ'rwb'ï¼‰ã€‚ CPythonçš„å‚æ•°ï¼šä¸æ”¯æŒç¼–ç ï¼Œé”™è¯¯å’Œæ¢è¡Œç¬¦ã€‚ > ä¸CPythonçš„åŒºåˆ« > ç”±äºMicroPythonä¸æ”¯æŒç¼“å†²æµï¼Œå› æ­¤å¿½ç•¥ç¼“å†²å‚æ•°çš„å€¼ï¼Œå¹¶å°†å…¶è§†ä¸º0ï¼ˆæ— ç¼“å†²ï¼‰ã€‚ > ä¸CPythonçš„åŒºåˆ« > å…³é—­makefileï¼ˆï¼‰è¿”å›çš„æ–‡ä»¶å¯¹è±¡ä¹Ÿå°†å…³é—­åŸå§‹å¥—æ¥å­—ã€‚ #### socket.read([size]) ä»æ’æ§½ä¸­è¯»å–å¤§å°å­—èŠ‚ã€‚è¿”å›ä¸€ä¸ªå­—èŠ‚å¯¹è±¡ã€‚å¦‚æœæ²¡æœ‰ç»™å‡ºå¤§å°ï¼Œå®ƒä¼šè¯»å–æ’åº§ä¸­å¯ç”¨çš„æ‰€æœ‰æ•°æ®ï¼Œç›´åˆ°EOF;å› æ­¤ï¼Œåœ¨å¥—æ¥å­—å…³é—­ä¹‹å‰ï¼Œè¯¥æ–¹æ³•ä¸ä¼šè¿”å›ã€‚æ­¤å‡½æ•°å°è¯•è¯»å–æ‰€è¯·æ±‚çš„æ•°æ®ï¼ˆæ²¡æœ‰â€œçŸ­è¯»å–â€ï¼‰ã€‚ä½†æ˜¯ï¼Œå¯¹äºéé˜»å¡å¥—æ¥å­—ï¼Œè¿™å¯èƒ½æ˜¯ä¸å¯èƒ½çš„ï¼Œç„¶åå°†è¿”å›æ›´å°‘çš„æ•°æ®ã€‚ #### socket.readinto(buf[, nbytes]) å°†å­—èŠ‚è¯»å…¥bufã€‚å¦‚æœæŒ‡å®šäº†nbytesï¼Œåˆ™æœ€å¤šè¯»å–å¤šä¸ªå­—èŠ‚ã€‚å¦åˆ™ï¼Œæœ€å¤šè¯»å–lenï¼ˆbufï¼‰å­—èŠ‚ã€‚å°±åƒreadï¼ˆï¼‰ä¸€æ ·ï¼Œæ­¤æ–¹æ³•éµå¾ªâ€œæ— çŸ­è¯»â€ç­–ç•¥ã€‚ è¿”å›å€¼ï¼šè¯»å–å¹¶å­˜å‚¨åˆ°bufä¸­çš„å­—èŠ‚æ•°ã€‚ #### socket.readline() è¯»ä¸€è¡Œï¼Œä»¥æ¢è¡Œç¬¦ç»“å°¾ã€‚ è¿”å›å€¼ï¼šè¯»å–çš„è¡Œã€‚ #### socket.write(buf) å°†å­—èŠ‚ç¼“å†²åŒºå†™å…¥å¥—æ¥å­—ã€‚æ­¤å‡½æ•°å°†å°è¯•å°†æ‰€æœ‰æ•°æ®å†™å…¥å¥—æ¥å­—ï¼ˆæ— â€œçŸ­å†™â€ï¼‰ã€‚ä½†æ˜¯ï¼Œå¯¹äºéé˜»å¡å¥—æ¥å­—ï¼Œè¿™å¯èƒ½æ˜¯ä¸å¯èƒ½çš„ï¼Œå¹¶ä¸”è¿”å›å€¼å°†å°äºbufçš„é•¿åº¦ã€‚ è¿”å›å€¼ï¼šå†™å…¥çš„å­—èŠ‚æ•°ã€‚ #### exception usocket.error MicroPythonæ²¡æœ‰æ­¤å¼‚å¸¸ã€‚ > ä¸CPythonçš„åŒºåˆ« > CPythonæ›¾ç»æœ‰ä¸€ä¸ª`socket.error`å¼‚å¸¸ç°åœ¨å·²è¢«å¼ƒç”¨ï¼Œå®ƒæ˜¯`OSError`çš„åˆ«åã€‚åœ¨MicroPythonä¸­ï¼Œç›´æ¥ä½¿ç”¨`OSError`ã€‚ ## ä¾‹ç¨‹ ### ä¾‹ç¨‹ 1ï¼š ä¸‹è½½å›¾ç‰‡å¹¶æ˜¾ç¤º > æ³¨æ„éœ€è¦è®¾ç½® WiFi SSID å’Œ å¯†ç  ```python import socket import network import gc import os import lcd, image fm.register(board_info.WIFI_RX,fm.fpioa.UART2_TX) fm.register(board_info.WIFI_TX,fm.fpioa.UART2_RX) uart machine.UART(machine.UART.UART2,115200,timeout 1000, read_buf_len 4096) nic network.ESP8285(uart) nic.connect(\"Sipeed_2.4G\",\" \") sock socket.socket() addr socket.getaddrinfo(\"dl.sipeed.com\", 80)[0][ 1] sock.connect(addr) sock.send('''GET /MAIX/MaixPy/assets/Alice.bmp HTTP/1.1 Host: dl.sipeed.com cache control: no cache ''') img b\"\" sock.settimeout(5) while True: data sock.recv(4096) if len(data) 0: break print(\"rcv:\", len(data)) img img + data print(len(img)) img img[img.find(b\"\\r\\n\\r\\n\")+4:] print(len(img)) print(\"save to /sd/Alice.bmp\") f open(\"/sd/Alice.bmp\",\"wb\") f.write(img) f.close() print(\"save ok\") print(\"display\") img image.Image(\"/sd/Alice.bmp\") lcd.init() lcd.display(img) ``` ### ä¾‹ç¨‹ 2ï¼š å‘é€å›¾ç‰‡ ```python import os import socket import network import gc fm.register(board_info.WIFI_RX,fm.fpioa.UART2_TX) fm.register(board_info.WIFI_TX,fm.fpioa.UART2_RX) uart machine.UART(machine.UART.UART2,115200,timeout 1000, read_buf_len 4096) nic network.ESP8285(uart) nic.connect(\"Sipeed_2.4G\",\" \") addr (\"192.168.0.183\", 3456) sock socket.socket() sock.connect(addr) sock.settimeout(5) f open(\"/sd/Alice.bmp\",\"rb\") while True: img f.read(2048) if not img or (len(img) 0): break sock.send(img) f.close() sock.close() ```"},"/soft/maixpy/zh/api_reference/standard/uctypes.html":{"title":"uctypes â€“ ä»¥ç»“æ„åŒ–æ–¹å¼è®¿é—®äºŒè¿›åˆ¶æ•°æ®","content":" title: uctypes â€“ ä»¥ç»“æ„åŒ–æ–¹å¼è®¿é—®äºŒè¿›åˆ¶æ•°æ® keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy uctypes â€“ ä»¥ç»“æ„åŒ–æ–¹å¼è®¿é—®äºŒè¿›åˆ¶æ•°æ® è¯¥æ¨¡å—ä¸ºMicroPythonå®ç°â€œå¤–éƒ¨æ•°æ®æ¥å£â€ã€‚ å®ƒèƒŒåçš„æƒ³æ³•ç±»ä¼¼äºCPythonçš„`ctypes`æ¨¡å—ï¼Œä½†å®é™…çš„APIæ˜¯ä¸åŒçš„ï¼Œæµçº¿å‹å’Œå°å°ºå¯¸ä¼˜åŒ–ã€‚ è¯¥æ¨¡å—çš„åŸºæœ¬æ€æƒ³æ˜¯å®šä¹‰å…·æœ‰ä¸Cè¯­è¨€å…è®¸çš„åŠŸèƒ½å¤§è‡´ç›¸åŒçš„æ•°æ®çš„æ•°æ®ç»“æ„å¸ƒå±€ï¼Œç„¶åä½¿ç”¨ç†Ÿæ‚‰çš„ç‚¹è¯­æ³•è®¿é—®å®ƒä»¥å¼•ç”¨å­å­—æ®µã€‚ > **è­¦å‘Š** > > uctypesæ¨¡å—å…è®¸è®¿é—®æœºå™¨çš„ä»»æ„å†…å­˜åœ°å€ï¼ˆåŒ…æ‹¬I / Oå’Œæ§åˆ¶å¯„å­˜å™¨ï¼‰ã€‚ ä¸å°å¿ƒä½¿ç”¨å®ƒå¯èƒ½ä¼šå¯¼è‡´å´©æºƒï¼Œæ•°æ®ä¸¢å¤±ï¼Œç”šè‡³ç¡¬ä»¶æ•…éšœã€‚ > **ä¹Ÿå¯å‚è€ƒ** > > **[ustruct](ustruct.html)æ¨¡å—** > > ç”¨äºè®¿é—®äºŒè¿›åˆ¶æ•°æ®ç»“æ„çš„æ ‡å‡†Pythonæ–¹æ³•ï¼ˆä¸èƒ½å¾ˆå¥½åœ°æ‰©å±•åˆ°å¤§å‹å’Œå¤æ‚çš„ç»“æ„ï¼‰ã€‚ ä¾‹ç¨‹ï¼š ```python import uctypes # Example 1: Subset of ELF file header # https://wikipedia.org/wiki/Executable_and_Linkable_Format#File_header ELF_HEADER { \"EI_MAG\": (0x0 uctypes.ARRAY, 4 uctypes.UINT8), \"EI_DATA\": 0x5 uctypes.UINT8, \"e_machine\": 0x12 uctypes.UINT16, } # \"f\" is an ELF file opened in binary mode buf f.read(uctypes.sizeof(ELF_HEADER, uctypes.LITTLE_ENDIAN)) header uctypes.struct(uctypes.addressof(buf), ELF_HEADER, uctypes.LITTLE_ENDIAN) assert header.EI_MAG b\"\\x7fELF\" assert header.EI_DATA 1, \"Oops, wrong endianness. Could retry with uctypes.BIG_ENDIAN.\" print(\"machine:\", hex(header.e_machine)) # Example 2: In memory data structure, with pointers COORD { \"x\": 0 uctypes.FLOAT32, \"y\": 4 uctypes.FLOAT32, } STRUCT1 { \"data1\": 0 uctypes.UINT8, \"data2\": 4 uctypes.UINT32, \"ptr\": (8 uctypes.PTR, COORD), } # Suppose you have address of a structure of type STRUCT1 in \"addr\" # uctypes.NATIVE is optional (used by default) struct1 uctypes.struct(addr, STRUCT1, uctypes.NATIVE) print(\"x:\", struct1.ptr[0].x) # Example 3: Access to CPU registers. Subset of STM32F4xx WWDG block WWDG_LAYOUT { \"WWDG_CR\": (0, { # BFUINT32 here means size of the WWDG_CR register \"WDGA\": 7 << uctypes.BF_POS 1 << uctypes.BF_LEN uctypes.BFUINT32, \"T\": 0 << uctypes.BF_POS 7 << uctypes.BF_LEN uctypes.BFUINT32, }), \"WWDG_CFR\": (4, { \"EWI\": 9 << uctypes.BF_POS 1 << uctypes.BF_LEN uctypes.BFUINT32, \"WDGTB\": 7 << uctypes.BF_POS 2 << uctypes.BF_LEN uctypes.BFUINT32, \"W\": 0 << uctypes.BF_POS 7 << uctypes.BF_LEN uctypes.BFUINT32, }), } WWDG uctypes.struct(0x40002c00, WWDG_LAYOUT) WWDG.WWDG_CFR.WDGTB 0b10 WWDG.WWDG_CR.WDGA 1 print(\"Current counter:\", WWDG.WWDG_CR.T) ``` ## å®šä¹‰ç»“æ„å¸ƒå±€ ç»“æ„å¸ƒå±€ç”±â€œæè¿°ç¬¦â€å®šä¹‰ ä¸€ä¸ªPythonå­—å…¸ï¼Œå®ƒå°†å­—æ®µåç§°ç¼–ç ä¸ºé”®ï¼Œä»¥åŠå°†å®ƒä»¬ä½œä¸ºå…³è”å€¼è®¿é—®å®ƒä»¬æ‰€éœ€çš„å…¶ä»–å±æ€§ï¼š ```python { \"field1\": <properties>, \"field2\": <properties>, ... } ``` ç›®å‰ï¼Œ`uctypes`éœ€è¦æ˜ç¡®è§„å®šæ¯ä¸ªå­—æ®µçš„åç§»é‡ã€‚ ä»ç»“æ„å¼€å§‹ä»¥å­—èŠ‚ä¸ºå•ä½ç»™å‡ºåç§»é‡ã€‚ ä»¥ä¸‹æ˜¯å„ç§å­—æ®µç±»å‹çš„ç¼–ç ç¤ºä¾‹ï¼š * æ ‡é‡ç±»å‹: ```python \"field_name\": offset uctypes.UINT32 ``` æ¢å¥è¯è¯´ï¼Œè¯¥å€¼æ˜¯æ ‡é‡ç±»å‹æ ‡è¯†ç¬¦ï¼Œä¸ç»“æ„èµ·å§‹å¤„çš„å­—æ®µåç§»é‡ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼‰è¿›è¡Œæˆ–è¿ç®—ã€‚ * é€’å½’ç»“æ„ï¼š ```python \"sub\": (offset, { \"b0\": 0 uctypes.UINT8, \"b1\": 1 uctypes.UINT8, }) ``` å³ï¼Œå€¼æ˜¯2å…ƒç»„ï¼Œå…¶ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯åç§»é‡ï¼Œç¬¬äºŒä¸ªæ˜¯ç»“æ„æè¿°ç¬¦å­—å…¸ï¼ˆæ³¨æ„ï¼šé€’å½’æè¿°ç¬¦ä¸­çš„åç§»é‡ä¸å…¶å®šä¹‰çš„ç»“æ„ç›¸å…³ï¼‰ã€‚ å½“ç„¶ï¼Œé€’å½’ç»“æ„ä¸ä»…å¯ä»¥é€šè¿‡æ–‡å­—å­—å…¸æŒ‡å®šï¼Œè¿˜å¯ä»¥é€šè¿‡æŒ‰åç§°å¼•ç”¨ç»“æ„æè¿°ç¬¦å­—å…¸ï¼ˆå‰é¢å®šä¹‰ï¼‰æ¥æŒ‡å®šã€‚ * åŸå§‹ç±»å‹çš„æ•°ç»„ï¼š ```python \"arr\": (offset uctypes.ARRAY, size uctypes.UINT8), ``` å³ï¼Œå€¼æ˜¯ä¸€ä¸ª2å…ƒç»„ï¼Œå…¶ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯ARRAYæ ‡å¿—ä¸åç§»è¿›è¡ŒORè¿ç®—ï¼Œç¬¬äºŒä¸ªæ˜¯æ ‡é‡å…ƒç´ ç±»å‹ORedæ•°ç»„ä¸­çš„å…ƒç´ æ•°ã€‚ *èšåˆç±»å‹æ•°ç»„ï¼š ```python \"arr2\": (offset uctypes.ARRAY, size, {\"b\": 0 uctypes.UINT8}), ``` å³ï¼Œå€¼æ˜¯ä¸€ä¸ª3å…ƒç»„ï¼Œå…¶ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯ARRAYæ ‡å¿—ï¼Œä¸åç§»ç›¸å…³ï¼Œç¬¬äºŒä¸ªæ˜¯æ•°ç»„ä¸­çš„å…ƒç´ æ•°ï¼Œç¬¬ä¸‰ä¸ªæ˜¯å…ƒç´ ç±»å‹çš„æè¿°ç¬¦ã€‚ *æŒ‡å‘åŸå§‹ç±»å‹çš„æŒ‡é’ˆï¼š ```python \"ptr\": (offset uctypes.PTR, uctypes.UINT8), ``` å³ï¼Œå€¼æ˜¯2å…ƒç»„ï¼Œå…¶ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯PTRæ ‡å¿—ä¸åç§»è¿›è¡ŒORè¿ç®—ï¼Œç¬¬äºŒä¸ªå…ƒç´ æ˜¯æ ‡é‡å…ƒç´ ç±»å‹ã€‚ *æŒ‡å‘èšåˆç±»å‹çš„æŒ‡é’ˆï¼š ```python \"ptr2\": (offset uctypes.PTR, {\"b\": 0 uctypes.UINT8}), ``` å³ï¼Œå€¼æ˜¯2å…ƒç»„ï¼Œå…¶ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯PTRæ ‡å¿—ä¸åç§»é‡è¿›è¡ŒORè¿ç®—ï¼Œç¬¬äºŒä¸ªå…ƒç´ æ˜¯æŒ‡å‘çš„ç±»å‹çš„æè¿°ç¬¦ã€‚ *æ¯”ç‰¹åœºï¼š ```python \"bitf0\": offset uctypes.BFUINT16 lsbit << uctypes.BF_POS bitsize << uctypes.BF_LEN, ``` å³ï¼Œvalueæ˜¯ä¸€ç§åŒ…å«ç»™å®šä½åŸŸçš„æ ‡é‡å€¼ï¼ˆç±»å‹åç§°ç±»ä¼¼äºæ ‡é‡ç±»å‹ï¼Œä½†å‰ç¼€ä¸ºâ€œBFâ€ï¼‰ï¼Œä¸åŒ…å«ä½åŸŸçš„æ ‡é‡å€¼çš„åç§»è¿›è¡ŒORè¿ç®—ï¼Œå¹¶è¿›ä¸€æ­¥ä¸ä½ä½ç½®å’Œä½é•¿åº¦çš„å€¼è¿›è¡Œâ€œæˆ–â€è¿ç®—ã€‚æ ‡é‡å€¼å†…çš„ä½åŸŸï¼Œåˆ†åˆ«ç§»ä½BF_POSå’ŒBF_LENä½ã€‚ä½åŸŸä½ç½®ä»æ ‡é‡çš„æœ€ä½æœ‰æ•ˆä½ï¼ˆå…·æœ‰0çš„ä½ç½®ï¼‰å¼€å§‹è®¡æ•°ï¼Œå¹¶ä¸”æ˜¯å­—æ®µçš„æœ€å³ä½çš„æ•°é‡ï¼ˆæ¢å¥è¯è¯´ï¼Œå®ƒæ˜¯æ ‡é‡éœ€è¦å‘å³ç§»ä½çš„ä½æ•°ï¼‰æå–ä½åŸŸï¼‰ã€‚ åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œé¦–å…ˆåœ¨åç§»0å¤„æå–UINT16å€¼ï¼ˆå½“è®¿é—®ç¡¬ä»¶å¯„å­˜å™¨æ—¶ï¼Œè¿™ä¸ªç»†èŠ‚å¯èƒ½å¾ˆé‡è¦ï¼Œéœ€è¦ç‰¹å®šçš„è®¿é—®å¤§å°å’Œå¯¹é½ï¼‰ï¼Œç„¶åæ˜¯æœ€å³è¾¹çš„ä½æ˜¯æ­¤UINT16çš„lsbitä½çš„ä½åŸŸï¼Œä»¥åŠlengthæ˜¯bitsize bitsï¼Œå°†è¢«æå–ã€‚ä¾‹å¦‚ï¼Œå¦‚æœlsbitä¸º0ä¸”bitsizeä¸º8ï¼Œé‚£ä¹ˆå®ƒå°†æœ‰æ•ˆåœ°è®¿é—®UINT16çš„æœ€ä½æœ‰æ•ˆå­—èŠ‚ã€‚ æ³¨æ„ï¼Œä½åŸŸæ“ä½œç‹¬ç«‹äºç›®æ ‡å­—èŠ‚å­—èŠ‚åºï¼Œç‰¹åˆ«æ˜¯ä¸Šé¢çš„ä¾‹å­å°†åœ¨å°ç«¯å’Œå¤§ç«¯ç»“æ„ä¸­è®¿é—®UINT16çš„æœ€ä½æœ‰æ•ˆå­—èŠ‚ã€‚ä½†å®ƒå–å†³äºæœ€ä½æœ‰æ•ˆä½è¢«ç¼–å·ä¸º0.æŸäº›ç›®æ ‡å¯èƒ½åœ¨å…¶åŸç”ŸABIä¸­ä½¿ç”¨ä¸åŒçš„ç¼–å·ï¼Œä½†æ˜¯â€œuctypesâ€æ€»æ˜¯ä½¿ç”¨ä¸Šè¿°çš„æ ‡å‡†åŒ–ç¼–å·ã€‚ ## æ¨¡å—å†…å®¹ ### class uctypes.struct(addr, descriptor, layout_type NATIVE) åŸºäºå†…å­˜ä¸­çš„ç»“æ„åœ°å€ï¼Œæè¿°ç¬¦ï¼ˆç¼–ç ä¸ºå­—å…¸ï¼‰å’Œå¸ƒå±€ç±»å‹ï¼ˆå‚è§ä¸‹æ–‡ï¼‰æ¥å®ä¾‹åŒ–â€œå¤–éƒ¨æ•°æ®ç»“æ„â€å¯¹è±¡ã€‚ ### uctypes.LITTLE_ENDIAN little endianå‹ç¼©ç»“æ„çš„å¸ƒå±€ç±»å‹ã€‚ ï¼ˆæ‰“åŒ…æ„å‘³ç€æ¯ä¸ªå­—æ®µå ç”¨æè¿°ç¬¦ä¸­å®šä¹‰çš„å­—èŠ‚æ•°ï¼Œå³å¯¹é½ä¸º1ï¼‰ã€‚ ### uctypes.BIG_ENDIAN big endianå‹ç¼©ç»“æ„çš„å¸ƒå±€ç±»å‹ã€‚ ### uctypes.NATIVE æœ¬æœºç»“æ„çš„å¸ƒå±€ç±»å‹ æ•°æ®å­—èŠ‚é¡ºåºå’Œå¯¹é½ç¬¦åˆè¿è¡ŒMicroPythonçš„ç³»ç»Ÿçš„ABIã€‚ ### uctypes.sizeof(struct, layout_type NATIVE) ä»¥å­—èŠ‚ä¸ºå•ä½è¿”å›æ•°æ®ç»“æ„çš„å¤§å°ã€‚ structå‚æ•°å¯ä»¥æ˜¯ç»“æ„ç±»ï¼Œä¹Ÿå¯ä»¥æ˜¯ç‰¹å®šçš„å®ä¾‹åŒ–ç»“æ„å¯¹è±¡ï¼ˆæˆ–å…¶èšåˆå­—æ®µï¼‰ã€‚ ### uctypes.addressof(obj) è¿”å›å¯¹è±¡çš„åœ°å€ã€‚ å‚æ•°åº”è¯¥æ˜¯å­—èŠ‚ï¼Œå­—èŠ‚æ•°ç»„æˆ–å…¶ä»–æ”¯æŒç¼“å†²åŒºåè®®çš„å¯¹è±¡ï¼ˆè¯¥ç¼“å†²åŒºçš„åœ°å€å®é™…ä¸Šæ˜¯è¿”å›çš„ï¼‰ã€‚ ### uctypes.bytes_at(addr, size) ä»¥ç»™å®šçš„åœ°å€å’Œå¤§å°æ•è·å†…å­˜ä½œä¸ºbyteså¯¹è±¡ã€‚ ç”±äºbyteså¯¹è±¡æ˜¯ä¸å¯å˜çš„ï¼Œå› æ­¤å†…å­˜å®é™…ä¸Šæ˜¯å¤åˆ¶å¹¶å¤åˆ¶åˆ°byteså¯¹è±¡ä¸­ï¼Œå› æ­¤å¦‚æœå†…å­˜å†…å®¹ç¨åæ›´æ”¹ï¼Œåˆ™åˆ›å»ºçš„å¯¹è±¡å°†ä¿ç•™åŸå§‹å€¼ã€‚ ### uctypes.bytearray_at(addr, size) å°†ç»™å®šåœ°å€å’Œå¤§å°çš„å†…å­˜æ•è·ä¸ºbytearrayå¯¹è±¡ã€‚ ä¸ä¸Šé¢çš„bytes_atï¼ˆï¼‰å‡½æ•°ä¸åŒï¼Œå†…å­˜æ˜¯é€šè¿‡å¼•ç”¨æ•è·çš„ï¼Œå› æ­¤å®ƒä¹Ÿå¯ä»¥å†™å…¥ï¼Œå¹¶ä¸”æ‚¨å°†åœ¨ç»™å®šçš„å†…å­˜åœ°å€è®¿é—®å½“å‰å€¼ã€‚ ### uctypes.UINT8 uctypes.INT8 uctypes.UINT16 uctypes.INT16 uctypes.UINT32 uctypes.INT32 uctypes.UINT64 uctypes.INT64 ç»“æ„æè¿°ç¬¦çš„æ•´æ•°ç±»å‹ã€‚ æä¾›äº†8,16,32å’Œ64ä½ç±»å‹çš„å¸¸é‡ï¼ŒåŒ…æ‹¬æœ‰ç¬¦å·å’Œæ— ç¬¦å·ã€‚ ### uctypes.FLOAT32 uctypes.FLOAT64 ç»“æ„æè¿°ç¬¦çš„æµ®ç‚¹ç±»å‹ã€‚ ### uctypes.VOID VOIDæ˜¯UINT8çš„åˆ«åï¼Œç”¨äºæ–¹ä¾¿åœ°å®šä¹‰Cçš„voidæŒ‡é’ˆï¼šï¼ˆuctypes.PTRï¼Œuctypes.VOIDï¼‰ã€‚ ### uctypes.PTR uctypes.ARRAY è¾“å…¥æŒ‡é’ˆå’Œæ•°ç»„çš„å¸¸é‡ã€‚ è¯·æ³¨æ„ï¼Œç»“æ„æ²¡æœ‰æ˜¾å¼å¸¸é‡ï¼Œå®ƒæ˜¯éšå¼çš„ï¼šæ²¡æœ‰PTRæˆ–ARRAYæ ‡å¿—çš„èšåˆç±»å‹æ˜¯ä¸€ç§ç»“æ„ã€‚ ## ç»“æ„æè¿°ç¬¦å’Œå®ä¾‹åŒ–ç»“æ„å¯¹è±¡ ç»™å®šç»“æ„æè¿°ç¬¦å­—å…¸åŠå…¶å¸ƒå±€ç±»å‹ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨`uctypes.structï¼ˆï¼‰`æ„é€ å‡½æ•°åœ¨ç»™å®šçš„å†…å­˜åœ°å€å®ä¾‹åŒ–ç‰¹å®šçš„ç»“æ„å®ä¾‹ã€‚ å†…å­˜åœ°å€é€šå¸¸æ¥è‡ªä»¥ä¸‹æ¥æºï¼š *è®¿é—®è£¸æœºç³»ç»Ÿä¸Šçš„ç¡¬ä»¶å¯„å­˜å™¨æ—¶çš„é¢„å®šä¹‰åœ°å€ã€‚ åœ¨ç‰¹å®šMCU / SoCçš„æ•°æ®è¡¨ä¸­æŸ¥æ‰¾è¿™äº›åœ°å€ã€‚ *ä½œä¸ºè°ƒç”¨æŸäº›FFIï¼ˆå¤–éƒ¨å‡½æ•°æ¥å£ï¼‰å‡½æ•°çš„è¿”å›å€¼ã€‚ *æ¥è‡ªuctypes.addressofï¼ˆï¼‰ï¼Œå½“æ‚¨æƒ³è¦å°†å‚æ•°ä¼ é€’ç»™FFIå‡½æ•°æ—¶ï¼Œæˆ–è€…è®¿é—®I / Oçš„æŸäº›æ•°æ®ï¼ˆä¾‹å¦‚ï¼Œä»æ–‡ä»¶æˆ–ç½‘ç»œå¥—æ¥å­—è¯»å–çš„æ•°æ®ï¼‰ã€‚ ## ç»“æ„å¯¹è±¡ ç»“æ„å¯¹è±¡å…è®¸ä½¿ç”¨æ ‡å‡†ç‚¹è¡¨ç¤ºæ³•è®¿é—®å•ä¸ªå­—æ®µï¼š`my_struct.substruct1.field1ã€‚å¦‚æœå­—æ®µæ˜¯æ ‡é‡ç±»å‹ï¼Œè·å–å®ƒå°†äº§ç”Ÿä¸å­—æ®µä¸­åŒ…å«çš„å€¼å¯¹åº”çš„åŸå§‹å€¼ï¼ˆPythonæ•´æ•°æˆ–æµ®ç‚¹æ•°ï¼‰ã€‚ æ ‡é‡å­—æ®µä¹Ÿå¯ä»¥åˆ†é…ç»™ã€‚ å¦‚æœæŸä¸ªå­—æ®µæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œåˆ™å¯ä»¥ä½¿ç”¨æ ‡å‡†çš„ä¸‹æ ‡è¿ç®—ç¬¦[]è®¿é—®å…¶å„ä¸ªå…ƒç´  åŒæ—¶è¯»å–å’Œåˆ†é…ã€‚ å¦‚æœä¸€ä¸ªå­—æ®µæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œå®ƒå¯ä»¥ä½¿ç”¨[0]è¯­æ³•è§£é™¤å¼•ç”¨ï¼ˆå¯¹åº”äºC *è¿ç®—ç¬¦ï¼Œå°½ç®¡[0]ä¹Ÿé€‚ç”¨äºCï¼‰ã€‚ è¿˜æ”¯æŒä½¿ç”¨å…¶ä»–æ•´æ•°å€¼ï¼ˆä½†æ˜¯ä¸º0ï¼‰è®¢é˜…æŒ‡é’ˆï¼Œå…¶è¯­ä¹‰ä¸Cä¸­ç›¸åŒã€‚ æ€»è€Œè¨€ä¹‹ï¼Œè®¿é—®ç»“æ„å­—æ®µé€šå¸¸éµå¾ªCè¯­æ³•ï¼Œé™¤äº†æŒ‡é’ˆå–æ¶ˆå¼•ç”¨ï¼Œå½“æ‚¨éœ€è¦ä½¿ç”¨[0]è¿ç®—ç¬¦è€Œä¸æ˜¯*æ—¶ã€‚ ## é™åˆ¶ * è®¿é—®éæ ‡é‡å­—æ®µä¼šå¯¼è‡´åˆ†é…ä¸­é—´å¯¹è±¡ä»¥è¡¨ç¤ºå®ƒä»¬ã€‚è¿™æ„å‘³ç€åº”è¯¥ç‰¹åˆ«æ³¨æ„å¸ƒå±€åœ¨ç¦ç”¨å†…å­˜åˆ†é…æ—¶ï¼ˆä¾‹å¦‚ä»ä¸­æ–­ï¼‰éœ€è¦è®¿é—®çš„ç»“æ„ã€‚å»ºè®®å¦‚ä¸‹ï¼š * é¿å…è®¿é—®åµŒå¥—ç»“æ„ã€‚ä¾‹å¦‚ï¼Œä»£æ›¿mcu_registers.peripheral_a.register1ï¼Œä¸ºæ¯ä¸ªå¤–è®¾å®šä¹‰å•ç‹¬çš„å¸ƒå±€æè¿°ç¬¦ï¼Œä½œä¸ºperipheral_a.register1è¿›è¡Œè®¿é—®ã€‚æˆ–è€…åªç¼“å­˜ç‰¹å®šçš„å¤–è®¾ï¼šperipheral_a mcu_registers.peripheral_aã€‚å¦‚æœå¯„å­˜å™¨ç”±å¤šä¸ªä½åŸŸç»„æˆï¼Œåˆ™éœ€è¦ç¼“å­˜å¯¹ç‰¹å®šå¯„å­˜å™¨çš„å¼•ç”¨ï¼šreg_a mcu_registers.peripheral_a.reg_aã€‚ * é¿å…ä½¿ç”¨å…¶ä»–éæ ‡é‡æ•°æ®ï¼Œå¦‚æ•°ç»„ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨peripheral_a.register0è€Œä¸æ˜¯peripheral_a.register [0]ã€‚åŒæ ·ï¼Œå¦ä¸€ç§æ–¹æ³•æ˜¯ç¼“å­˜ä¸­é—´å€¼ï¼Œä¾‹å¦‚register0 peripheral_a.register [0]ã€‚ * `uctypes`æ¨¡å—æ”¯æŒçš„åç§»èŒƒå›´æ˜¯æœ‰é™çš„ã€‚æ”¯æŒçš„ç¡®åˆ‡èŒƒå›´è¢«è®¤ä¸ºæ˜¯å®ç°ç»†èŠ‚ï¼Œä¸€èˆ¬å»ºè®®æ˜¯å°†ç»“æ„å®šä¹‰æ‹†åˆ†ä¸ºä»å‡ åƒå­—èŠ‚åˆ°å‡ ååƒå­—èŠ‚çš„æœ€å¤§å€¼ã€‚åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè¿™æ˜¯ä¸€ç§è‡ªç„¶æƒ…å†µï¼Œä¾‹å¦‚ï¼Œåœ¨ä¸€ä¸ªç»“æ„ä¸­å®šä¹‰MCUçš„æ‰€æœ‰å¯„å­˜å™¨ï¼ˆæ‰©å±•åˆ°32ä½åœ°å€ç©ºé—´ï¼‰æ²¡æœ‰æ„ä¹‰ï¼Œè€Œæ˜¯é€šè¿‡å¤–è®¾å—å®šä¹‰å¤–è®¾å—ã€‚åœ¨æŸäº›æç«¯æƒ…å†µä¸‹ï¼Œæ‚¨å¯èƒ½éœ€è¦äººå·¥åˆ†å‰²å‡ ä¸ªéƒ¨åˆ†çš„ç»“æ„ï¼ˆä¾‹å¦‚ï¼Œå¦‚æœåœ¨ä¸­é—´è®¿é—®å…·æœ‰å¤šå…†å­—èŠ‚æ•°ç»„çš„æœ¬æœºæ•°æ®ç»“æ„ï¼Œå°½ç®¡è¿™å°†æ˜¯éå¸¸åˆæˆçš„æƒ…å†µï¼‰ã€‚ï¼‰"},"/soft/maixpy/zh/api_reference/standard/cmath.html":{"title":"cmath â€“ å¤æ•°çš„æ•°å­¦å‡½æ•°","content":" title: cmath â€“ å¤æ•°çš„æ•°å­¦å‡½æ•° keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy cmath â€“ å¤æ•°çš„æ•°å­¦å‡½æ•° è¯¥æ¨¡å—å®ç°äº†ç›¸åº”CPythonæ¨¡å—çš„å­é›†ï¼Œå¦‚ä¸‹æ‰€è¿°ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…åŸå§‹CPythonæ–‡æ¡£: [cmath](https://docs.python.org/3.5/library/cmath.html#module cmath). `cmath` æ¨¡å—æä¾›äº†ä¸€äº›å¤„ç†å¤æ•°çš„åŸºæœ¬æ•°å­¦å‡½æ•°ã€‚ ## å‡½æ•° ### cos ```python cmath.cos(z) ``` è¿”å›`z`çš„ä½™å¼¦ã€‚ ### exp ```python cmath.exp(z) ``` è¿”å›`z`çš„æŒ‡æ•°ã€‚ ### log ```python cmath.log(z) ``` è¿”å›`z`çš„è‡ªç„¶å¯¹æ•°ã€‚åˆ†æ”¯åˆ‡å‰²æ²¿è´Ÿå®è½´ã€‚ ### log10 ```python cmath.log10(z) ``` è¿”å›`z`çš„ä»¥10ä¸ºåº•çš„å¯¹æ•°ã€‚åˆ†æ”¯åˆ‡å‰²æ²¿è´Ÿå®è½´ã€‚ ### phase ```python cmath.phase(z) ``` è¿”å›æ•°å­—â€œzâ€çš„ç›¸ä½ï¼ŒèŒƒå›´ï¼ˆ piï¼Œ+ piï¼‰ã€‚ ### polar ```python cmath.polar(z) ``` ä½œä¸ºå…ƒç»„è¿”å›`z`çš„ææ€§å½¢å¼ã€‚ ### rect ```python cmath.rect(r, phi) ``` è¿”å›æ¨¡æ•°`r`å’Œç›¸ä½`phi`çš„å¤æ•°ã€‚ ### sin ```python cmath.sin(z) ``` è¿”å›`z`çš„æ­£å¼¦å€¼ã€‚ ### sqrt ```python cmath.sqrt(z) ``` è¿”å›`z`çš„å¹³æ–¹æ ¹ã€‚ ## Constants ### cmath.e è‡ªç„¶å¯¹æ•°çš„åŸºç¡€ ### cmath.pi åœ†å‘¨é•¿ä¸ç›´å¾„çš„æ¯”å€¼"},"/soft/maixpy/zh/api_reference/standard/uos.html":{"title":"uos â€“ åŸºæœ¬çš„â€œæ“ä½œç³»ç»Ÿâ€æœåŠ¡","content":" title: uos â€“ åŸºæœ¬çš„â€œæ“ä½œç³»ç»Ÿâ€æœåŠ¡ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy uos â€“ åŸºæœ¬çš„â€œæ“ä½œç³»ç»Ÿâ€æœåŠ¡ è¯¥æ¨¡å—å®ç°äº†ç›¸åº”CPythonæ¨¡å—çš„å­é›†ï¼Œå¦‚ä¸‹æ‰€è¿°ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…åŸå§‹CPythonæ–‡æ¡£ï¼š[os](https://docs.python.org/3.5/library/os.html#module os)ã€‚ `uos`æ¨¡å—åŒ…å«ç”¨äºæ–‡ä»¶ç³»ç»Ÿè®¿é—®å’ŒæŒ‚è½½ï¼Œç»ˆç«¯é‡å®šå‘å’Œå¤åˆ¶ä»¥åŠ`uname`å’Œ`urandom`ç­‰å‡½æ•°ã€‚ ## å¸¸ç”¨å‡½æ•° ### uos.uname() è¿”å›ä¸€ä¸ªå…ƒç»„ï¼ˆå¯èƒ½æ˜¯ä¸€ä¸ªå‘½åäº†çš„å…ƒç»„ï¼‰ï¼Œå…¶ä¸­åŒ…å«æœ‰å…³åº•å±‚æœºå™¨å’Œ/æˆ–å…¶æ“ä½œç³»ç»Ÿçš„ä¿¡æ¯ã€‚å…ƒç»„æŒ‰ä»¥ä¸‹é¡ºåºæœ‰äº”ä¸ªå­—æ®µï¼Œæ¯ä¸ªå­—æ®µéƒ½æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼š * sysname åº•å±‚ç³»ç»Ÿçš„åç§° * nodename èŠ‚ç‚¹åï¼ˆ/æ¿å­åç§°ï¼‰ï¼ˆå¯ä»¥ä¸sysnameç›¸åŒï¼‰ * release åº•å±‚ç³»ç»Ÿçš„ç‰ˆæœ¬ * version MicroPythonç‰ˆæœ¬å’Œæ„å»ºæ—¥æœŸ * machine åº•å±‚ç¡¬ä»¶çš„æ ‡è¯†ç¬¦ï¼ˆä¾‹å¦‚ï¼Œæ¿ï¼ŒCPUï¼‰ ### uos.urandom(n) è¿”å›ä¸€ä¸ªåŒ…å«nä¸ªéšæœºå­—èŠ‚çš„å­—èŠ‚å¯¹è±¡ã€‚åªè¦æœ‰å¯èƒ½ï¼Œå®ƒå°±ç”±ç¡¬ä»¶éšæœºæ•°ç”Ÿæˆå™¨ç”Ÿæˆã€‚ ## æ–‡ä»¶ç³»ç»Ÿè®¿é—® ### uos.chdir(path) æ›´æ”¹å½“å‰ç›®å½•ã€‚ ### uos.getcwd() è·å–å½“å‰ç›®å½•ã€‚ ### uos.ilistdir([dir]) æ­¤å‡½æ•°è¿”å›ä¸€ä¸ªè¿­ä»£å™¨ï¼Œç„¶åç”Ÿæˆä¸åˆ—å‡ºçš„ç›®å½•ä¸­çš„æ¡ç›®å¯¹åº”çš„å…ƒç»„ã€‚å¦‚æœä¸ä¼ å‚æ•°ï¼Œå®ƒåˆ—å‡ºäº†å½“å‰ç›®å½•ï¼Œå¦åˆ™å®ƒåˆ—å‡ºäº†dirç»™å‡ºçš„ç›®å½•ã€‚ å…ƒç»„å…·æœ‰å½¢å¼ï¼ˆåç§°ï¼Œç±»å‹ï¼Œinode [ï¼Œå¤§å°]ï¼‰ï¼š * nameï¼š æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼ˆå¦‚æœdiræ˜¯ä¸€ä¸ªå­—èŠ‚å¯¹è±¡ï¼Œåˆ™ä¸ºå­—èŠ‚ï¼‰ï¼Œå¹¶ä¸”æ˜¯æ¡ç›®çš„åç§°; * typeï¼š æ˜¯ä¸€ä¸ªæ•´æ•°ï¼ŒæŒ‡å®šæ¡ç›®çš„ç±»å‹ï¼Œç›®å½•ä¸º 0x4000ï¼Œå¸¸è§„æ–‡ä»¶ä¸º 0x8000; * inodeï¼š æ˜¯å¯¹åº”äºæ–‡ä»¶inodeçš„æ•´æ•°ï¼Œå¯¹äºæ²¡æœ‰è¿™ç§æ¦‚å¿µçš„æ–‡ä»¶ç³»ç»Ÿå¯ä»¥æ˜¯0ã€‚ * æŸäº›å¹³å°å¯èƒ½ä¼šè¿”å›åŒ…å«æ¡ç›®å¤§å°çš„4å…ƒç»„ã€‚å¯¹äºæ–‡ä»¶æ¡ç›®ï¼Œsizeæ˜¯è¡¨ç¤ºæ–‡ä»¶å¤§å°çš„æ•´æ•°ï¼Œå¦‚æœæœªçŸ¥åˆ™ä¸º 1ã€‚ç›®å‰æ¡ç›®çš„å«ä¹‰ç›®å‰å°šæœªå®šä¹‰ã€‚ ### uos.listdir([dir]) å¦‚æœæ²¡æœ‰å‚æ•°ï¼Œè¯·åˆ—å‡ºå½“å‰ç›®å½•ã€‚å¦åˆ™åˆ—å‡ºç»™å®šç›®å½•ã€‚ ### uos.mkdir(path) åˆ›å»ºä¸€ä¸ªæ–°ç›®å½•ã€‚ ### uos.remove(path) åˆ é™¤æ–‡ä»¶ã€‚ ### uos.rmdir(path) åˆ é™¤ç›®å½•ã€‚ ### uos.renameï¼ˆold_pathï¼Œnew_pathï¼‰ é‡å‘½åæ–‡ä»¶ã€‚ ### uos.stat(path) è·å–æ–‡ä»¶æˆ–ç›®å½•çš„çŠ¶æ€ã€‚ ### uos.statvfs(path) è·å–æ–‡ä»¶ç³»ç»Ÿçš„çŠ¶æ€ã€‚ æŒ‰ä»¥ä¸‹é¡ºåºè¿”å›åŒ…å«æ–‡ä»¶ç³»ç»Ÿä¿¡æ¯çš„å…ƒç»„ï¼š * f_bsize æ–‡ä»¶ç³»ç»Ÿå—å¤§å° * f_frsize ç‰‡æ®µå¤§å° * f_blocks f_frsizeå•ä½ä¸­fsçš„å¤§å° * f_bfree ç©ºé—²å—æ•° * f_bavail æ— ç‰¹æƒç”¨æˆ·çš„ç©ºé—²å—æ•° * f_files inodeæ•°é‡ * f_ffree å…è´¹inodeçš„æ•°é‡ * f_favail æ— ç‰¹æƒç”¨æˆ·çš„å…è´¹inodeæ•° * f_flag æŒ‚è½½æ ‡å¿— * f_namemax æœ€å¤§æ–‡ä»¶åé•¿åº¦ ä¸inodeç›¸å…³çš„å‚æ•°ï¼š`f_files`ï¼Œ`f_ffree`ï¼Œ`f_avail`å’Œ`f_flags`å‚æ•°å¯èƒ½è¿”å›'0`ï¼Œå› ä¸ºå®ƒä»¬åœ¨ç‰¹å®šäºç¡¬ä»¶çš„å®ç°ä¸­ä¸å¯ç”¨ã€‚ ### uos.sync() åŒæ­¥æ‰€æœ‰æ–‡ä»¶ç³»ç»Ÿã€‚ ## ç»ˆç«¯é‡å®šå‘å’Œå¤åˆ¶ ### uos.dupterm(stream_objectï¼Œindex 0) åœ¨ç»™å®šçš„`stream`ç±»å¯¹è±¡ä¸Šå¤åˆ¶æˆ–åˆ‡æ¢MicroPythonç»ˆç«¯ï¼ˆREPLï¼‰ã€‚ stream_objectå‚æ•°å¿…é¡»å®ç°`readintoï¼ˆï¼‰`å’Œ`writeï¼ˆï¼‰`æ–¹æ³•ã€‚æµåº”å¤„äºéé˜»å¡æ¨¡å¼ï¼Œå¦‚æœæ²¡æœ‰å¯ç”¨äºè¯»å–çš„æ•°æ®ï¼Œ`readintoï¼ˆï¼‰`åº”è¿”å›'None`ã€‚ è°ƒç”¨æ­¤å‡½æ•°åï¼Œå°†åœ¨æ­¤æµä¸Šé‡å¤æ‰€æœ‰ç»ˆç«¯è¾“å‡ºï¼Œå¹¶ä¸”æµä¸Šå¯ç”¨çš„ä»»ä½•è¾“å…¥éƒ½å°†ä¼ é€’åˆ°ç»ˆç«¯è¾“å…¥ã€‚ indexå‚æ•°åº”ä¸ºéè´Ÿæ•´æ•°ï¼Œå¹¶æŒ‡å®šè®¾ç½®çš„å¤åˆ¶æ§½ã€‚ç»™å®šç«¯å£å¯ä»¥å®ç°å¤šä¸ªæ§½ï¼ˆæ§½0å°†å§‹ç»ˆå¯ç”¨ï¼‰ï¼Œå¹¶ä¸”åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç»ˆç«¯è¾“å…¥å’Œè¾“å‡ºåœ¨æ‰€æœ‰è®¾ç½®çš„æ§½ä¸Šå¤åˆ¶ã€‚ å¦‚æœ`None`ä½œä¸ºstream_objectä¼ é€’ï¼Œåˆ™åœ¨ç´¢å¼•ç»™å‡ºçš„æ§½ä¸Šå–æ¶ˆå¤åˆ¶ã€‚ è¯¥å‡½æ•°è¿”å›ç»™å®šæ§½ä¸­çš„å‰ä¸€ä¸ªç±»ä¼¼æµçš„å¯¹è±¡ã€‚ ## æ–‡ä»¶ç³»ç»ŸæŒ‚è½½ æŸäº›ç«¯å£æä¾›è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼ˆVFSï¼‰ä»¥åŠåœ¨æ­¤VFSä¸­å®‰è£…å¤šä¸ªâ€œçœŸå®â€æ–‡ä»¶ç³»ç»Ÿçš„åŠŸèƒ½ã€‚æ–‡ä»¶ç³»ç»Ÿå¯¹è±¡å¯ä»¥å®‰è£…åœ¨VFSçš„æ ¹ç›®å½•ä¸­ï¼Œä¹Ÿå¯ä»¥å®‰è£…åœ¨æ ¹ç›®å½•ä¸­çš„å­ç›®å½•ä¸­ã€‚è¿™å…è®¸Pythonç¨‹åºçœ‹åˆ°çš„æ–‡ä»¶ç³»ç»Ÿçš„åŠ¨æ€å’Œçµæ´»é…ç½®ã€‚å…·æœ‰æ­¤åŠŸèƒ½çš„ç«¯å£æä¾›`mountï¼ˆï¼‰`å’Œ`umountï¼ˆï¼‰`å‡½æ•°ï¼Œä»¥åŠå¯èƒ½ç”±VFSç±»è¡¨ç¤ºçš„å„ç§æ–‡ä»¶ç³»ç»Ÿå®ç°ã€‚ ### uos.mount(fsobjï¼Œmount_pointï¼Œ*ï¼Œreadonly) å°†æ–‡ä»¶ç³»ç»Ÿå¯¹è±¡fsobjæŒ‚è½½åˆ°mount_pointå­—ç¬¦ä¸²æŒ‡å®šçš„VFSä¸­çš„ä½ç½®ã€‚ fsobjå¯ä»¥æ˜¯ä¸€ä¸ªå…·æœ‰`mountï¼ˆï¼‰`æ–¹æ³•æˆ–å—è®¾å¤‡çš„VFSå¯¹è±¡ã€‚å¦‚æœå®ƒæ˜¯å—è®¾å¤‡ï¼Œåˆ™ä¼šè‡ªåŠ¨æ£€æµ‹æ–‡ä»¶ç³»ç»Ÿç±»å‹ï¼ˆå¦‚æœæœªè¯†åˆ«æ–‡ä»¶ç³»ç»Ÿï¼Œåˆ™ä¼šå¼•å‘å¼‚å¸¸ï¼‰ã€‚ mount_pointå¯ä»¥æ˜¯'/'åœ¨æ ¹ç›®å½•ä¸‹æŒ‚è½½fsobjï¼Œæˆ–è€…'/ <name>'æŒ‚è½½åˆ°æ ¹ç›®å½•ä¸‹çš„å­ç›®å½•ä¸­ã€‚ å¦‚æœreadonlyä¸ºâ€œTrueâ€ï¼Œåˆ™æ–‡ä»¶ç³»ç»Ÿä»¥åªè¯»æ–¹å¼æŒ‚è½½ã€‚ åœ¨mountè¿‡ç¨‹ä¸­ï¼Œåœ¨æ–‡ä»¶ç³»ç»Ÿå¯¹è±¡ä¸Šè°ƒç”¨`mountï¼ˆï¼‰`æ–¹æ³•ã€‚ å¦‚æœmount_pointå·²ç»æŒ‚è½½ï¼Œå°†å¼•å‘`OSErrorï¼ˆEPERMï¼‰`ã€‚ ### uos.umount(mount_point) å¸è½½æ–‡ä»¶ç³»ç»Ÿã€‚ mount_pointå¯ä»¥æ˜¯å‘½åå®‰è£…ä½ç½®çš„å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥æ˜¯å…ˆå‰å®‰è£…çš„æ–‡ä»¶ç³»ç»Ÿå¯¹è±¡ã€‚åœ¨å¸è½½è¿‡ç¨‹ä¸­ï¼Œåœ¨æ–‡ä»¶ç³»ç»Ÿå¯¹è±¡ä¸Šè°ƒç”¨æ–¹æ³•`umountï¼ˆï¼‰`ã€‚ å¦‚æœæ‰¾ä¸åˆ°mount_pointï¼Œä¼šå¼•å‘`OSErrorï¼ˆEINVALï¼‰`ã€‚ ### class uos.VfsFat(block_dev) åˆ›å»ºä½¿ç”¨FATæ–‡ä»¶ç³»ç»Ÿæ ¼å¼çš„æ–‡ä»¶ç³»ç»Ÿå¯¹è±¡ã€‚ FATæ–‡ä»¶ç³»ç»Ÿçš„å­˜å‚¨ç”±block_devæä¾›ã€‚å¯ä»¥ä½¿ç”¨`mountï¼ˆï¼‰`æŒ‚è½½ç”±æ­¤æ„é€ å‡½æ•°åˆ›å»ºçš„å¯¹è±¡ã€‚ #### static mkfs(block_dev) åœ¨block_devä¸Šæ„å»ºFATæ–‡ä»¶ç³»ç»Ÿã€‚ ## æ–‡ä»¶ç³»ç»Ÿæ ¼å¼åŒ– åœ¨MaixPyä¸­ï¼Œæˆ‘ä»¬æä¾›äº†å¯¹flashè¿›è¡Œæ–‡ä»¶ç³»ç»Ÿæ ¼å¼åŒ–çš„æ“ä½œã€‚å¦‚æœç”¨æˆ·æƒ³è¦æ¸…ç©ºflashæ–‡ä»¶ç³»ç»Ÿé‚£ä¹ˆå¯ä»¥ä½¿ç”¨è¯¥æ¥å£ `flash_format` æ¥å®ç° ### uos.flash_format() è¯¥æ¥å£ä¸éœ€è¦ä¼ å…¥å‚æ•°ï¼Œç›´æ¥ä½¿ç”¨å°†å¯¹å¼€å‘æ¿çš„ flash è¿›è¡Œæ ¼å¼åŒ–ã€‚è¯·æ³¨æ„ï¼Œæ ¼å¼åŒ–å°†æ¸…ç©ºæ‰€æœ‰æ–‡ä»¶ï¼Œåœ¨ä½¿ç”¨å‰è¯·ç¡®è®¤ flash ä¸­æ–‡ä»¶éƒ½æ˜¯éœ€è¦åˆ é™¤çš„ ## å—è®¾å¤‡ å—è®¾å¤‡æ˜¯å®ç°å—åè®®çš„å¯¹è±¡ï¼Œå—åè®®æ˜¯ç”± `AbstractBlockDev` ç±»åœ¨ä¸‹é¢æè¿°çš„ä¸€ç»„æ–¹æ³•ã€‚è¯¥ç±»çš„å…·ä½“å®ç°é€šå¸¸å…è®¸è®¿é—®ç±»ä¼¼å­˜å‚¨å™¨çš„åŠŸèƒ½ä½œä¸ºç¡¬ä»¶ï¼ˆå¦‚é—ªå­˜ï¼‰ã€‚ç‰¹å®šæ–‡ä»¶ç³»ç»Ÿé©±åŠ¨ç¨‹åºå¯ä»¥ä½¿ç”¨å—è®¾å¤‡æ¥å­˜å‚¨å…¶æ–‡ä»¶ç³»ç»Ÿçš„æ•°æ®ã€‚ ### class uos.AbstractBlockDev()...) æ„é€ å—è®¾å¤‡å¯¹è±¡ã€‚æ„é€ å‡½æ•°çš„å‚æ•°å–å†³äºç‰¹å®šçš„å—è®¾å¤‡ã€‚ #### readblocks(block_num, buf) ä»ç´¢å¼•block_numç»™å‡ºçš„å—å¼€å§‹ï¼Œå°†å—ä»è®¾å¤‡è¯»å…¥bufï¼ˆå­—èŠ‚æ•°ç»„ï¼‰ã€‚è¦è¯»å–çš„å—æ•°ç”±bufçš„é•¿åº¦ç»™å‡ºï¼Œè¯¥é•¿åº¦å°†æ˜¯å—å¤§å°çš„å€æ•°ã€‚ #### writeblocks(block_num, buf) ä»ç´¢å¼•block_numç»™å‡ºçš„å—å¼€å§‹ï¼Œå°†bufï¼ˆå­—èŠ‚æ•°ç»„ï¼‰ä¸­çš„å—å†™å…¥è®¾å¤‡ã€‚è¦å†™å…¥çš„å—æ•°ç”±bufçš„é•¿åº¦ç»™å‡ºï¼Œè¯¥é•¿åº¦å°†æ˜¯å—å¤§å°çš„å€æ•°ã€‚ #### ioctl(op, arg) æ§åˆ¶å—è®¾å¤‡å¹¶æŸ¥è¯¢å…¶å‚æ•°ã€‚è¦æ‰§è¡Œçš„æ“ä½œç”±opç»™å‡ºï¼Œå®ƒæ˜¯ä»¥ä¸‹æ•´æ•°ä¹‹ä¸€ï¼š * 1 åˆå§‹åŒ–è®¾å¤‡ï¼ˆargæœªä½¿ç”¨ï¼‰ * 2 å…³é—­è®¾å¤‡ï¼ˆargæœªä½¿ç”¨ï¼‰ * 3 åŒæ­¥è®¾å¤‡ï¼ˆargæœªä½¿ç”¨ï¼‰ * 4 è·å–å—æ•°çš„è®¡æ•°ï¼Œåº”è¯¥è¿”å›ä¸€ä¸ªæ•´æ•°ï¼ˆargæœªä½¿ç”¨ï¼‰ * 5 è·å–å—ä¸­çš„å­—èŠ‚æ•°ï¼Œåº”è¯¥è¿”å›ä¸€ä¸ªæ•´æ•°ï¼Œæˆ–è€…â€œNoneâ€ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ä½¿ç”¨é»˜è®¤å€¼512ï¼ˆargæœªä½¿ç”¨ï¼‰ ### ä¾‹ç¨‹ #### ä¾‹ç¨‹1 ä»¥fat32ä¸¾ä¾‹ï¼Œä¸‹é¢çš„ç±»å°†å®ç°ä¸€ä¸ªå—è®¾å¤‡ï¼Œå®ƒä½¿ç”¨`bytearray`å°†å…¶æ•°æ®å­˜å‚¨åœ¨RAMä¸­ï¼š ```python class RAMBlockDev: def __init__(self, block_size, num_blocks): self.block_size block_size self.data bytearray(block_size * num_blocks) def readblocks(self, block_num, buf): for i in range(len(buf)): buf[i] self.data[block_num * self.block_size + i] def writeblocks(self, block_num, buf): for i in range(len(buf)): self.data[block_num * self.block_size + i] buf[i] def ioctl(self, op, arg): if op 4: # get number of blocks return len(self.data) // self.block_size if op 5: # get block size return self.block_size ``` æˆ–è€…ï¼š ```python import uos bdev RAMBlockDev(512, 50) uos.VfsFat.mkfs(bdev) vfs uos.VfsFat(bdev) uos.mount(vfs, '/ramdisk') ``` #### ä¾‹ç¨‹2 ä»¥spiffsä¸¾ä¾‹ï¼Œä¸‹é¢çš„ç±»å°†å®ç°ä¸€ä¸ªå—è®¾å¤‡ï¼Œå®ƒä½¿ç”¨`bytearray`å°†å…¶æ•°æ®å­˜å‚¨åœ¨RAMä¸­ï¼š ```python class RAMFlashDev: def __init__(self): self.fs_size 256*1024 self.fs_data bytearray(256*1024) self.erase_block 32*1024 self.log_block_size 64*1024 self.log_page_size 4*1024 def read(self,buf,size,addr): for i in range(len(buf)): buf[i] self.fs_data[addr+i] def write(self,buf,size,addr): for i in range(len(buf)): self.fs_data[addr+i] buf[i] def erase(self,size,addr): for i in range(size): self.fs_data[addr+i] 0xff ``` ```python blkdev RAMFlashDev.RAMFlashDev() vfs uos.VfsSpiffs(blkdev) vfs.mkfs(vfs) uos.mount(vfs,'/ramdisk') ```"},"/soft/maixpy/zh/api_reference/standard/uerrno.html":{"title":"uerrno â€” ç³»ç»Ÿé”™è¯¯ä»£ç ","content":" title: uerrno â€” ç³»ç»Ÿé”™è¯¯ä»£ç  keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy uerrno â€” ç³»ç»Ÿé”™è¯¯ä»£ç  è¯¥æ¨¡å—å®ç°äº†ç›¸åº”CPythonæ¨¡å—çš„å­é›†ï¼Œå¦‚ä¸‹æ‰€è¿°ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…åŸå§‹CPythonæ–‡æ¡£ï¼š[errno](https://docs.python.org/3.5/library/errno.html#module errno)ã€‚ è¯¥æ¨¡å—æè¿°äº† `OSError` é”™è¯¯çš„é”™è¯¯æ ‡è¯†ã€‚ç‰¹å®šçš„ä»£ç åº“å­˜å–å†³äº `Micropython çš„ç§»æ¤`ï¼Œ é”™è¯¯ä¼šåœ¨ç‰¹å®šçš„ä¼šå‡ºç°é”™è¯¯çš„å‡½æ•°è¿›è¡Œè¯´æ˜ã€‚ ## å¸¸é‡ ### EEXIST, EAGAIN, ç­‰ åŸºäº ANSI C / POSIX æ ‡å‡†çš„é”™è¯¯ä»£ç ã€‚æ‰€æœ‰é”™è¯¯ä»£ç å‡ä»¥ â€œEâ€ å¼€å¤´ã€‚å¦‚ä¸Šæ‰€è¿°ï¼Œä»£ç åº“å­˜å–å†³äº MicroPython çš„ç§»æ¤ã€‚é”™è¯¯é€šå¸¸å¯ä»¥ä½œä¸º`exc.args [0]`è®¿é—®ï¼Œå…¶ä¸­`exc`æ˜¯`OSError`çš„ä¸€ä¸ªå®ä¾‹ã€‚ç”¨æ³•ç¤ºä¾‹ï¼š ```python try: uos.mkdir(\"my_dir\") except OSError as exc: if exc.args[0] uerrno.EEXIST: print(\"Directory already exists\") ``` ### uerrno.errorcode å­—å…¸å°†æ•°å­—é”™è¯¯ä»£ç æ˜ å°„åˆ°å¸¦æœ‰ç¬¦å·é”™è¯¯ä»£ç çš„å­—ç¬¦ä¸²ï¼ˆå‚è§ä¸Šæ–‡ï¼‰ï¼š ```python >>> print(uerrno.errorcode[uerrno.EEXIST]) EEXIST ```"},"/soft/maixpy/zh/api_reference/machine/spi.html":{"title":"machine.SPI","content":" title: machine.SPI keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy machine.SPI SPIï¼ˆSerial Peripheral Interfaceï¼‰ æ˜¯ä¸€ä¸ªåŒæ­¥ä¸²è¡Œåè®®ï¼Œç”±ä¸»æœºå’Œä»æœºç»„æˆã€‚ æ ‡å‡†4çº¿æ¨¡å¼ç”± SCKï¼ˆSCLKï¼‰ï¼Œ CSï¼ˆç‰‡é€‰ï¼‰ï¼Œ MOSIï¼Œ MISO 4æ¡çº¿è¿æ¥ä¸»ä»æœº åœ¨ K210 ä¸Šï¼Œ SPI æœ‰ä¸€ä¸‹ç‰¹å¾ï¼š * å…±æœ‰ 4 ä¸ª SPI è®¾å¤‡ï¼Œ å…¶ä¸­ SPI0 ã€SPI1ã€ SPI3 åªèƒ½å·¥ä½œåœ¨ä¸»æœºæ¨¡å¼ä¸‹ï¼Œ SPI2 åªèƒ½å·¥ä½œåœ¨ä»æœºæ¨¡å¼æ—¶ä¸‹ï¼Œ åœ¨ MaixPy ä¸Šï¼Œ SPI3 å·²ç»ç”¨æ¥è¿æ¥äº† SPI Flash ä½œä¸ºä¿ç•™ç¡¬ä»¶èµ„æºã€‚ * æ”¯æŒ 1/2/4/8 çº¿å…¨åŒå·¥æ¨¡å¼ï¼Œ åœ¨ MaixPy ä¸­ï¼Œ ç›®å‰åªæ”¯æŒæ ‡å‡†ï¼ˆæ‘©æ‰˜ç½—æ‹‰ï¼‰4çº¿å…¨åŒå·¥æ¨¡å¼ï¼ˆå³ SCKï¼Œ MOSIï¼Œ MISOï¼Œ CS å››ä¸ªå¼•è„šï¼‰ * æœ€é«˜ä¼ è¾“é€Ÿç‡ 45Mï¼š1/2ä¸»é¢‘ï¼Œçº¦ 200Mbps * æ”¯æŒ DMA * 4ä¸ªå¯é…ç½®ä»»æ„å¼•è„šçš„ç¡¬ä»¶ç‰‡é€‰ ## æ„é€ å‡½æ•° ```python spi machine.SPI(id, mode SPI.MODE_MASTER, baudrate 500000, polarity 0, phase 0, bits 8, firstbit SPI.MSB, sck, mosi, miso, cs0, cs1, cs2, cs3) ``` é€šè¿‡æŒ‡å®šçš„å‚æ•°æ–°å»ºä¸€ä¸ª SPI å¯¹è±¡ ### å‚æ•° * `id`ï¼š SPI IDï¼Œ å–å€¼èŒƒå›´[0,4]ï¼Œ ç›®å‰åªæ”¯æŒ 0 å’Œ 1 ã€4 ï¼Œ å¹¶ä¸”åªèƒ½æ˜¯ä¸»æœºæ¨¡å¼ï¼Œ 2 åªèƒ½ä½œä¸ºä»æœºï¼Œç›®å‰æœªå®ç°ï¼Œ 3 ä¿ç•™, 4 ä½¿ç”¨è½¯æ¨¡æ‹Ÿ SPIï¼ˆ.SPI_SOFTï¼‰ * `mode`ï¼š SPI æ¨¡å¼ï¼Œ `MODE_MASTER` æˆ–è€…`MODE_MASTER_2`æˆ–è€…`MODE_MASTER_4`æˆ–è€…`MODE_MASTER_8`æˆ–è€…`MODE_SLAVE`ï¼Œ ç›®å‰åªæ”¯æŒ`MODE_MASTER` * `baudrate`ï¼š SPI æ³¢ç‰¹ç‡ï¼ˆé¢‘ç‡ï¼‰ * `polarity`ï¼š ææ€§ï¼Œ å–å€¼ä¸º 0 æˆ– 1ï¼Œ è¡¨ç¤º SPI åœ¨ç©ºé—²æ—¶çš„ææ€§ï¼Œ 0 ä»£è¡¨ä½ç”µå¹³ï¼Œ 1 ä»£è¡¨é«˜ç”µå¹³ * `phase`ï¼š ç›¸ï¼Œ å–å€¼ä½ 0 æˆ– 1ï¼Œ è¡¨ç¤ºåœ¨æ—¶é’Ÿçš„ç¬¬ä¸€ä¸ªè¿˜æ˜¯ç¬¬äºŒä¸ªè·³å˜æ²¿é‡‡é›†æ•°æ®ï¼Œ 0 è¡¨ç¤ºç¬¬ä¸€ä¸ªï¼Œ 1 è¡¨ç¤ºç¬¬äºŒä¸ª * `bits`ï¼š æ•°æ®å®½åº¦ï¼Œ é»˜è®¤å€¼ä¸º8ï¼Œ å–å€¼èŒƒå›´[4,32] * `firstbit`ï¼š æŒ‡å®šä¼ è¾“é‡‡ç”¨ MSB è¿˜æ˜¯ LSB é¡ºåºä¼ è¾“ï¼Œ é»˜è®¤ `SPI.MSB` * `sck`: SCKï¼ˆæ—¶é’Ÿï¼‰å¼•è„šï¼Œ å¯ç›´æ¥ä¼ å¼•è„šæ•°å€¼ï¼Œå–å€¼èŒƒå›´ï¼š[0,47]ã€‚ å¯ä»¥ä¸è®¾ç½®ï¼Œè€Œæ˜¯ä½¿ç”¨ [fm](../builtin_py/fm.html) ç»Ÿä¸€ç®¡ç†å¼•è„šæ˜ å°„ã€‚ * `mosi`: MOSIï¼ˆä¸»æœºè¾“å‡ºï¼‰ å¼•è„šï¼Œ å¯ç›´æ¥ä¼ å¼•è„šæ•°å€¼ï¼Œå–å€¼èŒƒå›´ï¼š[0,47]ã€‚ å¯ä»¥ä¸è®¾ç½®ï¼Œè€Œæ˜¯ä½¿ç”¨ [fm](../builtin_py/fm.html) ç»Ÿä¸€ç®¡ç†å¼•è„šæ˜ å°„ã€‚ * `miso`: MISOï¼ˆä¸»æœºè¾“å…¥ï¼‰ å¼•è„šï¼Œ å¯ç›´æ¥ä¼ å¼•è„šæ•°å€¼ï¼Œå–å€¼èŒƒå›´ï¼š[0,47]ã€‚ å¯ä»¥ä¸è®¾ç½®ï¼Œè€Œæ˜¯ä½¿ç”¨ [fm](../builtin_py/fm.html) ç»Ÿä¸€ç®¡ç†å¼•è„šæ˜ å°„ã€‚ * `cs0`: CS0ï¼ˆç‰‡é€‰ï¼‰ å¼•è„šï¼Œ å¯ç›´æ¥ä¼ å¼•è„šæ•°å€¼ï¼Œå–å€¼èŒƒå›´ï¼š[0,47]ã€‚ å¯ä»¥ä¸è®¾ç½®ï¼Œè€Œæ˜¯ä½¿ç”¨ [fm](../builtin_py/fm.html) ç»Ÿä¸€ç®¡ç†å¼•è„šæ˜ å°„ã€‚ * `cs1`: CS1ï¼ˆç‰‡é€‰ï¼‰ å¼•è„šï¼Œ å¯ç›´æ¥ä¼ å¼•è„šæ•°å€¼ï¼Œå–å€¼èŒƒå›´ï¼š[0,47]ã€‚ å¯ä»¥ä¸è®¾ç½®ï¼Œè€Œæ˜¯ä½¿ç”¨ [fm](../builtin_py/fm.html) ç»Ÿä¸€ç®¡ç†å¼•è„šæ˜ å°„ã€‚ * `cs2`: CS2ï¼ˆç‰‡é€‰ï¼‰ å¼•è„šï¼Œ å¯ç›´æ¥ä¼ å¼•è„šæ•°å€¼ï¼Œå–å€¼èŒƒå›´ï¼š[0,47]ã€‚ å¯ä»¥ä¸è®¾ç½®ï¼Œè€Œæ˜¯ä½¿ç”¨ [fm](../builtin_py/fm.html) ç»Ÿä¸€ç®¡ç†å¼•è„šæ˜ å°„ã€‚ * `cs3`: CS3ï¼ˆç‰‡é€‰ï¼‰ å¼•è„šï¼Œ å¯ç›´æ¥ä¼ å¼•è„šæ•°å€¼ï¼Œå–å€¼èŒƒå›´ï¼š[0,47]ã€‚ å¯ä»¥ä¸è®¾ç½®ï¼Œè€Œæ˜¯ä½¿ç”¨ [fm](../builtin_py/fm.html) ç»Ÿä¸€ç®¡ç†å¼•è„šæ˜ å°„ã€‚ * `d0~d7`ï¼š æ•°æ®å¼•è„šï¼Œ åœ¨éæ ‡å‡†4çº¿æ¨¡å¼ä¸­ä½¿ç”¨ï¼Œç›®å‰ä¿ç•™ã€‚ å¯ä»¥ä¸è®¾ç½®ï¼Œè€Œæ˜¯ä½¿ç”¨ [fm](../builtin_py/fm.html) ç»Ÿä¸€ç®¡ç†å¼•è„šæ˜ å°„ã€‚ ## æ–¹æ³• ### init ç±»ä¼¼æ„é€ å‡½æ•° ```python spi.init(id, mode SPI.MODE_MASTER, baudrate 500000, polarity 0, phase 0, bits 8, firstbit SPI.MSB, sck, mosi, miso, cs0) ``` #### å‚æ•° ä¸æ„é€ å‡½æ•°ç›¸åŒ #### è¿”å›å€¼ æ—  ### read è¯»å–æ•°æ® ```python spi.read(nbytes, write 0x00, cs SPI.CS0) ``` #### å‚æ•° * `nbytes`ï¼š éœ€è¦è¯»å–çš„é•¿åº¦ * `cs`ï¼š é€‰æ‹©ç‰‡é€‰å¼•è„šï¼Œ åœ¨åˆå§‹åŒ–æ—¶å·²ç»ä¸º`cs0`~`cs3`è®¾ç½®äº†å¼•è„šï¼Œè¿™é‡Œåªéœ€è¦é€‰æ‹©`SPI.CS0`~`SPI.CS3`å³å¯ï¼Œé»˜è®¤ä¸º`SPI.CS0` * `write`ï¼š å› ä¸ºæ˜¯å…¨åŒå·¥ï¼Œè®¾ç½®åœ¨è¯»å–æ—¶`MOSI`å¼•è„šçš„å€¼ï¼Œé»˜è®¤ä¸º`0x00`ï¼Œå³å§‹ç»ˆä¸ºä½ç”µå¹³ #### è¿”å›å€¼ `bytes`ç±»å‹çš„æ•°æ® ### readinto è¯»å–æ•°æ®ï¼Œå¹¶æ”¾åˆ°æŒ‡å®šå˜é‡ä¸­ ```python spi.readinto(buf, write 0x00, cs SPI.CS0) ``` #### å‚æ•° * `buf`ï¼š `bytearray` ç±»å‹ï¼Œ å®šä¹‰äº†é•¿åº¦ï¼Œè¯»å–å®Œæˆåæ•°æ®ä¿å­˜åœ¨æ­¤ * `cs`ï¼š é€‰æ‹©ç‰‡é€‰å¼•è„šï¼Œ åœ¨åˆå§‹åŒ–æ—¶å·²ç»ä¸º`cs0`~`cs3`è®¾ç½®äº†å¼•è„šï¼Œè¿™é‡Œåªéœ€è¦é€‰æ‹©`SPI.CS0`~`SPI.CS3`å³å¯ï¼Œé»˜è®¤ä¸º`SPI.CS0` * `write`ï¼š å› ä¸ºæ˜¯å…¨åŒå·¥ï¼Œè®¾ç½®åœ¨è¯»å–æ—¶`MOSI`å¼•è„šçš„å€¼ï¼Œé»˜è®¤ä¸º`0x00`ï¼Œå³å§‹ç»ˆä¸ºä½ç”µå¹³ #### è¿”å›å€¼ æ—  ### write å‘é€æ•°æ® ```python spi.write(buf, cs SPI.CS0) ``` #### å‚æ•° * `buf`ï¼š `bytearray` ç±»å‹ï¼Œ å®šä¹‰äº†æ•°æ®åŠé•¿åº¦ * `cs`ï¼š é€‰æ‹©ç‰‡é€‰å¼•è„šï¼Œ åœ¨åˆå§‹åŒ–æ—¶å·²ç»ä¸º`cs0`~`cs3`è®¾ç½®äº†å¼•è„šï¼Œè¿™é‡Œåªéœ€è¦é€‰æ‹©`SPI.CS0`~`SPI.CS3`å³å¯ï¼Œé»˜è®¤ä¸º`SPI.CS0` #### è¿”å›å€¼ æ—  ### write_readinto å‘é€æ•°æ®ï¼ŒåŒæ—¶è¯»å–æ•°æ®åˆ°å˜é‡ï¼Œå³å…¨åŒå·¥ ```python spi.write(write_buf, read_buf, cs SPI.CS0) ``` #### å‚æ•° * `write_buf`ï¼š `bytearray` ç±»å‹ï¼Œ å®šä¹‰äº†éœ€è¦å‘é€çš„æ•°æ®åŠé•¿åº¦ * `read_buf`ï¼š `bytearray` ç±»å‹ï¼Œ å®šä¹‰äº†æ¥æ”¶æ•°æ®å­˜æ”¾çš„ä½ç½® * `cs`ï¼š é€‰æ‹©ç‰‡é€‰å¼•è„šï¼Œ åœ¨åˆå§‹åŒ–æ—¶å·²ç»ä¸º`cs0`~`cs3`è®¾ç½®äº†å¼•è„šï¼Œè¿™é‡Œåªéœ€è¦é€‰æ‹©`SPI.CS0`~`SPI.CS3`å³å¯ï¼Œé»˜è®¤ä¸º`SPI.CS0` #### è¿”å›å€¼ æ—  ### deinit/\\__del\\__ æ³¨é”€ SPIï¼Œé‡Šæ”¾ç¡¬ä»¶ï¼Œå…³é—­ SPI æ—¶é’Ÿ ```python spi.deinit() ``` #### å‚æ•° æ—  #### è¿”å›å€¼ æ—  #### ä¾‹å­ ```python spi.deinit() ``` æˆ–è€… ``` del spi ``` ## å¸¸é‡ * `SPI0`: SPI 0 * `SPI1`: SPI 1 * `SPI2`: SPI 2 * `MODE_MASTER`: ä½œä¸ºä¸»æœºæ¨¡å¼ * `MODE_MASTER_2`: ä½œä¸ºä¸»æœºæ¨¡å¼ * `MODE_MASTER_4`: ä½œä¸ºä¸»æœºæ¨¡å¼ * `MODE_MASTER_8`: ä½œä¸ºä¸»æœºæ¨¡å¼ * `MODE_SLAVE`: ä½œä¸ºä»æœºæ¨¡å¼ * `MSB`ï¼š MSBï¼Œ å³å…ˆå‘é€é«˜ä½æˆ–é«˜å­—èŠ‚ * `LSB`ï¼š LSBï¼Œ å³å…ˆå‘é€ä½ä½æˆ–è€…ä½å­—èŠ‚ * `CS0`ï¼š ç‰‡é€‰0 * `CS1`ï¼š ç‰‡é€‰1 * `CS2`ï¼š ç‰‡é€‰2 * `CS3`ï¼š ç‰‡é€‰3 ## ä¾‹ç¨‹ ### ä¾‹ç¨‹ 1ï¼š åŸºæœ¬è¯»å†™ ```python from machine import SPI spi SPI(SPI.SPI1, mode SPI.MODE_MASTER, baudrate 10000000, polarity 0, phase 0, bits 8, firstbit SPI.MSB, sck 28, mosi 29, miso 30, cs0 27) w b'1234' r bytearray(4) spi.write(w) spi.write(w, cs SPI.CS0) spi.write_readinto(w, r) spi.read(5, write 0x00) spi.readinto(r, write 0x00) ```"},"/soft/maixpy/zh/api_reference/machine/i2c.html":{"title":"machine.I2C","content":" title: machine.I2C keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®—, æ·±åº¦å­¦ä¹ , äººå·¥æ™ºèƒ½ desc: maixpy machine.I2C I2C æ€»çº¿åè®®ï¼Œç®€å•åœ°ä½¿ç”¨ä¸¤æ¡çº¿ï¼ˆSCLï¼ŒSDAï¼‰å¯ä»¥æ§åˆ¶å¤šä¸ªä»æœºï¼ˆä¸»æœºæ¨¡å¼ï¼‰ã€‚ * æ”¯æŒä¸»æœºæ¨¡å¼å’Œä»æœºæ¨¡å¼ * 7 ä½/10 ä½å¯»å€æ¨¡å¼ * æ ‡å‡†æ¨¡å¼ < 100Kb/s * å¿«é€Ÿæ¨¡å¼ < 400Kb/s * è¶…å¿«é€Ÿæ¨¡å¼ < 1000Kb/s * é«˜é€Ÿæ¨¡å¼ 3.4Mb/s ## æ„é€ å‡½æ•° ```python class machine.I2C(id, mode I2C.MODE_MASTER, scl None, sda None, gscl None, gsda None, freq 400000, timeout 1000, addr 0, addr_size 7, on_recieve None, on_transmit None, on_event None) ``` é€šè¿‡æŒ‡å®šçš„å‚æ•°æ–°å»ºä¸€ä¸ª I2C å¯¹è±¡ ### å‚æ•° * `id`ï¼š I2C ID, [0~2] \\(I2C.I2C0~I2C.I2C2\\) [3~5] \\(I2C.I2C3~I2C.I2C5, I2C_SOFT\\) æ˜¯è½¯æ¨¡æ‹Ÿ I2C çš„ç¼–å· * `mode`ï¼š æ¨¡å¼ï¼Œ ä¸»æœº(`I2C.MODE_MASTER`)å’Œä»æœºï¼ˆ`I2C.MODE_SLAVE`)æ¨¡å¼ * `scl`ï¼š SCL å¼•è„šï¼Œç›´æ¥ä¼ å¼•è„šç¼–å·å³å¯ï¼Œå–å€¼èŒƒå›´ï¼š [0,47]ã€‚ å¯ä»¥ä¸è®¾ç½®ï¼Œè€Œæ˜¯ä½¿ç”¨ [fm](../builtin_py/fm.html) ç»Ÿä¸€ç®¡ç†å¼•è„šæ˜ å°„ã€‚ * `sda`ï¼š SDA å¼•è„šï¼Œç›´æ¥ä¼ å¼•è„šç¼–å·å³å¯ï¼Œå–å€¼èŒƒå›´ï¼š [0,47]ã€‚ å¯ä»¥ä¸è®¾ç½®ï¼Œè€Œæ˜¯ä½¿ç”¨ [fm](../builtin_py/fm.html) ç»Ÿä¸€ç®¡ç†å¼•è„šæ˜ å°„ã€‚ * `gscl`: SCL å¯¹åº”çš„ GPIOHSï¼Œä½¿ç”¨è½¯ä»¶æ¨¡æ‹Ÿ I2C æ—¶æ‰éœ€è¦ä¼ å…¥ï¼Œé»˜è®¤ä¸ `scl` ç›¸åŒã€‚ * `gsda`: SDA å¯¹åº”çš„ GPIOHSï¼Œä½¿ç”¨è½¯ä»¶æ¨¡æ‹Ÿ I2C æ—¶æ‰éœ€è¦ä¼ å…¥ï¼Œé»˜è®¤ä¸ `sda` ç›¸åŒ ã€‚ * `freq`ï¼š I2Cé€šä¿¡é¢‘ç‡ï¼Œ æ”¯æŒæ ‡å‡†100Kb/s, å¿«é€Ÿ400Kb/sï¼Œ ä»¥åŠæ›´é«˜é€Ÿç‡ï¼ˆç¡¬ä»¶æ”¯æŒè¶…å¿«é€Ÿæ¨¡å¼1000Kb/sï¼Œä»¥åŠé«˜é€Ÿæ¨¡å¼3.4Mb/sï¼‰ * `timeout`ï¼š è¶…æ—¶æ—¶é—´ï¼Œç›®å‰è¿™ä¸ªå‚æ•°ä¿ç•™ï¼Œè®¾ç½®æ— æ•ˆ * `addr`ï¼š ä»æœºåœ°å€ï¼Œå¦‚æœæ˜¯ä¸»æœºæ¨¡å¼ä¸ç”¨è®¾ç½®ï¼Œ ä»æœºæ¨¡å¼åˆ™ä»£è¡¨ä»æœºï¼ˆæœ¬æœºï¼‰åœ°å€ * `addr_size`ï¼š åœ°å€é•¿åº¦ï¼Œ æ”¯æŒ 7 ä½å¯»å€å’Œ 10 ä½å¯»å€ï¼Œ å–å€¼`7`æˆ–è€…`10` * `on_recieve`ï¼š ä»æœºæ¨¡å¼çš„æ¥æ”¶å›è°ƒå‡½æ•° * `on_transmit`ï¼š ä»æœºæ¨¡å¼çš„å‘é€å›è°ƒå‡½æ•° * `on_event`ï¼š ä»æœºæ¨¡å¼çš„äº‹ä»¶å‡½æ•°ï¼ˆå¼€å§‹äº‹ä»¶å’Œç»“æŸäº‹ä»¶ï¼‰ ## æ–¹æ³• ### init ç±»ä¼¼æ„é€ å‡½æ•° ```python i2c I2C.init(id, mode Timer.MODE_MASTER, scl, sda, gscl, gsda, freq 400000, timeout 1000, addr 0, addr_size 7, on_recieve None, on_transmit None, on_event None) ``` #### å‚æ•° ä¸æ„é€ å‡½æ•°ç›¸åŒ #### è¿”å›å€¼ æ—  ### scan æ‰«æI2Cæ€»çº¿ä¸Šçš„ä»æœº ```python i2c.scan() ``` #### å‚æ•° æ—  #### è¿”å›å€¼ list å¯¹è±¡ï¼Œ åŒ…å«äº†æ‰€æœ‰æ‰«æåˆ°çš„ä»æœºåœ°å€ ### readfrom ä»æ€»çº¿è¯»å–æ•°æ® ```python i2c.readfrom(addr, len, stop True) ``` #### å‚æ•° * `addr`: ä»æœºåœ°å€ * `len`ï¼š æ•°æ®é•¿åº¦ * `stop`ï¼š æ˜¯å¦äº§ç”Ÿåœæ­¢ä¿¡å·ï¼Œä¿ç•™ï¼Œç›®å‰åªèƒ½ä½¿ç”¨é»˜è®¤å€¼Ture #### è¿”å›å€¼ è¯»å–åˆ°çš„æ•°æ®ï¼Œ`bytes` ç±»å‹ ### readfrom_into è¯»å–æ•°æ®å¹¶æ”¾åˆ°åˆ¶å®šå˜é‡ä¸­ ```python i2c.readfrom_into(addr, buf, stop True) ``` #### å‚æ•° * `addr`: ä»æœºåœ°å€ * `buf`ï¼š `bytearray`ç±»å‹ï¼Œ å®šä¹‰äº†é•¿åº¦ï¼Œè¯»å–åˆ°çš„æ•°æ®å­˜æ”¾åœ¨æ­¤ * `stop`ï¼š æ˜¯å¦äº§ç”Ÿåœæ­¢ä¿¡å·ï¼Œä¿ç•™ï¼Œç›®å‰åªèƒ½ä½¿ç”¨é»˜è®¤å€¼Ture #### è¿”å›å€¼ æ—  ### writeto å‘é€æ•°æ®åˆ°ä»æœº ```python i2c.writeto(addr, buf, stop True) ``` #### å‚æ•° * `addr`: ä»æœºåœ°å€ * `buf`ï¼š éœ€è¦å‘é€çš„æ•°æ® * `stop`ï¼š æ˜¯å¦äº§ç”Ÿåœæ­¢ä¿¡å·ï¼Œä¿ç•™ï¼Œç›®å‰åªèƒ½ä½¿ç”¨é»˜è®¤å€¼Ture #### è¿”å›å€¼ æˆåŠŸå‘é€çš„å­—èŠ‚æ•° ### readfrom_mem è¯»å–ä»æœºå¯„å­˜å™¨ ```python i2c.readfrom_mem(addr, memaddr, nbytes, mem_size 8) ``` #### å‚æ•° * `addr`: ä»æœºåœ°å€ * `memaddr`ï¼š ä»æœºå¯„å­˜å™¨åœ°å€ * `nbytes`ï¼š éœ€è¦è¯»å–çš„é•¿åº¦ * `mem_size`ï¼š å¯„å­˜å™¨å®½åº¦ï¼Œ é»˜è®¤ä¸º8ä½ #### è¿”å›å€¼ è¿”å›`bytes`ç±»å‹çš„è¯»å–åˆ°çš„æ•°æ® ### readfrom_mem_into è¯»å–ä»æœºå¯„å­˜å™¨å€¼åˆ°æŒ‡å®šå˜é‡ä¸­ ```python i2c.readfrom_mem_into(addr, memaddr, buf, mem_size 8) ``` #### å‚æ•° * `addr`: ä»æœºåœ°å€ * `memaddr`ï¼š ä»æœºå¯„å­˜å™¨åœ°å€ * `buf`ï¼š `bytearray`ç±»å‹ï¼Œ å®šä¹‰äº†é•¿åº¦ï¼Œè¯»å–åˆ°çš„æ•°æ®å­˜æ”¾åœ¨æ­¤ * `mem_size`ï¼š å¯„å­˜å™¨å®½åº¦ï¼Œ é»˜è®¤ä¸º8ä½ #### è¿”å›å€¼ æ—  ### writeto_mem å†™æ•°æ®åˆ°ä»æœºå¯„å­˜å™¨ ```python i2c.writeto_mem(addr, memaddr, buf, mem_size 8) ``` #### å‚æ•° * `addr`: ä»æœºåœ°å€ * `memaddr`ï¼š ä»æœºå¯„å­˜å™¨åœ°å€ * `buf`ï¼š éœ€è¦å†™çš„æ•°æ® * `mem_size`ï¼š å¯„å­˜å™¨å®½åº¦ï¼Œ é»˜è®¤ä¸º8ä½ #### è¿”å›å€¼ æ—  ### deinit/\\__del\\__ æ³¨é”€I2Cç¡¬ä»¶ï¼Œé‡Šæ”¾å ç”¨çš„èµ„æºï¼Œå…³é—­I2Cæ—¶é’Ÿ ```python i2c.deinit() ``` #### å‚æ•° æ—  #### è¿”å›å€¼ æ—  #### ä¾‹å­ ```python i2c.deinit() ``` æˆ–è€… ```python del i2c ``` ## å¸¸é‡ * `I2C0`: I2C 0 * `I2C1`: I2C 1 * `I2C2`: I2C 2 * `MODE_MASTER`: ä½œä¸ºä¸»æœºæ¨¡å¼ * `MODE_SLAVE`: ä½œä¸ºä»æœºæ¨¡å¼ * `I2C_EV_START`: äº‹ä»¶ç±»å‹ï¼Œå¼€å§‹ä¿¡å· * `I2C_EV_RESTART`: äº‹ä»¶ç±»å‹ï¼Œé‡æ–°å¼€å§‹ä¿¡å· * `I2C_EV_STOP`: äº‹ä»¶ç±»å‹ï¼Œç»“æŸä¿¡å· ## ä¾‹ç¨‹ ### ä¾‹ç¨‹ 1ï¼š æ‰«æä»æœºè®¾å¤‡ ```python from machine import I2C i2c I2C(I2C.I2C0, freq 100000, scl 28, sda 29) devices i2c.scan() print(devices) ``` ### ä¾‹ç¨‹ 2ï¼š è¯»å†™ ```python import time from machine import I2C i2c I2C(I2C.I2C0, freq 100000, scl 28, sda 29) i2c.writeto(0x24,b'123') i2c.readfrom(0x24,5) ``` ### ä¾‹ç¨‹ 3ï¼š ä»æœºæ¨¡å¼ ```python from machine import I2C count 0 def on_receive(data): print(\"on_receive:\",data) def on_transmit(): count count+1 print(\"on_transmit, send:\",count) return count def on_event(event): print(\"on_event:\",event) i2c I2C(I2C.I2C0, mode I2C.MODE_SLAVE, scl 28, sda 29, addr 0x24, addr_size 7, on_receive on_receive, on_transmit on_transmit, on_event on_event) ``` ### ä¾‹ç¨‹ 4ï¼š OLED(ssd1306 128x64) ```python import time from machine import I2C SSD1306_CMD 0 SSD1306_DATA 1 SSD1306_ADDR 0x3c def oled_init(i2c): i2c.writeto_mem(SSD1306_ADDR, 0x00, 0xAE, mem_size 8) i2c.writeto_mem(SSD1306_ADDR, 0x00, 0x20, mem_size 8) i2c.writeto_mem(SSD1306_ADDR, 0x00, 0x10, mem_size 8) i2c.writeto_mem(SSD1306_ADDR, 0x00, 0xb0, mem_size 8) i2c.writeto_mem(SSD1306_ADDR, 0x00, 0xc8, mem_size 8) i2c.writeto_mem(SSD1306_ADDR, 0x00, 0x00, mem_size 8) i2c.writeto_mem(SSD1306_ADDR, 0x00, 0x10, mem_size 8) i2c.writeto_mem(SSD1306_ADDR, 0x00, 0x40, mem_size 8) i2c.writeto_mem(SSD1306_ADDR, 0x00, 0x81, mem_size 8) i2c.writeto_mem(SSD1306_ADDR, 0x00, 0xff, mem_size 8) i2c.writeto_mem(SSD1306_ADDR, 0x00, 0xa1, mem_size 8) i2c.writeto_mem(SSD1306_ADDR, 0x00, 0xa6, mem_size 8) i2c.writeto_mem(SSD1306_ADDR, 0x00, 0xa8, mem_size 8) i2c.writeto_mem(SSD1306_ADDR, 0x00, 0x3F, mem_size 8) i2c.writeto_mem(SSD1306_ADDR, 0x00, 0xa4, mem_size 8) i2c.writeto_mem(SSD1306_ADDR, 0x00, 0xd3, mem_size 8) i2c.writeto_mem(SSD1306_ADDR, 0x00, 0x00, mem_size 8) i2c.writeto_mem(SSD1306_ADDR, 0x00, 0xd5, mem_size 8) i2c.writeto_mem(SSD1306_ADDR, 0x00, 0xf0, mem_size 8) i2c.writeto_mem(SSD1306_ADDR, 0x00, 0xd9, mem_size 8) i2c.writeto_mem(SSD1306_ADDR, 0x00, 0x22, mem_size 8) i2c.writeto_mem(SSD1306_ADDR, 0x00, 0xda, mem_size 8) i2c.writeto_mem(SSD1306_ADDR, 0x00, 0x12, mem_size 8) i2c.writeto_mem(SSD1306_ADDR, 0x00, 0xdb, mem_size 8) i2c.writeto_mem(SSD1306_ADDR, 0x00, 0x20, mem_size 8) i2c.writeto_mem(SSD1306_ADDR, 0x00, 0x8d, mem_size 8) i2c.writeto_mem(SSD1306_ADDR, 0x00, 0x14, mem_size 8) i2c.writeto_mem(SSD1306_ADDR, 0x00, 0xaf, mem_size 8) def oled_on(i2c): i2c.writeto_mem(SSD1306_ADDR, 0x00, 0X8D, mem_size 8) i2c.writeto_mem(SSD1306_ADDR, 0x00, 0X14, mem_size 8) i2c.writeto_mem(SSD1306_ADDR, 0x00, 0XAF, mem_size 8) def oled_off(i2c): i2c.writeto_mem(SSD1306_ADDR, 0x00, 0X8D, mem_size 8) i2c.writeto_mem(SSD1306_ADDR, 0x00, 0X10, mem_size 8) i2c.writeto_mem(SSD1306_ADDR, 0x00, 0XAE, mem_size 8) def oled_fill(i2c, data): for i in range(0,8): i2c.writeto_mem(SSD1306_ADDR, 0x00, 0xb0+i, mem_size 8) i2c.writeto_mem(SSD1306_ADDR, 0x00, 0x10, mem_size 8) i2c.writeto_mem(SSD1306_ADDR, 0x00, 0x01, mem_size 8) for j in range(0,128): i2c.writeto_mem(SSD1306_ADDR, 0x40, data, mem_size 8) i2c I2C(I2C.I2C0, mode I2C.MODE_MASTER, freq 400000, scl 28, sda 29, addr_size 7) time.sleep(1) oled_init(i2c) oled_fill(i2c, 0xff) ```"},"/soft/maixpy/zh/api_reference/machine/index.html":{"title":"machine","content":" title: machine keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®—, æ·±åº¦å­¦ä¹ , äººå·¥æ™ºèƒ½ desc: maixpy machine machine åº“ä¸»è¦åŒ…å«äº†ä¸ç¡¬ä»¶ç›¸å…³çš„å„ç§æ¥å£ï¼Œå¦‚ä¸‹ï¼š * [I2C](./i2c.html) * [SPI](./spi.html) * [Timer](./timer.html) * [PWM](./pwm.html) * [UART](./uart.html) ## æ–¹æ³• machine.unique_id() è·å–å”¯ä¸€ ID ### è¿”å›å€¼ 32 å­—èŠ‚çš„å”¯ä¸€ID ## æ–¹æ³• machine.reset() é‡å¯"},"/soft/maixpy/zh/api_reference/machine/network.html":{"title":"network","content":" title: network keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®—, æ·±åº¦å­¦ä¹ , äººå·¥æ™ºèƒ½ desc: maixpy network è¯¥æ¨¡å—ç”¨äºåˆå§‹åŒ–å„ç§ç½‘å¡é©±åŠ¨ï¼Œç½‘å¡å…·æœ‰è¿æ¥è·¯ç”±ï¼Œæ–­å¼€è·¯ç”±ï¼ŒæŸ¥çœ‹ç½‘å¡è¿æ¥ä¿¡æ¯ï¼Œæ£€æŸ¥æ˜¯å¦è¿æ¥ç­‰åŠŸèƒ½ã€‚ ä½¿ç”¨`WiFi`è¯·ç¡®ä¿å·²ç»æ¥ä¸Šäº†å¤©çº¿ **esp8285** åœ¨éƒ¨åˆ†å¼€å‘æ¿ä¸Šå¸¦äº† ä¸€ä¸ª ä½¿ç”¨`AT`æ–¹å¼äº¤äº’çš„ç½‘å¡æ¨¡å—ï¼Œæ¯”å¦‚`esp8285`ï¼Œä¸`k210`é€šè¿‡ä¸²å£è¿æ¥ å¼•è„š`8`æ˜¯ä½¿èƒ½è„šï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ª`GPIO`å¯¹è±¡æ¥æ§åˆ¶å®ƒçš„é«˜ä½ç”µå¹³æ¥å®ç°ä½¿èƒ½å’Œå¤±èƒ½ï¼Œä¹Ÿå¯ä»¥ç”¨å®ƒå¤ä½ï¼ˆå…ˆä½åé«˜ï¼‰ï¼Œå¤ä½åéœ€è¦ç­‰å¾…ä¸€å°æ®µæ—¶é—´æ‰èƒ½æ“ä½œï¼Œå¯ä»¥æŸ¥çœ‹ä¾‹ç¨‹[network_espat.py](https://github.com/sipeed/MaixPy v1_scripts/blob/79a5485ec983e67bb8861305a52418b29e0dc205/network/network_espat.py) **esp32** ç›®å‰åœ¨`MaixDuino`å¼€å‘æ¿ä¸­æœ‰ä¸€ä¸ª `esp32` æ¨¡å—é€šè¿‡ `spi` ä¸`k210`ç›¸è¿ï¼ŒåŒæ—¶ä¹Ÿæœ‰å•ç‹¬çš„`TF`æ’å¡å¼æ¨¡å— ## network.ESP8285(uart) æ„é€ ä¸€ä¸ª`ESP8285`ç½‘å¡å¯¹è±¡ï¼Œä½¿ç”¨è¯¥æ–¹æ³•éœ€è¦ä¼ å…¥ä¸€ä¸ª`uart`å¯¹è±¡ï¼Œåœ¨`MaixPy`ç›®å‰æ”¯æŒçš„`dock`å’Œ`GO`ä¸Šï¼Œæ˜¯ä½¿ç”¨ATæŒ‡ä»¤æ¨¡å—ä½œä¸º`WiFi`ã€‚æ‰€ä»¥è¯¥`uart`å¯¹è±¡æ˜¯ä¸`AT`æ¨¡å—é€šä¿¡çš„å¯¹è±¡ï¼Œå¯ä»¥æŸ¥çœ‹`uart`æ¨¡å—ä¾‹ç¨‹ è°ƒç”¨æ­¤æ–¹æ³•ä¼šåˆå§‹åŒ–`ESP8285`ï¼Œ å¦‚æœå¤±è´¥ä¼šæŠ›å‡ºå¼‚å¸¸ ### å‚æ•° * `uart`: ä¸ATæ¨¡å—é€šä¿¡çš„UARTå¯¹è±¡ ### è¿”å›å€¼ * `ESP8285`: ç½‘å¡å¯¹è±¡ ## ESP8285 ### connect(ssid, key) è¿æ¥çƒ­ç‚¹ï¼ˆAP/è·¯ç”±å™¨ï¼‰ #### å‚æ•° * `ssid`: çƒ­ç‚¹çš„`SSID` * `key`: çƒ­ç‚¹çš„å¯†ç  #### è¿”å›å€¼ æ— ï¼Œ å¦‚æœå‘ç”Ÿé”™è¯¯ä¼šæŠ›å‡ºå¼‚å¸¸ ### 2.2. ifconfig() æŸ¥çœ‹wifiè¿æ¥ä¿¡æ¯ï¼Œç›®å‰networkä¸æ”¯æŒè®¾ç½®ç½‘å¡é…ç½® ``` nic.ifconfig() ``` #### å‚æ•° æ—  #### è¿”å›å€¼ `tuple` ç±»å‹ï¼Œ å…ƒç´ éƒ½æ˜¯å­—ç¬¦ä¸²ï¼š`(ip, netmask, gateway, dns_server, dhcp_server, mac, ssid)`ï¼Œ å¦‚æœæ²¡æœ‰æŸ¥è¯¢åˆ°æˆ–è€…æ— æ•ˆï¼Œå€¼ä¸º`\"0\"` ### isconnected() æŸ¥çœ‹wifiæ˜¯å¦è¿æ¥ ``` nic.isconnected() ``` #### å‚æ•° æ—  #### è¿”å›å€¼ `True`: å·²ç»è¿æ¥ `False`: æ–­å¼€è¿æ¥ ### disconnect() æ–­å¼€ wifi è¿æ¥ #### å‚æ•° æ—  #### è¿”å›å€¼ æ—  ### scan() æ‰«æå‘¨å›´çš„çƒ­ç‚¹ä¿¡æ¯ #### å‚æ•° æ—  #### è¿”å›å€¼ ä¸€ä¸ª `list`å¯¹è±¡ï¼Œ æ¯ä¸ªå…ƒç´ åŒ…å«äº†ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œ å­—ç¬¦ä¸²æ¥è‡ª`AT`æ¨¡å—çš„å“åº”ï¼Œå†…å®¹å’Œ`esp8285`çš„`ATæŒ‡ä»¤æ–‡æ¡£`æ‰€æè¿°çš„ç›¸åŒï¼Œå¦‚ä¸‹ï¼š `ecn, ssid, rssi,mac, channel, freq\toffset, freq cali, pairwise_cipher, group_cipher, bgn, wps` * `ecn`ï¼šåŠ å¯†â½…å¼ * 0ï¼šOPEN * 1ï¼šWEP * 2ï¼šWPA_PSK * 3ï¼šWPA2_PSK * 4ï¼šWPA_WPA2_PSK * 5ï¼šWPA2_Enterpriseï¼ˆâ½¬å‰ AT ä¸â½€æŒè¿æ¥è¿™ç§åŠ å¯† APï¼‰ * `ssid`ï¼šå­—ç¬¦ä¸²å‚æ•°ï¼ŒAP çš„ SSID * `rssi`ï¼šä¿¡å·å¼ºåº¦ * `mac`ï¼šå­—ç¬¦ä¸²å‚æ•°ï¼ŒAP çš„ MAC åœ°å€ * `channel`ï¼šä¿¡é“å· * `freq offset`ï¼šAP é¢‘åï¼Œå•ä½ï¼škHzã€‚æ­¤æ•°å€¼é™¤ä»¥ 2.4ï¼Œå¯å¾—åˆ° ppm å€¼ * `freq\tcali`ï¼šé¢‘åæ ¡å‡†å€¼ * `pairwise_cipher`: * 0ï¼šCIPHER_NONE * 1ï¼šCIPHER_WEP40 * 2ï¼šCIPHER_WEP104 * 3ï¼šCIPHER_TKIP * 4ï¼šCIPHER_CCMP * 5ï¼šCIPHER_TKIP_CCMP * 6ï¼šCIPHER_UNKNOWN * `group_cipher`: å®šä¹‰ä¸ `pairwise_cipher` ç›¸åŒ * `bgn`: bit0 ä»£è¡¨ b æ¨¡å¼; bit1 ä»£è¡¨ g æ¨¡å¼; bit2 ä»£è¡¨ n æ¨¡å¼ è‹¥å¯¹åº” bit ä¸º 1ï¼Œè¡¨ç¤ºè¯¥æ¨¡å¼ä½¿èƒ½ï¼›è‹¥å¯¹åº” bit ä¸º 0ï¼Œåˆ™è¯¥æ¨¡å¼æœªä½¿èƒ½ã€‚ * `wps`ï¼š0ï¼ŒWPS æœªä½¿èƒ½ï¼›1ï¼ŒWPS ä½¿èƒ½ æ¯”å¦‚ï¼š ``` info_strs ['4,\"ChinaNet lot0\", 79,\"c8:50:e9:e8:21:3e\",1, 42,0,4,3,7,1', '4,\"TOPSTEP2G4\", 7 0,\"f8:e7:1e:0d:0d:f8\",1, 57,0,4,4,7,0'] ``` è¿™çœ‹èµ·æ¥å¯èƒ½ä¼šæ¯”è¾ƒå¥‡æ€ªï¼Œå› ä¸ºæ¯ä¸ªAPçš„ä¿¡æ¯éƒ½æ˜¯ä¸€ä¸²å­—ç¬¦ï¼Œä¿¡æ¯é‡Œé¢è¿˜æœ‰æ•´å‹å’Œå­—ç¬¦ä¸²ï¼Œå­—ç¬¦ä¸²ç”¨åŒå¼•å·æ‹¬èµ·æ¥çš„ï¼Œæ‰€ä»¥æ‹¿åˆ°è¿™ä¸ªå­—ç¬¦ä¸²åéœ€è¦å†æ¬¡å¤„ç†åå†ä½¿ç”¨ï¼Œæ¯”å¦‚ï¼š ```python def wifi_deal_ap_info(info): res [] for ap_str in info: ap_str ap_str.split(\",\") info_one [] for node in ap_str: if node.startswith('\"'): info_one.append(node[1: 1]) else: info_one.append(int(node)) res.append(info_one) return res info_strs ['4,\"ChinaNet lot0\", 79,\"c8:50:e9:e8:21:3e\",1, 42,0,4,3,7,1', '4,\"TOPSTEP2G4\", 70,\"f8:e7:1e:0d:0d:f8\",1, 57,0,4,4,7,0'] info wifi_deal_ap_info(info_strs) print(info) ``` è¾“å‡ºæ˜¯ï¼š ``` [[4, 'ChinaNet lot0', 79, 'c8:50:e9:e8:21:3e', 1, 42, 0, 4, 3, 7, 1], [4, 'TOPSTEP2G4', 70, 'f8:e7:1e:0d:0d:f8', 1, 57, 0, 4, 4, 7, 0]] ``` ç„¶åæ¯”å¦‚æˆ‘ä»¬éœ€è¦è·å¾—æ‰€æœ‰`AP`çš„`SSID`åªéœ€è¦ä½¿ç”¨ ``` for ap_info in info: print(ap_info[1]) ``` ### enable_ap(ssid, key, chl 5, ecn 3) * **è­¦å‘Šï¼šæˆªæ­¢ 2020å¹´11æœˆ26æ—¥å‰ï¼Œ MaixPy çš„ socket è¿˜æœªå®ç° listen / bind / accpet ç­‰å‡½æ•°æ“ä½œã€‚** æ‰“å¼€çƒ­ç‚¹ #### å‚æ•° * `ssid`: SSID * `key`ï¼š å¯†ç  * `chl`ï¼š WiFiä¿¡å·çš„é€šé“å· * `ecn`ï¼š åŠ å¯†æ–¹æ³•ï¼Œ æœ‰`OPEN``WPA2_PSK`ç­‰ï¼Œå‚è€ƒæœ¬é¡µ`ESP8285`çš„å¸¸é‡éƒ¨åˆ†ï¼Œ é»˜è®¤å€¼æ˜¯`3`ï¼Œ ä¹Ÿå°±æ˜¯`ESP8285.WPA2_PSK`ï¼Œæ¯”å¦‚ ```python nic network.ESP8285(uart) nic.enable_ap(\"maixpy\", \"12345678\", 5, nic.OPEN) ``` æˆ–è€… ``` nic.enable_ap(\"maixpy\", \"12345678\", 5, network.ESP8285.OPEN) ``` ### disable_ap() å…³é—­çƒ­ç‚¹ ### å¸¸é‡ #### OPEN çƒ­ç‚¹çš„åŠ å¯†æ–¹å¼ä¸ºä¸éœ€è¦å¯†ç  #### WPA_PSK çƒ­ç‚¹çš„åŠ å¯†æ–¹å¼ä¸º `WPA_PSK` #### WPA2_PSK çƒ­ç‚¹çš„åŠ å¯†æ–¹å¼ä¸º `WPA2_PSK` #### WPA_WPA2_PSK çƒ­ç‚¹çš„åŠ å¯†æ–¹å¼ä¸º `WPA_WPA2_PSK` ## ä¾‹ç¨‹ å‚è€ƒ[networkç›®å½•ä¸‹çš„ä¾‹ç¨‹](https://github.com/sipeed/MaixPy v1_scripts/tree/master/network) ## network.ESP32_SPI(cs,rst,rdy,mosi,miso,sclk) æ„é€ ä¸€ä¸ª`ESP32_SPI`ç½‘å¡å¯¹è±¡ï¼Œéœ€è¦ä¼ å…¥å¯¹åº”çš„`GPIOHS FUNC` å¦‚æœä¼ å…¥å‚æ•°æ•°é‡ä¸å¯¹ï¼Œä¼šè¿”å›é”™è¯¯ **æ³¨æ„** æƒ³è¦åœ¨ maixduino ä¸Š SPI å’Œ SD ä¸å†²çªï¼Œéœ€è¦è®¾ç½® ESP32_SPI ä¸ºç¡¬ä»¶ SPI é…ç½®ã€‚ ### å‚æ•° * å¯¹åº”å¼•è„šåŠŸèƒ½çš„ `fpioa_func` ### è¿”å›å€¼ * `ESP32_SPI` ç½‘å¡å¯¹è±¡ ## ESP32_SPI ### adc è¯»å–`esp32`æ¨¡å—çš„`adc`å€¼ #### å‚æ•° æ—  #### è¿”å›å€¼ `tunple`ï¼Œ5ä¸ªé€šé“çš„`adc`å€¼<br>é¡ºåºæ˜¯`\"PIN36\", \"PIN39\", \"PIN34\", \"PIN35\", \"PIN32\"` #### ä¾‹ç¨‹ [demo_esp32_read_adc.py](https://github.com/sipeed/MaixPy v1_scripts/blob/master/network/demo_esp32_read_adc.py) ## network.WIZNET5K(spi, cs) æ„é€ ä¸€ä¸ª`WIZNET5K`ç½‘å¡å¯¹è±¡ï¼Œä½¿ç”¨è¯¥æ–¹æ³•éœ€è¦ä¼ å…¥ä¸€ä¸ª`spi`å¯¹è±¡ï¼Œ ä¸€ä¸ª`cs` pin è„š. è°ƒç”¨æ­¤æ–¹æ³•ä¼šåˆå§‹åŒ–`WIZNET5K`ï¼Œ å¦‚æœå¤±è´¥ä¼šæŠ›å‡ºå¼‚å¸¸ ### å‚æ•° * `spi`: è´Ÿè´£ä¸ WIZNET5K æ¨¡å—é€šä¿¡ * `cs`: spi é€šä¿¡ç‰‡é€‰è„š ### è¿”å›å€¼ * `WIZNET5K`: ç½‘å¡å¯¹è±¡ ## WIZNET5K ### dhclient DHCP åŠ¨æ€è·å– IP ``` nic.dhclient() ``` #### å‚æ•° æ—  #### è¿”å›å€¼ * `True`: è·å–æˆåŠŸ * `False`: è·å–å¤±è´¥ ### ifconfig ``` nic.ifconfig() ``` #### å‚æ•° * ä¸ä¼ å‚: æŸ¥è¯¢ç½‘å¡ä¿¡æ¯ * ä¼ å…¥`(ip, netmask, gateway, dns_server)`å­—ç¬¦ä¸²å…ƒç»„: é…ç½®ç½‘å¡, `ip` ip åœ°å€, `netmask`å­ç½‘æ©ç , `gateway`ç½‘å…³ IP åœ°å€, `dns_server` DNS æœåŠ¡ IP åœ°å€. #### è¿”å›å€¼ * ä¸ä¼ å‚: è¿”å›`tuple`ï¼Œå…ƒç´ éƒ½æ˜¯å­—ç¬¦ä¸², `(ip, netmask, gateway, dns_server)`ï¼Œ å¦‚æœæ²¡æœ‰æŸ¥è¯¢åˆ°æˆ–è€…æ— æ•ˆï¼Œå€¼ä¸º`\"0\"` * ä¼ å‚: è¿”å›`None` ### isconnected æŸ¥çœ‹ç½‘ç»œæ˜¯å¦è¿æ¥ ``` nic.isconnected() ``` #### å‚æ•° æ—  #### è¿”å›å€¼ * `True`: å·²ç»è¿æ¥ * `False`: æ–­å¼€è¿æ¥ #### ä¾‹ç¨‹ [network_wiznet5k.py](https://github.com/sipeed/MaixPy v1_scripts/blob/master/network/network_wiznet5k.py)"},"/soft/maixpy/zh/api_reference/machine/wdt.html":{"title":"machine.WDT","content":" title: machine.WDT keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy machine.WDT MaixPy çš„ WDT çœ‹é—¨ç‹—æ¨¡å—ï¼Œç”¨äºåœ¨åº”ç”¨ç¨‹åºå´©æºƒä¸”æœ€ç»ˆè¿›å…¥ä¸å¯æ¢å¤çŠ¶æ€æ—¶é‡å¯ç³»ç»Ÿã€‚ä¸€æ—¦å¼€å§‹ï¼Œå½“ç¡¬ä»¶è¿è¡ŒæœŸé—´æ²¡æœ‰å®šæœŸè¿›è¡Œå–‚ç‹—ï¼ˆfeedï¼‰å°±ä¼šåœ¨è¶…æ—¶åè‡ªåŠ¨å¤ä½ã€‚ ## æ„é€ å‡½æ•° ```python from machine import WDT wdt0 WDT(id 1, timeout 4000, callback on_wdt, context {}) ``` é€šè¿‡æŒ‡å®šçš„å‚æ•°æ–°å»ºä¸€ä¸ª WDT å¯¹è±¡ ### å‚æ•° * `id`: è¿™ä¸ªçœ‹é—¨ç‹—å¯¹è±¡å¿…é¡»åˆå§‹åŒ–æ—¶å¿…é¡»æŒ‡å®š ID ï¼ˆ0 ~ 2ï¼‰ ç”¨äºåŒºåˆ†ä½¿ç”¨çš„çœ‹é—¨ç‹—ã€‚ * `timeout`ï¼š çœ‹é—¨ç‹—è¶…æ—¶æ—¶é—´ï¼Œå•ä½ä¸ºæ¯«ç§’ï¼ˆmsï¼‰ã€‚ * `callback`: ï¼ˆå¯é€‰ï¼‰å¯ä»¥åœ¨è¶…æ—¶åæ‰§è¡Œçš„å›è°ƒå‡½æ•°ã€‚ * `context`ï¼š ï¼ˆå¯é€‰ï¼‰ä¸ºå›è°ƒå‡½æ•°ä¼ é€’çš„å‚æ•°ã€‚ ## æ–¹æ³• ### feed â€œå–‚å…»â€çœ‹é—¨ç‹—ï¼Œä»¥é˜²æ­¢å…¶é‡ç½®ç³»ç»Ÿã€‚è¯¥åº”ç”¨åº”å°†è¯¥è°ƒç”¨ç”¨äºåˆé€‚ä½ç½®ï¼Œå¹¶ç¡®ä¿åªåœ¨éªŒè¯ä¸€åˆ‡æ­£å¸¸è¿è¡Œåæ‰â€œå–‚å…»â€çœ‹é—¨ç‹—ã€‚ ```python wdt0.feed() ``` #### å‚æ•° æ—  #### è¿”å›å€¼ æ—  ### stop åœæ­¢å½“å‰çœ‹é—¨ç‹—å¯¹è±¡ ```python wdt0.stop() ``` #### å‚æ•° æ—  #### è¿”å›å€¼ æ—  ## ä¾‹ç¨‹ ### ä¾‹ç¨‹ 1 ï¼ˆåŸºç¡€ä½¿ç”¨ï¼‰ å–‚ä¸€æ¬¡ç‹—åä¾¿ä¸å†å–‚ç‹—ä½¿å¾—ç³»ç»Ÿå¤ä½ ```python import time from machine import WDT # ''' # test default wdt wdt0 WDT(id 0, timeout 3000) print('into', wdt0) time.sleep(2) print(time.ticks_ms()) # 1.test wdt feed wdt0.feed() time.sleep(2) print(time.ticks_ms()) # 2.test wdt stop # wdt0.stop() ``` ### ä¾‹ç¨‹ 2 ï¼ˆè¿›é˜¶ä½¿ç”¨ï¼‰ åœ¨å›è°ƒå‡½æ•°ä¸­å–‚ç‹—ï¼Œç³»ç»Ÿæ­£å¸¸è¿è¡Œ ```python import time from machine import WDT def on_wdt(self): print(self.context(), self) self.feed() ## release WDT #self.stop() # test callback wdt wdt1 WDT(id 1, timeout 4000, callback on_wdt, context {}) print('into', wdt1) time.sleep(2) print(time.ticks_ms()) # 1.test wdt feed wdt1.feed() time.sleep(2) print(time.ticks_ms()) # 2.test wdt stop # wdt1.stop() # print('stop', wdt1) # 3.wait wdt work while True: print('idle', time.ticks_ms()) time.sleep(1) ```"},"/soft/maixpy/zh/api_reference/machine/timer.html":{"title":"machine.Timer","content":" title: machine.Timer keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy machine.Timer ç¡¬ä»¶å®šæ—¶å™¨ï¼Œå¯ä»¥ç”¨æ¥å®šæ—¶è§¦å‘ä»»åŠ¡æˆ–è€…å¤„ç†ä»»åŠ¡ï¼Œè®¾å®šæ—¶é—´åˆ°äº†åå¯ä»¥è§¦å‘ä¸­æ–­ï¼ˆè°ƒç”¨å›è°ƒå‡½æ•°ï¼‰ï¼Œç²¾åº¦æ¯”è½¯ä»¶å®šæ—¶å™¨é«˜ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå®šæ—¶å™¨åœ¨ä¸åŒçš„ç¡¬ä»¶ä¸­å¯èƒ½ä¼šæœ‰ä¸åŒçš„è¡¨ç°ã€‚MicroPython çš„ Timer ç±»å®šä¹‰äº†åœ¨ç»™å®šæ—¶é—´æ®µå†…ï¼ˆæˆ–åœ¨ä¸€æ®µå»¶è¿Ÿåæ‰§è¡Œä¸€æ¬¡å›è°ƒï¼‰æ‰§è¡Œå›è°ƒçš„åŸºæœ¬æ“ä½œï¼Œå¹¶å…è®¸ç‰¹å®šçš„ç¡¬ä»¶ä¸Šå®šä¹‰æ›´å¤šçš„éæ ‡å‡†è¡Œä¸ºï¼ˆå› æ­¤ä¸èƒ½ç§»æ¤åˆ°å…¶ä»–æ¿ï¼‰ã€‚ å…±æœ‰ 3 ä¸ªå®šæ—¶å™¨ï¼Œ æ¯ä¸ªå®šæ—¶å™¨æœ‰ 4 ä¸ªé€šé“å¯ä»¥ä½¿ç”¨ ## æ„é€ å‡½æ•° ```python tim machine.Timer(id, channel, mode Timer.MODE_ONE_SHOT, period 1000, unit Timer.UNIT_MS, callback None, arg None, start True, priority 1, div 0) ``` é€šè¿‡æŒ‡å®šçš„å‚æ•°æ–°å»ºä¸€ä¸ª Timer å¯¹è±¡ ### å‚æ•° * `id`: Timer ID, [0~2] \\(Timer.TIMER0~TIMER2\\) * `channel`: Timer é€šé“, [Timer.CHANNEL0~Timer.CHANNEL3] * `mode`: Timer æ¨¡å¼, `MODE_ONE_SHOT` æˆ–è€… `MODE_PERIODIC` æˆ–è€… `MODE_PWM` * `period`: Timer å‘¨æœŸ, åœ¨å¯åŠ¨å®šæ—¶å™¨å `period` æ—¶é—´ï¼Œ å›è°ƒå‡½æ•°å°†ä¼šè¢«è°ƒç”¨ï¼Œ(0,~) * `unit`: è®¾ç½®å‘¨æœŸçš„å•ä½ï¼Œé»˜è®¤ä½æ¯«ç§’ï¼ˆ`ms`ï¼‰ï¼Œ`Timer.UNIT_S` æˆ–è€… `Timer.UNIT_MS` æˆ–è€… `Timer.UNIT_US` æˆ–è€…`Timer.UNIT_NS` * `callback`: å®šæ—¶å™¨å›è°ƒå‡½æ•°ï¼Œ å®šä¹‰äº†ä¸¤ä¸ªå‚æ•°ï¼Œ ä¸€ä¸ªæ˜¯å®šæ—¶å™¨å¯¹è±¡`Timer`ï¼Œ ç¬¬äºŒä¸ªæ˜¯åœ¨å®šä¹‰å¯¹è±¡æ˜¯å¸Œæœ›ä¼ çš„å‚æ•°`arg`ï¼Œæ›´å¤šè¯·çœ‹`arg`å‚æ•°è§£é‡Š > æ³¨æ„ï¼šå›è°ƒå‡½æ•°æ˜¯åœ¨ä¸­æ–­ä¸­è°ƒç”¨çš„ï¼Œæ‰€ä»¥åœ¨å›è°ƒå‡½æ•°ä¸­è¯·ä¸è¦å ç”¨å¤ªé•¿æ—¶é—´ä»¥åŠåšåŠ¨æ€åˆ†é…å¼€å…³ä¸­æ–­ç­‰åŠ¨ä½œ * `arg`: å¸Œæœ›ä¼ ç»™å›è°ƒå‡½æ•°çš„å‚æ•°ï¼Œä½œä¸ºå›è°ƒå‡½æ•°çš„ç¬¬äºŒä¸ªå‚æ•° * `start`: æ˜¯å¦åœ¨å¯¹è±¡æ„å»ºæˆåŠŸåç«‹å³å¼€å§‹å®šæ—¶å™¨ï¼Œ `True`ï¼šç«‹å³å¼€å§‹ï¼Œ `False`:ä¸ç«‹å³å¼€å¯ï¼Œéœ€è¦è°ƒç”¨`start()`å‡½æ•°æ¥å¯åŠ¨å®šæ—¶å™¨ * `priority`: ç¡¬ä»¶å®šæ—¶å™¨ä¸­æ–­ä¼˜å…ˆçº§ï¼Œ ä¸ç‰¹å®šçš„CPUç›¸å…³ï¼Œ åœ¨K210ä¸­ï¼Œå–å€¼èŒƒå›´æ˜¯[1,7]ï¼Œ å€¼è¶Šå°ä¼˜å…ˆçº§è¶Šé«˜ * `div`: ç¡¬ä»¶å®šæ—¶å™¨åˆ†é¢‘å™¨ï¼Œå–å€¼èŒƒå›´[0,255]ï¼Œ é»˜è®¤ä¸º0ï¼Œ clk_timerï¼ˆå®šæ—¶å™¨æ—¶é’Ÿé¢‘ç‡ï¼‰ clk_pll0ï¼ˆé”ç›¸ç¯0é¢‘ç‡ï¼‰/2^(div+1) > clk_timer*period(unit:s) åº”è¯¥ < 2^32 å¹¶ä¸” > 1 ## æ–¹æ³• ### init ç±»ä¼¼æ„é€ å‡½æ•° ```python tim.init(id, channel, mode Timer.MODE_ONE_SHOT, period 1000, unit Timer.UNIT_MS, callback None, arg None, start True, priority 1, div 0) ``` #### å‚æ•° ç±»ä¼¼æ„é€ å‡½æ•° #### è¿”å›å€¼ æ—  ### callback_arg è·å–è®¾ç½®çš„ä¼ ç»™å›è°ƒå‡½æ•°çš„å‚æ•°ï¼Œåªèƒ½æ˜¯ `Timer` å¯¹è±¡è°ƒç”¨ï¼Œ ç±» `Timer` ä¸èƒ½è°ƒç”¨ ### callback è·å–æˆ–è€…è®¾ç½®å›è°ƒå‡½æ•° ```python tim.callback(callback) ``` #### å‚æ•° * `callback`ï¼š è®¾ç½®çš„å›è°ƒå‡½æ•°ï¼Œå¯é€‰å‚æ•°ï¼Œ å¦‚æœä¸ä¼ å‚æ•°ï¼Œåˆ™åªè¿”å›å…ˆæœ‰çš„å›è°ƒå‡½æ•° #### è¿”å›å€¼ å½“å‰çš„å›è°ƒå‡½æ•° #### ä¾‹å­ ```python def on_timer(timer): print(\"time up:\",timer) print(\"param:\",timer.callback_arg()) tim.callback(on_timer) print(on_timer, tim.callback()) ``` ### period è·å–æˆ–è€…è®¾ç½®å®šæ—¶å‘¨æœŸ ```python tim.period(period) ``` #### å‚æ•° * `period`ï¼š å¯é€‰å‚æ•°ï¼Œé…ç½®å‘¨æœŸï¼Œ å¦‚æœä¸ä¼ å‚æ•°ï¼Œ åˆ™åªè¿”å›å½“å‰å‘¨æœŸå€¼ #### è¿”å›å€¼ å½“å‰å‘¨æœŸå€¼ #### ä¾‹å­ ```python tim.period(2000) print( tim.period() ) ``` ### start å¯åŠ¨å®šæ—¶å™¨ ```python tim.start() ``` #### å‚æ•° æ—  #### è¿”å›å€¼ æ—  #### ä¾‹å­ ```python tim.start() ``` ### stop åœæ­¢å®šæ—¶å™¨ ```python tim.stop() ``` #### å‚æ•° æ—  #### è¿”å›å€¼ æ—  ### restart é‡æ–°å¼€å¯å®šæ—¶å™¨ ```python tim.restart() ``` #### å‚æ•° æ—  #### è¿”å›å€¼ æ—  ### deinit/\\__del\\__ æ³¨é”€å®šæ—¶å™¨ï¼Œå¹¶ä¸”æ³¨é”€ç¡¬ä»¶çš„å ç”¨ï¼Œå…³é—­ç¡¬ä»¶çš„æ—¶é’Ÿ ```python tim.deinit() ``` #### å‚æ•° æ—  #### è¿”å›å€¼ æ—  #### ä¾‹å­ ```python tim.deinit() ``` æˆ–è€… ```python del tim ``` ## å¸¸é‡ * `TIMER0`: Timer0 id * `TIMER1`: Timer1 id * `TIMER2`: Timer2 id * `CHANNEL0`: Timer é€šé“ 0 * `CHANNEL1`: Timer é€šé“ 1 * `CHANNEL2`: Timer é€šé“ 2 * `CHANNEL3`: Timer é€šé“ 3 * `MODE_ONE_SHOT`: Timer åªè¿è¡Œä¸€æ¬¡ï¼ˆå›è°ƒä¸€æ¬¡ï¼‰ * `MODE_PERIODIC`: Timer å§‹ç»ˆè¿è¡Œï¼ˆè¿ç»­å›è°ƒï¼‰ * `MODE_PWM`: å®šæ—¶å™¨ä¸ç”¨æ¥å›è°ƒå‡½æ•°ï¼Œç”¨ä»¥äº§ç”ŸPWM * `UNIT_S`: å•ä½ç§’ (s) * `UNIT_MS`: å•ä½æ¯«ç§’ (ms) * `UNIT_US`: å•ä½å¾®ç§’ (us) * `UNIT_NS`: å•ä½çº³ç§’ (ns) ## ä¾‹ç¨‹ ### ä¾‹ç¨‹ 1 å®šæ—¶3ç§’åæ‰“å°ä¿¡æ¯ ```python from machine import Timer def on_timer(timer): print(\"time up:\",timer) print(\"param:\",timer.callback_arg()) tim Timer(Timer.TIMER0, Timer.CHANNEL0, mode Timer.MODE_ONE_SHOT, period 3000, callback on_timer, arg on_timer) print(\"period:\",tim.period()) ``` ### ä¾‹ç¨‹ 2 æ¯éš” 1 ç§’æ‰“å°æ¶ˆæ¯ï¼Œ åœæ­¢ 5 ç§’åå†é‡å¯ï¼Œ 5 ç§’åå…³é—­å¹¶æ³¨é”€å®šæ—¶å™¨ ```python import time from machine import Timer def on_timer(timer): print(\"time up:\",timer) print(\"param:\",timer.callback_arg()) tim Timer(Timer.TIMER0, Timer.CHANNEL0, mode Timer.MODE_PERIODIC, period 1, unit Timer.UNIT_S, callback on_timer, arg on_timer, start False, priority 1, div 0) print(\"period:\",tim.period()) tim.start() time.sleep(5) tim.stop() time.sleep(5) tim.restart() time.sleep(5) tim.stop() del tim ```"},"/soft/maixpy/zh/api_reference/machine/machine.html":{"title":"machine","content":" title: machine keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®—, æ·±åº¦å­¦ä¹ , äººå·¥æ™ºèƒ½ desc: maixpy machine ## unique_id"},"/soft/maixpy/zh/api_reference/machine/uart.html":{"title":"machine.UART","content":" title: machine.UART keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy machine.UART uart æ¨¡å—ä¸»è¦ç”¨äºé©±åŠ¨å¼€å‘æ¿ä¸Šçš„å¼‚æ­¥ä¸²å£ï¼Œå¯ä»¥è‡ªç”±å¯¹ uart è¿›è¡Œé…ç½®ã€‚k210 ä¸€å…±æœ‰3ä¸ª uartï¼Œæ¯ä¸ª uart å¯ä»¥è¿›è¡Œè‡ªç”±çš„å¼•è„šæ˜ å°„ã€‚ ## æ„é€  ### å¼•è„šæ˜ å°„ åœ¨ä½¿ç”¨ uart å‰ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ fm æ¥å¯¹èŠ¯ç‰‡å¼•è„šè¿›è¡Œæ˜ å°„å’Œç®¡ç†ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼Œå°† PIN10 è®¾ç½®ä¸º uart2 çš„å‘é€å¼•è„šï¼ŒPIN11 è®¾ç½®ä¸º uart2 çš„æ¥æ”¶å¼•è„š ``` fm.register(board_info.PIN10,fm.fpioa.UART2_TX) fm.register(board_info.PIN11,fm.fpioa.UART2_RX) ``` ### æ„é€ å‡½æ•° ``` uart machine.UART(uart,baudrate,bits,parity,stop,timeout, read_buf_len) ``` é€šè¿‡æŒ‡å®šçš„å‚æ•°æ–°å»ºä¸€ä¸ª UART å¯¹è±¡ #### å‚æ•° * `uart` UART å·ï¼Œä½¿ç”¨æŒ‡å®šçš„ UARTï¼Œå¯ä»¥é€šè¿‡ `machine.UART.` æŒ‰tabé”®æ¥è¡¥å…¨ * `baudrate`: UART æ³¢ç‰¹ç‡ * `bits`: UART æ•°æ®å®½åº¦ï¼Œæ”¯æŒ `5/6/7/8` (é»˜è®¤çš„ REPL ä½¿ç”¨çš„ä¸²å£ï¼ˆUARTHSï¼‰åªæ”¯æŒ 8 ä½æ¨¡å¼)ï¼Œ é»˜è®¤ `8` * `parity`: å¥‡å¶æ ¡éªŒä½ï¼Œæ”¯æŒ `None`, `machine.UART.PARITY_ODD`, `machine.UART.PARITY_EVEN` ï¼ˆé»˜è®¤çš„ REPL ä½¿ç”¨çš„ä¸²å£ï¼ˆUARTHSï¼‰åªæ”¯æŒ Noneï¼‰ï¼Œ é»˜è®¤ `None` * `stop`: åœæ­¢ä½ï¼Œ æ”¯æŒ `1`ï¼Œ `1.5`, `2`ï¼Œ é»˜è®¤ `1` * `timeout`: ä¸²å£æ¥æ”¶è¶…æ—¶æ—¶é—´ * `read_buf_len`ï¼š ä¸²å£æ¥æ”¶ç¼“å†²ï¼Œä¸²å£é€šè¿‡ä¸­æ–­æ¥æ¥æ”¶æ•°æ®ï¼Œå¦‚æœç¼“å†²æ»¡äº†ï¼Œå°†è‡ªåŠ¨åœæ­¢æ•°æ®æ¥æ”¶ #### è¿”å›å€¼ * UARTå¯¹è±¡ ## æ–¹æ³• ### init ç”¨äºåˆå§‹åŒ– uartï¼Œä¸€èˆ¬åœ¨æ„é€ å¯¹è±¡æ—¶å·²ç»åˆå§‹åŒ–ï¼Œè¿™é‡Œç”¨åœ¨é‡æ–°åˆå§‹åŒ– uart ``` uart.init(baudrate,bits,parity,stop,timeout, read_buf_len) ``` #### å‚æ•° åŒæ„é€ å‡½æ•°ï¼Œä½†ä¸éœ€è¦ç¬¬ä¸€ä¸ªUARTå· #### è¿”å›å€¼ æ—  ### read ç”¨äºè¯»å–ä¸²å£ç¼“å†²ä¸­çš„æ•°æ® ``` uart.read(num) ``` #### å‚æ•° * `num`: è¯»å–å­—èŠ‚çš„æ•°é‡ï¼Œä¸€èˆ¬å¡«å…¥ç¼“å†²å¤§å°ï¼Œå¦‚æœç¼“å†²ä¸­æ•°æ®çš„æ•°é‡æ²¡æœ‰ `num` å¤§ï¼Œé‚£ä¹ˆå°†åªè¿”å›ç¼“å†²ä¸­å‰©ä½™çš„æ•°æ® #### è¿”å›å€¼ * `bytes`ç±»å‹çš„æ•°æ® ### readline ç”¨äºè¯»å–ä¸²å£ç¼“å†²æ•°æ®çš„ä¸€è¡Œ ``` uart.readline(num) ``` * `num`: è¯»å–è¡Œçš„æ•°é‡ #### è¿”å›å€¼ *`bytes`ç±»å‹çš„æ•°æ® ### write ç”¨äºä½¿ç”¨ä¸²å£å‘é€æ•°æ® ``` uart.write(buf) ``` #### å‚æ•° * `buf`: éœ€è¦å‘é€åˆ°æ•°æ® #### è¿”å›å€¼ * å†™å…¥çš„æ•°æ®é‡ ### deinit æ³¨é”€ UART ç¡¬ä»¶ï¼Œé‡Šæ”¾å ç”¨çš„èµ„æº ``` uart.deinit() ``` #### å‚æ•° æ—  #### è¿”å›å€¼ æ—  ### repl_uart() è·å–ç”¨äº REPL çš„ä¸²å£å¯¹è±¡ #### è¿”å›å€¼ ç”¨äº REPL çš„ä¸²å£å¯¹è±¡ï¼Œ é»˜è®¤åˆå§‹åŒ–ä½ `115200 8 N 1` ## ä¾‹ç¨‹ ### ä¾‹ç¨‹ 1 åœ¨è¿è¡Œä¾‹ç¨‹ä¹‹å‰ï¼Œè¯·ç¡®è®¤ `PIN4` å·²ç»è¿æ¥åˆ° `PIN10`ï¼Œ `PIN3` å·²ç»è¿æ¥åˆ° `PIN11` è¿è¡Œç¨‹åºåï¼Œå¯ä»¥åœ¨ç»ˆç«¯çœ‹åˆ° `baudrate:115200 bits:8 parity:0 stop:0 check Successfully` çš„æ‰“å°ä¿¡æ¯ > ä»¥ä¸‹ä¾‹ç¨‹å¯¹äºBitå¼€å‘æ˜¯ä¸èƒ½ç›´æ¥è¿›è¡Œä½¿ç”¨ï¼Œéœ€è¦ä¿®æ”¹å¯¹åº”å¯ç”¨çš„PINè„šï¼Œå¯è‡ªè¡Œå°è¯• ```python from machine import UART from board import board_info from fpioa_manager import fm # maixduino board_info PIN10/PIN11/PIN12/PIN13 or other hardware IO 10/11/4/3 fm.register(board_info.PIN10, fm.fpioa.UART1_TX, force True) fm.register(board_info.PIN11, fm.fpioa.UART1_RX, force True) fm.register(board_info.PIN3, fm.fpioa.UART2_TX, force True) fm.register(board_info.PIN4, fm.fpioa.UART2_RX, force True) uart_A UART(UART.UART1, 115200, 8, 0, 0, timeout 1000, read_buf_len 4096) uart_B UART(UART.UART2, 115200, 8, 0, 0, timeout 1000, read_buf_len 4096) write_str 'hello world' for i in range(20): uart_A.write(write_str) read_data uart_B.read() if read_data: read_str read_data.decode('utf 8') print(\"string \", read_str) if read_str write_str: print(\"baudrate:115200 bits:8 parity:0 stop:0 check Successfully\") uart_A.deinit() uart_B.deinit() del uart_A del uart_B ``` ### ä¾‹ç¨‹ 2 ATæ¨¡å—ä¸²å£ > ä»¥ä¸‹ä¾‹ç¨‹å¯¹äºBitå¼€å‘æ˜¯ä¸èƒ½ç›´æ¥è¿›è¡Œä½¿ç”¨ï¼Œéœ€è¦ä¿®æ”¹å¯¹åº”å¯ç”¨çš„PINè„šï¼Œå¯è‡ªè¡Œå°è¯• ```python fm.register(board_info.WIFI_RX,fm.fpioa.UART2_TX) fm.register(board_info.WIFI_TX,fm.fpioa.UART2_RX) uart machine.UART(machine.UART.UART2,115200,timeout 1000, read_buf_len 4096) ``` ### ä¾‹ç¨‹ 3 ä¿®æ”¹ REPL ä¸²å£æ³¢ç‰¹ç‡ > ä»¥ä¸‹ä¾‹ç¨‹å¯¹äºBitå¼€å‘æ˜¯ä¸èƒ½ç›´æ¥è¿›è¡Œä½¿ç”¨ï¼Œéœ€è¦ä¿®æ”¹å¯¹åº”å¯ç”¨çš„PINè„šï¼Œå¯è‡ªè¡Œå°è¯• ```python from machine import UART repl UART.repl_uart() repl.init(1500000, 8, None, 1, read_buf_len 2048) ``` ### ä¾‹ç¨‹ 3 ä¿®æ”¹ REPL ä¸²å£ > ä»¥ä¸‹ä¾‹ç¨‹å¯¹äºBitå¼€å‘æ˜¯ä¸èƒ½ç›´æ¥è¿›è¡Œä½¿ç”¨ï¼Œéœ€è¦ä¿®æ”¹å¯¹åº”å¯ç”¨çš„PINè„šï¼Œå¯è‡ªè¡Œå°è¯• ```python from machine import UART fm.register(board_info.PIN15,fm.fpioa.UART1_TX) fm.register(board_info.PIN17,fm.fpioa.UART1_RX) uart machine.UART(UART.UART1, 115200) UART.set_repl_uart(uart) ```"},"/soft/maixpy/zh/api_reference/machine/pwm.html":{"title":"machine.PWM","content":" title: machine.PWM keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®—, æ·±åº¦å­¦ä¹ , äººå·¥æ™ºèƒ½ desc: maixpy machine.PWM PWMï¼š è„‰å®½è°ƒåˆ¶æ¨¡å—ï¼Œ ç¡¬ä»¶æ”¯æŒçš„PWMï¼Œ å¯ä»¥æŒ‡å®šä»»æ„å¼•è„šï¼ˆ0åˆ°47å¼•è„šï¼‰ æ¯ä¸ª PWM ä¾èµ–äºä¸€ä¸ªå®šæ—¶å™¨ï¼Œ å³å½“å®šæ—¶å™¨ä¸ PWM åŠŸèƒ½ç»‘å®šåï¼Œ ä¸èƒ½ä½œä¸ºæ™®é€šå®šæ—¶å™¨ä½¿ç”¨äº†ã€‚ å› ä¸ºæœ‰ 3 ä¸ªå®šæ—¶å™¨ï¼Œ æ¯ä¸ªå®šæ—¶å™¨æœ‰ 4 ä¸ªé€šé“ï¼Œ å³æœ€å¤§å¯ä»¥åŒæ—¶äº§ç”Ÿ 12 è·¯ PWM æ³¢å½¢ ## æ„é€ å‡½æ•° ```python pwm machine.PWM(tim, freq, duty, pin, enable True) ``` é€šè¿‡æŒ‡å®šçš„å‚æ•°æ–°å»ºä¸€ä¸ª PWM å¯¹è±¡ ### å‚æ•° * `tim`: æ¯ä¸ªPWMä¾èµ–ä¸€ä¸ªå®šæ—¶å™¨æ¥äº§ç”Ÿæ³¢å½¢ï¼Œ æ‰€ä»¥è¿™é‡Œéœ€è¦ä¼ ä¸€ä¸ªå®šæ—¶å™¨å¯¹è±¡ï¼Œè¿™ä¸ªå®šæ—¶å™¨å¯¹è±¡å¿…é¡»åˆå§‹åŒ–æ—¶å¿…é¡»æŒ‡å®šå®šæ—¶å™¨ ID å’Œé€šé“å· * `freq`ï¼š PWM æ³¢å½¢é¢‘ç‡ * `duty`ï¼š PWM å ç©ºæ¯”ï¼Œ æŒ‡é«˜ç”µå¹³å æ•´ä¸ªå‘¨æœŸçš„ç™¾åˆ†æ¯”ï¼Œå–å€¼ï¼š[0,100] * `[pin]`ï¼š PWM è¾“å‡ºå¼•è„šã€‚ å¯ä»¥ä¸è®¾ç½®ï¼Œè€Œæ˜¯ä½¿ç”¨ [fm](../builtin_py/fm.html) ç»Ÿä¸€ç®¡ç†å¼•è„šæ˜ å°„ã€‚ * `enable`ï¼š æ˜¯å¦ç«‹å³å¼€å§‹äº§ç”Ÿæ³¢å½¢ï¼Œé»˜è®¤ä½`True`ï¼ŒåŠå¯¹è±¡ç”Ÿæˆåç«‹å³å¼€å§‹åœ¨æŒ‡å®šçš„å¼•è„šä¸Šäº§ç”Ÿ PWM æ³¢å½¢ ## æ–¹æ³• ### init ç±»ä¼¼æ„é€ å‡½æ•° ```python pwm.init(tim, freq, duty, pin, enable True) ``` #### å‚æ•° ä¸æ„é€ å‡½æ•°ç›¸åŒ #### è¿”å›å€¼ æ—  ### freq è·å–æˆ–è€…è®¾ç½® PWM é¢‘ç‡ ```python pwm.freq(freq) ``` #### å‚æ•° * `freq`ï¼š PWM é¢‘ç‡ï¼Œ å¯é€‰å‚æ•°ï¼Œ å¦‚æœä¸ä¼ å‚æ•°åˆ™æ­¥è®¾ç½®åªè¿”å›å½“å‰é¢‘ç‡å€¼ #### è¿”å›å€¼ å½“å‰è®¾ç½®çš„å®é™…çš„ PWM é¢‘ç‡ ### duty è·å–æˆ–è€…è®¾ç½® PWM å ç©ºæ¯” ```python pwm.duty(duty) ``` #### å‚æ•° * `duty`ï¼š PWM å ç©ºæ¯” å¯é€‰ï¼Œ å¦‚æœä¸ä¼ å‚æ•°åˆ™æ­¥è®¾ç½®åªè¿”å›å½“å‰å ç©ºæ¯”å€¼ #### è¿”å›å€¼ å½“å‰è®¾ç½®çš„ PWM å ç©ºæ¯”å€¼ ### enable ä½¿èƒ½ PWM è¾“å‡ºï¼Œ ä½¿æŒ‡å®šçš„å¼•è„šä¸Šç«‹å³äº§ç”Ÿæ³¢å½¢ ```python pwm.enable() ``` #### å‚æ•° æ—  #### è¿”å›å€¼ æ—  ### disable å¤±èƒ½ PWM è¾“å‡ºï¼Œ æŒ‡å®šçš„å¼•è„šä¸å†äº§ç”Ÿæ³¢å½¢ ```python pwm.disable() ``` #### å‚æ•° æ—  #### è¿”å›å€¼ æ—  ### deinit/\\__del\\__ æ³¨é”€ PWM ç¡¬ä»¶ï¼Œé‡Šæ”¾å ç”¨çš„èµ„æºï¼Œå…³é—­ PWM æ—¶é’Ÿ ```python pwm.deinit() ``` #### å‚æ•° æ—  #### è¿”å›å€¼ æ—  #### ä¾‹å­ ```python pwm.deinit() ``` æˆ–è€… ```python del pwm ``` ## å¸¸é‡ æ—  ## ä¾‹ç¨‹ ### ä¾‹ç¨‹ 1 ï¼ˆå‘¼å¸ç¯ï¼‰ > `board_info` ä¸æ¿å¡ç›¸å…³ï¼Œä¸åŒæ¿å¡é…ç½®ä¸åŒï¼Œä½¿ç”¨å‰éœ€è¦[æ‰‹åŠ¨é…ç½®](../builtin_py/board_info.html)ã€‚ ```python from machine import Timer,PWM import time from board import board_info tim Timer(Timer.TIMER0, Timer.CHANNEL0, mode Timer.MODE_PWM) ch PWM(tim, freq 500000, duty 50, pin board_info.LED_G) duty 0 dir True while True: if dir: duty + 10 else: duty 10 if duty>100: duty 100 dir False elif duty<0: duty 0 dir True time.sleep(0.05) ch.duty(duty) ``` ### ä¾‹ç¨‹ 2 > `board_info` ä¸æ¿å¡ç›¸å…³ï¼Œä¸åŒæ¿å¡é…ç½®ä¸åŒï¼Œä½¿ç”¨å‰éœ€è¦[æ‰‹åŠ¨é…ç½®](../builtin_py/board_info.html)ã€‚ ```python import time import machine from board import board_info tim machine.Timer(machine.Timer.TIMER0, machine.Timer.CHANNEL0, mode machine.Timer.MODE_PWM) ch0 machine.PWM(tim, freq 3000000, duty 20, pin board_info.LED_G, enable False) ch0.enable() time.sleep(3) ch0.freq(2000000) print(\"freq:\",ch0.freq()) ch0.duty(60) time.sleep(3) ch0.disable() ```"},"/soft/maixpy/zh/api_reference/Maix/i2s.html":{"title":"I2S","content":" title: I2S keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy I2S I2Sæ¨¡å—ä¸»è¦ç”¨äºé©±åŠ¨I2Sè®¾å¤‡ï¼Œk210ä¸€å…±æœ‰3ä¸ªI2Sè®¾å¤‡ï¼Œæ¯ä¸ªè®¾å¤‡ä¸€å…±æœ‰4ä¸ªé€šé“ï¼Œåœ¨ä½¿ç”¨å‰éœ€è¦å¯¹å¼•è„šè¿›è¡Œæ˜ å°„ç®¡ç† ## æ¨¡å—å‡½æ•° ### æ„é€ å‡½æ•° æ–°å»ºä¸€ä¸ª I2S å¯¹è±¡ ``` from Maix import I2S i2s_dev I2S(device_num) ``` #### å‚æ•° `device_num` I2Så·ï¼Œä½¿ç”¨æŒ‡å®šçš„ I2Sï¼Œå¯ä»¥é€šè¿‡ `I2S.` æŒ‰tabé”®æ¥è¡¥å…¨ #### è¿”å›å€¼ è¿”å›ä¸€ä¸ª`I2S` å¯¹è±¡ ### é€šé“é…ç½®å‡½æ•° ç”¨äºé…ç½® I2S é€šé“ï¼Œåœ¨æ­¤ä¹‹å‰éœ€è¦å¯¹å¼•è„šè¿›è¡Œæ˜ å°„ ``` i2s_dev.channel_config(channel, mode, resolution, cycles, align_mode) ``` #### å‚æ•° * `channel`: I2Sé€šé“ç¼–å· * `mode`: é€šé“ä¼ è¾“æ¨¡å¼ï¼Œä¸€å…±æœ‰æ¥æ”¶å’Œå‘é€æ¨¡å¼ï¼Œå½•éŸ³ä¸ºæ¥å—ï¼Œæ’­æ”¾ä¸ºå‘é€ * `resolution`: é€šé“åˆ†è¾¨ç‡ï¼Œå³æ¥æ”¶æ•°æ®ä½æ•° * `cycles`: å•ä¸ªæ•°æ®æ—¶é’Ÿæ•° * `align_mode`: é€šé“å¯¹é½æ¨¡å¼ #### è¿”å›å€¼ æ—  ### è®¾ç½®é‡‡æ ·ç‡ ç”¨äºé…ç½® I2S é‡‡æ ·ç‡ ``` i2s_dev.set_sample_rate(sample_rate) ``` #### å‚æ•° `sample_rate`: int ç±»å‹ï¼Œé‡‡æ ·ç‡ #### è¿”å›å€¼ æ—  ### æ¥æ”¶éŸ³é¢‘ ä½¿ç”¨I2Sæ¥æ”¶éŸ³é¢‘æ•°æ® ``` audio i2s_dev.record(points) ``` #### å‚æ•° * `points`: ä¸€æ¬¡é‡‡é›†çš„éŸ³é¢‘ç‚¹æ•° #### è¿”å›å€¼ `audio`: ä¸€ä¸ª`audio`éŸ³é¢‘å¯¹è±¡ ### å‘é€éŸ³é¢‘ ä½¿ç”¨I2Så‘é€éŸ³é¢‘æ•°æ® ``` i2s_dev.play(audio) ``` #### å‚æ•° * `audio`: å‘é€çš„éŸ³é¢‘å¯¹è±¡ #### è¿”å›å€¼ æ—  ## ä¾‹ç¨‹ ### ä¾‹ç¨‹1 é‡‡é›†æ•°æ®å¹¶ç›´æ¥æ’­æ”¾ ```python from Maix import I2S import time from fpioa_manager import * fm.register(20,fm.fpioa.I2S0_IN_D0)#GO fm.register(19,fm.fpioa.I2S0_WS) fm.register(18,fm.fpioa.I2S0_SCLK) fm.register(34,fm.fpioa.I2S2_OUT_D1) fm.register(35,fm.fpioa.I2S2_SCLK) fm.register(33,fm.fpioa.I2S2_WS) sample_rate 44*1000 rx I2S(I2S.DEVICE_0) rx.channel_config(rx.CHANNEL_0, rx.RECEIVER, align_mode I2S.STANDARD_MODE) rx.set_sample_rate(sample_rate) tx I2S(I2S.DEVICE_2) tx.channel_config(tx.CHANNEL_1, tx.TRANSMITTER, align_mode I2S.RIGHT_JUSTIFYING_MODE) tx.set_sample_rate(sample_rate) while True: audio rx.record(256)#sampling points number must be smaller than 256 tx.play(audio) ``` ### ä¾‹ç¨‹2 é‡‡é›†æ•°æ®è½¬åŒ–ä¸º Audio å¹¶æ’­æ”¾ ```python from Maix import I2S from Maix import Audio from Maix import FFT import time from fpioa_manager import * fm.register(20,fm.fpioa.I2S0_IN_D0) fm.register(19,fm.fpioa.I2S0_WS) fm.register(18,fm.fpioa.I2S0_SCLK) fm.register(34,fm.fpioa.I2S2_OUT_D1) fm.register(35,fm.fpioa.I2S2_SCLK) fm.register(33,fm.fpioa.I2S2_WS) rx I2S(I2S.DEVICE_0) rx.channel_config(rx.CHANNEL_0, rx.RECEIVER, align_mode I2S.STANDARD_MODE) rx.set_sample_rate(16000) tx I2S(I2S.DEVICE_2) tx.channel_config(tx.CHANNEL_1, tx.TRANSMITTER, align_mode I2S.RIGHT_JUSTIFYING_MODE) tx.set_sample_rate(16000) while True: audio rx.record(256) audio_data audio.to_bytes() play_audio Audio(audio_data) tx.play(play_audio) ```"},"/soft/maixpy/zh/api_reference/Maix/kpu.html":{"title":"KPU","content":" title: KPU keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy KPU KPUæ˜¯é€šç”¨çš„ç¥ç»ç½‘ç»œå¤„ç†å™¨ï¼Œå®ƒå¯ä»¥åœ¨ä½åŠŸè€—çš„æƒ…å†µä¸‹å®ç°å·ç§¯ç¥ç»ç½‘ç»œè®¡ç®—ï¼Œæ—¶æ—¶è·å–è¢«æ£€æµ‹ç›®æ ‡çš„å¤§å°ã€åæ ‡å’Œç§ç±»ï¼Œå¯¹äººè„¸æˆ–è€…ç‰©ä½“è¿›è¡Œæ£€æµ‹å’Œåˆ†ç±»ã€‚ * KPU å…·å¤‡ä»¥ä¸‹å‡ ä¸ªç‰¹ç‚¹ï¼š * æ”¯æŒä¸»æµè®­ç»ƒæ¡†æ¶æŒ‰ç…§ç‰¹å®šé™åˆ¶è§„åˆ™è®­ç»ƒå‡ºæ¥çš„å®šç‚¹åŒ–æ¨¡å‹ * å¯¹ç½‘ç»œå±‚æ•°æ— ç›´æ¥é™åˆ¶ï¼Œæ”¯æŒæ¯å±‚å·ç§¯ç¥ç»ç½‘ç»œå‚æ•°å•ç‹¬é…ç½®ï¼ŒåŒ…æ‹¬è¾“å…¥è¾“å‡ºé€šé“æ•°ç›®ã€è¾“å…¥è¾“ å‡ºè¡Œå®½åˆ—é«˜ * æ”¯æŒä¸¤ç§å·ç§¯å†…æ ¸ 1x1 å’Œ 3x3 * æ”¯æŒä»»æ„å½¢å¼çš„æ¿€æ´»å‡½æ•° * å®æ—¶å·¥ä½œæ—¶æœ€å¤§æ”¯æŒç¥ç»ç½‘ç»œå‚æ•°å¤§å°ä¸º 5.5MiB åˆ° 5.9MiB * éå®æ—¶å·¥ä½œæ—¶æœ€å¤§æ”¯æŒç½‘ç»œå‚æ•°å¤§å°ä¸ºï¼ˆFlash å®¹é‡ è½¯ä»¶ä½“ç§¯ï¼‰ ## ä¾‹ç¨‹ ### è¿è¡Œäººè„¸æ£€æµ‹ æ¨¡å‹ä¸‹è½½åœ°å€ï¼š[http://dl.sipeed.com/MAIX/MaixPy/model](http://dl.sipeed.com/MAIX/MaixPy/model) , ä¸‹è½½`face_model_at_0x300000.kfpkg` å®Œæ•´ä¾‹ç¨‹ï¼š [face_find](https://github.com/sipeed/MaixPy v1_scripts/tree/master/machine_vision/face_find) ### è¿è¡Œç‰¹å¾å›¾ æ¨¡å‹ä¸‹è½½åœ°å€ï¼š[http://dl.sipeed.com/MAIX/MaixPy/model](http://dl.sipeed.com/MAIX/MaixPy/model) , ä¸‹è½½`face_model_at_0x300000.kfpkg` è¯¥æ¨¡å‹æ˜¯8bitå®šç‚¹æ¨¡å‹ï¼Œçº¦380KBå¤§å°ï¼Œå±‚ä¿¡æ¯ä¸ºï¼š ``` 1 2 :160x120 3 4 5 6\t :80x60 7 8 9 10 :40x30 11~16 :20x15 ``` ```python import sensor import image import lcd import KPU as kpu index 3 lcd.init() sensor.reset() sensor.set_pixformat(sensor.RGB565) sensor.set_framesize(sensor.QVGA) sensor.run(1) task kpu.load(0x300000) img image.Image() info kpu.netinfo(task) layer info[index] w layer.wo() h layer.ho() num int(320*240/w/h) list [None]*num x_step int(320/w) y_step int(240/h) img_lcd image.Image() while True: img sensor.snapshot() fmap kpu.forward(task,img,index) for i in range(0,num): list[i] kpu.fmap(fmap,i) for i in range(0,num): list[i].stretch(64,255) for i in range(0,num): a img_lcd.draw_image(list[i],((i%x_step)*w,(int(i/x_step))*h)) \t lcd.display(img_lcd) \tkpu.fmap_free(fmap) ``` ## æ¨¡å—æ–¹æ³• ### load ä»flashæˆ–è€…æ–‡ä»¶ç³»ç»Ÿä¸­åŠ è½½æ¨¡å‹ ```python KPU.load(offset, file_path) ``` #### å‚æ•° `offset` å’Œ `file_path` å‚æ•°åªèƒ½äºŒé€‰ä¸€ï¼Œä¸éœ€è¦å…³é”®è¯ï¼Œç›´æ¥ä¼ å‚å³å¯ * `offset`: æ¨¡å‹åœ¨ flash ä¸­çš„åç§»å¤§å°ï¼Œå¦‚ `0xd00000` è¡¨ç¤ºæ¨¡å‹çƒ§å½•åœ¨13Mèµ·å§‹çš„åœ°æ–¹, `0x300000`è¡¨ç¤ºåœ¨ `Flash` `3M`çš„åœ°æ–¹ * `file_path`: æ¨¡å‹åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­ä¸ºæ–‡ä»¶åï¼Œ å¦‚ `â€œ/sd/xxx.kmodelâ€` ##### è¿”å› å¦‚æœæ­£ç¡®åŠ è½½ï¼Œä¼šè¿”å›è¿”å›å€¼ï¼Œ å¦åˆ™ä¼šæŠ›å‡ºé”™è¯¯ï¼Œ è¯·çœ‹æŠ›å‡ºçš„é”™è¯¯æç¤ºï¼Œ å¦å¤–é”™è¯¯ä»£ç å‚è€ƒ[è¿™é‡Œ](https://github.com/sipeed/MaixPy v1/blob/fa3cf2c96353fa698e9386e42be8b3c9cf495114/components/kendryte_sdk/include/sipeed_kpu.h#L6 L23) å¦‚æœå‘ç°é”™è¯¯ä»£ç æ˜¯å°äº `2000` çš„å€¼ï¼Œ åˆ™æ˜¯å›ºä»¶ç‰ˆæœ¬å¤ªä½ï¼Œéœ€è¦æ›´æ–°å›ºä»¶ç‰ˆæœ¬ * `kpu_net`: kpu ç½‘ç»œå¯¹è±¡ ### load_flash ä¸ load æ–¹æ³•ä½œç”¨ç›¸åŒï¼Œ ```python kpu.load_flash(model_addr, is_dual_buf, batch_size, spi_speed) ``` #### å‚æ•° * `model_addr`ï¼šFlash addr ç»è¿‡é¢„å¤„ç†çš„æ¨¡å‹çƒ§å½•åˆ° flash ä¸­çš„åç§»åœ°å€ã€‚æ³¨æ„ï¼Œè¿™é‡Œéœ€è¦é¢„å¤„ç†æ¨¡å‹æ–‡ä»¶[è¯´æ˜](https://github.com/sipeed/MaixPy v1_scripts/blob/master/machine_vision/load_big_model/README_ZH.md)ã€‚ * `is_dual_buf`ï¼š`0`,å•ä¸€ç¼“å†²åŒºåŠ è½½ï¼Œä½¿ç”¨è¾ƒå°‘çš„ RAM å’Œè¾ƒæ…¢çš„é€Ÿåº¦åŠ¨æ€åŠ è½½è¯¥æ¨¡å‹æ–‡ä»¶ï¼› `1`ï¼Œå¼€å¯åŒç¼“å†²åŠ è½½ï¼Œéœ€è¦æ›´å¤§çš„ RAMï¼Œ è¿è¡Œé€Ÿåº¦ç›¸å¯¹è¾ƒå¿«ã€‚ * `batch_size`ï¼šå°† `is_dual_buf` è®¾ç½®ä¸º 1 æ—¶ï¼Œéœ€è¦è®¾ç½® load batch_sizeï¼Œå»ºè®®å€¼ä¸º `0x4000~0x10000`ï¼Œå¯ä»¥æµ‹è¯•å‡ºæ¨¡å‹çš„æœ€ä½³å€¼ã€‚å¦‚æœ `is_dual_buf` ä¸º 0 åˆ™è®¾ç½®ä¸º 0 * `spi_speed`ï¼šä½¿ç”¨ SPI flash åŠ è½½æ¨¡å‹æ–‡ä»¶æ—¶ï¼Œæˆ‘ä»¬ä¼šæš‚æ—¶å°† flash è®¾ç½®ä¸ºé«˜é€Ÿæ¨¡å¼ï¼Œå¹¶è®¾ç½®æ‰€éœ€çš„ spi æ—¶é’Ÿé¢‘ç‡ã€‚è¯¥å€¼åº” < 80000000(å®é™…é¢‘ç‡ï¼Œè®¾å€¼å¯èƒ½ä¸ç­‰äºå®é™…é¢‘ç‡ã€‚) #### è¿”å›å€¼ * `kpu_net`: kpu ç½‘ç»œå¯¹è±¡ ### init_yolo2 ä¸º`yolo2`ç½‘ç»œæ¨¡å‹ä¼ å…¥åˆå§‹åŒ–å‚æ•°ï¼Œ åªæœ‰ä½¿ç”¨`yolo2`æ—¶ä½¿ç”¨ ```python KPU.init_yolo2(kpu_net, threshold, nms_value, anchor_num, anchor) ``` æ¯”å¦‚ï¼š ```python import KPU as kpu task kpu.load(0x300000) anchor (1.889, 2.5245, 2.9465, 3.94056, 3.99987, 5.3658, 5.155437, 6.92275, 6.718375, 9.01025) kpu.init_yolo2(task, 0.5, 0.3, 5, anchor) ``` #### å‚æ•° * `kpu_net`: kpu ç½‘ç»œå¯¹è±¡, å³åŠ è½½çš„æ¨¡å‹å¯¹è±¡, `KPU.load()`çš„è¿”å›å€¼ * `threshold`: æ¦‚ç‡é˜ˆå€¼ï¼Œ åªæœ‰æ˜¯è¿™ä¸ªç‰©ä½“çš„æ¦‚ç‡å¤§äºè¿™ä¸ªå€¼æ‰ä¼šè¾“å‡ºç»“æœï¼Œ å–å€¼èŒƒå›´ï¼š[0, 1] * `nms_value`: box_iou é—¨é™, ä¸ºäº†é˜²æ­¢åŒä¸€ä¸ªç‰©ä½“è¢«æ¡†å‡ºå¤šä¸ªæ¡†ï¼Œå½“åœ¨åŒä¸€ä¸ªç‰©ä½“ä¸Šæ¡†å‡ºäº†ä¸¤ä¸ªæ¡†ï¼Œè¿™ä¸¤ä¸ªæ¡†çš„äº¤å‰åŒºåŸŸå ä¸¤ä¸ªæ¡†æ€»å ç”¨é¢ç§¯çš„æ¯”ä¾‹ å¦‚æœå°äºè¿™ä¸ªå€¼æ—¶ï¼Œ å°±å–å…¶ä¸­æ¦‚ç‡æœ€å¤§çš„ä¸€ä¸ªæ¡† * `anchor_num`: anchor çš„é”šç‚¹æ•°ï¼Œ è¿™é‡Œå›ºå®šä¸º `len(anchors)//2` * `anchor`: é”šç‚¹å‚æ•°ä¸æ¨¡å‹å‚æ•°ä¸€è‡´ï¼ŒåŒä¸€ä¸ªæ¨¡å‹è¿™ä¸ªå‚æ•°æ˜¯å›ºå®šçš„ï¼Œå’Œæ¨¡å‹ç»‘å®šçš„ï¼ˆè®­ç»ƒæ¨¡å‹æ—¶å³ç¡®å®šäº†ï¼‰ï¼Œ ä¸èƒ½æ”¹æˆå…¶å®ƒå€¼ã€‚ #### è¿”å›å€¼ * `success`ï¼š `bool`ç±»å‹ï¼Œ æ˜¯å¦æˆåŠŸ ### deinit é‡Šæ”¾æ¨¡å‹å ç”¨çš„å†…å­˜ï¼Œ ç«‹å³é‡Šæ”¾ï¼Œ ä½†æ˜¯å˜é‡è¿˜åœ¨ï¼Œå¯ä»¥ä½¿ç”¨`del kpu_net_object` çš„æ–¹å¼åˆ é™¤ï¼Œ å¦å¤–ä¹Ÿå¯ä»¥ç›´æ¥åªä½¿ç”¨`del kpu_net_object`æ¥æ ‡è®°å¯¹è±¡å·²è¢«åˆ é™¤ï¼Œä¸‹ä¸€æ¬¡`GC`è¿›è¡Œå†…å­˜å›æ”¶æˆ–è€…æ‰‹åŠ¨è°ƒç”¨`gc.collect()`æ—¶ï¼Œä¼šè‡ªåŠ¨é‡Šæ”¾å†…å­˜ ```python KPU.deinit(kpu_net) ``` æ¯”å¦‚ï¼š ```python import KPU as kpu import gc task kpu.load(0x300000) kpu.deinit(task) del task gc.collect() ``` æˆ–è€…ï¼š ```python import KPU as kpu import gc task kpu.load(0x300000) del task gc.collect() ``` #### å‚æ•° `kpu_net`: `KPU.load()` è¿”å›çš„ `kpu_net` å¯¹è±¡ #### è¿”å›å€¼ * `success`ï¼š `bool` ç±»å‹ï¼Œ æ˜¯å¦æˆåŠŸ ### run_yolo2 ```python import KPU as kpu import image task kpu.load(offset or file_path) anchor (1.889, 2.5245, 2.9465, 3.94056, 3.99987, 5.3658, 5.155437, 6.92275, 6.718375, 9.01025) kpu.init_yolo2(task, 0.5, 0.3, 5, anchor) img image.Image() kpu.run_yolo2(task, img) ``` > ä»¥ä¸Šä¸ºèŠ‚é€‰ä»£ç ï¼Œå¹¶ä¸æ˜¯å®Œæ•´éƒ¨åˆ†ï¼Œè¯¦ç»†è¯·çœ‹[äººè„¸æ£€æµ‹](https://github.com/sipeed/MaixPy v1_scripts/blob/master/machine_vision/face_find/demo_find_face.py)å…·ä½“çš„ä»£ç  #### å‚æ•° * `kpu_net`: kpu_load è¿”å›çš„ kpu_net å¯¹è±¡ * `image_t`ï¼šä» sensor é‡‡é›†åˆ°çš„å›¾åƒ ##### è¿”å› * `list`: kpu_yolo2_find çš„åˆ—è¡¨ ### forward è®¡ç®—å·²åŠ è½½çš„ç½‘ç»œæ¨¡å‹åˆ°æŒ‡å®šå±‚æ•°ï¼Œè¾“å‡ºç›®æ ‡å±‚çš„ç‰¹å¾å›¾ ```python fmap KPU.forward(kpu_net, img, end_layer) ``` ```python import KPU as kpu task kpu.load(offset or file_path) â€¦â€¦ fmap kpu.forward(task,img, 3) ``` #### å‚æ•° * `kpu_net`: kpu_net å¯¹è±¡ * `img`: å›¾åƒ `image.Image` å¯¹è±¡ * `end_layer`: æŒ‡å®šè®¡ç®—åˆ°ç½‘ç»œçš„ç¬¬å‡ å±‚ï¼Œ å–å€¼ä»`0`å¼€å§‹ ##### è¿”å› * `fmap`: ç‰¹å¾å›¾å¯¹è±¡ï¼Œå†…å«å½“å‰å±‚æ‰€æœ‰é€šé“çš„ç‰¹å¾å›¾ ### fmap å–ç‰¹å¾å›¾çš„æŒ‡å®šé€šé“æ•°æ®åˆ°`image.Image`å¯¹è±¡ ```python img KPU.fmap(fmap, channel) ``` #### å‚æ•° * `fmap`: ç‰¹å¾å›¾ å¯¹è±¡ * `channel`: æŒ‡å®šç‰¹å¾å›¾çš„é€šé“å·, ä»`0`å¼€å§‹ ##### è¿”å› * `img`: ç‰¹å¾å›¾å¯¹åº”é€šé“ç”Ÿæˆçš„ç°åº¦å›¾ï¼Œç±»å‹`image.Image` ### fmap_free é‡Šæ”¾ç‰¹å¾å›¾å¯¹è±¡ ```python KPU.fmap_free(fmap) ``` #### å‚æ•° * `fmap`: ç‰¹å¾å›¾ å¯¹è±¡ ##### è¿”å› * æ—  ### netinfo è·å–æ¨¡å‹çš„ç½‘ç»œç»“æ„ä¿¡æ¯ ```python info_list kpu.netinfo(task) ``` #### å‚æ•° * `kpu_net`: kpu_net å¯¹è±¡, `KPU.load()`è¿”å›å€¼ ##### è¿”å› * `info_list`ï¼šæ‰€æœ‰å±‚çš„ä¿¡æ¯list, åŒ…å«ä¿¡æ¯ä¸ºï¼š * `index`ï¼šå½“å‰å±‚åœ¨ç½‘ç»œä¸­çš„å±‚æ•° * `wi`ï¼šè¾“å…¥å®½åº¦ * `hi`ï¼šè¾“å…¥é«˜åº¦ * `wo`ï¼šè¾“å‡ºå®½åº¦ * `ho`ï¼šè¾“å‡ºé«˜åº¦ * `chi`ï¼šè¾“å…¥é€šé“æ•° * `cho`ï¼šè¾“å‡ºé€šé“æ•° * `dw`ï¼šæ˜¯å¦ä¸ºdepth wise layer * `kernel_type`ï¼šå·ç§¯æ ¸ç±»å‹ï¼Œ0ä¸º1x1ï¼Œ 1ä¸º3x3 * `pool_type`ï¼šæ± åŒ–ç±»å‹ï¼Œ0ä¸æ± åŒ–; 1ï¼š2x2 max pooling; 2:... * `para_size`ï¼šå½“å‰å±‚çš„å·ç§¯å‚æ•°å­—èŠ‚æ•° ### set_outputs ```python success set_outputs(kput_net, out_idx, width, height, channel) ``` æ‰‹åŠ¨è®¾ç½®è¾“å‡ºå±‚å½¢çŠ¶ï¼Œ å¯¹äº nncase v0.2.0 è½¬æ¢å‡ºæ¥çš„ V4 çš„ kmodel æ¨¡å‹ï¼Œ åœ¨ `load` ä¹‹åéœ€è¦è°ƒç”¨æ­¤å‡½æ•°æ‰‹åŠ¨è®¾ç½®è¾“å‡ºå±‚å½¢çŠ¶ï¼Œ V3 æ¨¡å‹ä¸éœ€è¦ #### å‚æ•° * `kpu_net`: kpu_net å¯¹è±¡ * `out_idx`: è¾“å‡ºå±‚ä¸‹è¡¨ï¼Œ ä» `0` å¼€å§‹ï¼Œ æ¯”å¦‚ç¬¬ä¸€å±‚è¾“å‡ºå±‚æ˜¯`0` * `width`ï¼š å±‚å®½åº¦ï¼Œ å¦‚æœæ˜¯ä¸€ç»´è¾“å‡ºï¼Œåˆ™ä¸º`1` * `height`: å±‚é«˜åº¦ï¼Œ å¦‚æœæ˜¯ä¸€ç»´è¾“å‡ºï¼Œåˆ™ä¸º`1` * `channnel`ï¼š å±‚é€šé“æ•°ï¼Œå¦‚æœæ˜¯ä¸€ç»´è¾“å‡ºï¼Œåˆ™è¿™é‡Œä¸ºä¸€ç»´è¾“å‡ºçš„é•¿åº¦ ##### è¿”å› * `success`ï¼š æ˜¯å¦è®¾ç½®æˆåŠŸï¼Œ å¦‚æœä¸æˆåŠŸï¼Œæ³¨æ„çœ‹è¾“å‡ºçš„æç¤ºä¿¡æ¯ï¼Œ å‚è€ƒ[é”™è¯¯ä»£ç ](https://github.com/sipeed/MaixPy v1/blob/fa3cf2c96353fa698e9386e42be8b3c9cf495114/components/kendryte_sdk/include/sipeed_kpu.h#L6 L23) ### memtest æ‰“å°å†…å­˜ä½¿ç”¨æƒ…å†µï¼ŒåŒ…æ‹¬`GC`å†…å­˜å’Œç³»ç»Ÿå †å†…å­˜ * æ³¨æ„æ‰§è¡Œè¿™ä¸ªå‡½æ•°ä¼šè‡ªåŠ¨å…ˆæ‰§è¡Œ`gc.collect()`è¿›è¡Œå†…å­˜å›æ”¶ä¸€æ¬¡ï¼Œå†æ‰“å°`GC`å‰©ä½™å†…å­˜ * ç³»ç»Ÿå †å†…å­˜åªåšå‚è€ƒï¼Œä¸ä¸€å®šå‡†ç¡®ï¼Œæœ‰æ—¶å¯èƒ½å‡ºç°å·²ç»é‡Šæ”¾äº†å†…å­˜ï¼Œä½†æ˜¯æ˜¾ç¤ºä¾ç„¶æ²¡æœ‰é‡Šæ”¾ï¼Œä»¥å®é™…èƒ½ä¸èƒ½åˆ†é…åˆ°å†…å­˜ä¸ºå‡† ```python KPU.memtest() ``` ### face_encode å°† `forward` è¿”å›çš„ç‰¹å¾å›¾è¿›è¡Œé‡åŒ–ï¼Œæ›´å¤šè¯¦æƒ…è¯·æŸ¥çœ‹ï¼š[kpu issue](https://github.com/sipeed/MaixPy v1issues/342) ```python feature kpu.face_encode(fmap[:]) ``` #### å‚æ•° `fmap[:]`ï¼š`list` ç±»å‹ï¼Œå°† `forward` å‡½æ•°è¿”å›å€¼è½¬åŒ–ä¸ºåˆ—è¡¨æ‰€å¾—åˆ°çš„ #### è¿”å›å€¼ `feature`ï¼š`list` ç±»å‹ï¼Œé‡åŒ–åçš„åˆ—è¡¨ ### face_compare å°† face_encode è¿”å›çš„é‡åŒ–å€¼ä¸å·²å½•å…¥çš„äººè„¸è¿›è¡Œæ¯”è¾ƒ ```python score kpu.face_compare(record_ftrs[j], feature) ``` #### å‚æ•° `record_ftrs[j] `ï¼š`list` ç±»å‹ï¼Œä»¥å½•å…¥çš„äººè„¸æ•°æ® `feature`ï¼š`list` ç±»å‹ï¼Œéœ€è¦æ¯”è¾ƒçš„äººè„¸æ•°æ®ï¼Œ `face_encode` çš„è¿”å›å€¼ #### è¿”å›å€¼ `score`ï¼š`int` ç±»å‹ï¼Œæ¯”è¾ƒå¾—åˆ†ï¼ˆ0~100ï¼‰ï¼Œå¾—åˆ†è¶Šé«˜ç›¸ä¼¼åº¦è¶Šå¤§"},"/soft/maixpy/zh/api_reference/Maix/index.html":{"title":"Maixåº“","content":" title: Maixåº“ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy Maixåº“ * [FPIOA](./fpioa.html) * [GPIO](./gpio.html) * [KPU](./kpu.html) * [FFT](./fft.html) * [I2S](./i2s.html) * [Audio](./audio.html) * [freq](./freq.html) * [utils](./utils.html)"},"/soft/maixpy/zh/api_reference/Maix/freq.html":{"title":"Maix.freq","content":" title: Maix.freq keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy Maix.freq é¢‘ç‡æ¨¡å—ï¼Œæ”¯æŒç¨‹åºä¿®æ”¹ cpu å’Œ kpu é¢‘ç‡ ## æ–¹æ³• ### freq.set(cpu, pll1, kpu_div) è®¾ç½® cpu æˆ–è€… kpu é¢‘ç‡ï¼Œè®¾ç½®å®Œåä¼šè‡ªåŠ¨é‡å¯ç”Ÿæ•ˆ è¯·æ³¨æ„åœ¨é¢‘ç‡è®¾ç½®å®Œæ¯•åå¯èƒ½ä¼šå¯¼è‡´æŸäº›å¤–è®¾æ€§èƒ½æ”¹å˜ ```python from Maix import freq freq.set(cpu 400, pll1 400, kpu_div 1) ``` é…ç½®æ–‡ä»¶å°†ä¼šä¿å­˜åœ¨æ–‡ä»¶ç³»ç»Ÿçš„`/flash/freq.conf`æ–‡ä»¶ä¸‹ï¼Œè¯·å‹¿ä¿®æ”¹è¿™ä¸ªæ–‡ä»¶ï¼Œå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨åˆ™ä¼šè‡ªåŠ¨åˆ›å»º #### å‚æ•° ä¸è®¾ç½®çš„å‚æ•°ä¼šä¿æŒä¹‹å‰çš„å€¼ **æ³¨æ„**ï¼š å¦‚æœ`cpu`é¢‘ç‡è®¾ç½®å°äº`60MHz`ï¼Œ é»˜è®¤çš„`REPL`ä¸²å£æ³¢ç‰¹ç‡ä¼šè®¾ç½®ä¸º`9600` * `cpu`ï¼š æƒ³è¦è®¾ç½®çš„cpué¢‘ç‡ï¼ŒèŒƒå›´[26,600]ï¼ˆèŠ¯ç‰‡æœ€é«˜`800`ä½†å¯¹ç”µå‹æœ‰è¦æ±‚ï¼Œ`MaixPy`æ”¯æŒçš„ç³»åˆ—ä¸æ”¯æŒæœ€é«˜åˆ°`800`ï¼Œé»˜è®¤`400`, ä¸åŒçš„æ¿å­å¯èƒ½è¡¨ç°ä¸åŒï¼Œä¸ºäº†ç¨³å®šæ€§ä¸å»ºè®®è¿‡é«˜ * `pll1`: `pll1`è¾“å‡ºçš„é¢‘ç‡ï¼Œå–å€¼èŒƒå›´[26,1200]ï¼ˆèŠ¯ç‰‡æœ€é«˜1800ï¼ŒMaixPyé™åˆ¶åˆ°1200ï¼‰ï¼Œé»˜è®¤ `400` * `kpu_div`ï¼š`kpu`æ—¶é’Ÿé¢‘ç‡åˆ†é¢‘ï¼Œå–å€¼èŒƒå›´[1,16]ï¼Œé»˜è®¤`1`ã€‚ `kpu`é¢‘ç‡ `pll1`/`kpu_div`ï¼Œ æ¯”å¦‚æƒ³è®¾ç½®`kpu`é¢‘ç‡ä¸º`400`ï¼Œåˆ™åªéœ€è®¾ç½®`pll1`ä¸º`400`ï¼Œ `kpu_div`ä¸º`1`å³å¯ã€‚ æ³¨æ„`kpu`é¢‘ç‡èŒƒå›´ï¼š[26,600] #### è¿”å›å€¼ å¦‚æœé¢‘ç‡æ²¡æœ‰å˜åŒ–ï¼Œåˆ™è¿”å›ç©ºã€‚ å¦‚æœé¢‘ç‡æœ‰å˜åŒ–ï¼Œå°†ä¼šè‡ªåŠ¨é‡å¯æœºå™¨ã€‚åœ¨ä½¿ç”¨è¯¥æ¥å£ä¹‹å‰è¯·ç¡®è®¤å½“å‰æƒ…å†µèƒ½èƒ½å¦é‡å¯ ### freq.get() è·å–å½“å‰è®¾ç½®çš„é¢‘ç‡å‚æ•° #### è¿”å›å€¼ `cpu`é¢‘ç‡å’Œ`kpu`çš„é¢‘ç‡ï¼Œä¸€ä¸ªå…ƒç»„çš„å½¢å¼è¿”å›ï¼Œæ¯”å¦‚`(400,400)` ### freq.get_cpu() è·å–å½“å‰`cpu`çš„é¢‘ç‡ #### è¿”å›å€¼ `cpu`é¢‘ç‡ ### freq.get_kpu() è·å–å½“å‰è®¾ç½®çš„ `kpu` é¢‘ç‡ #### è¿”å›å€¼ å½“å‰`kpu`é¢‘ç‡"},"/soft/maixpy/zh/api_reference/Maix/fpioa.html":{"title":"FPIOA (ç°åœºå¯ç¼–ç¨‹ IO é˜µåˆ—ï¼Œ Field Programmable Input and Output Array)","content":" title: FPIOA (ç°åœºå¯ç¼–ç¨‹ IO é˜µåˆ—ï¼Œ Field Programmable Input and Output Array) keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy FPIOA (ç°åœºå¯ç¼–ç¨‹ IO é˜µåˆ—ï¼Œ Field Programmable Input and Output Array) K210 æ”¯æŒæ¯ä¸ªå¤–è®¾éšæ„æ˜ å°„åˆ°ä»»æ„å¼•è„šï¼Œ ä½¿ç”¨ FPIOA åŠŸèƒ½æ¥å®ç°ã€‚ **æ³¨æ„**: ä»¥ä¸‹ GPIOHS é»˜è®¤å·²ç»è¢«ä½¿ç”¨ï¼Œ ç¨‹åºä¸­å¦‚éå¿…è¦å°½é‡ä¸è¦ä½¿ç”¨ï¼š GPIOHS åŠŸèƒ½ æè¿° GPIOHS5 LCD_DC LCD è¯»å†™ä¿¡å·å¼•è„š GPIOHS4 LCD_RST LCD å¤ä½èŠ¯ç‰‡è„š GPIOHS29 SD_CS SD å¡ SPI ç‰‡é€‰ GPIOHS28 MIC_LED_CLK SK9822_DAT GPIOHS27 MIC_LED_DATA SK9822_CLK ## ç±» `FPIOA` ### æ–¹æ³• #### help(func) æ˜¾ç¤ºå¤–è®¾åŠå…¶ç®€è¦æè¿° ##### å‚æ•° * `func`ï¼š å¤–è®¾åï¼ˆåŠŸèƒ½/ç¼–å·ï¼‰ï¼Œå¯ä»¥ä¸ä¼ å‚ï¼Œ åˆ™ä»¥è¡¨æ ¼çš„å½¢å¼æ˜¾ç¤ºæ‰€æœ‰å¤–è®¾åå³ç®€è¦æè¿°ï¼Œè¿™ä¸ªè¡¨æ ¼ä¹Ÿå¯ä»¥åœ¨æœ¬é¡µçš„æœ«å°¾æ‰¾åˆ°ï¼ˆ[é™„å½•ï¼šå¤–è®¾è¡¨](#é™„å½•ï¼š å¤–è®¾è¡¨)ï¼‰ï¼›</br> å¦‚æœä¼ å‚ï¼Œåˆ™ä¼ ä¸€ä¸ªæ•´å‹å€¼ï¼Œ æ‰¾åˆ°è¯¥ç¼–å·å¯¹åº”çš„å¤–è®¾åä¼šæ‰“å°å¤–è®¾åå’Œæè¿°ï¼Œ</br> æ¯”å¦‚ `FPIOA.JTAG_TCLK` æˆ–è€… `fm.fpioa.JTAG_TCLK`ï¼ˆ`fm`åœ¨æœ¬é¡µåé¢ä»‹ç»ï¼‰ æˆ–è€… `0` æ¯”å¦‚ï¼š ```python from Maix import FPIOA fpioa FPIOA() fpioa.help() fpioa.help(0) fpioa.help(fpioa.JTAG_TCLK) fm.fpioa.help() fm.fpioa.help(fm.fpioa.JTAG_TCLK) ``` ##### è¿”å› å¤–è®¾ååŠå…¶ç®€è¦æè¿° #### set_function(pin, func) è®¾ç½®å¼•è„šå¯¹åº”çš„å¤–è®¾åŠŸèƒ½ï¼Œ å³å¼•è„šæ˜ å°„ ##### å‚æ•° * `pin`ï¼š å¼•è„šç¼–å·ï¼Œå–å€¼ [0, 47]ï¼Œ å…·ä½“çš„å¼•è„šè¿æ¥è¯·çœ‹ç”µè·¯å›¾ï¼Œ ä¹Ÿå¯ä»¥ä½¿ç”¨ `board_info.` ç„¶åæŒ‰ `TAB` æŒ‰é”®è¡¥å…¨æ¥è·å¾—æ¿å­çš„å¸¸ç”¨å¼•è„šï¼Œæ¯”å¦‚ `board_info.LED_G` * `func`ï¼š å¤–è®¾åŠŸèƒ½ï¼Œä¼ ä¸€ä¸ªæ•´å‹å€¼ï¼Œå¯ä»¥é€šè¿‡ `fm.fpioa.help()`æˆ–è€…æŸ¥æœ¬é¡µæœ«å°¾çš„ [é™„å½•ï¼š å¤–è®¾è¡¨](#é™„å½•ï¼š å¤–è®¾è¡¨) è¡¨å¾—åˆ° æ¯”å¦‚ éœ€è¦å°†è¿æ¥ `ç»¿è‰² LED` çš„å¼•è„šæ˜ å°„åˆ° `é«˜é€Ÿ GPIO0` ä¸Šï¼š ```python fpioa FPIOA() fpioa.set_function(board_info.LED_G, fm.fpioa.GPIOHS0) ``` #### get_Pin_num(func) è·å–å¤–è®¾æ˜ å°„åˆ°å“ªä¸ªå¼•è„šä¸Šäº† ##### å‚æ•° * `func`ï¼š å¤–è®¾åŠŸèƒ½ï¼Œä¼ ä¸€ä¸ªæ•´å‹å€¼ï¼Œå¯ä»¥é€šè¿‡ `fm.fpioa.help()`æˆ–è€…æŸ¥æœ¬é¡µæœ«å°¾çš„ [é™„å½•ï¼š å¤–è®¾è¡¨](#é™„å½•ï¼š å¤–è®¾è¡¨) è¡¨å¾—åˆ° æ¯”å¦‚ï¼š ```python fpioa FPIOA() fpioa.set_function(board_info.LED_G, fm.fpioa.GPIOHS0) pin fpioa.get_Pin_num(fm.fpioa.GPIOHS0) if pin board_info.LED_G: print(\"set function ok\") ``` ## é™„å½•ï¼š å¤–è®¾è¡¨ å¤–è®¾åŠŸèƒ½ï¼ˆfuncï¼‰ ç®€è¦æè¿° JTAG_TCLK JTAG Test Clock JTAG_TDI JTAG Test Data In JTAG_TMS JTAG Test Mode Select JTAG_TDO JTAG Test Data Out SPI0_D0 SPI0 Data 0 SPI0_D1 SPI0 Data 1 SPI0_D2 SPI0 Data 2 SPI0_D3 SPI0 Data 3 SPI0_D4 SPI0 Data 4 SPI0_D5 SPI0 Data 5 SPI0_D6 SPI0 Data 6 SPI0_D7 SPI0 Data 7 SPI0_SS0 SPI0 Chip Select 0 SPI0_SS1 SPI0 Chip Select 1 SPI0_SS2 SPI0 Chip Select 2 SPI0_SS3 SPI0 Chip Select 3 SPI0_ARB SPI0 Arbitration SPI0_SCLK SPI0 Serial Clock UARTHS_RX UART High speed Receiver UARTHS_TX UART High speed Transmitter RESV6 Reserved function RESV7 Reserved function CLK_SPI1 Clock SPI1 CLK_I2C1 Clock I2C1 GPIOHS0 GPIO High speed 0 GPIOHS1 GPIO High speed 1 GPIOHS2 GPIO High speed 2 GPIOHS3 GPIO High speed 3 GPIOHS4 GPIO High speed 4 GPIOHS5 GPIO High speed 5 GPIOHS6 GPIO High speed 6 GPIOHS7 GPIO High speed 7 GPIOHS8 GPIO High speed 8 GPIOHS9 GPIO High speed 9 GPIOHS10 GPIO High speed 10 GPIOHS11 GPIO High speed 11 GPIOHS12 GPIO High speed 12 GPIOHS13 GPIO High speed 13 GPIOHS14 GPIO High speed 14 GPIOHS15 GPIO High speed 15 GPIOHS16 GPIO High speed 16 GPIOHS17 GPIO High speed 17 GPIOHS18 GPIO High speed 18 GPIOHS19 GPIO High speed 19 GPIOHS20 GPIO High speed 20 GPIOHS21 GPIO High speed 21 GPIOHS22 GPIO High speed 22 GPIOHS23 GPIO High speed 23 GPIOHS24 GPIO High speed 24 GPIOHS25 GPIO High speed 25 GPIOHS26 GPIO High speed 26 GPIOHS27 GPIO High speed 27 GPIOHS28 GPIO High speed 28 GPIOHS29 GPIO High speed 29 GPIOHS30 GPIO High speed 30 GPIOHS31 GPIO High speed 31 GPIO0 GPIO pin 0 GPIO1 GPIO pin 1 GPIO2 GPIO pin 2 GPIO3 GPIO pin 3 GPIO4 GPIO pin 4 GPIO5 GPIO pin 5 GPIO6 GPIO pin 6 GPIO7 GPIO pin 7 UART1_RX UART1 Receiver UART1_TX UART1 Transmitter UART2_RX UART2 Receiver UART2_TX UART2 Transmitter UART3_RX UART3 Receiver UART3_TX UART3 Transmitter SPI1_D0 SPI1 Data 0 SPI1_D1 SPI1 Data 1 SPI1_D2 SPI1 Data 2 SPI1_D3 SPI1 Data 3 SPI1_D4 SPI1 Data 4 SPI1_D5 SPI1 Data 5 SPI1_D6 SPI1 Data 6 SPI1_D7 SPI1 Data 7 SPI1_SS0 SPI1 Chip Select 0 SPI1_SS1 SPI1 Chip Select 1 SPI1_SS2 SPI1 Chip Select 2 SPI1_SS3 SPI1 Chip Select 3 SPI1_ARB SPI1 Arbitration SPI1_SCLK SPI1 Serial Clock SPI_SLAVE_D0 SPI Slave Data 0 SPI_SLAVE_SS SPI Slave Select SPI_SLAVE_SCLK SPI Slave Serial Clock I2S0_MCLK I2S0 Master Clock I2S0_SCLK I2S0 Serial Clock(BCLK) I2S0_WS I2S0 Word Select(LRCLK) I2S0_IN_D0 I2S0 Serial Data Input 0 I2S0_IN_D1 I2S0 Serial Data Input 1 I2S0_IN_D2 I2S0 Serial Data Input 2 I2S0_IN_D3 I2S0 Serial Data Input 3 I2S0_OUT_D0 I2S0 Serial Data Output 0 I2S0_OUT_D1 I2S0 Serial Data Output 1 I2S0_OUT_D2 I2S0 Serial Data Output 2 I2S0_OUT_D3 I2S0 Serial Data Output 3 I2S1_MCLK I2S1 Master Clock I2S1_SCLK I2S1 Serial Clock(BCLK) I2S1_WS I2S1 Word Select(LRCLK) I2S1_IN_D0 I2S1 Serial Data Input 0 I2S1_IN_D1 I2S1 Serial Data Input 1 I2S1_IN_D2 I2S1 Serial Data Input 2 I2S1_IN_D3 I2S1 Serial Data Input 3 I2S1_OUT_D0 I2S1 Serial Data Output 0 I2S1_OUT_D1 I2S1 Serial Data Output 1 I2S1_OUT_D2 I2S1 Serial Data Output 2 I2S1_OUT_D3 I2S1 Serial Data Output 3 I2S2_MCLK I2S2 Master Clock I2S2_SCLK I2S2 Serial Clock(BCLK) I2S2_WS I2S2 Word Select(LRCLK) I2S2_IN_D0 I2S2 Serial Data Input 0 I2S2_IN_D1 I2S2 Serial Data Input 1 I2S2_IN_D2 I2S2 Serial Data Input 2 I2S2_IN_D3 I2S2 Serial Data Input 3 I2S2_OUT_D0 I2S2 Serial Data Output 0 I2S2_OUT_D1 I2S2 Serial Data Output 1 I2S2_OUT_D2 I2S2 Serial Data Output 2 I2S2_OUT_D3 I2S2 Serial Data Output 3 RESV0 Reserved function RESV1 Reserved function RESV2 Reserved function RESV3 Reserved function RESV4 Reserved function RESV5 Reserved function I2C0_SCLK I2C0 Serial Clock I2C0_SDA I2C0 Serial Data I2C1_SCLK I2C1 Serial Clock I2C1_SDA I2C1 Serial Data I2C2_SCLK I2C2 Serial Clock I2C2_SDA I2C2 Serial Data CMOS_XCLK DVP System Clock CMOS_RST DVP System Reset CMOS_PWDN DVP Power Down Mode CMOS_VSYNC DVP Vertical Sync CMOS_HREF DVP Horizontal Reference output CMOS_PCLK Pixel Clock CMOS_D0 Data Bit 0 CMOS_D1 Data Bit 1 CMOS_D2 Data Bit 2 CMOS_D3 Data Bit 3 CMOS_D4 Data Bit 4 CMOS_D5 Data Bit 5 CMOS_D6 Data Bit 6 CMOS_D7 Data Bit 7 SCCB_SCLK SCCB Serial Clock SCCB_SDA SCCB Serial Data UART1_CTS UART1 Clear To Send UART1_DSR UART1 Data Set Ready UART1_DCD UART1 Data Carrier Detect UART1_RI UART1 Ring Indicator UART1_SIR_IN UART1 Serial Infrared Input UART1_DTR UART1 Data Terminal Ready UART1_RTS UART1 Request To Send UART1_OUT2 UART1 User designated Output 2 UART1_OUT1 UART1 User designated Output 1 UART1_SIR_OUT UART1 Serial Infrared Output UART1_BAUD UART1 Transmit Clock Output UART1_RE UART1 Receiver Output Enable UART1_DE UART1 Driver Output Enable UART1_RS485_EN UART1 RS485 Enable UART2_CTS UART2 Clear To Send UART2_DSR UART2 Data Set Ready UART2_DCD UART2 Data Carrier Detect UART2_RI UART2 Ring Indicator UART2_SIR_IN UART2 Serial Infrared Input UART2_DTR UART2 Data Terminal Ready UART2_RTS UART2 Request To Send UART2_OUT2 UART2 User designated Output 2 UART2_OUT1 UART2 User designated Output 1 UART2_SIR_OUT UART2 Serial Infrared Output UART2_BAUD UART2 Transmit Clock Output UART2_RE UART2 Receiver Output Enable UART2_DE UART2 Driver Output Enable UART2_RS485_EN UART2 RS485 Enable UART3_CTS UART3 Clear To Send UART3_DSR UART3 Data Set Ready UART3_DCD UART3 Data Carrier Detect UART3_RI UART3 Ring Indicator UART3_SIR_IN UART3 Serial Infrared Input UART3_DTR UART3 Data Terminal Ready UART3_RTS UART3 Request To Send UART3_OUT2 UART3 User designated Output 2 UART3_OUT1 UART3 User designated Output 1 UART3_SIR_OUT UART3 Serial Infrared Output UART3_BAUD UART3 Transmit Clock Output UART3_RE UART3 Receiver Output Enable UART3_DE UART3 Driver Output Enable UART3_RS485_EN UART3 RS485 Enable TIMER0_TOGGLE1 TIMER0 Toggle Output 1 TIMER0_TOGGLE2 TIMER0 Toggle Output 2 TIMER0_TOGGLE3 TIMER0 Toggle Output 3 TIMER0_TOGGLE4 TIMER0 Toggle Output 4 TIMER1_TOGGLE1 TIMER1 Toggle Output 1 TIMER1_TOGGLE2 TIMER1 Toggle Output 2 TIMER1_TOGGLE3 TIMER1 Toggle Output 3 TIMER1_TOGGLE4 TIMER1 Toggle Output 4 TIMER2_TOGGLE1 TIMER2 Toggle Output 1 TIMER2_TOGGLE2 TIMER2 Toggle Output 2 TIMER2_TOGGLE3 TIMER2 Toggle Output 3 TIMER2_TOGGLE4 TIMER2 Toggle Output 4 CLK_SPI2 Clock SPI2 CLK_I2C2 Clock I2C2 "},"/soft/maixpy/zh/api_reference/Maix/utils.html":{"title":"Maix.utils","content":" title: Maix.utils keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy Maix.utils ## gc_heap_size([size]) è·å–æˆ–è€…è®¾ç½® GC å †å¤§å°ï¼Œå¦‚æœæŠ¥å†…å­˜ä¸å¤Ÿæ—¶å¯ä»¥è€ƒè™‘è®¾ç½®å¤§ä¸€ç‚¹ ### å‚æ•° æ—  æˆ–è€… ä¼ å…¥æ–°çš„ GC å †å¤§å°. * å¦‚æœæ²¡æœ‰å‚æ•°å°±åªæ˜¯è·å–å †å¤§å°ï¼› * å¦‚æœæœ‰å‚æ•°åˆ™è®¾ç½®å †å¤§å°ï¼Œç„¶åä¼šè‡ªåŠ¨é‡å¯ ### è¿”å›å€¼ GC å †å¤§å° ä½¿ç”¨å®ä¾‹ ```python import Maix # Maix.utils.gc_heap_size(0x80000) # å›ºä»¶é»˜è®¤é…ç½®ä¸º 500KB Maix.utils.gc_heap_size(0x96000) # 600KB ``` ## flash_read(flash_offset, size) ä»å†…éƒ¨ flash è¯»å– size æŒ‡å®šå¤§å°(å­—èŠ‚æ•°) æ•°æ® ### å‚æ•° flash_offset: flash åœ°å€åç§» flash_offset: flash åœ°å€åç§» ## heap_free() ```shell >>> Maix.utils.gc_heap_size() 524288 >>> Maix.utils.heap_free() 4374528 ``` æ–‡ç« ä¸­è„šæœ¬æµ‹è¯•æ¡ä»¶ä¸º: MaixDock MaixPy v0.5.0_246(æ ‡å‡†ç‰ˆå›ºä»¶)"},"/soft/maixpy/zh/api_reference/Maix/fft.html":{"title":"FFTè¿ç®—","content":" title: FFTè¿ç®— keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy FFTè¿ç®— FFTå¿«é€Ÿå‚…é‡Œå¶å˜æ¢æ¨¡å—ï¼Œå¯¹è¾“å…¥æ•°æ®è¿›è¡Œå‚…é‡Œå¶å˜æ¢å¹¶è¿”å›ç›¸åº”çš„é¢‘ç‡å¹…å€¼, FFTå¿«é€Ÿå‚…é‡Œå¶è¿ç®—å¯ä»¥å°†æ—¶åŸŸä¿¡å·è½¬æ¢ä¸ºé¢‘åŸŸä¿¡å· ## æ¨¡å—å‡½æ•° ### è¿ç®—å‡½æ•° è¾“å…¥æ—¶åŸŸæ•°æ®å¹¶è¿›è¡Œå‚…é‡Œå¶å˜æ¢ ``` from maix import FFT res FFT.run(data, points, shift) ``` #### å‚æ•° * `data`: è¾“å…¥çš„æ—¶åŸŸæ•°æ®ï¼Œ`bytearray` ç±»å‹ * `points`: FFTè¿ç®—ç‚¹æ•°ï¼Œä»…æ”¯æŒ64, 128ï¼Œ256å’Œ512ç‚¹ * `shift`: åç§»ï¼Œé»˜è®¤ä¸º0 #### è¿”å›å€¼ `res`: è¿”å›è®¡ç®—åçš„é¢‘åŸŸæ•°æ®ï¼Œä»¥ `list` ç±»å‹å‘ˆç°ï¼Œè¯¥åˆ—è¡¨æœ‰ `points` ä¸ªå…ƒç»„ï¼Œæ¯ä¸ªå…ƒç»„æœ‰ 2 ä¸ªå…ƒç´ ï¼Œç¬¬ä¸€ä¸ªå…ƒç´ ä¸ºå®éƒ¨ï¼Œç¬¬äºŒä¸ªä¸ºè™šéƒ¨ ### é¢‘ç‡å‡½æ•° FFT ``` res FFT.freq(points, sample_rate) ``` #### å‚æ•° * `points`: è®¡ç®—ç‚¹æ•° * `sample_rate`: é‡‡æ ·ç‡ #### è¿”å›å€¼ `res` : è¿”å›ä¸€ä¸ªåˆ—è¡¨ï¼Œè¯¥åˆ—è¡¨å­˜æ”¾çš„è¿›è¡Œè¿ç®—ååæ‰€æœ‰é¢‘ç‡ç‚¹çš„é¢‘ç‡å€¼ ### å¹…å€¼å‡½æ•° ç”¨äºè®¡ç®— FFT è¿ç®—åçš„å„ä¸ªé¢‘ç‡ç‚¹çš„å¹…å€¼ï¼Œç›®å‰ç”¨ä½œæµ‹è¯•ï¼Œç”¨æˆ·å¯ä»¥è‡ªå·±åœ¨pythonè‡ªè¡Œå†™å¹…å€¼å¤„ç†å‡½æ•° ``` amp FFT.amplitude(FFT_res) ``` #### å‚æ•° `FFT_res`: å‡½æ•° `run` è¿è¡Œåçš„ç»“æœ #### è¿”å›å€¼ `res` : è¿”å›ä¸€ä¸ªåˆ—è¡¨ï¼Œè¯¥åˆ—è¡¨å­˜æ”¾äº†å„ä¸ªé¢‘ç‡ç‚¹çš„å¹…å€¼ ### ä¾‹ç¨‹ é‡‡é›†å£°éŸ³å¹¶è¿›è¡Œ FFT è¿ç®—ï¼Œå°†è¿ç®—åçš„æ•°æ®åœ¨å±å¹•ä¸Šæ˜¾ç¤ºä¸ºæŸ±çŠ¶å›¾: [demo_fft_spectrum](https://github.com/sipeed/MaixPy v1_scripts/blob/master/hardware/demo_fft_spectrum.py) æ•ˆæœï¼š <iframe width \"600\" height \"350\" src \"//player.bilibili.com/player.html?aid 44617696&cid 78104545&page 1\" scrolling \"no\" border \"0\" frameborder \"no\" framespacing \"0\" allowfullscreen \"true\"> </iframe>"},"/soft/maixpy/zh/api_reference/Maix/gpio.html":{"title":"GPIO","content":" title: GPIO keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy GPIO General Purpose Input Output ï¼ˆé€šç”¨è¾“å…¥/è¾“å‡ºï¼‰ç®€ç§°ä¸º GPIOï¼Œæˆ–æ€»çº¿æ‰©å±•å™¨ã€‚ K210ä¸Šæœ‰é«˜é€Ÿ GPIO(GPIOHS) å’Œé€šç”¨ GPIO åœ¨ K210 ä¸Šï¼Œ GPIO æœ‰ä»¥ä¸‹ç‰¹å¾ï¼š * é«˜é€Ÿ GPIOï¼š é«˜é€Ÿ GPIO ä¸º GPIOHSï¼Œå…± 32 ä¸ªã€‚å…·æœ‰å¦‚ä¸‹ç‰¹ç‚¹ï¼š * å¯é…ç½®è¾“å…¥è¾“å‡ºä¿¡å· * æ¯ä¸ª IO å…·æœ‰ç‹¬ç«‹ä¸­æ–­æº * ä¸­æ–­æ”¯æŒè¾¹æ²¿è§¦å‘å’Œç”µå¹³è§¦å‘ * æ¯ä¸ª IO å¯ä»¥åˆ†é…åˆ° FPIOA ä¸Š 48 ä¸ªç®¡è„šä¹‹ä¸€ * å¯é…ç½®ä¸Šä¸‹æ‹‰ï¼Œæˆ–è€…é«˜é˜» * é€šç”¨ GPIOï¼š é€šç”¨ GPIO å…± 8 ä¸ªï¼Œå…·æœ‰å¦‚ä¸‹ç‰¹ç‚¹: * 8 ä¸ª IO ä½¿ç”¨ä¸€ä¸ªä¸­æ–­æº * å¯é…ç½®è¾“å…¥è¾“å‡ºä¿¡å· * å¯é…ç½®è§¦å‘ IO æ€»ä¸­æ–­ï¼Œè¾¹æ²¿è§¦å‘å’Œç”µå¹³è§¦å‘ * æ¯ä¸ª IO å¯ä»¥åˆ†é…åˆ° FPIOA ä¸Š 48 ä¸ªç®¡è„šä¹‹ä¸€ **æ³¨æ„**: ä»¥ä¸‹ GPIOHS é»˜è®¤å·²ç»è¢«ä½¿ç”¨ï¼Œ ç¨‹åºä¸­å¦‚éå¿…è¦å°½é‡ä¸è¦ä½¿ç”¨ï¼š GPIOHS åŠŸèƒ½ GPIOHS31 LCD_DC GPIOHS30 LCD_RST GPIOHS29 SD_CS GPIOHS28 MIC_LED_CLK GPIOHS27 MIC_LED_DATA ## æ„é€ å‡½æ•° ```python class GPIO(ID, MODE, PULL, VALUE) ``` é€šè¿‡æŒ‡å®šçš„å‚æ•°æ–°å»ºä¸€ä¸ª SPI å¯¹è±¡ ### å‚æ•° * `ID`ï¼š ä½¿ç”¨çš„ GPIO å¼•è„š(ä¸€å®šè¦ä½¿ç”¨ GPIO é‡Œå¸¦çš„å¸¸é‡æ¥æŒ‡å®š) * `MODE`ï¼š GPIOæ¨¡å¼ â€¢ GPIO.INå°±æ˜¯è¾“å…¥æ¨¡å¼ â€¢ GPIO.OUTå°±æ˜¯è¾“å‡ºæ¨¡å¼ * `PULL`ï¼š GPIOä¸Šä¸‹æ‹‰æ¨¡å¼ â€¢ GPIO.PULL_UP ä¸Šæ‹‰ â€‹â€¢ GPIO.PULL_DOWN ä¸‹æ‹‰ â€‹â€¢ GPIO.PULL_NONE å³ä¸ä¸Šæ‹‰ä¹Ÿä¸ä¸‹æ‹‰ ## æ–¹æ³• ### value ä¿®æ”¹/è¯»å– GPIO å¼•è„šçŠ¶æ€ ```python GPIO.value([value]) ``` #### å‚æ•° * `[value]`ï¼š å¯é€‰å‚æ•°ï¼Œå¦‚æœæ­¤å‚æ•°ä¸ä¸ºç©ºï¼Œåˆ™è¿”å›å½“å‰ GPIO å¼•è„šçŠ¶æ€ #### è¿”å›å€¼ å¦‚æœ `[value]` å‚æ•°ä¸ä¸ºç©ºï¼Œåˆ™è¿”å›å½“å‰ GPIO å¼•è„šçŠ¶æ€ ### irq é…ç½®ä¸€ä¸ªä¸­æ–­å¤„ç†ç¨‹åºï¼Œå½“ `pin` çš„è§¦å‘æºå¤„äºæ´»åŠ¨çŠ¶æ€æ—¶è°ƒç”¨å®ƒã€‚å¦‚æœç®¡è„šæ¨¡å¼ä¸º pin.inï¼Œåˆ™è§¦å‘æºæ˜¯ç®¡è„šä¸Šçš„å¤–éƒ¨å€¼ã€‚ ```python GPIO.irq(CALLBACK_FUNC,TRIGGER_CONDITION,GPIO.WAKEUP_NOT_SUPPORT,PRORITY) ``` #### å‚æ•° * `CALLBACK_FUNC`ï¼šä¸­æ–­å›è°ƒå‡½æ•°ï¼Œå½“ä¸­æ–­è§¦å‘çš„æ—¶å€™è¢«è°ƒç”¨ï¼Œä¸€ä¸ªå…¥å£å‡½æ•° `pin_num` â€‹â€¢ PIN_NUM è¿”å›çš„æ˜¯è§¦å‘ä¸­æ–­çš„ GPIO å¼•è„šå·(åªæœ‰GPIOHSæ”¯æŒä¸­æ–­ï¼Œæ‰€ä»¥è¿™é‡Œçš„å¼•è„šå·ä¹Ÿæ˜¯GPIOHSçš„å¼•è„šå·) * `TRIGGER_CONDITION`ï¼šGPIO å¼•è„šçš„ä¸­æ–­è§¦å‘æ¨¡å¼ â€‹â€¢ GPIO.IRQ_RISING ä¸Šå‡æ²¿è§¦å‘ â€‹â€¢ GPIO.IRQ_FALLING ä¸‹é™æ²¿è§¦å‘ â€‹â€¢ GPIO.IRQ_BOTH ä¸Šå‡æ²¿å’Œä¸‹é™æ²¿éƒ½è§¦å‘ #### è¿”å›å€¼ æ—  ### disirq å…³é—­ä¸­æ–­ ```python GPIO.disirq() ``` #### å‚æ•° æ—  #### è¿”å›å€¼ æ—  ### mode è®¾ç½® GPIO è¾“å…¥è¾“å‡ºæ¨¡å¼ ```python GPIO.mode(MODE) ``` #### å‚æ•° * MODE â€¢ `GPIO.IN` è¾“å…¥æ¨¡å¼ â€¢ `GPIO.PULL_UP` ä¸Šæ‹‰è¾“å…¥æ¨¡å¼ â€¢ `GPIO.PULL_DOWN` ä¸‹æ‹‰è¾“å…¥æ¨¡å¼ â€¢ `GPIO.OUT` è¾“å‡ºæ¨¡å¼ #### è¿”å›å€¼ æ—  ## å¸¸é‡ * `GPIO0`: GPIO0 * `GPIO1`: GPIO1 * `GPIO2`: GPIO2 * `GPIO3`: GPIO3 * `GPIO4`: GPIO4 * `GPIO5`: GPIO5 * `GPIO6`: GPIO6 * `GPIO7`: GPIO7 * `GPIOHS0`: GPIOHS0 * `GPIOHS1`: GPIOHS1 * `GPIOHS2`: GPIOHS2 * `GPIOHS3`: GPIOHS3 * `GPIOHS4`: GPIOHS4 * `GPIOHS5`: GPIOHS5 * `GPIOHS6`: GPIOHS6 * `GPIOHS7`: GPIOHS7 * `GPIOHS8`: GPIOHS8 * `GPIOHS9`: GPIOHS9 * `GPIOHS10`: GPIOHS10 * `GPIOHS11`: GPIOHS11 * `GPIOHS12`: GPIOHS12 * `GPIOHS13`: GPIOHS13 * `GPIOHS14`: GPIOHS14 * `GPIOHS15`: GPIOHS15 * `GPIOHS16`: GPIOHS16 * `GPIOHS17`: GPIOHS17 * `GPIOHS18`: GPIOHS18 * `GPIOHS19`: GPIOHS19 * `GPIOHS20`: GPIOHS20 * `GPIOHS21`: GPIOHS21 * `GPIOHS22`: GPIOHS22 * `GPIOHS23`: GPIOHS23 * `GPIOHS24`: GPIOHS24 * `GPIOHS25`: GPIOHS25 * `GPIOHS26`: GPIOHS26 * `GPIOHS27`: GPIOHS27 * `GPIOHS28`: GPIOHS28 * `GPIOHS29`: GPIOHS29 * `GPIOHS30`: GPIOHS30 * `GPIOHS31`: GPIOHS31 * `GPIO.IN`: è¾“å…¥æ¨¡å¼ * `GPIO.OUT`: è¾“å‡ºæ¨¡å¼ * `GPIO.PULL_UP`: ä¸Šæ‹‰ * `GPIO.PULL_DOWN`: ä¸‹æ‹‰ * `GPIO.PULL_NONE`: å³ä¸ä¸Šæ‹‰ä¹Ÿä¸ä¸‹æ‹‰ * `GPIO.IRQ_RISING`: ä¸Šå‡æ²¿è§¦å‘ * `GPIO.IRQ_FALLING`:ä¸‹é™æ²¿è§¦å‘ * `GPIO.IRQ_BOTH`: ä¸Šå‡æ²¿å’Œä¸‹é™æ²¿éƒ½è§¦å‘ ### DEMO1: ç‚¹äº® LED > `board_info` ä¸æ¿å¡ç›¸å…³ï¼Œä¸åŒæ¿å¡é…ç½®ä¸åŒï¼Œä½¿ç”¨å‰éœ€è¦[æ‰‹åŠ¨é…ç½®](../builtin_py/board_info.html)ã€‚ ```python import utime from Maix import GPIO from board import board_info from fpioa_manager import fm fm.register(board_info.LED_R,fm.fpioa.GPIO0) led_r GPIO(GPIO.GPIO0,GPIO.OUT) utime.sleep_ms(500) led_r.value() fm.unregister(board_info.LED_R) ``` ### DEMO2: æŒ‰é”®æŒ‰ä¸‹ç‚¹äº® LED > `board_info` ä¸æ¿å¡ç›¸å…³ï¼Œä¸åŒæ¿å¡é…ç½®ä¸åŒï¼Œä½¿ç”¨å‰éœ€è¦[æ‰‹åŠ¨é…ç½®](../builtin_py/board_info.html)ã€‚ ```python import utime from Maix import GPIO from board import board_info from fpioa_manager import fm fm.register(board_info.LED_R,fm.fpioa.GPIO0) led_b GPIO(GPIO.GPIO0,GPIO.OUT) led_b.value(1) fm.register(board_info.BOOT_KEY, fm.fpioa.GPIOHS1) key GPIO(GPIO.GPIOHS1, GPIO.IN) utime.sleep_ms(100) while True: if key.value() 0: # ç­‰å¾…æŒ‰é”®æŒ‰ä¸‹ led_b.value(0) utime.sleep_ms(1000) break utime.sleep_ms(10) led_b.value(1) fm.unregister(board_info.LED_R) fm.unregister(board_info.BOOT_KEY) ``` ### DEMO3: åœ¨ 3 ç§’å†…ç­‰å¾…æŒ‰é”®è§¦å‘ä¸­æ–­ > `board_info` ä¸æ¿å¡ç›¸å…³ï¼Œä¸åŒæ¿å¡é…ç½®ä¸åŒï¼Œä½¿ç”¨å‰éœ€è¦[æ‰‹åŠ¨é…ç½®](../builtin_py/board_info.html)ã€‚ ```python import utime from Maix import GPIO from board import board_info from fpioa_manager import fm def test_irq(pin_num): print(\"key\", pin_num, \"\\n\") fm.register(board_info.BOOT_KEY, fm.fpioa.GPIOHS0) key GPIO(GPIO.GPIOHS0, GPIO.IN, GPIO.PULL_NONE) utime.sleep_ms(100) key.irq(test_irq, GPIO.IRQ_BOTH, GPIO.WAKEUP_NOT_SUPPORT,7) utime.sleep_ms(3000) # åœ¨ 3 ç§’å†…ç­‰å¾…è§¦å‘ key.disirq() # ç¦ç”¨ä¸­æ–­ fm.unregister(board_info.BOOT_KEY) ```"},"/soft/maixpy/zh/api_reference/extend/touchscreen.html":{"title":"touchscreenï¼ˆè§¦æ‘¸å±å¹•ï¼‰","content":" title: touchscreenï¼ˆè§¦æ‘¸å±å¹•ï¼‰ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®—, æ·±åº¦å­¦ä¹ , äººå·¥æ™ºèƒ½ desc: maixpy touchscreenï¼ˆè§¦æ‘¸å±å¹•ï¼‰ `touchscreen` æ¨¡å—åŒ…å«äº†åŸºæœ¬çš„è¯»å–è§¦æ‘¸å±å¹•æ“ä½œ ç›®å‰æ”¯æŒçš„è§¦æ‘¸å±å¹•ï¼š * ns2009ï¼ˆé»˜è®¤ï¼‰ å¦‚æœéœ€è¦ä¿®æ”¹é©±åŠ¨å‹å·ï¼Œéœ€è¦é‡æ–°ç¼–è¯‘ `MaixPy` æºç ä¿®æ”¹é¢„ç¼–è¯‘æ”¯æŒçš„å‹å· ## å…¨å±€å‡½æ•° ### init(i2c None, cal None) åˆå§‹åŒ–è§¦æ‘¸å± > API åœ¨åé¢å¯èƒ½ä¼šæœ‰æ‰€æ”¹åŠ¨ï¼ˆä¸»è¦æ˜¯é’ˆå¯¹å¤šç§é©±åŠ¨å¯¹å‚æ•°çš„æ”¹åŠ¨ï¼‰ #### å‚æ•° * `i2c`ï¼š ç›®å‰æ”¯æŒçš„æ˜¯ `I2C` é€šä¿¡çš„è§¦æ‘¸å±ï¼Œ ä¼ å…¥`I2C`å®ä¾‹å¯¹è±¡ï¼Œ åæœŸè¿™ä¸ªå‚æ•°å¯èƒ½ä¼šè¢«é‡å‘½åæˆ–è€…å–æ¶ˆ * `cal`ï¼š æ ¡å‡†æ•°æ®ï¼Œ æ˜¯ä¸€ä¸ª `7` ä¸ªæ•´å‹å€¼çš„å…ƒç»„ï¼Œ å¯ä»¥é€šè¿‡ `touchscreen.calibrate()` å‡½æ•°å¾—åˆ° ### calibrate() æ ¡å‡†å±å¹•ï¼Œä½¿å±å¹•æ˜¾ç¤ºå’Œè§¦æ‘¸å±åƒç´ èƒ½å¤Ÿå¯¹åº” #### è¿”å›å€¼ è¿”å›ä¸€ä¸ª `7` ä¸ªæ•´å‹å€¼çš„å…ƒç»„ï¼Œ å¯ä»¥ä¿å­˜åˆ°æ–‡ä»¶ç³»ç»Ÿæˆ–è€…`flash`ï¼Œåœ¨åˆå§‹åŒ–çš„æ—¶å€™ä¼ å…¥ï¼Œè¿™æ ·å°±ä¸ç”¨æ¯æ¬¡éƒ½æ ¡å‡†äº† ### read() è¯»å–å½“å‰å±å¹•çš„çŠ¶æ€ä»¥åŠæŒ‰ä¸‹çš„ç‚¹çš„åæ ‡å€¼ #### è¿”å›å€¼ ä¸€ä¸ªç”± `3` ä¸ªæ•´å‹å€¼ç»„æˆçš„å…ƒç»„ `(status, x, y)`ï¼Œ æ³¨æ„è¿™ä¸ªå€¼ä¼šä¸€ç›´ä¿æŒä¸Šä¸€ä¸ªçŠ¶æ€ * `status`ï¼š çŠ¶æ€ï¼Œ å–å€¼æœ‰ `touchscreen.STATUS_PRESS`ï¼Œ `touchscreen.STATUS_MOVE`ï¼Œ `touchscreen.STATUS_RELEASE` * `x`ï¼š `x` è½´åæ ‡ * `y`ï¼š `y` è½´åæ ‡ ## å¸¸é‡ ### touchscreen.STATUS_PRESS å±å¹•è¢«æŒ‰ä¸‹ï¼Œ `read()` å‡½æ•°è¿”å›çš„å…ƒç»„çš„ç¬¬ä¸€ä¸ªå€¼ ### touchscreen.STATUS_MOVE å±å¹•è¢«æŒ‰ä½å¹¶ç§»åŠ¨ï¼Œå³æŒ‰ä½ç§»åŠ¨ï¼Œ `read()` å‡½æ•°è¿”å›çš„å…ƒç»„çš„ç¬¬ä¸€ä¸ªå€¼ ### touchscreen.STATUS_RELEASE å±å¹•ä¸å†è¢«æŒ‰ä½ï¼Œå³æ²¡æœ‰ç‚¹å‡»ï¼Œ `read()` å‡½æ•°è¿”å›çš„å…ƒç»„çš„ç¬¬ä¸€ä¸ªå€¼ ## ä¾‹ç¨‹ ## ä¾‹ç¨‹ 1 ï¼š å›¾ç”»æ¿ é»‘åº•ç™½ç”»ç¬”ç”»å›¾æ¿ï¼Œ ä½¿ç”¨`boot` æŒ‰é”®å¯ä»¥æ¸…é™¤å†…å®¹ > å–æ¶ˆ `ts.calibrate()` çš„æ³¨é‡Šå¯ä»¥åœ¨å¼€å§‹è¿è¡Œè§¦æ‘¸å±æ ¡å‡†ç¨‹åº > `board_info` ä¸æ¿å¡ç›¸å…³ï¼Œä¸åŒæ¿å¡é…ç½®ä¸åŒï¼Œä½¿ç”¨å‰éœ€è¦[æ‰‹åŠ¨é…ç½®](../builtin_py/board_info.html)ã€‚ ```python import touchscreen as ts from machine import I2C import lcd, image from board import board_info from fpioa_manager import * board_info board_info() fm.register(board_info.BOOT_KEY, fm.fpioa.GPIO1) btn_clear GPIO(GPIO.GPIO1, GPIO.IN) lcd.init() i2c I2C(I2C.I2C0, freq 400000, scl 30, sda 31) ts.init(i2c) #ts.calibrate() lcd.clear() img image.Image() status_last ts.STATUS_IDLE x_last 0 y_last 0 draw False while True: (status,x,y) ts.read() print(status, x, y) if draw: img.draw_line((x_last, y_last, x, y)) if status_last! status: if (status ts.STATUS_PRESS or status ts.STATUS_MOVE): draw True else: draw False status_last status lcd.display(img) x_last x y_last y if btn_clear.value() 0: img.clear() ts.__del__() ```"},"/soft/maixpy/zh/api_reference/extend/index.html":{"title":"å¤–è®¾æ¨¡å—","content":" title: å¤–è®¾æ¨¡å— keywords: maixpy, k210, AIOT, spmod desc: maixpy å¤–è®¾æ¨¡å— è¿™é‡Œçš„å¤–è®¾æ¨¡å—ä¸»è¦æŒ‡ç‰‡å¤–å¤–è®¾ï¼ˆç›¸å¯¹äºç‰‡ä¸Šå¤–è®¾ï¼Œæ¯”å¦‚GPIOã€I2Cç­‰ï¼‰ï¼Œæ¯”å¦‚ `LCD`ã€ æ‘„åƒå¤´ã€ è§¦æ‘¸å±ç­‰ç­‰ å…³äºå›¾åƒç›¸å…³çš„æš‚æ—¶æ”¾åœ¨äº† [æœºå™¨è§†è§‰](../machine_vision/index.html) åˆ†ç±»ï¼Œ åŒ…æ‹¬ä»¥ä¸‹å¤–è®¾æ¨¡å— * [lcd](../machine_vision/lcd.html)ï¼š æ˜¾ç¤ºå›¾åƒ * [sensor](../machine_vision/sensor.html)ï¼š è·å–æ‘„åƒå¤´æ•°æ®ï¼Œ å–åå« `sensor` æ˜¯å…¼å®¹ `openmv`ï¼Œ å½“ç„¶ä¹Ÿä¸å®Œå…¨ä¸€æ ·ï¼Œè¯·é˜…è¯»æ–‡æ¡£ å…¶å®ƒå¤–è®¾æ¨¡å—åŒ…æ‹¬ï¼š * [touchscreen](./touchscreen.html)ï¼š è§¦æ‘¸å±ç›¸å…³æ“ä½œï¼Œè¯»å–è§¦æ‘¸å±ç‚¹å‡»çŠ¶æ€ä»¥åŠè·å–ç‚¹å‡»çš„åæ ‡ç­‰ * [ws2812](./ws2812.html): WS2812å•æ€»çº¿ç¯å¸¦ * [çƒ­çº¢å¤–æ¸©åº¦ä¼ æ„Ÿå™¨](./htpa.html) * [è¶…å£°æ³¢](./ultrasonic.html)"},"/soft/maixpy/zh/api_reference/extend/onewire.html":{"title":"modules.onewireï¼ˆå•æ€»çº¿ï¼‰","content":" title: modules.onewireï¼ˆå•æ€»çº¿ï¼‰ keywords: maixpy, k210, AIOT, spmod desc: maixpy modules.onewireï¼ˆå•æ€»çº¿ï¼‰ å•æ€»çº¿å³åªæœ‰å•æ ¹ä¿¡å·çº¿ï¼Œè¯¥çº¿å³ä¼ è¾“æ•°æ®ä¹Ÿä¼ è¾“æ—¶é’Ÿï¼Œå¹¶ä¸”æ•°æ®ä¼ è¾“ä¹Ÿä¸ºåŒå‘ï¼ŒèŠ‚çº¦ IO å£ã€‚ ## æ„é€ æ–¹æ³• onewire(gpio_num) ### å‚æ•° * `gpio_num`ï¼šGPIOå·ã€‚ ### è¿”å›å€¼ * onewire å¯¹è±¡ ## å®ä¾‹æ–¹æ³• reset() é‡ç½® ### è¿”å›å€¼ * bool ç±»å‹ï¼Œæ˜¯å¦æˆåŠŸã€‚ ## å®ä¾‹æ–¹æ³• readbit() è¯»å–ä¸€ä½æ•°æ® ### è¿”å›å€¼ * int ç±»å‹ï¼Œè¯»å–åˆ°çš„æ•°æ®ã€‚ ## å®ä¾‹æ–¹æ³• readbyte() è¯»å–ä¸€ä¸ªå­—èŠ‚ ### è¿”å›å€¼ * int ç±»å‹ï¼Œè¯»å–åˆ°çš„æ•°æ®ã€‚ ## å®ä¾‹æ–¹æ³• readbuffer(n) è¯»å–æŒ‡å®šé•¿åº¦çš„å­—èŠ‚æ•° ### å‚æ•° * `n`ï¼šint ç±»å‹ï¼Œéœ€è¦è¯»å–çš„å­—èŠ‚æ•° ### è¿”å›å€¼ * bytearray ç±»å‹ï¼Œè¯»å–åˆ°çš„å­—èŠ‚æ•°ç»„ ## å®ä¾‹æ–¹æ³• writebit(bit) å†™å…¥ä¸€ä¸ªä½ ### å‚æ•° * `bit`ï¼šint ç±»å‹ï¼Œéœ€è¦å†™å…¥çš„ä½æ•°æ® ## å®ä¾‹æ–¹æ³• writebyte(byte) ### å‚æ•° * `byte`ï¼šint ç±»å‹ï¼Œéœ€è¦å†™å…¥çš„å­—èŠ‚æ•°æ® ## å®ä¾‹æ–¹æ³• writebuffer(buf) ### å‚æ•° * `buf`ï¼šbytearray ç±»å‹ï¼Œéœ€è¦å†™å…¥çš„æ•°æ® ## å®ä¾‹æ–¹æ³• select(rom_in) è®©ä¸»æœºæŒ‡å®šæŸä¸€ä¸ªä»æœºã€‚ ### å‚æ•° * `rom_in`ï¼šbytearray ç±»å‹ï¼Œè¡¨ç¤ºå°†æŒ‡å®šä»æœºçš„8byteçš„ROMæ•°æ®ã€‚ ## å®ä¾‹æ–¹æ³• search(diff_in) ä½¿ç”¨ F0H æ ‡å‡†æœç´¢ ### å‚æ•° * `diff_in`ï¼šint ç±»å‹ï¼Œç¬¬ä¸€æ¬¡æœç´¢ä¼˜å…ˆé€‰æ‹©çš„è·¯å¾„ ### è¿”å›å€¼ * `list`ï¼šå…ƒç´ ä¸º(depth,roms)çš„åˆ—è¡¨ï¼Œ`depth` ä¸ºæœç´¢æ·±åº¦,int ç±»å‹ï¼Œ`rom` ä¸ºå™¨ä»¶ ROM ç ï¼Œlist ç±»å‹ã€‚ ## å®ä¾‹æ–¹æ³• skip() è·³è¿‡ ROMï¼Œé€‚ç”¨äºå•èŠ‚ç‚¹ ## å®ä¾‹æ–¹æ³• depower() é‡æ–°ä½¿èƒ½IO ## å®ä¾‹æ–¹æ³• crc8(data_in) è®¡ç®—8ä½å¾ªç¯å†—ä½™æ ¡éªŒç  ### å‚æ•° * `data_in`ï¼šéœ€è¦æ ¡éªŒçš„æ•°æ® ### è¿”å›å€¼ * è¿”å›æ ¡éªŒç "},"/soft/maixpy/zh/api_reference/extend/ultrasonic.html":{"title":"modules.ultrasonicï¼ˆè¶…å£°æ³¢æµ‹è·æ¨¡å—ï¼‰","content":" title: modules.ultrasonicï¼ˆè¶…å£°æ³¢æµ‹è·æ¨¡å—ï¼‰ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®—, æ·±åº¦å­¦ä¹ , äººå·¥æ™ºèƒ½ desc: maixpy modules.ultrasonicï¼ˆè¶…å£°æ³¢æµ‹è·æ¨¡å—ï¼‰ Grove Ultrasonic Ranger(è¶…å£°æ³¢æµ‹è·æ¨¡å—)ï¼Œåªéœ€è¦å•æ ¹æ•°æ®çº¿ <div class \"grove_pic\"> <img src \"./../../../assets/hardware/module_grove/ultrasonic.jpg\"> </div> ## æ„é€ æ–¹æ³• ultrasonic(gpiohs) ### å‚æ•° * `gpiohs`: gpiohs ç¼–å·ï¼Œéœ€è¦å…ˆä½¿ç”¨`fm`æ³¨å†Œå¼•è„š,æ¯”å¦‚ ```python from fpioa_manager import * from modules import ultrasonic fm.register(board_info.D[6], fm.fpioa.GPIOHS0, force True) device ultrasonic(fm.fpioa.GPIOHS0) ``` ### è¿”å›å€¼ è¿”å›å¯¹è±¡ ## æ–¹æ³• measure(unit, timeout) ### å‚æ•° * `unit`ï¼š å•ä½ï¼Œ åœ¨ä¸‹é¢çš„å¸¸æ•°ä¸­å–å€¼ * `timeout`: è¶…æ—¶æ—¶é—´ï¼Œå•ä½ä¸ºå¾®ç§’ï¼ˆusï¼‰ ## å¸¸æ•° ### ultrasonic.UNIT_CM è¿”å›çš„è·ç¦»çš„å•ä½ï¼Œå˜ç±³ ### ultrasonic.UNIT_INCH è¿”å›çš„è·ç¦»çš„å•ä½ï¼Œè‹±å°º"},"/soft/maixpy/zh/api_reference/extend/htpa.html":{"title":"modules.htpaï¼ˆHTPA çƒ­çº¢å¤–æµ‹æ¸©æ¨¡ç»„ï¼‰","content":" title: modules.htpaï¼ˆHTPA çƒ­çº¢å¤–æµ‹æ¸©æ¨¡ç»„ï¼‰ keywords: maixpy, k210, AIOT, spmod desc: maixpy modules.htpaï¼ˆHTPA çƒ­çº¢å¤–æµ‹æ¸©æ¨¡ç»„ï¼‰ æµ·æ›¼ HTPA 32x32 çƒ­çº¢å¤–æµ‹æ¸©æ¨¡ç»„ <img src \"../../../assets/hardware/other/htpa32x32.png\"> ## æ„é€ æ–¹æ³• htpa(i2c, scl_pin, sda_pin, i2c_freq) åˆ›å»ºä¸€ä¸ªå®ä¾‹ ### å‚æ•° * `i2c`: I2Cç¼–å·ï¼Œ æ¯”å¦‚`I2C.I2C0`ï¼Œå–å€¼ [0, 2] (è§`machine.I2C`) * `scl_pin`: I2C SCL å¼•è„š * `sda_pin`: I2C SDA å¼•è„š * `i2c_freq`: I2C æ—¶é’Ÿé¢‘ç‡ ### è¿”å›å€¼ htpa å¯¹è±¡ ## å®ä¾‹æ–¹æ³• temperature() è·å–ä¼ æ„Ÿå™¨æ¸©åº¦å€¼ï¼Œåªèƒ½è¢«å®ä¾‹è°ƒç”¨ ### è¿”å›å€¼ æ•°ç»„ï¼Œé•¿åº¦ä¸ºä¼ æ„Ÿå™¨çš„å®½åº¦xé«˜åº¦ï¼Œæ¯”å¦‚`32x32` ## å®ä¾‹æ–¹æ³• width() è·å–ä¼ æ„Ÿå™¨åˆ†è¾¨ç‡å®½åº¦ï¼Œåªèƒ½è¢«å®ä¾‹è°ƒç”¨ ### è¿”å›å€¼ æ•´æ•°ï¼Œå®½åº¦ ## å®ä¾‹æ–¹æ³• height() è·å–ä¼ æ„Ÿå™¨åˆ†è¾¨ç‡å®½åº¦ï¼Œåªèƒ½è¢«å®ä¾‹è°ƒç”¨ ## ä¾‹å­ [heimann_HTPA_32x32](https://github.com/sipeed/MaixPy v1_scripts/tree/master/modules/others/heimann_HTPA_32x32)"},"/soft/maixpy/zh/api_reference/extend/ws2812.html":{"title":"modules.ws2812ï¼ˆWS2812 ç¯å¸¦ï¼‰","content":" title: modules.ws2812ï¼ˆWS2812 ç¯å¸¦ï¼‰ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®—, æ·±åº¦å­¦ä¹ , äººå·¥æ™ºèƒ½ desc: maixpy modules.ws2812ï¼ˆWS2812 ç¯å¸¦ï¼‰ æœ¬æ¨¡å—ä½¿ç”¨`K210`çš„`I2S`è¿›è¡Œæ¨¡å—çš„é©±åŠ¨ï¼Œæ‰€ä»¥åœ¨ä½¿ç”¨çš„è¿‡ç¨‹ä¸­éœ€è¦æ³¨æ„æ˜¯å¦å†²çª ç›®å‰æœ€å¤šæ”¯æŒ12è·¯ç¯å¸¦ ## æ„é€ å‡½æ•° ```python from modules import ws2812 class ws2812(led_pin 1,led_num 1,i2s_num I2S_DEVICE_2,i2s_chn I2S_CHANNEL_3,i2s_dma_chn DMAC_CHANNEL1) ``` é€šè¿‡æŒ‡å®šå‚æ•°æ–°å»ºä¸€ä¸ª `ws2812` å¯¹è±¡ ### å‚æ•° * `led_pin`: ç¯å¸¦æ•°æ®çº¿è¿æ¥çš„å¼•è„šï¼Œæ¯”å¦‚ `board_info.D[4]` * `led_num`: ç¯å¸¦ä¸€å…±æœ‰å¤šå°‘é¢—ç¯ç  * `i2s_num`: è¯¥å¯¹è±¡ä½¿ç”¨å“ªä¸ª `I2S` è®¾å¤‡è¿›è¡Œé©±åŠ¨ï¼Œé»˜è®¤ä¸º `I2S_DEVICE_2`,å–å€¼èŒƒå›´ä¸º `0 2` * `i2s_chn`: è¯¥å¯¹è±¡ä½¿ç”¨å“ªä¸ª `I2S` é€šé“ï¼Œé»˜è®¤ä¸º `I2S_CHANNEL_3`ï¼Œå–å€¼èŒƒå›´ä¸º `0 3` * `i2s_dma_chn`: è¯¥å¯¹è±¡ä½¿ç”¨çš„DMAé€šé“ï¼Œç”¨æˆ·ä¸€èˆ¬ä¸è€ƒè™‘ ## æ–¹æ³• ### set_led è®¾ç½®æŸä¸ª led ç¯é¢œè‰² ```python class_ws2812.set_led(numï¼Œ color) ``` #### å‚æ•° * `num` : ç¬¬ `N` é¢—ç¯ç ï¼Œä» `0` å¼€å§‹ * `color` : è¯¥ç¯ç èµ‹å€¼çš„é¢œè‰²ï¼Œä¸º `tuple` ç±»å‹ï¼Œ ï¼ˆR,G,Bï¼‰ #### è¿”å›å€¼ æ—  ### display å¼€å§‹å·¥ä½œï¼Œè®¾ç½®å®Œæˆåè°ƒç”¨ ```python class_ws2812.display() ``` #### å‚æ•° æ—  #### è¿”å›å€¼ æ—  ## ä¾‹ç¨‹0 30 ä¸ª LED ç¯å…¨éƒ¨äº®çº¢è‰² ```python from modules import ws2812 class_ws2812 ws2812(board_info.D[4],30) for i in range(30): class_ws2812.set_led(i,(0xff,0,0)) class_ws2812.display() ``` ## ä¾‹ç¨‹1 ç¯å¸¦çº¢è‰²æ¸å˜ ```python from modules import ws2812 class_ws2812 ws2812(board_info.D[4],30) r 0 dir True while True: if dir: r + 1 else: r 1 if r> 255: r 255 dir False elif r<0: r 0 dir True for i in range(30): a class_ws2812.set_led(i,(r,0,0)) a class_ws2812.display() ``` > ä»¥ä¸Šä¾‹ç¨‹ï¼Œå¯è§[`MaixPy_scripts`](https://github.com/sipeed/MaixPy v1_scripts/tree/master/modules/grove/ws2812)"},"/soft/maixpy/zh/api_reference/builtin_py/board_info.html":{"title":"Board","content":" title: Board keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®—, æ·±åº¦å­¦ä¹ , äººå·¥æ™ºèƒ½ desc: maixpy Board > **æœ¬æ–‡æ¡£åœ¨ MaixPy 0.5.1 128 ç‰ˆæœ¬æµ‹è¯•é€šè¿‡ã€‚** è¿™æ˜¯ä¸€ä¸ª MaixPy æ¿çº§é…ç½®æ¨¡å—ï¼Œå®ƒå¯ä»¥åœ¨ç”¨æˆ·å±‚ç»Ÿä¸€ Python ä»£ç ï¼Œä»è€Œå±è”½è®¸å¤šç¡¬ä»¶çš„å¼•è„šå·®å¼‚ã€‚ æ•ˆæœå¦‚ä¸‹ï¼š ```python from Maix import GPIO from fpioa_manager import fm from board import board_info print(board_info.LED_R) fm.register(board_info.LED_R, fm.fpioa.GPIO0, force True) led_r GPIO(GPIO.GPIO0, GPIO.OUT) led_r.value(0) ``` è€Œè¿™ä»½ä»£ç åŒæ—¶æ”¯æŒ MaixPy æ‰€æœ‰ç¡¬ä»¶è¿è¡Œï¼Œå¹¶ä¸”æ‰“å°çš„ board_info.LED_R éƒ½ä¸å°½ç›¸åŒï¼Œé€šè¿‡å®ƒä¿è¯ç¤ºä¾‹ä»£ç çš„ä¸€è‡´æ€§ã€‚ ### board çš„é…ç½®æ–¹æ³• å°†ä»¥ä¸‹é“¾æ¥å¯¹åº”çš„ python ä»£ç å¤åˆ¶å‡ºæ¥ï¼ˆå¦‚ config_maix_bit.pyï¼‰ï¼Œæ”¾åˆ° IDE ç¼–è¾‘æ¡†ä¸­è¿è¡Œï¼Œå³å¯å®Œæˆå¯¹ã€ä½ çš„ç¡¬ä»¶ã€é…ç½®é¡¹ï¼ˆconfig.jsonï¼‰çš„å¯¼å…¥ï¼Œå®ƒä¼šåœ¨ flash ä¸Šå­˜å‚¨è¯¥é…ç½®æ–‡ä»¶ã€‚ è¿è¡Œé…ç½®ä»£ç åä¼šè‡ªåŠ¨é‡å¯ï¼Œæ­¤æ—¶ä»£ç ä¸­æ‰å¯ä»¥è°ƒç”¨ board_info.BOOT_KEY , å®é™…ä¸Š board_info.BOOT_KEY å°±æ˜¯æŒ‡ IO 16 ï¼Œå¯¹åº”çš„å®šä¹‰åœ¨ config.json ä¸­å¯ä»¥å¾—çŸ¥ï¼Œå¦‚æœä¸å­˜åœ¨çš„èµ„æºå°†ä¼šæŠ¥é”™ï¼Œå¦‚æ²¡æœ‰ LED å®šä¹‰çš„ç¡¬ä»¶ï¼Œè¿è¡Œ LED ç‚¹äº®çš„æ—¶å€™å°±ä¼šæŠ¥é”™ã€‚ ```python from board import board_info # see board/readme.md to config your sipeed's hardware. print(board_info.BOOT_KEY, board_info.BOOT_KEY 16) ``` ### Maix Bit [config_maix_bit.py](https://github.com/sipeed/MaixPy v1_scripts/tree/master/board/config_maix_bit.py) ### Maix Dock [config_maix_dock.py](https://github.com/sipeed/MaixPy v1_scripts/tree/master/board/config_maix_dock.py) ### Maix Go [config_maix_go.py](https://github.com/sipeed/MaixPy v1_scripts/tree/master/board/config_maix_go.py) ### Maix Duino [config_maix_duino.py](https://github.com/sipeed/MaixPy v1_scripts/tree/master/board/config_maix_duino.py) ### Maix Cube [config_maix_cube.py](https://github.com/sipeed/MaixPy v1_scripts/tree/master/board/config_maix_cube.py) ### Maix Amigo [config_maix_amigo.py](https://github.com/sipeed/MaixPy v1_scripts/tree/master/board/config_maix_amigo.py) ### Maix Nano > è¿™ä¸ªæ²¡æœ‰ç¡¬ä»¶å¤–è®¾.....æ‰€ä»¥ä¸è¦é—®ä¸ºä»€ä¹ˆæ²¡æœ‰å®ƒçš„é…ç½®ä»£ç äº†ã€‚ ### åˆ›å»ºä½ çš„ä¸“å±ç¡¬ä»¶ ä½ å¯ä»¥å€ŸåŠ©è¯¥æ¥å£ä»£ç é€‚é…ä½ çš„ç¡¬ä»¶ï¼Œé…ç½®æ–¹æ³•å‚è€ƒ [MaixPy_scripts/board](https://github.com/sipeed/MaixPy v1_scripts/tree/master/board) é‡Œé¢æœ‰ä¾›ä½ å‚è€ƒçš„é…ç½®æ–‡ä»¶ã€‚ ### board çš„ä½¿ç”¨æ–¹æ³• å¯¼å…¥é…ç½®ï¼š ```python from board import board_info board_info.load({ 'PIN10': 10, 'BOOT_KEY': 16, 'WIFI_TX': 6, 'WIFI_RX': 7, 'WIFI_EN': 8, }) print('PIN10:', board_info.PIN10) print('BOOT_KEY:', board_info.BOOT_KEY) print('WIFI_TX:', board_info.WIFI_TX) print('WIFI_RX:', board_info.WIFI_RX) print('WIFI_EN:', board_info.WIFI_EN) ``` è°ƒç”¨ç»“æœï¼š ```shell PIN10: 10 BOOT_KEY: 16 WIFI_TX: 6 WIFI_RX: 7 WIFI_EN: 8 ``` > å°±è¿™æ ·ã€‚"},"/soft/maixpy/zh/api_reference/builtin_py/index.html":{"title":"å†…ç½®ç±»ï¼ˆbuiltin_pyï¼‰","content":" title: å†…ç½®ç±»ï¼ˆbuiltin_pyï¼‰ keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®—, æ·±åº¦å­¦ä¹ , äººå·¥æ™ºèƒ½ desc: maixpy å†…ç½®ç±»ï¼ˆbuiltin_pyï¼‰ `å†…ç½®ç±»` åº“ï¼ˆbuiltin_pyï¼‰æ˜¯å¯¹ MaixPy åº•å±‚çš„ç±»è¿›è¡Œå°è£…çš„ç”¨æˆ·å±‚æ¥å£ï¼Œæ–¹ä¾¿ç”¨æˆ·ä½¿ç”¨ MaixPy å®ƒåŒ…æ‹¬ä»¥ä¸‹ï¼š * [fpioa_manager](./fm.html) * [board_info](./board_info.html) * [pye](./pye.html) > `board_info` ä¸æ¿å¡ç›¸å…³ï¼Œä¸åŒæ¿å¡é…ç½®ä¸åŒï¼Œä½¿ç”¨å‰éœ€è¦[æ‰‹åŠ¨é…ç½®](../builtin_py/board_info.html)ã€‚ ```python from board import board_info from fpioa_manager import fm ```"},"/soft/maixpy/zh/api_reference/builtin_py/fm.html":{"title":"fpioa_manager","content":" title: fpioa_manager keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®—, æ·±åº¦å­¦ä¹ , äººå·¥æ™ºèƒ½ desc: maixpy fpioa_manager > **æœ¬æ–‡æ¡£åœ¨ MaixPy 0.5.1 128 ç‰ˆæœ¬æµ‹è¯•é€šè¿‡ã€‚** fpioa_managerï¼šç®€ç§°`fm`ï¼Œè¯¥æ¨¡å—ç”¨äºæ³¨å†ŒèŠ¯ç‰‡å†…éƒ¨åŠŸèƒ½å’Œå¼•è„šï¼Œå¸®åŠ©ç”¨æˆ·ç®¡ç†å†…éƒ¨åŠŸèƒ½å’Œå¼•è„šæ˜ å°„å…³ç³»çš„åŠŸèƒ½æ¨¡å—ã€‚ ## å¦‚ä½•ç†è§£ã€å¼•è„š]æ˜ å°„[å†…éƒ¨åŠŸèƒ½]ï¼Ÿ K210 èŠ¯ç‰‡ä¸Šçš„ å¤–éƒ¨å¼•è„š å’Œ å†…éƒ¨åŠŸèƒ½ æ˜¯å½¼æ­¤ç‹¬ç«‹çš„ï¼Œå¼•è„šæ˜¯æŒ‡ä»èŠ¯ç‰‡ä¸Šå¼•å‡ºçš„è®¸å¤šé‡‘å±è§¦ç‚¹ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ä¿—ç§°çš„åŠŸèƒ½å¼•è„šï¼Œå®ƒå¯ä»¥æ˜¯ GPIO / PWM / ADC / I2C ç­‰å†…éƒ¨åŠŸèƒ½å¼•è„šï¼Œä¼ ç»Ÿçš„è®¤çŸ¥æ˜¯å¼•è„šå¯¹åº”çš„å†…éƒ¨åŠŸèƒ½æ˜¯ä¸å¯æ”¹å˜çš„ï¼Œä½†å¯ä»¥å¤ç”¨çš„ï¼Œè€Œ K210 æ˜¯å¯ä»¥é€šè¿‡æ˜ å°„æ¥æ”¹å˜å¼•è„šåŠŸèƒ½çš„ï¼Œçœ‹å¦‚ä¸‹ç¤ºæ„å›¾ç†è§£å…·ä½“çš„æ˜ å°„åŠŸèƒ½ã€‚ é¦–å…ˆå¯ä»¥å°† I2C çš„ SCL/SDA æ˜ å°„ï¼ˆMAPï¼‰åˆ° IO6/IO7 å¼•è„šï¼Œä»è€Œåœ¨æ­¤å¼•è„šä¸Šè¿›è¡Œ I2C çš„è¯»å†™æ“ä½œã€‚ ``` + + + + < + < + I2C IO6 + + + + < + < + UART IO7 + + + + < + SPI IO8 + + + + < + I2S IO9 + + + + ``` æ¥ç€è¿˜å¯ä»¥å°† SPI çš„ SCLK/MOSI/MISO/CS æ˜ å°„ï¼ˆMAPï¼‰åˆ° IO6/IO7/IO8/IO9 å¼•è„šï¼Œä¹Ÿå°±å¯ä»¥åœ¨æ­¤å¼•è„šä¸Šè¿›è¡Œ SPI çš„è¯»å†™æ“ä½œã€‚ ``` + + + + < < < I2C IO6 + + + + < < + UART IO7 + + + + + SPI < < + + IO8 + + < < + I2S IO9 + + + + ``` ## ä½¿ç”¨æ–¹æ³• è°ƒç”¨ register å‡½æ•°å°† pin å¼•è„šä¸å…·ä½“çš„ç¡¬ä»¶åŠŸèƒ½(GPIO/I2C/UART/I2S/SPI)ç»‘å®šèµ·æ¥ï¼Œåœ¨ä¸ä½¿ç”¨çš„æ—¶å€™è°ƒç”¨ unregister é‡Šæ”¾å¼•è„šæ‰€ç»‘å®šçš„ç¡¬ä»¶åŠŸèƒ½ï¼ˆæˆ–ç§° **function** ï¼‰ï¼Œè¿™ä¸åŒäºä¼ ç»Ÿå•ç‰‡æœºçš„ç†è§£ï¼Œ K210 å¯ä»¥å°†ä¸€å®šèŒƒå›´å†…çš„å¼•è„šæ˜ å°„åˆ°å…·ä½“çš„ç¡¬ä»¶åŠŸèƒ½ã€‚ å¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š ```python from fpioa_manager import fm fm.register(11, fm.fpioa.GPIO0, force True) fm.register(12, fm.fpioa.GPIOHS0, force True) fm.register(13, fm.fpioa.UART2_TX) fm.register(14, fm.fpioa.UART2_RX) # other code fm.unregister(11) fm.unregister(12) fm.unregister(13) fm.unregister(14) ``` **æ³¨æ„äº‹é¡¹**: ä»¥ä¸‹ GPIOHS å·²ç»åœ¨ MaixPy ä¸­é»˜è®¤ä½¿ç”¨ï¼Œç¨‹åºä¸­å¦‚éå¿…è¦è¯·ä¸è¦ä½¿ç”¨ã€‚ GPIOHS åŠŸèƒ½ æè¿° GPIOHS31 LCD_DC LCD æ§åˆ¶ä¿¡å·å¼•è„š GPIOHS30 LCD_RST LCD å¤ä½èŠ¯ç‰‡è„š GPIOHS29 SD_CS SD å¡ SPI ç‰‡é€‰ GPIOHS28 MIC_LED_CLK SK9822_DAT GPIOHS27 MIC_LED_DATA SK9822_CLK å¦å¤–ä»¥ä¸‹å¼•è„šå·²ç»åœ¨ MaxiPy å¼€æœºå¯åŠ¨æ—¶æ³¨å†Œï¼Œè¯·æ³¨æ„ã€‚ ### SDå¡ * `åŠŸèƒ½`ï¼šSPI1_SCLK/SPI1_D0/SPI1_D1/GPIOHS29/SPI0_SS1 * `å¼•è„š`ï¼šPIN25/PIN26/PIN27/PIN28/PIN29 ### LCD * `åŠŸèƒ½`ï¼šSPI0_SS3/SPI0_SCLK/GPIOHS30/GPIOHS31 * `å¼•è„š`ï¼šPIN36/PIN37/PIN38/PIN39 ### sensor * `åŠŸèƒ½`ï¼šSCCB_SDA/SCCB_SCLK/CMOS_RST/CMOS_VSYNC/CMOS_PWDN/CMOS_HREF/CMOS_XCLK/CMOS_PCLK * `å¼•è„š`ï¼šPIN40/PIN41/PIN42/PIN43/PIN44/PIN45/PIN46/PIN47 ### REPL * `åŠŸèƒ½`ï¼šUARTHS_RX/UARTHS_TX * `å¼•è„š`ï¼šPIN4/PIN5 ## class `fm` ### register(pin, func, force True) * `pin`: åŠŸèƒ½æ˜ å°„å¼•è„š * `function` : èŠ¯ç‰‡åŠŸèƒ½ * `force`: å¼ºåˆ¶åˆ†é…ï¼Œå¦‚æœä¸º`True`ï¼Œåˆ™å¯ä»¥å¤šæ¬¡å¯¹åŒä¸€ä¸ªå¼•è„šæ³¨å†Œ;`False`åˆ™ä¸å…è®¸åŒä¸€å¼•è„šå¤šæ¬¡æ³¨å†Œã€‚é»˜è®¤ä¸º`True`æ˜¯ä¸ºäº†æ–¹ä¾¿`IDE`å¤šæ¬¡è¿è¡Œç¨‹åºä½¿ç”¨ è®¾ç½®å¼•è„šï¼ˆpinï¼‰å¯¹åº”çš„å¤–è®¾åŠŸèƒ½ï¼ˆfuncï¼‰ï¼Œé»˜è®¤å¯ç”¨å¼ºåˆ¶ç»‘å®šå‚æ•°ï¼ˆforce Trueï¼‰ï¼Œå®ƒå°†å¼ºåˆ¶æ›´æ¢æŒ‡å®šçš„å¼•è„šåŠŸèƒ½ï¼Œå¦‚æœå‘ç°å­˜åœ¨ä¸Šä¸€ä¸ªç»‘å®šçš„å¼•è„šï¼Œåˆ™ä¼šå‘å‡ºä¸€ä¸ªè­¦å‘Šï¼Œä½†ä¸å½±å“ä»£ç ç»§ç»­æ‰§è¡Œã€‚ å¦‚æœè®¾ç½® force False ï¼Œåˆ™ä¼šåœ¨ register å‘ç°ç¡¬ä»¶åŠŸèƒ½å·²ç»è¢«ä½¿ç”¨äº†ï¼Œæ­¤æ—¶å°±ä¼šå¼¹å‡ºå¼‚å¸¸ï¼Œæ–¹ä¾¿æ·±åº¦å¼€å‘çš„æ—¶å€™ä¸æ¸…æ¥š GPIO/HS çš„åˆ†é…æƒ…å†µï¼Œå¸¸è§äºè¿è¡ŒæŸä¸ªä»£ç çš„æŒ‰é”®åœ¨è®¿é—®æŸäº›åŠŸèƒ½çš„æ—¶å€™ä¸èƒ½ä½¿ç”¨äº†çš„åœºåˆã€‚ #### ä½¿ç”¨æ–¹æ³• ```python from fpioa_manager import fm fm.register(16, fm.fpioa.GPIO2) fm.register(13, fm.fpioa.GPIO2) fm.register(12, fm.fpioa.GPIO2, force False) ``` å¯è§æç¤ºäº† fm.fpioa.GPIO2(pin:16) å’Œ fm.fpioa.GPIO2(pin:13) çš„å ç”¨æƒ…å†µã€‚ ```shell [Warning] function is used by fm.fpioa.GPIO2(pin:16) Traceback (most recent call last): File \"<stdin>\", line 5, in <module> File \"fpioa_manager.py\", line 20, in register Exception: [Warning] function is used by fm.fpioa.GPIO2(pin:13) ``` ### unregister(pin) é‡Šæ”¾å¼•è„šï¼ˆpinï¼‰ä¸Šçš„ç¡¬ä»¶åŠŸèƒ½ï¼ˆGPIO/I2C/SPI/I2S/UARTï¼‰ã€‚ ### get_pin_by_function(pin) è·å–å¼•è„šï¼ˆpinï¼‰ä¸Šç»‘å®šçš„ç¡¬ä»¶åŠŸèƒ½ã€‚ ### get_gpio_used() è·å–æ‰€æœ‰ gpio çš„ä½¿ç”¨æƒ…å†µï¼Œå®ƒåªæŸ¥è¯¢ GPIOHS / GPIO çš„å¼•è„šåˆ†é…æƒ…å†µ, None è¡¨ç¤ºè¯¥ç¡¬ä»¶åŠŸèƒ½æœªè¢«ä½¿ç”¨ã€‚ #### ä½¿ç”¨æ–¹æ³• ```python from fpioa_manager import fm for item in fm.get_gpio_used(): print(item) ``` > æ³¨æ„ï¼šæ¯ä¸ªå¼•è„šéƒ½ä¼šæœ‰é»˜è®¤çŠ¶æ€ ```shell ('fm.fpioa.GPIOHS0', 16) ('fm.fpioa.GPIOHS1', 17) ('fm.fpioa.GPIOHS2', 18) ('fm.fpioa.GPIOHS3', 19) ('fm.fpioa.GPIOHS4', 37) ('fm.fpioa.GPIOHS5', 38) ('fm.fpioa.GPIOHS6', 22) ('fm.fpioa.GPIOHS7', 23) ('fm.fpioa.GPIOHS8', 24) ('fm.fpioa.GPIOHS9', 25) ('fm.fpioa.GPIOHS10', None) ('fm.fpioa.GPIOHS11', 27) ('fm.fpioa.GPIOHS12', 28) ('fm.fpioa.GPIOHS13', 29) ('fm.fpioa.GPIOHS14', 30) ('fm.fpioa.GPIOHS15', 31) ('fm.fpioa.GPIOHS16', 32) ('fm.fpioa.GPIOHS17', 33) ('fm.fpioa.GPIOHS18', 34) ('fm.fpioa.GPIOHS19', 35) ('fm.fpioa.GPIOHS20', None) ('fm.fpioa.GPIOHS21', None) ('fm.fpioa.GPIOHS22', None) ('fm.fpioa.GPIOHS23', None) ('fm.fpioa.GPIOHS24', 40) ('fm.fpioa.GPIOHS25', 41) ('fm.fpioa.GPIOHS26', 42) ('fm.fpioa.GPIOHS27', 43) ('fm.fpioa.GPIOHS28', 44) ('fm.fpioa.GPIOHS29', 26) ('fm.fpioa.GPIOHS30', 46) ('fm.fpioa.GPIOHS31', 47) ('fm.fpioa.GPIO0', 8) ('fm.fpioa.GPIO1', 9) ('fm.fpioa.GPIO2', None) ('fm.fpioa.GPIO3', None) ('fm.fpioa.GPIO4', 12) ('fm.fpioa.GPIO5', 13) ('fm.fpioa.GPIO6', 14) ('fm.fpioa.GPIO7', 15) ``` ### help() è°ƒç”¨å®ƒä¼šæ‰“å°å‡ºå¦‚ä¸‹ã€é™„å½•ï¼š å¤–è®¾è¡¨ã€å¸®åŠ©è¯´æ˜ã€‚ è¯¦ç»†çœ‹ [FPIOA](../Maix/fpioa.html) ã€‚"}}